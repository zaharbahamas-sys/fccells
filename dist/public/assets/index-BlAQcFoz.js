function Uve(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ZM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var cj={exports:{}},Pw={},uj={exports:{}},tr={};var H9;function Bve(){if(H9)return tr;H9=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;function h($){return $===null||typeof $!="object"?null:($=f&&$[f]||$["@@iterator"],typeof $=="function"?$:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,b={};function y($,J,de){this.props=$,this.context=J,this.refs=b,this.updater=de||m}y.prototype.isReactComponent={},y.prototype.setState=function($,J){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,J,"setState")},y.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function w(){}w.prototype=y.prototype;function S($,J,de){this.props=$,this.context=J,this.refs=b,this.updater=de||m}var M=S.prototype=new w;M.constructor=S,v(M,y.prototype),M.isPureReactComponent=!0;var T=Array.isArray,A=Object.prototype.hasOwnProperty,C={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function L($,J,de){var Ae,Ue={},ge=null,pe=null;if(J!=null)for(Ae in J.ref!==void 0&&(pe=J.ref),J.key!==void 0&&(ge=""+J.key),J)A.call(J,Ae)&&!j.hasOwnProperty(Ae)&&(Ue[Ae]=J[Ae]);var Oe=arguments.length-2;if(Oe===1)Ue.children=de;else if(1<Oe){for(var xe=Array(Oe),Me=0;Me<Oe;Me++)xe[Me]=arguments[Me+2];Ue.children=xe}if($&&$.defaultProps)for(Ae in Oe=$.defaultProps,Oe)Ue[Ae]===void 0&&(Ue[Ae]=Oe[Ae]);return{$$typeof:t,type:$,key:ge,ref:pe,props:Ue,_owner:C.current}}function O($,J){return{$$typeof:t,type:$.type,key:J,ref:$.ref,props:$.props,_owner:$._owner}}function k($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function F($){var J={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(de){return J[de]})}var G=/\/+/g;function Y($,J){return typeof $=="object"&&$!==null&&$.key!=null?F(""+$.key):J.toString(36)}function U($,J,de,Ae,Ue){var ge=typeof $;(ge==="undefined"||ge==="boolean")&&($=null);var pe=!1;if($===null)pe=!0;else switch(ge){case"string":case"number":pe=!0;break;case"object":switch($.$$typeof){case t:case e:pe=!0}}if(pe)return pe=$,Ue=Ue(pe),$=Ae===""?"."+Y(pe,0):Ae,T(Ue)?(de="",$!=null&&(de=$.replace(G,"$&/")+"/"),U(Ue,J,de,"",function(Me){return Me})):Ue!=null&&(k(Ue)&&(Ue=O(Ue,de+(!Ue.key||pe&&pe.key===Ue.key?"":(""+Ue.key).replace(G,"$&/")+"/")+$)),J.push(Ue)),1;if(pe=0,Ae=Ae===""?".":Ae+":",T($))for(var Oe=0;Oe<$.length;Oe++){ge=$[Oe];var xe=Ae+Y(ge,Oe);pe+=U(ge,J,de,xe,Ue)}else if(xe=h($),typeof xe=="function")for($=xe.call($),Oe=0;!(ge=$.next()).done;)ge=ge.value,xe=Ae+Y(ge,Oe++),pe+=U(ge,J,de,xe,Ue);else if(ge==="object")throw J=String($),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return pe}function W($,J,de){if($==null)return $;var Ae=[],Ue=0;return U($,Ae,"","",function(ge){return J.call(de,ge,Ue++)}),Ae}function q($){if($._status===-1){var J=$._result;J=J(),J.then(function(de){($._status===0||$._status===-1)&&($._status=1,$._result=de)},function(de){($._status===0||$._status===-1)&&($._status=2,$._result=de)}),$._status===-1&&($._status=0,$._result=J)}if($._status===1)return $._result.default;throw $._result}var Z={current:null},V={transition:null},Q={ReactCurrentDispatcher:Z,ReactCurrentBatchConfig:V,ReactCurrentOwner:C};function ee(){throw Error("act(...) is not supported in production builds of React.")}return tr.Children={map:W,forEach:function($,J,de){W($,function(){J.apply(this,arguments)},de)},count:function($){var J=0;return W($,function(){J++}),J},toArray:function($){return W($,function(J){return J})||[]},only:function($){if(!k($))throw Error("React.Children.only expected to receive a single React element child.");return $}},tr.Component=y,tr.Fragment=n,tr.Profiler=i,tr.PureComponent=S,tr.StrictMode=r,tr.Suspense=l,tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q,tr.act=ee,tr.cloneElement=function($,J,de){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var Ae=v({},$.props),Ue=$.key,ge=$.ref,pe=$._owner;if(J!=null){if(J.ref!==void 0&&(ge=J.ref,pe=C.current),J.key!==void 0&&(Ue=""+J.key),$.type&&$.type.defaultProps)var Oe=$.type.defaultProps;for(xe in J)A.call(J,xe)&&!j.hasOwnProperty(xe)&&(Ae[xe]=J[xe]===void 0&&Oe!==void 0?Oe[xe]:J[xe])}var xe=arguments.length-2;if(xe===1)Ae.children=de;else if(1<xe){Oe=Array(xe);for(var Me=0;Me<xe;Me++)Oe[Me]=arguments[Me+2];Ae.children=Oe}return{$$typeof:t,type:$.type,key:Ue,ref:ge,props:Ae,_owner:pe}},tr.createContext=function($){return $={$$typeof:a,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:s,_context:$},$.Consumer=$},tr.createElement=L,tr.createFactory=function($){var J=L.bind(null,$);return J.type=$,J},tr.createRef=function(){return{current:null}},tr.forwardRef=function($){return{$$typeof:o,render:$}},tr.isValidElement=k,tr.lazy=function($){return{$$typeof:d,_payload:{_status:-1,_result:$},_init:q}},tr.memo=function($,J){return{$$typeof:c,type:$,compare:J===void 0?null:J}},tr.startTransition=function($){var J=V.transition;V.transition={};try{$()}finally{V.transition=J}},tr.unstable_act=ee,tr.useCallback=function($,J){return Z.current.useCallback($,J)},tr.useContext=function($){return Z.current.useContext($)},tr.useDebugValue=function(){},tr.useDeferredValue=function($){return Z.current.useDeferredValue($)},tr.useEffect=function($,J){return Z.current.useEffect($,J)},tr.useId=function(){return Z.current.useId()},tr.useImperativeHandle=function($,J,de){return Z.current.useImperativeHandle($,J,de)},tr.useInsertionEffect=function($,J){return Z.current.useInsertionEffect($,J)},tr.useLayoutEffect=function($,J){return Z.current.useLayoutEffect($,J)},tr.useMemo=function($,J){return Z.current.useMemo($,J)},tr.useReducer=function($,J,de){return Z.current.useReducer($,J,de)},tr.useRef=function($){return Z.current.useRef($)},tr.useState=function($){return Z.current.useState($)},tr.useSyncExternalStore=function($,J,de){return Z.current.useSyncExternalStore($,J,de)},tr.useTransition=function(){return Z.current.useTransition()},tr.version="18.3.1",tr}var W9;function aE(){return W9||(W9=1,uj.exports=Bve()),uj.exports}var G9;function zve(){if(G9)return Pw;G9=1;var t=aE(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(o,l,c){var d,f={},h=null,m=null;c!==void 0&&(h=""+c),l.key!==void 0&&(h=""+l.key),l.ref!==void 0&&(m=l.ref);for(d in l)r.call(l,d)&&!s.hasOwnProperty(d)&&(f[d]=l[d]);if(o&&o.defaultProps)for(d in l=o.defaultProps,l)f[d]===void 0&&(f[d]=l[d]);return{$$typeof:e,type:o,key:h,ref:m,props:f,_owner:i.current}}return Pw.Fragment=n,Pw.jsx=a,Pw.jsxs=a,Pw}var q9;function Vve(){return q9||(q9=1,cj.exports=zve()),cj.exports}var u=Vve(),QM={},dj={exports:{}},bo={},fj={exports:{}},hj={};var X9;function $ve(){return X9||(X9=1,(function(t){function e(V,Q){var ee=V.length;V.push(Q);e:for(;0<ee;){var $=ee-1>>>1,J=V[$];if(0<i(J,Q))V[$]=Q,V[ee]=J,ee=$;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var Q=V[0],ee=V.pop();if(ee!==Q){V[0]=ee;e:for(var $=0,J=V.length,de=J>>>1;$<de;){var Ae=2*($+1)-1,Ue=V[Ae],ge=Ae+1,pe=V[ge];if(0>i(Ue,ee))ge<J&&0>i(pe,Ue)?(V[$]=pe,V[ge]=ee,$=ge):(V[$]=Ue,V[Ae]=ee,$=Ae);else if(ge<J&&0>i(pe,ee))V[$]=pe,V[ge]=ee,$=ge;else break e}}return Q}function i(V,Q){var ee=V.sortIndex-Q.sortIndex;return ee!==0?ee:V.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],d=1,f=null,h=3,m=!1,v=!1,b=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(V){for(var Q=n(c);Q!==null;){if(Q.callback===null)r(c);else if(Q.startTime<=V)r(c),Q.sortIndex=Q.expirationTime,e(l,Q);else break;Q=n(c)}}function T(V){if(b=!1,M(V),!v)if(n(l)!==null)v=!0,q(A);else{var Q=n(c);Q!==null&&Z(T,Q.startTime-V)}}function A(V,Q){v=!1,b&&(b=!1,w(L),L=-1),m=!0;var ee=h;try{for(M(Q),f=n(l);f!==null&&(!(f.expirationTime>Q)||V&&!F());){var $=f.callback;if(typeof $=="function"){f.callback=null,h=f.priorityLevel;var J=$(f.expirationTime<=Q);Q=t.unstable_now(),typeof J=="function"?f.callback=J:f===n(l)&&r(l),M(Q)}else r(l);f=n(l)}if(f!==null)var de=!0;else{var Ae=n(c);Ae!==null&&Z(T,Ae.startTime-Q),de=!1}return de}finally{f=null,h=ee,m=!1}}var C=!1,j=null,L=-1,O=5,k=-1;function F(){return!(t.unstable_now()-k<O)}function G(){if(j!==null){var V=t.unstable_now();k=V;var Q=!0;try{Q=j(!0,V)}finally{Q?Y():(C=!1,j=null)}}else C=!1}var Y;if(typeof S=="function")Y=function(){S(G)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,W=U.port2;U.port1.onmessage=G,Y=function(){W.postMessage(null)}}else Y=function(){y(G,0)};function q(V){j=V,C||(C=!0,Y())}function Z(V,Q){L=y(function(){V(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,q(A))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(h){case 1:case 2:case 3:var Q=3;break;default:Q=h}var ee=h;h=Q;try{return V()}finally{h=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,Q){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ee=h;h=V;try{return Q()}finally{h=ee}},t.unstable_scheduleCallback=function(V,Q,ee){var $=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?$+ee:$):ee=$,V){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=ee+J,V={id:d++,callback:Q,priorityLevel:V,startTime:ee,expirationTime:J,sortIndex:-1},ee>$?(V.sortIndex=ee,e(c,V),n(l)===null&&V===n(c)&&(b?(w(L),L=-1):b=!0,Z(T,ee-$))):(V.sortIndex=J,e(l,V),v||m||(v=!0,q(A))),V},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(V){var Q=h;return function(){var ee=h;h=Q;try{return V.apply(this,arguments)}finally{h=ee}}}})(hj)),hj}var Y9;function Hve(){return Y9||(Y9=1,fj.exports=$ve()),fj.exports}var K9;function Wve(){if(K9)return bo;K9=1;var t=aE(),e=Hve();function n(p){for(var g="https://reactjs.org/docs/error-decoder.html?invariant="+p,E=1;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E]);return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(p,g){a(p,g),a(p+"Capture",g)}function a(p,g){for(i[p]=g,p=0;p<g.length;p++)r.add(g[p])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},f={};function h(p){return l.call(f,p)?!0:l.call(d,p)?!1:c.test(p)?f[p]=!0:(d[p]=!0,!1)}function m(p,g,E,R){if(E!==null&&E.type===0)return!1;switch(typeof g){case"function":case"symbol":return!0;case"boolean":return R?!1:E!==null?!E.acceptsBooleans:(p=p.toLowerCase().slice(0,5),p!=="data-"&&p!=="aria-");default:return!1}}function v(p,g,E,R){if(g===null||typeof g>"u"||m(p,g,E,R))return!0;if(R)return!1;if(E!==null)switch(E.type){case 3:return!g;case 4:return g===!1;case 5:return isNaN(g);case 6:return isNaN(g)||1>g}return!1}function b(p,g,E,R,D,z,te){this.acceptsBooleans=g===2||g===3||g===4,this.attributeName=R,this.attributeNamespace=D,this.mustUseProperty=E,this.propertyName=p,this.type=g,this.sanitizeURL=z,this.removeEmptyString=te}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(p){y[p]=new b(p,0,!1,p,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(p){var g=p[0];y[g]=new b(g,1,!1,p[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(p){y[p]=new b(p,2,!1,p.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(p){y[p]=new b(p,2,!1,p,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(p){y[p]=new b(p,3,!1,p.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(p){y[p]=new b(p,3,!0,p,null,!1,!1)}),["capture","download"].forEach(function(p){y[p]=new b(p,4,!1,p,null,!1,!1)}),["cols","rows","size","span"].forEach(function(p){y[p]=new b(p,6,!1,p,null,!1,!1)}),["rowSpan","start"].forEach(function(p){y[p]=new b(p,5,!1,p.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function S(p){return p[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(p){var g=p.replace(w,S);y[g]=new b(g,1,!1,p,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(p){var g=p.replace(w,S);y[g]=new b(g,1,!1,p,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(p){var g=p.replace(w,S);y[g]=new b(g,1,!1,p,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(p){y[p]=new b(p,1,!1,p.toLowerCase(),null,!1,!1)}),y.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(p){y[p]=new b(p,1,!1,p.toLowerCase(),null,!0,!0)});function M(p,g,E,R){var D=y.hasOwnProperty(g)?y[g]:null;(D!==null?D.type!==0:R||!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(v(g,E,D,R)&&(E=null),R||D===null?h(g)&&(E===null?p.removeAttribute(g):p.setAttribute(g,""+E)):D.mustUseProperty?p[D.propertyName]=E===null?D.type===3?!1:"":E:(g=D.attributeName,R=D.attributeNamespace,E===null?p.removeAttribute(g):(D=D.type,E=D===3||D===4&&E===!0?"":""+E,R?p.setAttributeNS(R,g,E):p.setAttribute(g,E))))}var T=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),C=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),F=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),V=Symbol.iterator;function Q(p){return p===null||typeof p!="object"?null:(p=V&&p[V]||p["@@iterator"],typeof p=="function"?p:null)}var ee=Object.assign,$;function J(p){if($===void 0)try{throw Error()}catch(E){var g=E.stack.trim().match(/\n( *(at )?)/);$=g&&g[1]||""}return`
`+$+p}var de=!1;function Ae(p,g){if(!p||de)return"";de=!0;var E=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(g)if(g=function(){throw Error()},Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(Fe){var R=Fe}Reflect.construct(p,[],g)}else{try{g.call()}catch(Fe){R=Fe}p.call(g.prototype)}else{try{throw Error()}catch(Fe){R=Fe}p()}}catch(Fe){if(Fe&&R&&typeof Fe.stack=="string"){for(var D=Fe.stack.split(`
`),z=R.stack.split(`
`),te=D.length-1,ce=z.length-1;1<=te&&0<=ce&&D[te]!==z[ce];)ce--;for(;1<=te&&0<=ce;te--,ce--)if(D[te]!==z[ce]){if(te!==1||ce!==1)do if(te--,ce--,0>ce||D[te]!==z[ce]){var ve=`
`+D[te].replace(" at new "," at ");return p.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",p.displayName)),ve}while(1<=te&&0<=ce);break}}}finally{de=!1,Error.prepareStackTrace=E}return(p=p?p.displayName||p.name:"")?J(p):""}function Ue(p){switch(p.tag){case 5:return J(p.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return p=Ae(p.type,!1),p;case 11:return p=Ae(p.type.render,!1),p;case 1:return p=Ae(p.type,!0),p;default:return""}}function ge(p){if(p==null)return null;if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case j:return"Fragment";case C:return"Portal";case O:return"Profiler";case L:return"StrictMode";case Y:return"Suspense";case U:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case F:return(p.displayName||"Context")+".Consumer";case k:return(p._context.displayName||"Context")+".Provider";case G:var g=p.render;return p=p.displayName,p||(p=g.displayName||g.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case W:return g=p.displayName||null,g!==null?g:ge(p.type)||"Memo";case q:g=p._payload,p=p._init;try{return ge(p(g))}catch{}}return null}function pe(p){var g=p.type;switch(p.tag){case 24:return"Cache";case 9:return(g.displayName||"Context")+".Consumer";case 10:return(g._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return p=g.render,p=p.displayName||p.name||"",g.displayName||(p!==""?"ForwardRef("+p+")":"ForwardRef");case 7:return"Fragment";case 5:return g;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ge(g);case 8:return g===L?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g}return null}function Oe(p){switch(typeof p){case"boolean":case"number":case"string":case"undefined":return p;case"object":return p;default:return""}}function xe(p){var g=p.type;return(p=p.nodeName)&&p.toLowerCase()==="input"&&(g==="checkbox"||g==="radio")}function Me(p){var g=xe(p)?"checked":"value",E=Object.getOwnPropertyDescriptor(p.constructor.prototype,g),R=""+p[g];if(!p.hasOwnProperty(g)&&typeof E<"u"&&typeof E.get=="function"&&typeof E.set=="function"){var D=E.get,z=E.set;return Object.defineProperty(p,g,{configurable:!0,get:function(){return D.call(this)},set:function(te){R=""+te,z.call(this,te)}}),Object.defineProperty(p,g,{enumerable:E.enumerable}),{getValue:function(){return R},setValue:function(te){R=""+te},stopTracking:function(){p._valueTracker=null,delete p[g]}}}}function Ie(p){p._valueTracker||(p._valueTracker=Me(p))}function Te(p){if(!p)return!1;var g=p._valueTracker;if(!g)return!0;var E=g.getValue(),R="";return p&&(R=xe(p)?p.checked?"true":"false":p.value),p=R,p!==E?(g.setValue(p),!0):!1}function Xe(p){if(p=p||(typeof document<"u"?document:void 0),typeof p>"u")return null;try{return p.activeElement||p.body}catch{return p.body}}function Ce(p,g){var E=g.checked;return ee({},g,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:E??p._wrapperState.initialChecked})}function $e(p,g){var E=g.defaultValue==null?"":g.defaultValue,R=g.checked!=null?g.checked:g.defaultChecked;E=Oe(g.value!=null?g.value:E),p._wrapperState={initialChecked:R,initialValue:E,controlled:g.type==="checkbox"||g.type==="radio"?g.checked!=null:g.value!=null}}function Be(p,g){g=g.checked,g!=null&&M(p,"checked",g,!1)}function Ye(p,g){Be(p,g);var E=Oe(g.value),R=g.type;if(E!=null)R==="number"?(E===0&&p.value===""||p.value!=E)&&(p.value=""+E):p.value!==""+E&&(p.value=""+E);else if(R==="submit"||R==="reset"){p.removeAttribute("value");return}g.hasOwnProperty("value")?Ot(p,g.type,E):g.hasOwnProperty("defaultValue")&&Ot(p,g.type,Oe(g.defaultValue)),g.checked==null&&g.defaultChecked!=null&&(p.defaultChecked=!!g.defaultChecked)}function ae(p,g,E){if(g.hasOwnProperty("value")||g.hasOwnProperty("defaultValue")){var R=g.type;if(!(R!=="submit"&&R!=="reset"||g.value!==void 0&&g.value!==null))return;g=""+p._wrapperState.initialValue,E||g===p.value||(p.value=g),p.defaultValue=g}E=p.name,E!==""&&(p.name=""),p.defaultChecked=!!p._wrapperState.initialChecked,E!==""&&(p.name=E)}function Ot(p,g,E){(g!=="number"||Xe(p.ownerDocument)!==p)&&(E==null?p.defaultValue=""+p._wrapperState.initialValue:p.defaultValue!==""+E&&(p.defaultValue=""+E))}var dt=Array.isArray;function jt(p,g,E,R){if(p=p.options,g){g={};for(var D=0;D<E.length;D++)g["$"+E[D]]=!0;for(E=0;E<p.length;E++)D=g.hasOwnProperty("$"+p[E].value),p[E].selected!==D&&(p[E].selected=D),D&&R&&(p[E].defaultSelected=!0)}else{for(E=""+Oe(E),g=null,D=0;D<p.length;D++){if(p[D].value===E){p[D].selected=!0,R&&(p[D].defaultSelected=!0);return}g!==null||p[D].disabled||(g=p[D])}g!==null&&(g.selected=!0)}}function re(p,g){if(g.dangerouslySetInnerHTML!=null)throw Error(n(91));return ee({},g,{value:void 0,defaultValue:void 0,children:""+p._wrapperState.initialValue})}function K(p,g){var E=g.value;if(E==null){if(E=g.children,g=g.defaultValue,E!=null){if(g!=null)throw Error(n(92));if(dt(E)){if(1<E.length)throw Error(n(93));E=E[0]}g=E}g==null&&(g=""),E=g}p._wrapperState={initialValue:Oe(E)}}function H(p,g){var E=Oe(g.value),R=Oe(g.defaultValue);E!=null&&(E=""+E,E!==p.value&&(p.value=E),g.defaultValue==null&&p.defaultValue!==E&&(p.defaultValue=E)),R!=null&&(p.defaultValue=""+R)}function oe(p){var g=p.textContent;g===p._wrapperState.initialValue&&g!==""&&g!==null&&(p.value=g)}function he(p){switch(p){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function me(p,g){return p==null||p==="http://www.w3.org/1999/xhtml"?he(g):p==="http://www.w3.org/2000/svg"&&g==="foreignObject"?"http://www.w3.org/1999/xhtml":p}var ye,nt=(function(p){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(g,E,R,D){MSApp.execUnsafeLocalFunction(function(){return p(g,E,R,D)})}:p})(function(p,g){if(p.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in p)p.innerHTML=g;else{for(ye=ye||document.createElement("div"),ye.innerHTML="<svg>"+g.valueOf().toString()+"</svg>",g=ye.firstChild;p.firstChild;)p.removeChild(p.firstChild);for(;g.firstChild;)p.appendChild(g.firstChild)}});function Ke(p,g){if(g){var E=p.firstChild;if(E&&E===p.lastChild&&E.nodeType===3){E.nodeValue=g;return}}p.textContent=g}var pt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cn=["Webkit","ms","Moz","O"];Object.keys(pt).forEach(function(p){cn.forEach(function(g){g=g+p.charAt(0).toUpperCase()+p.substring(1),pt[g]=pt[p]})});function Je(p,g,E){return g==null||typeof g=="boolean"||g===""?"":E||typeof g!="number"||g===0||pt.hasOwnProperty(p)&&pt[p]?(""+g).trim():g+"px"}function mt(p,g){p=p.style;for(var E in g)if(g.hasOwnProperty(E)){var R=E.indexOf("--")===0,D=Je(E,g[E],R);E==="float"&&(E="cssFloat"),R?p.setProperty(E,D):p[E]=D}}var Dt=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ue(p,g){if(g){if(Dt[p]&&(g.children!=null||g.dangerouslySetInnerHTML!=null))throw Error(n(137,p));if(g.dangerouslySetInnerHTML!=null){if(g.children!=null)throw Error(n(60));if(typeof g.dangerouslySetInnerHTML!="object"||!("__html"in g.dangerouslySetInnerHTML))throw Error(n(61))}if(g.style!=null&&typeof g.style!="object")throw Error(n(62))}}function Pe(p,g){if(p.indexOf("-")===-1)return typeof g.is=="string";switch(p){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lt=null;function fe(p){return p=p.target||p.srcElement||window,p.correspondingUseElement&&(p=p.correspondingUseElement),p.nodeType===3?p.parentNode:p}var at=null,et=null,yt=null;function it(p){if(p=uc(p)){if(typeof at!="function")throw Error(n(280));var g=p.stateNode;g&&(g=mv(g),at(p.stateNode,p.type,g))}}function qe(p){et?yt?yt.push(p):yt=[p]:et=p}function ct(){if(et){var p=et,g=yt;if(yt=et=null,it(p),g)for(p=0;p<g.length;p++)it(g[p])}}function an(p,g){return p(g)}function er(){}var Un=!1;function Ei(p,g,E){if(Un)return p(g,E);Un=!0;try{return an(p,g,E)}finally{Un=!1,(et!==null||yt!==null)&&(er(),ct())}}function Mi(p,g){var E=p.stateNode;if(E===null)return null;var R=mv(E);if(R===null)return null;E=R[g];e:switch(g){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(R=!R.disabled)||(p=p.type,R=!(p==="button"||p==="input"||p==="select"||p==="textarea")),p=!R;break e;default:p=!1}if(p)return null;if(E&&typeof E!="function")throw Error(n(231,g,typeof E));return E}var Kp=!1;if(o)try{var uu={};Object.defineProperty(uu,"passive",{get:function(){Kp=!0}}),window.addEventListener("test",uu,uu),window.removeEventListener("test",uu,uu)}catch{Kp=!1}function nh(p,g,E,R,D,z,te,ce,ve){var Fe=Array.prototype.slice.call(arguments,3);try{g.apply(E,Fe)}catch(rt){this.onError(rt)}}var tc=!1,_d=null,Do=!1,Lo=null,Zp={onError:function(p){tc=!0,_d=p}};function j0(p,g,E,R,D,z,te,ce,ve){tc=!1,_d=null,nh.apply(Zp,arguments)}function I0(p,g,E,R,D,z,te,ce,ve){if(j0.apply(this,arguments),tc){if(tc){var Fe=_d;tc=!1,_d=null}else throw Error(n(198));Do||(Do=!0,Lo=Fe)}}function ao(p){var g=p,E=p;if(p.alternate)for(;g.return;)g=g.return;else{p=g;do g=p,(g.flags&4098)!==0&&(E=g.return),p=g.return;while(p)}return g.tag===3?E:null}function Qp(p){if(p.tag===13){var g=p.memoizedState;if(g===null&&(p=p.alternate,p!==null&&(g=p.memoizedState)),g!==null)return g.dehydrated}return null}function Sd(p){if(ao(p)!==p)throw Error(n(188))}function Jp(p){var g=p.alternate;if(!g){if(g=ao(p),g===null)throw Error(n(188));return g!==p?null:p}for(var E=p,R=g;;){var D=E.return;if(D===null)break;var z=D.alternate;if(z===null){if(R=D.return,R!==null){E=R;continue}break}if(D.child===z.child){for(z=D.child;z;){if(z===E)return Sd(D),p;if(z===R)return Sd(D),g;z=z.sibling}throw Error(n(188))}if(E.return!==R.return)E=D,R=z;else{for(var te=!1,ce=D.child;ce;){if(ce===E){te=!0,E=D,R=z;break}if(ce===R){te=!0,R=D,E=z;break}ce=ce.sibling}if(!te){for(ce=z.child;ce;){if(ce===E){te=!0,E=z,R=D;break}if(ce===R){te=!0,R=z,E=D;break}ce=ce.sibling}if(!te)throw Error(n(189))}}if(E.alternate!==R)throw Error(n(190))}if(E.tag!==3)throw Error(n(188));return E.stateNode.current===E?p:g}function em(p){return p=Jp(p),p!==null?k0(p):null}function k0(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){var g=k0(p);if(g!==null)return g;p=p.sibling}return null}var D0=e.unstable_scheduleCallback,L0=e.unstable_cancelCallback,Ib=e.unstable_shouldYield,kb=e.unstable_requestPaint,zr=e.unstable_now,ne=e.unstable_getCurrentPriorityLevel,Se=e.unstable_ImmediatePriority,Le=e.unstable_UserBlockingPriority,De=e.unstable_NormalPriority,Ne=e.unstable_LowPriority,xt=e.unstable_IdlePriority,Mt=null,Ze=null;function ft(p){if(Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(Mt,p,void 0,(p.current.flags&128)===128)}catch{}}var Tt=Math.clz32?Math.clz32:Cn,$t=Math.log,Ut=Math.LN2;function Cn(p){return p>>>=0,p===0?32:31-($t(p)/Ut|0)|0}var Yn=64,Bn=4194304;function mr(p){switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return p&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return p}}function ar(p,g){var E=p.pendingLanes;if(E===0)return 0;var R=0,D=p.suspendedLanes,z=p.pingedLanes,te=E&268435455;if(te!==0){var ce=te&~D;ce!==0?R=mr(ce):(z&=te,z!==0&&(R=mr(z)))}else te=E&~D,te!==0?R=mr(te):z!==0&&(R=mr(z));if(R===0)return 0;if(g!==0&&g!==R&&(g&D)===0&&(D=R&-R,z=g&-g,D>=z||D===16&&(z&4194240)!==0))return g;if((R&4)!==0&&(R|=E&16),g=p.entangledLanes,g!==0)for(p=p.entanglements,g&=R;0<g;)E=31-Tt(g),D=1<<E,R|=p[E],g&=~D;return R}function fn(p,g){switch(p){case 1:case 2:case 4:return g+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ir(p,g){for(var E=p.suspendedLanes,R=p.pingedLanes,D=p.expirationTimes,z=p.pendingLanes;0<z;){var te=31-Tt(z),ce=1<<te,ve=D[te];ve===-1?((ce&E)===0||(ce&R)!==0)&&(D[te]=fn(ce,g)):ve<=g&&(p.expiredLanes|=ce),z&=~ce}}function Qn(p){return p=p.pendingLanes&-1073741825,p!==0?p:p&1073741824?1073741824:0}function Dr(){var p=Yn;return Yn<<=1,(Yn&4194240)===0&&(Yn=64),p}function pl(p){for(var g=[],E=0;31>E;E++)g.push(p);return g}function Li(p,g,E){p.pendingLanes|=g,g!==536870912&&(p.suspendedLanes=0,p.pingedLanes=0),p=p.eventTimes,g=31-Tt(g),p[g]=E}function Ed(p,g){var E=p.pendingLanes&~g;p.pendingLanes=g,p.suspendedLanes=0,p.pingedLanes=0,p.expiredLanes&=g,p.mutableReadLanes&=g,p.entangledLanes&=g,g=p.entanglements;var R=p.eventTimes;for(p=p.expirationTimes;0<E;){var D=31-Tt(E),z=1<<D;g[D]=0,R[D]=-1,p[D]=-1,E&=~z}}function or(p,g){var E=p.entangledLanes|=g;for(p=p.entanglements;E;){var R=31-Tt(E),D=1<<R;D&g|p[R]&g&&(p[R]|=g),E&=~D}}var Mn=0;function Fi(p){return p&=-p,1<p?4<p?(p&268435455)!==0?16:536870912:4:1}var fi,Ki,rh,oo,F0,Md=!1,U0=[],ml=null,Wn=null,nc=null,Td=new Map,ih=new Map,du=[],IO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ui(p,g){switch(p){case"focusin":case"focusout":ml=null;break;case"dragenter":case"dragleave":Wn=null;break;case"mouseover":case"mouseout":nc=null;break;case"pointerover":case"pointerout":Td.delete(g.pointerId);break;case"gotpointercapture":case"lostpointercapture":ih.delete(g.pointerId)}}function Ad(p,g,E,R,D,z){return p===null||p.nativeEvent!==z?(p={blockedOn:g,domEventName:E,eventSystemFlags:R,nativeEvent:z,targetContainers:[D]},g!==null&&(g=uc(g),g!==null&&Ki(g)),p):(p.eventSystemFlags|=R,g=p.targetContainers,D!==null&&g.indexOf(D)===-1&&g.push(D),p)}function kO(p,g,E,R,D){switch(g){case"focusin":return ml=Ad(ml,p,g,E,R,D),!0;case"dragenter":return Wn=Ad(Wn,p,g,E,R,D),!0;case"mouseover":return nc=Ad(nc,p,g,E,R,D),!0;case"pointerover":var z=D.pointerId;return Td.set(z,Ad(Td.get(z)||null,p,g,E,R,D)),!0;case"gotpointercapture":return z=D.pointerId,ih.set(z,Ad(ih.get(z)||null,p,g,E,R,D)),!0}return!1}function B0(p){var g=yu(p.target);if(g!==null){var E=ao(g);if(E!==null){if(g=E.tag,g===13){if(g=Qp(E),g!==null){p.blockedOn=g,F0(p.priority,function(){rh(E)});return}}else if(g===3&&E.stateNode.current.memoizedState.isDehydrated){p.blockedOn=E.tag===3?E.stateNode.containerInfo:null;return}}}p.blockedOn=null}function z0(p){if(p.blockedOn!==null)return!1;for(var g=p.targetContainers;0<g.length;){var E=co(p.domEventName,p.eventSystemFlags,g[0],p.nativeEvent);if(E===null){E=p.nativeEvent;var R=new E.constructor(E.type,E);lt=R,E.target.dispatchEvent(R),lt=null}else return g=uc(E),g!==null&&Ki(g),p.blockedOn=E,!1;g.shift()}return!0}function tm(p,g,E){z0(p)&&E.delete(g)}function gl(){Md=!1,ml!==null&&z0(ml)&&(ml=null),Wn!==null&&z0(Wn)&&(Wn=null),nc!==null&&z0(nc)&&(nc=null),Td.forEach(tm),ih.forEach(tm)}function nm(p,g){p.blockedOn===g&&(p.blockedOn=null,Md||(Md=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,gl)))}function rm(p){function g(D){return nm(D,p)}if(0<U0.length){nm(U0[0],p);for(var E=1;E<U0.length;E++){var R=U0[E];R.blockedOn===p&&(R.blockedOn=null)}}for(ml!==null&&nm(ml,p),Wn!==null&&nm(Wn,p),nc!==null&&nm(nc,p),Td.forEach(g),ih.forEach(g),E=0;E<du.length;E++)R=du[E],R.blockedOn===p&&(R.blockedOn=null);for(;0<du.length&&(E=du[0],E.blockedOn===null);)B0(E),E.blockedOn===null&&du.shift()}var $s=T.ReactCurrentBatchConfig,lo=!0;function V0(p,g,E,R){var D=Mn,z=$s.transition;$s.transition=null;try{Mn=1,$0(p,g,E,R)}finally{Mn=D,$s.transition=z}}function Db(p,g,E,R){var D=Mn,z=$s.transition;$s.transition=null;try{Mn=4,$0(p,g,E,R)}finally{Mn=D,$s.transition=z}}function $0(p,g,E,R){if(lo){var D=co(p,g,E,R);if(D===null)cv(p,g,R,H0,E),Ui(p,R);else if(kO(D,p,g,E,R))R.stopPropagation();else if(Ui(p,R),g&4&&-1<IO.indexOf(p)){for(;D!==null;){var z=uc(D);if(z!==null&&fi(z),z=co(p,g,E,R),z===null&&cv(p,g,R,H0,E),z===D)break;D=z}D!==null&&R.stopPropagation()}else cv(p,g,R,null,E)}}var H0=null;function co(p,g,E,R){if(H0=null,p=fe(R),p=yu(p),p!==null)if(g=ao(p),g===null)p=null;else if(E=g.tag,E===13){if(p=Qp(g),p!==null)return p;p=null}else if(E===3){if(g.stateNode.current.memoizedState.isDehydrated)return g.tag===3?g.stateNode.containerInfo:null;p=null}else g!==p&&(p=null);return H0=p,null}function aM(p){switch(p){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ne()){case Se:return 1;case Le:return 4;case De:case Ne:return 16;case xt:return 536870912;default:return 16}default:return 16}}var Fo=null,Lb=null,ca=null;function im(){if(ca)return ca;var p,g=Lb,E=g.length,R,D="value"in Fo?Fo.value:Fo.textContent,z=D.length;for(p=0;p<E&&g[p]===D[p];p++);var te=E-p;for(R=1;R<=te&&g[E-R]===D[z-R];R++);return ca=D.slice(p,1<R?1-R:void 0)}function Cd(p){var g=p.keyCode;return"charCode"in p?(p=p.charCode,p===0&&g===13&&(p=13)):p=g,p===10&&(p=13),32<=p||p===13?p:0}function rc(){return!0}function W0(){return!1}function Hs(p){function g(E,R,D,z,te){this._reactName=E,this._targetInst=D,this.type=R,this.nativeEvent=z,this.target=te,this.currentTarget=null;for(var ce in p)p.hasOwnProperty(ce)&&(E=p[ce],this[ce]=E?E(z):z[ce]);return this.isDefaultPrevented=(z.defaultPrevented!=null?z.defaultPrevented:z.returnValue===!1)?rc:W0,this.isPropagationStopped=W0,this}return ee(g.prototype,{preventDefault:function(){this.defaultPrevented=!0;var E=this.nativeEvent;E&&(E.preventDefault?E.preventDefault():typeof E.returnValue!="unknown"&&(E.returnValue=!1),this.isDefaultPrevented=rc)},stopPropagation:function(){var E=this.nativeEvent;E&&(E.stopPropagation?E.stopPropagation():typeof E.cancelBubble!="unknown"&&(E.cancelBubble=!0),this.isPropagationStopped=rc)},persist:function(){},isPersistent:rc}),g}var Pd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(p){return p.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sm=Hs(Pd),Nd=ee({},Pd,{view:0,detail:0}),sh=Hs(Nd),ua,uo,fo,ah=ee({},Nd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hu,button:0,buttons:0,relatedTarget:function(p){return p.relatedTarget===void 0?p.fromElement===p.srcElement?p.toElement:p.fromElement:p.relatedTarget},movementX:function(p){return"movementX"in p?p.movementX:(p!==fo&&(fo&&p.type==="mousemove"?(ua=p.screenX-fo.screenX,uo=p.screenY-fo.screenY):uo=ua=0,fo=p),ua)},movementY:function(p){return"movementY"in p?p.movementY:uo}}),Fb=Hs(ah),ic=ee({},ah,{dataTransfer:0}),fu=Hs(ic),G0=ee({},Nd,{relatedTarget:0}),q0=Hs(G0),X0=ee({},Pd,{animationName:0,elapsedTime:0,pseudoElement:0}),oM=Hs(X0),lM=ee({},Pd,{clipboardData:function(p){return"clipboardData"in p?p.clipboardData:window.clipboardData}}),Ub=Hs(lM),Y0=ee({},Pd,{data:0}),Bb=Hs(Y0),cM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oh(p){var g=this.nativeEvent;return g.getModifierState?g.getModifierState(p):(p=zb[p])?!!g[p]:!1}function hu(){return oh}var K0=ee({},Nd,{key:function(p){if(p.key){var g=cM[p.key]||p.key;if(g!=="Unidentified")return g}return p.type==="keypress"?(p=Cd(p),p===13?"Enter":String.fromCharCode(p)):p.type==="keydown"||p.type==="keyup"?uM[p.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hu,charCode:function(p){return p.type==="keypress"?Cd(p):0},keyCode:function(p){return p.type==="keydown"||p.type==="keyup"?p.keyCode:0},which:function(p){return p.type==="keypress"?Cd(p):p.type==="keydown"||p.type==="keyup"?p.keyCode:0}}),Z0=Hs(K0),ho=ee({},ah,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ra=Hs(ho),Rd=ee({},Nd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hu}),sc=Hs(Rd),ac=ee({},Pd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Od=Hs(ac),dM=ee({},ah,{deltaX:function(p){return"deltaX"in p?p.deltaX:"wheelDeltaX"in p?-p.wheelDeltaX:0},deltaY:function(p){return"deltaY"in p?p.deltaY:"wheelDeltaY"in p?-p.wheelDeltaY:"wheelDelta"in p?-p.wheelDelta:0},deltaZ:0,deltaMode:0}),Vb=Hs(dM),$b=[9,13,27,32],Ws=o&&"CompositionEvent"in window,ls=null;o&&"documentMode"in document&&(ls=document.documentMode);var Yr=o&&"TextEvent"in window&&!ls,lh=o&&(!Ws||ls&&8<ls&&11>=ls),po=" ",Hb=!1;function Wb(p,g){switch(p){case"keyup":return $b.indexOf(g.keyCode)!==-1;case"keydown":return g.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Q0(p){return p=p.detail,typeof p=="object"&&"data"in p?p.data:null}var pu=!1;function fM(p,g){switch(p){case"compositionend":return Q0(g);case"keypress":return g.which!==32?null:(Hb=!0,po);case"textInput":return p=g.data,p===po&&Hb?null:p;default:return null}}function am(p,g){if(pu)return p==="compositionend"||!Ws&&Wb(p,g)?(p=im(),ca=Lb=Fo=null,pu=!1,p):null;switch(p){case"paste":return null;case"keypress":if(!(g.ctrlKey||g.altKey||g.metaKey)||g.ctrlKey&&g.altKey){if(g.char&&1<g.char.length)return g.char;if(g.which)return String.fromCharCode(g.which)}return null;case"compositionend":return lh&&g.locale!=="ko"?null:g.data;default:return null}}var ch={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function J0(p){var g=p&&p.nodeName&&p.nodeName.toLowerCase();return g==="input"?!!ch[p.type]:g==="textarea"}function uh(p,g,E,R){qe(R),g=uv(g,"onChange"),0<g.length&&(E=new sm("onChange","change",null,E,R),p.push({event:E,listeners:g}))}var mu=null,dh=null;function hM(p){mh(p,0)}function oc(p){var g=hi(p);if(Te(g))return p}function pM(p,g){if(p==="change")return g}var fh=!1;if(o){var da;if(o){var jd="oninput"in document;if(!jd){var Id=document.createElement("div");Id.setAttribute("oninput","return;"),jd=typeof Id.oninput=="function"}da=jd}else da=!1;fh=da&&(!document.documentMode||9<document.documentMode)}function Uo(){mu&&(mu.detachEvent("onpropertychange",ev),dh=mu=null)}function ev(p){if(p.propertyName==="value"&&oc(dh)){var g=[];uh(g,dh,p,fe(p)),Ei(hM,g)}}function hh(p,g,E){p==="focusin"?(Uo(),mu=g,dh=E,mu.attachEvent("onpropertychange",ev)):p==="focusout"&&Uo()}function mM(p){if(p==="selectionchange"||p==="keyup"||p==="keydown")return oc(dh)}function Gb(p,g){if(p==="click")return oc(g)}function Jr(p,g){if(p==="input"||p==="change")return oc(g)}function tv(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var Oa=typeof Object.is=="function"?Object.is:tv;function kd(p,g){if(Oa(p,g))return!0;if(typeof p!="object"||p===null||typeof g!="object"||g===null)return!1;var E=Object.keys(p),R=Object.keys(g);if(E.length!==R.length)return!1;for(R=0;R<E.length;R++){var D=E[R];if(!l.call(g,D)||!Oa(p[D],g[D]))return!1}return!0}function om(p){for(;p&&p.firstChild;)p=p.firstChild;return p}function ja(p,g){var E=om(p);p=0;for(var R;E;){if(E.nodeType===3){if(R=p+E.textContent.length,p<=g&&R>=g)return{node:E,offset:g-p};p=R}e:{for(;E;){if(E.nextSibling){E=E.nextSibling;break e}E=E.parentNode}E=void 0}E=om(E)}}function Dd(p,g){return p&&g?p===g?!0:p&&p.nodeType===3?!1:g&&g.nodeType===3?Dd(p,g.parentNode):"contains"in p?p.contains(g):p.compareDocumentPosition?!!(p.compareDocumentPosition(g)&16):!1:!1}function ei(){for(var p=window,g=Xe();g instanceof p.HTMLIFrameElement;){try{var E=typeof g.contentWindow.location.href=="string"}catch{E=!1}if(E)p=g.contentWindow;else break;g=Xe(p.document)}return g}function Zi(p){var g=p&&p.nodeName&&p.nodeName.toLowerCase();return g&&(g==="input"&&(p.type==="text"||p.type==="search"||p.type==="tel"||p.type==="url"||p.type==="password")||g==="textarea"||p.contentEditable==="true")}function Qi(p){var g=ei(),E=p.focusedElem,R=p.selectionRange;if(g!==E&&E&&E.ownerDocument&&Dd(E.ownerDocument.documentElement,E)){if(R!==null&&Zi(E)){if(g=R.start,p=R.end,p===void 0&&(p=g),"selectionStart"in E)E.selectionStart=g,E.selectionEnd=Math.min(p,E.value.length);else if(p=(g=E.ownerDocument||document)&&g.defaultView||window,p.getSelection){p=p.getSelection();var D=E.textContent.length,z=Math.min(R.start,D);R=R.end===void 0?z:Math.min(R.end,D),!p.extend&&z>R&&(D=R,R=z,z=D),D=ja(E,z);var te=ja(E,R);D&&te&&(p.rangeCount!==1||p.anchorNode!==D.node||p.anchorOffset!==D.offset||p.focusNode!==te.node||p.focusOffset!==te.offset)&&(g=g.createRange(),g.setStart(D.node,D.offset),p.removeAllRanges(),z>R?(p.addRange(g),p.extend(te.node,te.offset)):(g.setEnd(te.node,te.offset),p.addRange(g)))}}for(g=[],p=E;p=p.parentNode;)p.nodeType===1&&g.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<g.length;E++)p=g[E],p.element.scrollLeft=p.left,p.element.scrollTop=p.top}}var nv=o&&"documentMode"in document&&11>=document.documentMode,vl=null,Ld=null,lm=null,Ji=!1;function rv(p,g,E){var R=E.window===E?E.document:E.nodeType===9?E:E.ownerDocument;Ji||vl==null||vl!==Xe(R)||(R=vl,"selectionStart"in R&&Zi(R)?R={start:R.selectionStart,end:R.selectionEnd}:(R=(R.ownerDocument&&R.ownerDocument.defaultView||window).getSelection(),R={anchorNode:R.anchorNode,anchorOffset:R.anchorOffset,focusNode:R.focusNode,focusOffset:R.focusOffset}),lm&&kd(lm,R)||(lm=R,R=uv(Ld,"onSelect"),0<R.length&&(g=new sm("onSelect","select",null,g,E),p.push({event:g,listeners:R}),g.target=vl)))}function ph(p,g){var E={};return E[p.toLowerCase()]=g.toLowerCase(),E["Webkit"+p]="webkit"+g,E["Moz"+p]="moz"+g,E}var gu={animationend:ph("Animation","AnimationEnd"),animationiteration:ph("Animation","AnimationIteration"),animationstart:ph("Animation","AnimationStart"),transitionend:ph("Transition","TransitionEnd")},Bo={},zo={};o&&(zo=document.createElement("div").style,"AnimationEvent"in window||(delete gu.animationend.animation,delete gu.animationiteration.animation,delete gu.animationstart.animation),"TransitionEvent"in window||delete gu.transitionend.transition);function yl(p){if(Bo[p])return Bo[p];if(!gu[p])return p;var g=gu[p],E;for(E in g)if(g.hasOwnProperty(E)&&E in zo)return Bo[p]=g[E];return p}var cm=yl("animationend"),um=yl("animationiteration"),qb=yl("animationstart"),Xb=yl("transitionend"),Yb=new Map,Kb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function lc(p,g){Yb.set(p,g),s(g,[p])}for(var iv=0;iv<Kb.length;iv++){var dm=Kb[iv],fm=dm.toLowerCase(),gM=dm[0].toUpperCase()+dm.slice(1);lc(fm,"on"+gM)}lc(cm,"onAnimationEnd"),lc(um,"onAnimationIteration"),lc(qb,"onAnimationStart"),lc("dblclick","onDoubleClick"),lc("focusin","onFocus"),lc("focusout","onBlur"),lc(Xb,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sv=new Set("cancel close invalid load scroll toggle".split(" ").concat(vu));function av(p,g,E){var R=p.type||"unknown-event";p.currentTarget=E,I0(R,g,void 0,p),p.currentTarget=null}function mh(p,g){g=(g&4)!==0;for(var E=0;E<p.length;E++){var R=p[E],D=R.event;R=R.listeners;e:{var z=void 0;if(g)for(var te=R.length-1;0<=te;te--){var ce=R[te],ve=ce.instance,Fe=ce.currentTarget;if(ce=ce.listener,ve!==z&&D.isPropagationStopped())break e;av(D,ce,Fe),z=ve}else for(te=0;te<R.length;te++){if(ce=R[te],ve=ce.instance,Fe=ce.currentTarget,ce=ce.listener,ve!==z&&D.isPropagationStopped())break e;av(D,ce,Fe),z=ve}}}if(Do)throw p=Lo,Do=!1,Lo=null,p}function Lr(p,g){var E=g[Bd];E===void 0&&(E=g[Bd]=new Set);var R=p+"__bubble";E.has(R)||(lv(g,p,2,!1),E.add(R))}function ov(p,g,E){var R=0;g&&(R|=4),lv(E,p,R,g)}var hm="_reactListening"+Math.random().toString(36).slice(2);function gh(p){if(!p[hm]){p[hm]=!0,r.forEach(function(E){E!=="selectionchange"&&(sv.has(E)||ov(E,!1,p),ov(E,!0,p))});var g=p.nodeType===9?p:p.ownerDocument;g===null||g[hm]||(g[hm]=!0,ov("selectionchange",!1,g))}}function lv(p,g,E,R){switch(aM(g)){case 1:var D=V0;break;case 4:D=Db;break;default:D=$0}E=D.bind(null,g,E,p),D=void 0,!Kp||g!=="touchstart"&&g!=="touchmove"&&g!=="wheel"||(D=!0),R?D!==void 0?p.addEventListener(g,E,{capture:!0,passive:D}):p.addEventListener(g,E,!0):D!==void 0?p.addEventListener(g,E,{passive:D}):p.addEventListener(g,E,!1)}function cv(p,g,E,R,D){var z=R;if((g&1)===0&&(g&2)===0&&R!==null)e:for(;;){if(R===null)return;var te=R.tag;if(te===3||te===4){var ce=R.stateNode.containerInfo;if(ce===D||ce.nodeType===8&&ce.parentNode===D)break;if(te===4)for(te=R.return;te!==null;){var ve=te.tag;if((ve===3||ve===4)&&(ve=te.stateNode.containerInfo,ve===D||ve.nodeType===8&&ve.parentNode===D))return;te=te.return}for(;ce!==null;){if(te=yu(ce),te===null)return;if(ve=te.tag,ve===5||ve===6){R=z=te;continue e}ce=ce.parentNode}}R=R.return}Ei(function(){var Fe=z,rt=fe(E),ot=[];e:{var tt=Yb.get(p);if(tt!==void 0){var Ft=sm,Yt=p;switch(p){case"keypress":if(Cd(E)===0)break e;case"keydown":case"keyup":Ft=Z0;break;case"focusin":Yt="focus",Ft=q0;break;case"focusout":Yt="blur",Ft=q0;break;case"beforeblur":case"afterblur":Ft=q0;break;case"click":if(E.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ft=Fb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ft=fu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ft=sc;break;case cm:case um:case qb:Ft=oM;break;case Xb:Ft=Od;break;case"scroll":Ft=sh;break;case"wheel":Ft=Vb;break;case"copy":case"cut":case"paste":Ft=Ub;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ft=Ra}var Jt=(g&4)!==0,zi=!Jt&&p==="scroll",Re=Jt?tt!==null?tt+"Capture":null:tt;Jt=[];for(var we=Fe,je;we!==null;){je=we;var gt=je.stateNode;if(je.tag===5&&gt!==null&&(je=gt,Re!==null&&(gt=Mi(we,Re),gt!=null&&Jt.push(vh(we,gt,je)))),zi)break;we=we.return}0<Jt.length&&(tt=new Ft(tt,Yt,null,E,rt),ot.push({event:tt,listeners:Jt}))}}if((g&7)===0){e:{if(tt=p==="mouseover"||p==="pointerover",Ft=p==="mouseout"||p==="pointerout",tt&&E!==lt&&(Yt=E.relatedTarget||E.fromElement)&&(yu(Yt)||Yt[Ia]))break e;if((Ft||tt)&&(tt=rt.window===rt?rt:(tt=rt.ownerDocument)?tt.defaultView||tt.parentWindow:window,Ft?(Yt=E.relatedTarget||E.toElement,Ft=Fe,Yt=Yt?yu(Yt):null,Yt!==null&&(zi=ao(Yt),Yt!==zi||Yt.tag!==5&&Yt.tag!==6)&&(Yt=null)):(Ft=null,Yt=Fe),Ft!==Yt)){if(Jt=Fb,gt="onMouseLeave",Re="onMouseEnter",we="mouse",(p==="pointerout"||p==="pointerover")&&(Jt=Ra,gt="onPointerLeave",Re="onPointerEnter",we="pointer"),zi=Ft==null?tt:hi(Ft),je=Yt==null?tt:hi(Yt),tt=new Jt(gt,we+"leave",Ft,E,rt),tt.target=zi,tt.relatedTarget=je,gt=null,yu(rt)===Fe&&(Jt=new Jt(Re,we+"enter",Yt,E,rt),Jt.target=je,Jt.relatedTarget=zi,gt=Jt),zi=gt,Ft&&Yt)t:{for(Jt=Ft,Re=Yt,we=0,je=Jt;je;je=Fd(je))we++;for(je=0,gt=Re;gt;gt=Fd(gt))je++;for(;0<we-je;)Jt=Fd(Jt),we--;for(;0<je-we;)Re=Fd(Re),je--;for(;we--;){if(Jt===Re||Re!==null&&Jt===Re.alternate)break t;Jt=Fd(Jt),Re=Fd(Re)}Jt=null}else Jt=null;Ft!==null&&vM(ot,tt,Ft,Jt,!1),Yt!==null&&zi!==null&&vM(ot,zi,Yt,Jt,!0)}}e:{if(tt=Fe?hi(Fe):window,Ft=tt.nodeName&&tt.nodeName.toLowerCase(),Ft==="select"||Ft==="input"&&tt.type==="file")var nn=pM;else if(J0(tt))if(fh)nn=Jr;else{nn=mM;var vn=hh}else(Ft=tt.nodeName)&&Ft.toLowerCase()==="input"&&(tt.type==="checkbox"||tt.type==="radio")&&(nn=Gb);if(nn&&(nn=nn(p,Fe))){uh(ot,nn,E,rt);break e}vn&&vn(p,tt,Fe),p==="focusout"&&(vn=tt._wrapperState)&&vn.controlled&&tt.type==="number"&&Ot(tt,"number",tt.value)}switch(vn=Fe?hi(Fe):window,p){case"focusin":(J0(vn)||vn.contentEditable==="true")&&(vl=vn,Ld=Fe,lm=null);break;case"focusout":lm=Ld=vl=null;break;case"mousedown":Ji=!0;break;case"contextmenu":case"mouseup":case"dragend":Ji=!1,rv(ot,E,rt);break;case"selectionchange":if(nv)break;case"keydown":case"keyup":rv(ot,E,rt)}var yn;if(Ws)e:{switch(p){case"compositionstart":var Nn="onCompositionStart";break e;case"compositionend":Nn="onCompositionEnd";break e;case"compositionupdate":Nn="onCompositionUpdate";break e}Nn=void 0}else pu?Wb(p,E)&&(Nn="onCompositionEnd"):p==="keydown"&&E.keyCode===229&&(Nn="onCompositionStart");Nn&&(lh&&E.locale!=="ko"&&(pu||Nn!=="onCompositionStart"?Nn==="onCompositionEnd"&&pu&&(yn=im()):(Fo=rt,Lb="value"in Fo?Fo.value:Fo.textContent,pu=!0)),vn=uv(Fe,Nn),0<vn.length&&(Nn=new Bb(Nn,p,null,E,rt),ot.push({event:Nn,listeners:vn}),yn?Nn.data=yn:(yn=Q0(E),yn!==null&&(Nn.data=yn)))),(yn=Yr?fM(p,E):am(p,E))&&(Fe=uv(Fe,"onBeforeInput"),0<Fe.length&&(rt=new Bb("onBeforeInput","beforeinput",null,E,rt),ot.push({event:rt,listeners:Fe}),rt.data=yn))}mh(ot,g)})}function vh(p,g,E){return{instance:p,listener:g,currentTarget:E}}function uv(p,g){for(var E=g+"Capture",R=[];p!==null;){var D=p,z=D.stateNode;D.tag===5&&z!==null&&(D=z,z=Mi(p,E),z!=null&&R.unshift(vh(p,z,D)),z=Mi(p,g),z!=null&&R.push(vh(p,z,D))),p=p.return}return R}function Fd(p){if(p===null)return null;do p=p.return;while(p&&p.tag!==5);return p||null}function vM(p,g,E,R,D){for(var z=g._reactName,te=[];E!==null&&E!==R;){var ce=E,ve=ce.alternate,Fe=ce.stateNode;if(ve!==null&&ve===R)break;ce.tag===5&&Fe!==null&&(ce=Fe,D?(ve=Mi(E,z),ve!=null&&te.unshift(vh(E,ve,ce))):D||(ve=Mi(E,z),ve!=null&&te.push(vh(E,ve,ce)))),E=E.return}te.length!==0&&p.push({event:g,listeners:te})}var DO=/\r\n?/g,yM=/\u0000|\uFFFD/g;function Zb(p){return(typeof p=="string"?p:""+p).replace(DO,`
`).replace(yM,"")}function pm(p,g,E){if(g=Zb(g),Zb(p)!==g&&E)throw Error(n(425))}function mm(){}var yh=null,Qb=null;function Jb(p,g){return p==="textarea"||p==="noscript"||typeof g.children=="string"||typeof g.children=="number"||typeof g.dangerouslySetInnerHTML=="object"&&g.dangerouslySetInnerHTML!==null&&g.dangerouslySetInnerHTML.__html!=null}var ew=typeof setTimeout=="function"?setTimeout:void 0,tw=typeof clearTimeout=="function"?clearTimeout:void 0,dv=typeof Promise=="function"?Promise:void 0,LO=typeof queueMicrotask=="function"?queueMicrotask:typeof dv<"u"?function(p){return dv.resolve(null).then(p).catch(xM)}:ew;function xM(p){setTimeout(function(){throw p})}function fv(p,g){var E=g,R=0;do{var D=E.nextSibling;if(p.removeChild(E),D&&D.nodeType===8)if(E=D.data,E==="/$"){if(R===0){p.removeChild(D),rm(g);return}R--}else E!=="$"&&E!=="$?"&&E!=="$!"||R++;E=D}while(E);rm(g)}function cc(p){for(;p!=null;p=p.nextSibling){var g=p.nodeType;if(g===1||g===3)break;if(g===8){if(g=p.data,g==="$"||g==="$!"||g==="$?")break;if(g==="/$")return null}}return p}function nw(p){p=p.previousSibling;for(var g=0;p;){if(p.nodeType===8){var E=p.data;if(E==="$"||E==="$!"||E==="$?"){if(g===0)return p;g--}else E==="/$"&&g++}p=p.previousSibling}return null}var Ud=Math.random().toString(36).slice(2),Bi="__reactFiber$"+Ud,xh="__reactProps$"+Ud,Ia="__reactContainer$"+Ud,Bd="__reactEvents$"+Ud,hv="__reactListeners$"+Ud,pv="__reactHandles$"+Ud;function yu(p){var g=p[Bi];if(g)return g;for(var E=p.parentNode;E;){if(g=E[Ia]||E[Bi]){if(E=g.alternate,g.child!==null||E!==null&&E.child!==null)for(p=nw(p);p!==null;){if(E=p[Bi])return E;p=nw(p)}return g}p=E,E=p.parentNode}return null}function uc(p){return p=p[Bi]||p[Ia],!p||p.tag!==5&&p.tag!==6&&p.tag!==13&&p.tag!==3?null:p}function hi(p){if(p.tag===5||p.tag===6)return p.stateNode;throw Error(n(33))}function mv(p){return p[xh]||null}var rw=[],es=-1;function oi(p){return{current:p}}function Fr(p){0>es||(p.current=rw[es],rw[es]=null,es--)}function Or(p,g){es++,rw[es]=p.current,p.current=g}var dc={},cs=oi(dc),Gs=oi(!1),fc=dc;function zd(p,g){var E=p.type.contextTypes;if(!E)return dc;var R=p.stateNode;if(R&&R.__reactInternalMemoizedUnmaskedChildContext===g)return R.__reactInternalMemoizedMaskedChildContext;var D={},z;for(z in E)D[z]=g[z];return R&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=g,p.__reactInternalMemoizedMaskedChildContext=D),D}function Ms(p){return p=p.childContextTypes,p!=null}function gm(){Fr(Gs),Fr(cs)}function iw(p,g,E){if(cs.current!==dc)throw Error(n(168));Or(cs,g),Or(Gs,E)}function vm(p,g,E){var R=p.stateNode;if(g=g.childContextTypes,typeof R.getChildContext!="function")return E;R=R.getChildContext();for(var D in R)if(!(D in g))throw Error(n(108,pe(p)||"Unknown",D));return ee({},E,R)}function Vd(p){return p=(p=p.stateNode)&&p.__reactInternalMemoizedMergedChildContext||dc,fc=cs.current,Or(cs,p),Or(Gs,Gs.current),!0}function sw(p,g,E){var R=p.stateNode;if(!R)throw Error(n(169));E?(p=vm(p,g,fc),R.__reactInternalMemoizedMergedChildContext=p,Fr(Gs),Fr(cs),Or(cs,p)):Fr(Gs),Or(Gs,E)}var Vo=null,ym=!1,gv=!1;function xm(p){Vo===null?Vo=[p]:Vo.push(p)}function bM(p){ym=!0,xm(p)}function xl(){if(!gv&&Vo!==null){gv=!0;var p=0,g=Mn;try{var E=Vo;for(Mn=1;p<E.length;p++){var R=E[p];do R=R(!0);while(R!==null)}Vo=null,ym=!1}catch(D){throw Vo!==null&&(Vo=Vo.slice(p+1)),D0(Se,xl),D}finally{Mn=g,gv=!1}}return null}var $d=[],fa=0,vv=null,yv=0,qs=[],ts=0,Hd=null,wt=1,mo="";function hc(p,g){$d[fa++]=yv,$d[fa++]=vv,vv=p,yv=g}function aw(p,g,E){qs[ts++]=wt,qs[ts++]=mo,qs[ts++]=Hd,Hd=p;var R=wt;p=mo;var D=32-Tt(R)-1;R&=~(1<<D),E+=1;var z=32-Tt(g)+D;if(30<z){var te=D-D%5;z=(R&(1<<te)-1).toString(32),R>>=te,D-=te,wt=1<<32-Tt(g)+D|E<<D|R,mo=z+p}else wt=1<<z|E<<D|R,mo=p}function ow(p){p.return!==null&&(hc(p,1),aw(p,1,0))}function pc(p){for(;p===vv;)vv=$d[--fa],$d[fa]=null,yv=$d[--fa],$d[fa]=null;for(;p===Hd;)Hd=qs[--ts],qs[ts]=null,mo=qs[--ts],qs[ts]=null,wt=qs[--ts],qs[ts]=null}var us=null,Xs=null,Vr=!1,go=null;function lw(p,g){var E=El(5,null,null,0);E.elementType="DELETED",E.stateNode=g,E.return=p,g=p.deletions,g===null?(p.deletions=[E],p.flags|=16):g.push(E)}function cw(p,g){switch(p.tag){case 5:var E=p.type;return g=g.nodeType!==1||E.toLowerCase()!==g.nodeName.toLowerCase()?null:g,g!==null?(p.stateNode=g,us=p,Xs=cc(g.firstChild),!0):!1;case 6:return g=p.pendingProps===""||g.nodeType!==3?null:g,g!==null?(p.stateNode=g,us=p,Xs=null,!0):!1;case 13:return g=g.nodeType!==8?null:g,g!==null?(E=Hd!==null?{id:wt,overflow:mo}:null,p.memoizedState={dehydrated:g,treeContext:E,retryLane:1073741824},E=El(18,null,null,0),E.stateNode=g,E.return=p,p.child=E,us=p,Xs=null,!0):!1;default:return!1}}function xv(p){return(p.mode&1)!==0&&(p.flags&128)===0}function bv(p){if(Vr){var g=Xs;if(g){var E=g;if(!cw(p,g)){if(xv(p))throw Error(n(418));g=cc(E.nextSibling);var R=us;g&&cw(p,g)?lw(R,E):(p.flags=p.flags&-4097|2,Vr=!1,us=p)}}else{if(xv(p))throw Error(n(418));p.flags=p.flags&-4097|2,Vr=!1,us=p}}}function wv(p){for(p=p.return;p!==null&&p.tag!==5&&p.tag!==3&&p.tag!==13;)p=p.return;us=p}function bh(p){if(p!==us)return!1;if(!Vr)return wv(p),Vr=!0,!1;var g;if((g=p.tag!==3)&&!(g=p.tag!==5)&&(g=p.type,g=g!=="head"&&g!=="body"&&!Jb(p.type,p.memoizedProps)),g&&(g=Xs)){if(xv(p))throw uw(),Error(n(418));for(;g;)lw(p,g),g=cc(g.nextSibling)}if(wv(p),p.tag===13){if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));e:{for(p=p.nextSibling,g=0;p;){if(p.nodeType===8){var E=p.data;if(E==="/$"){if(g===0){Xs=cc(p.nextSibling);break e}g--}else E!=="$"&&E!=="$!"&&E!=="$?"||g++}p=p.nextSibling}Xs=null}}else Xs=us?cc(p.stateNode.nextSibling):null;return!0}function uw(){for(var p=Xs;p;)p=cc(p.nextSibling)}function xu(){Xs=us=null,Vr=!1}function wh(p){go===null?go=[p]:go.push(p)}var FO=T.ReactCurrentBatchConfig;function bm(p,g,E){if(p=E.ref,p!==null&&typeof p!="function"&&typeof p!="object"){if(E._owner){if(E=E._owner,E){if(E.tag!==1)throw Error(n(309));var R=E.stateNode}if(!R)throw Error(n(147,p));var D=R,z=""+p;return g!==null&&g.ref!==null&&typeof g.ref=="function"&&g.ref._stringRef===z?g.ref:(g=function(te){var ce=D.refs;te===null?delete ce[z]:ce[z]=te},g._stringRef=z,g)}if(typeof p!="string")throw Error(n(284));if(!E._owner)throw Error(n(290,p))}return p}function wm(p,g){throw p=Object.prototype.toString.call(g),Error(n(31,p==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":p))}function dw(p){var g=p._init;return g(p._payload)}function fw(p){function g(Re,we){if(p){var je=Re.deletions;je===null?(Re.deletions=[we],Re.flags|=16):je.push(we)}}function E(Re,we){if(!p)return null;for(;we!==null;)g(Re,we),we=we.sibling;return null}function R(Re,we){for(Re=new Map;we!==null;)we.key!==null?Re.set(we.key,we):Re.set(we.index,we),we=we.sibling;return Re}function D(Re,we){return Re=Oh(Re,we),Re.index=0,Re.sibling=null,Re}function z(Re,we,je){return Re.index=je,p?(je=Re.alternate,je!==null?(je=je.index,je<we?(Re.flags|=2,we):je):(Re.flags|=2,we)):(Re.flags|=1048576,we)}function te(Re){return p&&Re.alternate===null&&(Re.flags|=2),Re}function ce(Re,we,je,gt){return we===null||we.tag!==6?(we=rj(je,Re.mode,gt),we.return=Re,we):(we=D(we,je),we.return=Re,we)}function ve(Re,we,je,gt){var nn=je.type;return nn===j?rt(Re,we,je.props.children,gt,je.key):we!==null&&(we.elementType===nn||typeof nn=="object"&&nn!==null&&nn.$$typeof===q&&dw(nn)===we.type)?(gt=D(we,je.props),gt.ref=bm(Re,we,je),gt.return=Re,gt):(gt=$M(je.type,je.key,je.props,null,Re.mode,gt),gt.ref=bm(Re,we,je),gt.return=Re,gt)}function Fe(Re,we,je,gt){return we===null||we.tag!==4||we.stateNode.containerInfo!==je.containerInfo||we.stateNode.implementation!==je.implementation?(we=ij(je,Re.mode,gt),we.return=Re,we):(we=D(we,je.children||[]),we.return=Re,we)}function rt(Re,we,je,gt,nn){return we===null||we.tag!==7?(we=Fm(je,Re.mode,gt,nn),we.return=Re,we):(we=D(we,je),we.return=Re,we)}function ot(Re,we,je){if(typeof we=="string"&&we!==""||typeof we=="number")return we=rj(""+we,Re.mode,je),we.return=Re,we;if(typeof we=="object"&&we!==null){switch(we.$$typeof){case A:return je=$M(we.type,we.key,we.props,null,Re.mode,je),je.ref=bm(Re,null,we),je.return=Re,je;case C:return we=ij(we,Re.mode,je),we.return=Re,we;case q:var gt=we._init;return ot(Re,gt(we._payload),je)}if(dt(we)||Q(we))return we=Fm(we,Re.mode,je,null),we.return=Re,we;wm(Re,we)}return null}function tt(Re,we,je,gt){var nn=we!==null?we.key:null;if(typeof je=="string"&&je!==""||typeof je=="number")return nn!==null?null:ce(Re,we,""+je,gt);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case A:return je.key===nn?ve(Re,we,je,gt):null;case C:return je.key===nn?Fe(Re,we,je,gt):null;case q:return nn=je._init,tt(Re,we,nn(je._payload),gt)}if(dt(je)||Q(je))return nn!==null?null:rt(Re,we,je,gt,null);wm(Re,je)}return null}function Ft(Re,we,je,gt,nn){if(typeof gt=="string"&&gt!==""||typeof gt=="number")return Re=Re.get(je)||null,ce(we,Re,""+gt,nn);if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case A:return Re=Re.get(gt.key===null?je:gt.key)||null,ve(we,Re,gt,nn);case C:return Re=Re.get(gt.key===null?je:gt.key)||null,Fe(we,Re,gt,nn);case q:var vn=gt._init;return Ft(Re,we,je,vn(gt._payload),nn)}if(dt(gt)||Q(gt))return Re=Re.get(je)||null,rt(we,Re,gt,nn,null);wm(we,gt)}return null}function Yt(Re,we,je,gt){for(var nn=null,vn=null,yn=we,Nn=we=0,Ps=null;yn!==null&&Nn<je.length;Nn++){yn.index>Nn?(Ps=yn,yn=null):Ps=yn.sibling;var wr=tt(Re,yn,je[Nn],gt);if(wr===null){yn===null&&(yn=Ps);break}p&&yn&&wr.alternate===null&&g(Re,yn),we=z(wr,we,Nn),vn===null?nn=wr:vn.sibling=wr,vn=wr,yn=Ps}if(Nn===je.length)return E(Re,yn),Vr&&hc(Re,Nn),nn;if(yn===null){for(;Nn<je.length;Nn++)yn=ot(Re,je[Nn],gt),yn!==null&&(we=z(yn,we,Nn),vn===null?nn=yn:vn.sibling=yn,vn=yn);return Vr&&hc(Re,Nn),nn}for(yn=R(Re,yn);Nn<je.length;Nn++)Ps=Ft(yn,Re,Nn,je[Nn],gt),Ps!==null&&(p&&Ps.alternate!==null&&yn.delete(Ps.key===null?Nn:Ps.key),we=z(Ps,we,Nn),vn===null?nn=Ps:vn.sibling=Ps,vn=Ps);return p&&yn.forEach(function(jh){return g(Re,jh)}),Vr&&hc(Re,Nn),nn}function Jt(Re,we,je,gt){var nn=Q(je);if(typeof nn!="function")throw Error(n(150));if(je=nn.call(je),je==null)throw Error(n(151));for(var vn=nn=null,yn=we,Nn=we=0,Ps=null,wr=je.next();yn!==null&&!wr.done;Nn++,wr=je.next()){yn.index>Nn?(Ps=yn,yn=null):Ps=yn.sibling;var jh=tt(Re,yn,wr.value,gt);if(jh===null){yn===null&&(yn=Ps);break}p&&yn&&jh.alternate===null&&g(Re,yn),we=z(jh,we,Nn),vn===null?nn=jh:vn.sibling=jh,vn=jh,yn=Ps}if(wr.done)return E(Re,yn),Vr&&hc(Re,Nn),nn;if(yn===null){for(;!wr.done;Nn++,wr=je.next())wr=ot(Re,wr.value,gt),wr!==null&&(we=z(wr,we,Nn),vn===null?nn=wr:vn.sibling=wr,vn=wr);return Vr&&hc(Re,Nn),nn}for(yn=R(Re,yn);!wr.done;Nn++,wr=je.next())wr=Ft(yn,Re,Nn,wr.value,gt),wr!==null&&(p&&wr.alternate!==null&&yn.delete(wr.key===null?Nn:wr.key),we=z(wr,we,Nn),vn===null?nn=wr:vn.sibling=wr,vn=wr);return p&&yn.forEach(function(Fve){return g(Re,Fve)}),Vr&&hc(Re,Nn),nn}function zi(Re,we,je,gt){if(typeof je=="object"&&je!==null&&je.type===j&&je.key===null&&(je=je.props.children),typeof je=="object"&&je!==null){switch(je.$$typeof){case A:e:{for(var nn=je.key,vn=we;vn!==null;){if(vn.key===nn){if(nn=je.type,nn===j){if(vn.tag===7){E(Re,vn.sibling),we=D(vn,je.props.children),we.return=Re,Re=we;break e}}else if(vn.elementType===nn||typeof nn=="object"&&nn!==null&&nn.$$typeof===q&&dw(nn)===vn.type){E(Re,vn.sibling),we=D(vn,je.props),we.ref=bm(Re,vn,je),we.return=Re,Re=we;break e}E(Re,vn);break}else g(Re,vn);vn=vn.sibling}je.type===j?(we=Fm(je.props.children,Re.mode,gt,je.key),we.return=Re,Re=we):(gt=$M(je.type,je.key,je.props,null,Re.mode,gt),gt.ref=bm(Re,we,je),gt.return=Re,Re=gt)}return te(Re);case C:e:{for(vn=je.key;we!==null;){if(we.key===vn)if(we.tag===4&&we.stateNode.containerInfo===je.containerInfo&&we.stateNode.implementation===je.implementation){E(Re,we.sibling),we=D(we,je.children||[]),we.return=Re,Re=we;break e}else{E(Re,we);break}else g(Re,we);we=we.sibling}we=ij(je,Re.mode,gt),we.return=Re,Re=we}return te(Re);case q:return vn=je._init,zi(Re,we,vn(je._payload),gt)}if(dt(je))return Yt(Re,we,je,gt);if(Q(je))return Jt(Re,we,je,gt);wm(Re,je)}return typeof je=="string"&&je!==""||typeof je=="number"?(je=""+je,we!==null&&we.tag===6?(E(Re,we.sibling),we=D(we,je),we.return=Re,Re=we):(E(Re,we),we=rj(je,Re.mode,gt),we.return=Re,Re=we),te(Re)):E(Re,we)}return zi}var Wd=fw(!0),_m=fw(!1),Gd=oi(null),qd=null,mc=null,_h=null;function Xd(){_h=mc=qd=null}function Sm(p){var g=Gd.current;Fr(Gd),p._currentValue=g}function Em(p,g,E){for(;p!==null;){var R=p.alternate;if((p.childLanes&g)!==g?(p.childLanes|=g,R!==null&&(R.childLanes|=g)):R!==null&&(R.childLanes&g)!==g&&(R.childLanes|=g),p===E)break;p=p.return}}function bu(p,g){qd=p,_h=mc=null,p=p.dependencies,p!==null&&p.firstContext!==null&&((p.lanes&g)!==0&&(zn=!0),p.firstContext=null)}function ka(p){var g=p._currentValue;if(_h!==p)if(p={context:p,memoizedValue:g,next:null},mc===null){if(qd===null)throw Error(n(308));mc=p,qd.dependencies={lanes:0,firstContext:p}}else mc=mc.next=p;return g}var gc=null;function hw(p){gc===null?gc=[p]:gc.push(p)}function Mm(p,g,E,R){var D=g.interleaved;return D===null?(E.next=E,hw(g)):(E.next=D.next,D.next=E),g.interleaved=E,$o(p,R)}function $o(p,g){p.lanes|=g;var E=p.alternate;for(E!==null&&(E.lanes|=g),E=p,p=p.return;p!==null;)p.childLanes|=g,E=p.alternate,E!==null&&(E.childLanes|=g),E=p,p=p.return;return E.tag===3?E.stateNode:null}var Mr=!1;function Dn(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pi(p,g){p=p.updateQueue,g.updateQueue===p&&(g.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,effects:p.effects})}function Tr(p,g){return{eventTime:p,lane:g,tag:0,payload:null,callback:null,next:null}}function Kr(p,g,E){var R=p.updateQueue;if(R===null)return null;if(R=R.shared,(gr&2)!==0){var D=R.pending;return D===null?g.next=g:(g.next=D.next,D.next=g),R.pending=g,$o(p,E)}return D=R.interleaved,D===null?(g.next=g,hw(R)):(g.next=D.next,D.next=g),R.interleaved=g,$o(p,E)}function Ts(p,g,E){if(g=g.updateQueue,g!==null&&(g=g.shared,(E&4194240)!==0)){var R=g.lanes;R&=p.pendingLanes,E|=R,g.lanes=E,or(p,E)}}function Yd(p,g){var E=p.updateQueue,R=p.alternate;if(R!==null&&(R=R.updateQueue,E===R)){var D=null,z=null;if(E=E.firstBaseUpdate,E!==null){do{var te={eventTime:E.eventTime,lane:E.lane,tag:E.tag,payload:E.payload,callback:E.callback,next:null};z===null?D=z=te:z=z.next=te,E=E.next}while(E!==null);z===null?D=z=g:z=z.next=g}else D=z=g;E={baseState:R.baseState,firstBaseUpdate:D,lastBaseUpdate:z,shared:R.shared,effects:R.effects},p.updateQueue=E;return}p=E.lastBaseUpdate,p===null?E.firstBaseUpdate=g:p.next=g,E.lastBaseUpdate=g}function li(p,g,E,R){var D=p.updateQueue;Mr=!1;var z=D.firstBaseUpdate,te=D.lastBaseUpdate,ce=D.shared.pending;if(ce!==null){D.shared.pending=null;var ve=ce,Fe=ve.next;ve.next=null,te===null?z=Fe:te.next=Fe,te=ve;var rt=p.alternate;rt!==null&&(rt=rt.updateQueue,ce=rt.lastBaseUpdate,ce!==te&&(ce===null?rt.firstBaseUpdate=Fe:ce.next=Fe,rt.lastBaseUpdate=ve))}if(z!==null){var ot=D.baseState;te=0,rt=Fe=ve=null,ce=z;do{var tt=ce.lane,Ft=ce.eventTime;if((R&tt)===tt){rt!==null&&(rt=rt.next={eventTime:Ft,lane:0,tag:ce.tag,payload:ce.payload,callback:ce.callback,next:null});e:{var Yt=p,Jt=ce;switch(tt=g,Ft=E,Jt.tag){case 1:if(Yt=Jt.payload,typeof Yt=="function"){ot=Yt.call(Ft,ot,tt);break e}ot=Yt;break e;case 3:Yt.flags=Yt.flags&-65537|128;case 0:if(Yt=Jt.payload,tt=typeof Yt=="function"?Yt.call(Ft,ot,tt):Yt,tt==null)break e;ot=ee({},ot,tt);break e;case 2:Mr=!0}}ce.callback!==null&&ce.lane!==0&&(p.flags|=64,tt=D.effects,tt===null?D.effects=[ce]:tt.push(ce))}else Ft={eventTime:Ft,lane:tt,tag:ce.tag,payload:ce.payload,callback:ce.callback,next:null},rt===null?(Fe=rt=Ft,ve=ot):rt=rt.next=Ft,te|=tt;if(ce=ce.next,ce===null){if(ce=D.shared.pending,ce===null)break;tt=ce,ce=tt.next,tt.next=null,D.lastBaseUpdate=tt,D.shared.pending=null}}while(!0);if(rt===null&&(ve=ot),D.baseState=ve,D.firstBaseUpdate=Fe,D.lastBaseUpdate=rt,g=D.shared.interleaved,g!==null){D=g;do te|=D.lane,D=D.next;while(D!==g)}else z===null&&(D.shared.lanes=0);Im|=te,p.lanes=te,p.memoizedState=ot}}function Sh(p,g,E){if(p=g.effects,g.effects=null,p!==null)for(g=0;g<p.length;g++){var R=p[g],D=R.callback;if(D!==null){if(R.callback=null,R=E,typeof D!="function")throw Error(n(191,D));D.call(R)}}}var bl={},Da=oi(bl),Kd=oi(bl),vc=oi(bl);function Ti(p){if(p===bl)throw Error(n(174));return p}function Tm(p,g){switch(Or(vc,g),Or(Kd,p),Or(Da,bl),p=g.nodeType,p){case 9:case 11:g=(g=g.documentElement)?g.namespaceURI:me(null,"");break;default:p=p===8?g.parentNode:g,g=p.namespaceURI||null,p=p.tagName,g=me(g,p)}Fr(Da),Or(Da,g)}function wu(){Fr(Da),Fr(Kd),Fr(vc)}function Zd(p){Ti(vc.current);var g=Ti(Da.current),E=me(g,p.type);g!==E&&(Or(Kd,p),Or(Da,E))}function Eh(p){Kd.current===p&&(Fr(Da),Fr(Kd))}var $r=oi(0);function Ho(p){for(var g=p;g!==null;){if(g.tag===13){var E=g.memoizedState;if(E!==null&&(E=E.dehydrated,E===null||E.data==="$?"||E.data==="$!"))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if((g.flags&128)!==0)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===p)break;for(;g.sibling===null;){if(g.return===null||g.return===p)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var Mh=[];function wl(){for(var p=0;p<Mh.length;p++)Mh[p]._workInProgressVersionPrimary=null;Mh.length=0}var Qd=T.ReactCurrentDispatcher,Jd=T.ReactCurrentBatchConfig,yc=0,Ur=null,ci=null,dr=null,Wo=!1,As=!1,_u=0,ha=0;function ds(){throw Error(n(321))}function Am(p,g){if(g===null)return!1;for(var E=0;E<g.length&&E<p.length;E++)if(!Oa(p[E],g[E]))return!1;return!0}function Cm(p,g,E,R,D,z){if(yc=z,Ur=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,Qd.current=p===null||p.memoizedState===null?AM:CM,p=E(R,D),As){z=0;do{if(As=!1,_u=0,25<=z)throw Error(n(301));z+=1,dr=ci=null,g.updateQueue=null,Qd.current=PM,p=E(R,D)}while(As)}if(Qd.current=Cv,g=ci!==null&&ci.next!==null,yc=0,dr=ci=Ur=null,Wo=!1,g)throw Error(n(300));return p}function pw(){var p=_u!==0;return _u=0,p}function fs(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dr===null?Ur.memoizedState=dr=p:dr=dr.next=p,dr}function La(){if(ci===null){var p=Ur.alternate;p=p!==null?p.memoizedState:null}else p=ci.next;var g=dr===null?Ur.memoizedState:dr.next;if(g!==null)dr=g,ci=p;else{if(p===null)throw Error(n(310));ci=p,p={memoizedState:ci.memoizedState,baseState:ci.baseState,baseQueue:ci.baseQueue,queue:ci.queue,next:null},dr===null?Ur.memoizedState=dr=p:dr=dr.next=p}return dr}function Th(p,g){return typeof g=="function"?g(p):g}function Pm(p){var g=La(),E=g.queue;if(E===null)throw Error(n(311));E.lastRenderedReducer=p;var R=ci,D=R.baseQueue,z=E.pending;if(z!==null){if(D!==null){var te=D.next;D.next=z.next,z.next=te}R.baseQueue=D=z,E.pending=null}if(D!==null){z=D.next,R=R.baseState;var ce=te=null,ve=null,Fe=z;do{var rt=Fe.lane;if((yc&rt)===rt)ve!==null&&(ve=ve.next={lane:0,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null}),R=Fe.hasEagerState?Fe.eagerState:p(R,Fe.action);else{var ot={lane:rt,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null};ve===null?(ce=ve=ot,te=R):ve=ve.next=ot,Ur.lanes|=rt,Im|=rt}Fe=Fe.next}while(Fe!==null&&Fe!==z);ve===null?te=R:ve.next=ce,Oa(R,g.memoizedState)||(zn=!0),g.memoizedState=R,g.baseState=te,g.baseQueue=ve,E.lastRenderedState=R}if(p=E.interleaved,p!==null){D=p;do z=D.lane,Ur.lanes|=z,Im|=z,D=D.next;while(D!==p)}else D===null&&(E.lanes=0);return[g.memoizedState,E.dispatch]}function xc(p){var g=La(),E=g.queue;if(E===null)throw Error(n(311));E.lastRenderedReducer=p;var R=E.dispatch,D=E.pending,z=g.memoizedState;if(D!==null){E.pending=null;var te=D=D.next;do z=p(z,te.action),te=te.next;while(te!==D);Oa(z,g.memoizedState)||(zn=!0),g.memoizedState=z,g.baseQueue===null&&(g.baseState=z),E.lastRenderedState=z}return[z,R]}function mw(){}function gw(p,g){var E=Ur,R=La(),D=g(),z=!Oa(R.memoizedState,D);if(z&&(R.memoizedState=D,zn=!0),R=R.queue,xw(wM.bind(null,E,R,p),[p]),R.getSnapshot!==g||z||dr!==null&&dr.memoizedState.tag&1){if(E.flags|=2048,Go(9,Nm.bind(null,E,R,D,g),void 0,null),Cs===null)throw Error(n(349));(yc&30)!==0||_v(E,g,D)}return D}function _v(p,g,E){p.flags|=16384,p={getSnapshot:g,value:E},g=Ur.updateQueue,g===null?(g={lastEffect:null,stores:null},Ur.updateQueue=g,g.stores=[p]):(E=g.stores,E===null?g.stores=[p]:E.push(p))}function Nm(p,g,E,R){g.value=E,g.getSnapshot=R,_M(g)&&vw(p)}function wM(p,g,E){return E(function(){_M(g)&&vw(p)})}function _M(p){var g=p.getSnapshot;p=p.value;try{var E=g();return!Oa(p,E)}catch{return!0}}function vw(p){var g=$o(p,1);g!==null&&Ec(g,p,1,-1)}function yw(p){var g=fs();return typeof p=="function"&&(p=p()),g.memoizedState=g.baseState=p,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Th,lastRenderedState:p},g.queue=p,p=p.dispatch=ef.bind(null,Ur,p),[g.memoizedState,p]}function Go(p,g,E,R){return p={tag:p,create:g,destroy:E,deps:R,next:null},g=Ur.updateQueue,g===null?(g={lastEffect:null,stores:null},Ur.updateQueue=g,g.lastEffect=p.next=p):(E=g.lastEffect,E===null?g.lastEffect=p.next=p:(R=E.next,E.next=p,p.next=R,g.lastEffect=p)),p}function SM(){return La().memoizedState}function _l(p,g,E,R){var D=fs();Ur.flags|=p,D.memoizedState=Go(1|g,E,void 0,R===void 0?null:R)}function Rm(p,g,E,R){var D=La();R=R===void 0?null:R;var z=void 0;if(ci!==null){var te=ci.memoizedState;if(z=te.destroy,R!==null&&Am(R,te.deps)){D.memoizedState=Go(g,E,z,R);return}}Ur.flags|=p,D.memoizedState=Go(1|g,E,z,R)}function Ys(p,g){return _l(8390656,8,p,g)}function xw(p,g){return Rm(2048,8,p,g)}function bw(p,g){return Rm(4,2,p,g)}function EM(p,g){return Rm(4,4,p,g)}function MM(p,g){if(typeof g=="function")return p=p(),g(p),function(){g(null)};if(g!=null)return p=p(),g.current=p,function(){g.current=null}}function ww(p,g,E){return E=E!=null?E.concat([p]):null,Rm(4,4,MM.bind(null,g,p),E)}function Sv(){}function TM(p,g){var E=La();g=g===void 0?null:g;var R=E.memoizedState;return R!==null&&g!==null&&Am(g,R[1])?R[0]:(E.memoizedState=[p,g],p)}function Fa(p,g){var E=La();g=g===void 0?null:g;var R=E.memoizedState;return R!==null&&g!==null&&Am(g,R[1])?R[0]:(p=p(),E.memoizedState=[p,g],p)}function Ev(p,g,E){return(yc&21)===0?(p.baseState&&(p.baseState=!1,zn=!0),p.memoizedState=E):(Oa(E,g)||(E=Dr(),Ur.lanes|=E,Im|=E,p.baseState=!0),g)}function UO(p,g){var E=Mn;Mn=E!==0&&4>E?E:4,p(!0);var R=Jd.transition;Jd.transition={};try{p(!1),g()}finally{Mn=E,Jd.transition=R}}function bc(){return La().memoizedState}function Mv(p,g,E){var R=Nh(p);if(E={lane:R,action:E,hasEagerState:!1,eagerState:null,next:null},Om(p))Tv(g,E);else if(E=Mm(p,g,E,R),E!==null){var D=Ba();Ec(E,p,R,D),Av(E,g,R)}}function ef(p,g,E){var R=Nh(p),D={lane:R,action:E,hasEagerState:!1,eagerState:null,next:null};if(Om(p))Tv(g,D);else{var z=p.alternate;if(p.lanes===0&&(z===null||z.lanes===0)&&(z=g.lastRenderedReducer,z!==null))try{var te=g.lastRenderedState,ce=z(te,E);if(D.hasEagerState=!0,D.eagerState=ce,Oa(ce,te)){var ve=g.interleaved;ve===null?(D.next=D,hw(g)):(D.next=ve.next,ve.next=D),g.interleaved=D;return}}catch{}E=Mm(p,g,D,R),E!==null&&(D=Ba(),Ec(E,p,R,D),Av(E,g,R))}}function Om(p){var g=p.alternate;return p===Ur||g!==null&&g===Ur}function Tv(p,g){As=Wo=!0;var E=p.pending;E===null?g.next=g:(g.next=E.next,E.next=g),p.pending=g}function Av(p,g,E){if((E&4194240)!==0){var R=g.lanes;R&=p.pendingLanes,E|=R,g.lanes=E,or(p,E)}}var Cv={readContext:ka,useCallback:ds,useContext:ds,useEffect:ds,useImperativeHandle:ds,useInsertionEffect:ds,useLayoutEffect:ds,useMemo:ds,useReducer:ds,useRef:ds,useState:ds,useDebugValue:ds,useDeferredValue:ds,useTransition:ds,useMutableSource:ds,useSyncExternalStore:ds,useId:ds,unstable_isNewReconciler:!1},AM={readContext:ka,useCallback:function(p,g){return fs().memoizedState=[p,g===void 0?null:g],p},useContext:ka,useEffect:Ys,useImperativeHandle:function(p,g,E){return E=E!=null?E.concat([p]):null,_l(4194308,4,MM.bind(null,g,p),E)},useLayoutEffect:function(p,g){return _l(4194308,4,p,g)},useInsertionEffect:function(p,g){return _l(4,2,p,g)},useMemo:function(p,g){var E=fs();return g=g===void 0?null:g,p=p(),E.memoizedState=[p,g],p},useReducer:function(p,g,E){var R=fs();return g=E!==void 0?E(g):g,R.memoizedState=R.baseState=g,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:g},R.queue=p,p=p.dispatch=Mv.bind(null,Ur,p),[R.memoizedState,p]},useRef:function(p){var g=fs();return p={current:p},g.memoizedState=p},useState:yw,useDebugValue:Sv,useDeferredValue:function(p){return fs().memoizedState=p},useTransition:function(){var p=yw(!1),g=p[0];return p=UO.bind(null,p[1]),fs().memoizedState=p,[g,p]},useMutableSource:function(){},useSyncExternalStore:function(p,g,E){var R=Ur,D=fs();if(Vr){if(E===void 0)throw Error(n(407));E=E()}else{if(E=g(),Cs===null)throw Error(n(349));(yc&30)!==0||_v(R,g,E)}D.memoizedState=E;var z={value:E,getSnapshot:g};return D.queue=z,Ys(wM.bind(null,R,z,p),[p]),R.flags|=2048,Go(9,Nm.bind(null,R,z,E,g),void 0,null),E},useId:function(){var p=fs(),g=Cs.identifierPrefix;if(Vr){var E=mo,R=wt;E=(R&~(1<<32-Tt(R)-1)).toString(32)+E,g=":"+g+"R"+E,E=_u++,0<E&&(g+="H"+E.toString(32)),g+=":"}else E=ha++,g=":"+g+"r"+E.toString(32)+":";return p.memoizedState=g},unstable_isNewReconciler:!1},CM={readContext:ka,useCallback:TM,useContext:ka,useEffect:xw,useImperativeHandle:ww,useInsertionEffect:bw,useLayoutEffect:EM,useMemo:Fa,useReducer:Pm,useRef:SM,useState:function(){return Pm(Th)},useDebugValue:Sv,useDeferredValue:function(p){var g=La();return Ev(g,ci.memoizedState,p)},useTransition:function(){var p=Pm(Th)[0],g=La().memoizedState;return[p,g]},useMutableSource:mw,useSyncExternalStore:gw,useId:bc,unstable_isNewReconciler:!1},PM={readContext:ka,useCallback:TM,useContext:ka,useEffect:xw,useImperativeHandle:ww,useInsertionEffect:bw,useLayoutEffect:EM,useMemo:Fa,useReducer:xc,useRef:SM,useState:function(){return xc(Th)},useDebugValue:Sv,useDeferredValue:function(p){var g=La();return ci===null?g.memoizedState=p:Ev(g,ci.memoizedState,p)},useTransition:function(){var p=xc(Th)[0],g=La().memoizedState;return[p,g]},useMutableSource:mw,useSyncExternalStore:gw,useId:bc,unstable_isNewReconciler:!1};function vo(p,g){if(p&&p.defaultProps){g=ee({},g),p=p.defaultProps;for(var E in p)g[E]===void 0&&(g[E]=p[E]);return g}return g}function jm(p,g,E,R){g=p.memoizedState,E=E(R,g),E=E==null?g:ee({},g,E),p.memoizedState=E,p.lanes===0&&(p.updateQueue.baseState=E)}var Pv={isMounted:function(p){return(p=p._reactInternals)?ao(p)===p:!1},enqueueSetState:function(p,g,E){p=p._reactInternals;var R=Ba(),D=Nh(p),z=Tr(R,D);z.payload=g,E!=null&&(z.callback=E),g=Kr(p,z,D),g!==null&&(Ec(g,p,D,R),Ts(g,p,D))},enqueueReplaceState:function(p,g,E){p=p._reactInternals;var R=Ba(),D=Nh(p),z=Tr(R,D);z.tag=1,z.payload=g,E!=null&&(z.callback=E),g=Kr(p,z,D),g!==null&&(Ec(g,p,D,R),Ts(g,p,D))},enqueueForceUpdate:function(p,g){p=p._reactInternals;var E=Ba(),R=Nh(p),D=Tr(E,R);D.tag=2,g!=null&&(D.callback=g),g=Kr(p,D,R),g!==null&&(Ec(g,p,R,E),Ts(g,p,R))}};function NM(p,g,E,R,D,z,te){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(R,z,te):g.prototype&&g.prototype.isPureReactComponent?!kd(E,R)||!kd(D,z):!0}function x(p,g,E){var R=!1,D=dc,z=g.contextType;return typeof z=="object"&&z!==null?z=ka(z):(D=Ms(g)?fc:cs.current,R=g.contextTypes,z=(R=R!=null)?zd(p,D):dc),g=new g(E,z),p.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Pv,p.stateNode=g,g._reactInternals=p,R&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=D,p.__reactInternalMemoizedMaskedChildContext=z),g}function _(p,g,E,R){p=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(E,R),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(E,R),g.state!==p&&Pv.enqueueReplaceState(g,g.state,null)}function P(p,g,E,R){var D=p.stateNode;D.props=E,D.state=p.memoizedState,D.refs={},Dn(p);var z=g.contextType;typeof z=="object"&&z!==null?D.context=ka(z):(z=Ms(g)?fc:cs.current,D.context=zd(p,z)),D.state=p.memoizedState,z=g.getDerivedStateFromProps,typeof z=="function"&&(jm(p,g,z,E),D.state=p.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof D.getSnapshotBeforeUpdate=="function"||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(g=D.state,typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount(),g!==D.state&&Pv.enqueueReplaceState(D,D.state,null),li(p,E,D,R),D.state=p.memoizedState),typeof D.componentDidMount=="function"&&(p.flags|=4194308)}function I(p,g){try{var E="",R=g;do E+=Ue(R),R=R.return;while(R);var D=E}catch(z){D=`
Error generating stack: `+z.message+`
`+z.stack}return{value:p,source:g,stack:D,digest:null}}function B(p,g,E){return{value:p,source:null,stack:E??null,digest:g??null}}function X(p,g){try{console.error(g.value)}catch(E){setTimeout(function(){throw E})}}var le=typeof WeakMap=="function"?WeakMap:Map;function _e(p,g,E){E=Tr(-1,E),E.tag=3,E.payload={element:null};var R=g.value;return E.callback=function(){LM||(LM=!0,YO=R),X(p,g)},E}function Ve(p,g,E){E=Tr(-1,E),E.tag=3;var R=p.type.getDerivedStateFromError;if(typeof R=="function"){var D=g.value;E.payload=function(){return R(D)},E.callback=function(){X(p,g)}}var z=p.stateNode;return z!==null&&typeof z.componentDidCatch=="function"&&(E.callback=function(){X(p,g),typeof R!="function"&&(Ch===null?Ch=new Set([this]):Ch.add(this));var te=g.stack;this.componentDidCatch(g.value,{componentStack:te!==null?te:""})}),E}function ht(p,g,E){var R=p.pingCache;if(R===null){R=p.pingCache=new le;var D=new Set;R.set(g,D)}else D=R.get(g),D===void 0&&(D=new Set,R.set(g,D));D.has(E)||(D.add(E),p=Ave.bind(null,p,g,E),g.then(p,p))}function zt(p){do{var g;if((g=p.tag===13)&&(g=p.memoizedState,g=g!==null?g.dehydrated!==null:!0),g)return p;p=p.return}while(p!==null);return null}function Rn(p,g,E,R,D){return(p.mode&1)===0?(p===g?p.flags|=65536:(p.flags|=128,E.flags|=131072,E.flags&=-52805,E.tag===1&&(E.alternate===null?E.tag=17:(g=Tr(-1,1),g.tag=2,Kr(E,g,1))),E.lanes|=1),p):(p.flags|=65536,p.lanes=D,p)}var hn=T.ReactCurrentOwner,zn=!1;function kt(p,g,E,R){g.child=p===null?_m(g,null,E,R):Wd(g,p.child,E,R)}function hs(p,g,E,R,D){E=E.render;var z=g.ref;return bu(g,D),R=Cm(p,g,E,R,z,D),E=pw(),p!==null&&!zn?(g.updateQueue=p.updateQueue,g.flags&=-2053,p.lanes&=~D,tf(p,g,D)):(Vr&&E&&ow(g),g.flags|=1,kt(p,g,R,D),g.child)}function Ua(p,g,E,R,D){if(p===null){var z=E.type;return typeof z=="function"&&!nj(z)&&z.defaultProps===void 0&&E.compare===null&&E.defaultProps===void 0?(g.tag=15,g.type=z,ke(p,g,z,R,D)):(p=$M(E.type,null,R,g,g.mode,D),p.ref=g.ref,p.return=g,g.child=p)}if(z=p.child,(p.lanes&D)===0){var te=z.memoizedProps;if(E=E.compare,E=E!==null?E:kd,E(te,R)&&p.ref===g.ref)return tf(p,g,D)}return g.flags|=1,p=Oh(z,R),p.ref=g.ref,p.return=g,g.child=p}function ke(p,g,E,R,D){if(p!==null){var z=p.memoizedProps;if(kd(z,R)&&p.ref===g.ref)if(zn=!1,g.pendingProps=R=z,(p.lanes&D)!==0)(p.flags&131072)!==0&&(zn=!0);else return g.lanes=p.lanes,tf(p,g,D)}return Pt(p,g,E,R,D)}function Ee(p,g,E){var R=g.pendingProps,D=R.children,z=p!==null?p.memoizedState:null;if(R.mode==="hidden")if((g.mode&1)===0)g.memoizedState={baseLanes:0,cachePool:null,transitions:null},Or(Rv,qo),qo|=E;else{if((E&1073741824)===0)return p=z!==null?z.baseLanes|E:E,g.lanes=g.childLanes=1073741824,g.memoizedState={baseLanes:p,cachePool:null,transitions:null},g.updateQueue=null,Or(Rv,qo),qo|=p,null;g.memoizedState={baseLanes:0,cachePool:null,transitions:null},R=z!==null?z.baseLanes:E,Or(Rv,qo),qo|=R}else z!==null?(R=z.baseLanes|E,g.memoizedState=null):R=E,Or(Rv,qo),qo|=R;return kt(p,g,D,E),g.child}function ze(p,g){var E=g.ref;(p===null&&E!==null||p!==null&&p.ref!==E)&&(g.flags|=512,g.flags|=2097152)}function Pt(p,g,E,R,D){var z=Ms(E)?fc:cs.current;return z=zd(g,z),bu(g,D),E=Cm(p,g,E,R,z,D),R=pw(),p!==null&&!zn?(g.updateQueue=p.updateQueue,g.flags&=-2053,p.lanes&=~D,tf(p,g,D)):(Vr&&R&&ow(g),g.flags|=1,kt(p,g,E,D),g.child)}function en(p,g,E,R,D){if(Ms(E)){var z=!0;Vd(g)}else z=!1;if(bu(g,D),g.stateNode===null)OM(p,g),x(g,E,R),P(g,E,R,D),R=!0;else if(p===null){var te=g.stateNode,ce=g.memoizedProps;te.props=ce;var ve=te.context,Fe=E.contextType;typeof Fe=="object"&&Fe!==null?Fe=ka(Fe):(Fe=Ms(E)?fc:cs.current,Fe=zd(g,Fe));var rt=E.getDerivedStateFromProps,ot=typeof rt=="function"||typeof te.getSnapshotBeforeUpdate=="function";ot||typeof te.UNSAFE_componentWillReceiveProps!="function"&&typeof te.componentWillReceiveProps!="function"||(ce!==R||ve!==Fe)&&_(g,te,R,Fe),Mr=!1;var tt=g.memoizedState;te.state=tt,li(g,R,te,D),ve=g.memoizedState,ce!==R||tt!==ve||Gs.current||Mr?(typeof rt=="function"&&(jm(g,E,rt,R),ve=g.memoizedState),(ce=Mr||NM(g,E,ce,R,tt,ve,Fe))?(ot||typeof te.UNSAFE_componentWillMount!="function"&&typeof te.componentWillMount!="function"||(typeof te.componentWillMount=="function"&&te.componentWillMount(),typeof te.UNSAFE_componentWillMount=="function"&&te.UNSAFE_componentWillMount()),typeof te.componentDidMount=="function"&&(g.flags|=4194308)):(typeof te.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=R,g.memoizedState=ve),te.props=R,te.state=ve,te.context=Fe,R=ce):(typeof te.componentDidMount=="function"&&(g.flags|=4194308),R=!1)}else{te=g.stateNode,pi(p,g),ce=g.memoizedProps,Fe=g.type===g.elementType?ce:vo(g.type,ce),te.props=Fe,ot=g.pendingProps,tt=te.context,ve=E.contextType,typeof ve=="object"&&ve!==null?ve=ka(ve):(ve=Ms(E)?fc:cs.current,ve=zd(g,ve));var Ft=E.getDerivedStateFromProps;(rt=typeof Ft=="function"||typeof te.getSnapshotBeforeUpdate=="function")||typeof te.UNSAFE_componentWillReceiveProps!="function"&&typeof te.componentWillReceiveProps!="function"||(ce!==ot||tt!==ve)&&_(g,te,R,ve),Mr=!1,tt=g.memoizedState,te.state=tt,li(g,R,te,D);var Yt=g.memoizedState;ce!==ot||tt!==Yt||Gs.current||Mr?(typeof Ft=="function"&&(jm(g,E,Ft,R),Yt=g.memoizedState),(Fe=Mr||NM(g,E,Fe,R,tt,Yt,ve)||!1)?(rt||typeof te.UNSAFE_componentWillUpdate!="function"&&typeof te.componentWillUpdate!="function"||(typeof te.componentWillUpdate=="function"&&te.componentWillUpdate(R,Yt,ve),typeof te.UNSAFE_componentWillUpdate=="function"&&te.UNSAFE_componentWillUpdate(R,Yt,ve)),typeof te.componentDidUpdate=="function"&&(g.flags|=4),typeof te.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof te.componentDidUpdate!="function"||ce===p.memoizedProps&&tt===p.memoizedState||(g.flags|=4),typeof te.getSnapshotBeforeUpdate!="function"||ce===p.memoizedProps&&tt===p.memoizedState||(g.flags|=1024),g.memoizedProps=R,g.memoizedState=Yt),te.props=R,te.state=Yt,te.context=ve,R=Fe):(typeof te.componentDidUpdate!="function"||ce===p.memoizedProps&&tt===p.memoizedState||(g.flags|=4),typeof te.getSnapshotBeforeUpdate!="function"||ce===p.memoizedProps&&tt===p.memoizedState||(g.flags|=1024),R=!1)}return In(p,g,E,R,z,D)}function In(p,g,E,R,D,z){ze(p,g);var te=(g.flags&128)!==0;if(!R&&!te)return D&&sw(g,E,!1),tf(p,g,z);R=g.stateNode,hn.current=g;var ce=te&&typeof E.getDerivedStateFromError!="function"?null:R.render();return g.flags|=1,p!==null&&te?(g.child=Wd(g,p.child,null,z),g.child=Wd(g,null,ce,z)):kt(p,g,ce,z),g.memoizedState=R.state,D&&sw(g,E,!0),g.child}function On(p){var g=p.stateNode;g.pendingContext?iw(p,g.pendingContext,g.pendingContext!==g.context):g.context&&iw(p,g.context,!1),Tm(p,g.containerInfo)}function lr(p,g,E,R,D){return xu(),wh(D),g.flags|=256,kt(p,g,E,R),g.child}var Ai={dehydrated:null,treeContext:null,retryLane:0};function sr(p){return{baseLanes:p,cachePool:null,transitions:null}}function wc(p,g,E){var R=g.pendingProps,D=$r.current,z=!1,te=(g.flags&128)!==0,ce;if((ce=te)||(ce=p!==null&&p.memoizedState===null?!1:(D&2)!==0),ce?(z=!0,g.flags&=-129):(p===null||p.memoizedState!==null)&&(D|=1),Or($r,D&1),p===null)return bv(g),p=g.memoizedState,p!==null&&(p=p.dehydrated,p!==null)?((g.mode&1)===0?g.lanes=1:p.data==="$!"?g.lanes=8:g.lanes=1073741824,null):(te=R.children,p=R.fallback,z?(R=g.mode,z=g.child,te={mode:"hidden",children:te},(R&1)===0&&z!==null?(z.childLanes=0,z.pendingProps=te):z=HM(te,R,0,null),p=Fm(p,R,E,null),z.return=g,p.return=g,z.sibling=p,g.child=z,g.child.memoizedState=sr(E),g.memoizedState=Ai,p):_w(g,te));if(D=p.memoizedState,D!==null&&(ce=D.dehydrated,ce!==null))return mve(p,g,te,R,ce,D,E);if(z){z=R.fallback,te=g.mode,D=p.child,ce=D.sibling;var ve={mode:"hidden",children:R.children};return(te&1)===0&&g.child!==D?(R=g.child,R.childLanes=0,R.pendingProps=ve,g.deletions=null):(R=Oh(D,ve),R.subtreeFlags=D.subtreeFlags&14680064),ce!==null?z=Oh(ce,z):(z=Fm(z,te,E,null),z.flags|=2),z.return=g,R.return=g,R.sibling=z,g.child=R,R=z,z=g.child,te=p.child.memoizedState,te=te===null?sr(E):{baseLanes:te.baseLanes|E,cachePool:null,transitions:te.transitions},z.memoizedState=te,z.childLanes=p.childLanes&~E,g.memoizedState=Ai,R}return z=p.child,p=z.sibling,R=Oh(z,{mode:"visible",children:R.children}),(g.mode&1)===0&&(R.lanes=E),R.return=g,R.sibling=null,p!==null&&(E=g.deletions,E===null?(g.deletions=[p],g.flags|=16):E.push(p)),g.child=R,g.memoizedState=null,R}function _w(p,g){return g=HM({mode:"visible",children:g},p.mode,0,null),g.return=p,p.child=g}function RM(p,g,E,R){return R!==null&&wh(R),Wd(g,p.child,null,E),p=_w(g,g.pendingProps.children),p.flags|=2,g.memoizedState=null,p}function mve(p,g,E,R,D,z,te){if(E)return g.flags&256?(g.flags&=-257,R=B(Error(n(422))),RM(p,g,te,R)):g.memoizedState!==null?(g.child=p.child,g.flags|=128,null):(z=R.fallback,D=g.mode,R=HM({mode:"visible",children:R.children},D,0,null),z=Fm(z,D,te,null),z.flags|=2,R.return=g,z.return=g,R.sibling=z,g.child=R,(g.mode&1)!==0&&Wd(g,p.child,null,te),g.child.memoizedState=sr(te),g.memoizedState=Ai,z);if((g.mode&1)===0)return RM(p,g,te,null);if(D.data==="$!"){if(R=D.nextSibling&&D.nextSibling.dataset,R)var ce=R.dgst;return R=ce,z=Error(n(419)),R=B(z,R,void 0),RM(p,g,te,R)}if(ce=(te&p.childLanes)!==0,zn||ce){if(R=Cs,R!==null){switch(te&-te){case 4:D=2;break;case 16:D=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:D=32;break;case 536870912:D=268435456;break;default:D=0}D=(D&(R.suspendedLanes|te))!==0?0:D,D!==0&&D!==z.retryLane&&(z.retryLane=D,$o(p,D),Ec(R,p,D,-1))}return tj(),R=B(Error(n(421))),RM(p,g,te,R)}return D.data==="$?"?(g.flags|=128,g.child=p.child,g=Cve.bind(null,p),D._reactRetry=g,null):(p=z.treeContext,Xs=cc(D.nextSibling),us=g,Vr=!0,go=null,p!==null&&(qs[ts++]=wt,qs[ts++]=mo,qs[ts++]=Hd,wt=p.id,mo=p.overflow,Hd=g),g=_w(g,R.children),g.flags|=4096,g)}function h9(p,g,E){p.lanes|=g;var R=p.alternate;R!==null&&(R.lanes|=g),Em(p.return,g,E)}function BO(p,g,E,R,D){var z=p.memoizedState;z===null?p.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:R,tail:E,tailMode:D}:(z.isBackwards=g,z.rendering=null,z.renderingStartTime=0,z.last=R,z.tail=E,z.tailMode=D)}function p9(p,g,E){var R=g.pendingProps,D=R.revealOrder,z=R.tail;if(kt(p,g,R.children,E),R=$r.current,(R&2)!==0)R=R&1|2,g.flags|=128;else{if(p!==null&&(p.flags&128)!==0)e:for(p=g.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&h9(p,E,g);else if(p.tag===19)h9(p,E,g);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===g)break e;for(;p.sibling===null;){if(p.return===null||p.return===g)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}R&=1}if(Or($r,R),(g.mode&1)===0)g.memoizedState=null;else switch(D){case"forwards":for(E=g.child,D=null;E!==null;)p=E.alternate,p!==null&&Ho(p)===null&&(D=E),E=E.sibling;E=D,E===null?(D=g.child,g.child=null):(D=E.sibling,E.sibling=null),BO(g,!1,D,E,z);break;case"backwards":for(E=null,D=g.child,g.child=null;D!==null;){if(p=D.alternate,p!==null&&Ho(p)===null){g.child=D;break}p=D.sibling,D.sibling=E,E=D,D=p}BO(g,!0,E,null,z);break;case"together":BO(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function OM(p,g){(g.mode&1)===0&&p!==null&&(p.alternate=null,g.alternate=null,g.flags|=2)}function tf(p,g,E){if(p!==null&&(g.dependencies=p.dependencies),Im|=g.lanes,(E&g.childLanes)===0)return null;if(p!==null&&g.child!==p.child)throw Error(n(153));if(g.child!==null){for(p=g.child,E=Oh(p,p.pendingProps),g.child=E,E.return=g;p.sibling!==null;)p=p.sibling,E=E.sibling=Oh(p,p.pendingProps),E.return=g;E.sibling=null}return g.child}function gve(p,g,E){switch(g.tag){case 3:On(g),xu();break;case 5:Zd(g);break;case 1:Ms(g.type)&&Vd(g);break;case 4:Tm(g,g.stateNode.containerInfo);break;case 10:var R=g.type._context,D=g.memoizedProps.value;Or(Gd,R._currentValue),R._currentValue=D;break;case 13:if(R=g.memoizedState,R!==null)return R.dehydrated!==null?(Or($r,$r.current&1),g.flags|=128,null):(E&g.child.childLanes)!==0?wc(p,g,E):(Or($r,$r.current&1),p=tf(p,g,E),p!==null?p.sibling:null);Or($r,$r.current&1);break;case 19:if(R=(E&g.childLanes)!==0,(p.flags&128)!==0){if(R)return p9(p,g,E);g.flags|=128}if(D=g.memoizedState,D!==null&&(D.rendering=null,D.tail=null,D.lastEffect=null),Or($r,$r.current),R)break;return null;case 22:case 23:return g.lanes=0,Ee(p,g,E)}return tf(p,g,E)}var m9,zO,g9,v9;m9=function(p,g){for(var E=g.child;E!==null;){if(E.tag===5||E.tag===6)p.appendChild(E.stateNode);else if(E.tag!==4&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===g)break;for(;E.sibling===null;){if(E.return===null||E.return===g)return;E=E.return}E.sibling.return=E.return,E=E.sibling}},zO=function(){},g9=function(p,g,E,R){var D=p.memoizedProps;if(D!==R){p=g.stateNode,Ti(Da.current);var z=null;switch(E){case"input":D=Ce(p,D),R=Ce(p,R),z=[];break;case"select":D=ee({},D,{value:void 0}),R=ee({},R,{value:void 0}),z=[];break;case"textarea":D=re(p,D),R=re(p,R),z=[];break;default:typeof D.onClick!="function"&&typeof R.onClick=="function"&&(p.onclick=mm)}ue(E,R);var te;E=null;for(Fe in D)if(!R.hasOwnProperty(Fe)&&D.hasOwnProperty(Fe)&&D[Fe]!=null)if(Fe==="style"){var ce=D[Fe];for(te in ce)ce.hasOwnProperty(te)&&(E||(E={}),E[te]="")}else Fe!=="dangerouslySetInnerHTML"&&Fe!=="children"&&Fe!=="suppressContentEditableWarning"&&Fe!=="suppressHydrationWarning"&&Fe!=="autoFocus"&&(i.hasOwnProperty(Fe)?z||(z=[]):(z=z||[]).push(Fe,null));for(Fe in R){var ve=R[Fe];if(ce=D?.[Fe],R.hasOwnProperty(Fe)&&ve!==ce&&(ve!=null||ce!=null))if(Fe==="style")if(ce){for(te in ce)!ce.hasOwnProperty(te)||ve&&ve.hasOwnProperty(te)||(E||(E={}),E[te]="");for(te in ve)ve.hasOwnProperty(te)&&ce[te]!==ve[te]&&(E||(E={}),E[te]=ve[te])}else E||(z||(z=[]),z.push(Fe,E)),E=ve;else Fe==="dangerouslySetInnerHTML"?(ve=ve?ve.__html:void 0,ce=ce?ce.__html:void 0,ve!=null&&ce!==ve&&(z=z||[]).push(Fe,ve)):Fe==="children"?typeof ve!="string"&&typeof ve!="number"||(z=z||[]).push(Fe,""+ve):Fe!=="suppressContentEditableWarning"&&Fe!=="suppressHydrationWarning"&&(i.hasOwnProperty(Fe)?(ve!=null&&Fe==="onScroll"&&Lr("scroll",p),z||ce===ve||(z=[])):(z=z||[]).push(Fe,ve))}E&&(z=z||[]).push("style",E);var Fe=z;(g.updateQueue=Fe)&&(g.flags|=4)}},v9=function(p,g,E,R){E!==R&&(g.flags|=4)};function Sw(p,g){if(!Vr)switch(p.tailMode){case"hidden":g=p.tail;for(var E=null;g!==null;)g.alternate!==null&&(E=g),g=g.sibling;E===null?p.tail=null:E.sibling=null;break;case"collapsed":E=p.tail;for(var R=null;E!==null;)E.alternate!==null&&(R=E),E=E.sibling;R===null?g||p.tail===null?p.tail=null:p.tail.sibling=null:R.sibling=null}}function pa(p){var g=p.alternate!==null&&p.alternate.child===p.child,E=0,R=0;if(g)for(var D=p.child;D!==null;)E|=D.lanes|D.childLanes,R|=D.subtreeFlags&14680064,R|=D.flags&14680064,D.return=p,D=D.sibling;else for(D=p.child;D!==null;)E|=D.lanes|D.childLanes,R|=D.subtreeFlags,R|=D.flags,D.return=p,D=D.sibling;return p.subtreeFlags|=R,p.childLanes=E,g}function vve(p,g,E){var R=g.pendingProps;switch(pc(g),g.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pa(g),null;case 1:return Ms(g.type)&&gm(),pa(g),null;case 3:return R=g.stateNode,wu(),Fr(Gs),Fr(cs),wl(),R.pendingContext&&(R.context=R.pendingContext,R.pendingContext=null),(p===null||p.child===null)&&(bh(g)?g.flags|=4:p===null||p.memoizedState.isDehydrated&&(g.flags&256)===0||(g.flags|=1024,go!==null&&(QO(go),go=null))),zO(p,g),pa(g),null;case 5:Eh(g);var D=Ti(vc.current);if(E=g.type,p!==null&&g.stateNode!=null)g9(p,g,E,R,D),p.ref!==g.ref&&(g.flags|=512,g.flags|=2097152);else{if(!R){if(g.stateNode===null)throw Error(n(166));return pa(g),null}if(p=Ti(Da.current),bh(g)){R=g.stateNode,E=g.type;var z=g.memoizedProps;switch(R[Bi]=g,R[xh]=z,p=(g.mode&1)!==0,E){case"dialog":Lr("cancel",R),Lr("close",R);break;case"iframe":case"object":case"embed":Lr("load",R);break;case"video":case"audio":for(D=0;D<vu.length;D++)Lr(vu[D],R);break;case"source":Lr("error",R);break;case"img":case"image":case"link":Lr("error",R),Lr("load",R);break;case"details":Lr("toggle",R);break;case"input":$e(R,z),Lr("invalid",R);break;case"select":R._wrapperState={wasMultiple:!!z.multiple},Lr("invalid",R);break;case"textarea":K(R,z),Lr("invalid",R)}ue(E,z),D=null;for(var te in z)if(z.hasOwnProperty(te)){var ce=z[te];te==="children"?typeof ce=="string"?R.textContent!==ce&&(z.suppressHydrationWarning!==!0&&pm(R.textContent,ce,p),D=["children",ce]):typeof ce=="number"&&R.textContent!==""+ce&&(z.suppressHydrationWarning!==!0&&pm(R.textContent,ce,p),D=["children",""+ce]):i.hasOwnProperty(te)&&ce!=null&&te==="onScroll"&&Lr("scroll",R)}switch(E){case"input":Ie(R),ae(R,z,!0);break;case"textarea":Ie(R),oe(R);break;case"select":case"option":break;default:typeof z.onClick=="function"&&(R.onclick=mm)}R=D,g.updateQueue=R,R!==null&&(g.flags|=4)}else{te=D.nodeType===9?D:D.ownerDocument,p==="http://www.w3.org/1999/xhtml"&&(p=he(E)),p==="http://www.w3.org/1999/xhtml"?E==="script"?(p=te.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild)):typeof R.is=="string"?p=te.createElement(E,{is:R.is}):(p=te.createElement(E),E==="select"&&(te=p,R.multiple?te.multiple=!0:R.size&&(te.size=R.size))):p=te.createElementNS(p,E),p[Bi]=g,p[xh]=R,m9(p,g,!1,!1),g.stateNode=p;e:{switch(te=Pe(E,R),E){case"dialog":Lr("cancel",p),Lr("close",p),D=R;break;case"iframe":case"object":case"embed":Lr("load",p),D=R;break;case"video":case"audio":for(D=0;D<vu.length;D++)Lr(vu[D],p);D=R;break;case"source":Lr("error",p),D=R;break;case"img":case"image":case"link":Lr("error",p),Lr("load",p),D=R;break;case"details":Lr("toggle",p),D=R;break;case"input":$e(p,R),D=Ce(p,R),Lr("invalid",p);break;case"option":D=R;break;case"select":p._wrapperState={wasMultiple:!!R.multiple},D=ee({},R,{value:void 0}),Lr("invalid",p);break;case"textarea":K(p,R),D=re(p,R),Lr("invalid",p);break;default:D=R}ue(E,D),ce=D;for(z in ce)if(ce.hasOwnProperty(z)){var ve=ce[z];z==="style"?mt(p,ve):z==="dangerouslySetInnerHTML"?(ve=ve?ve.__html:void 0,ve!=null&&nt(p,ve)):z==="children"?typeof ve=="string"?(E!=="textarea"||ve!=="")&&Ke(p,ve):typeof ve=="number"&&Ke(p,""+ve):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(i.hasOwnProperty(z)?ve!=null&&z==="onScroll"&&Lr("scroll",p):ve!=null&&M(p,z,ve,te))}switch(E){case"input":Ie(p),ae(p,R,!1);break;case"textarea":Ie(p),oe(p);break;case"option":R.value!=null&&p.setAttribute("value",""+Oe(R.value));break;case"select":p.multiple=!!R.multiple,z=R.value,z!=null?jt(p,!!R.multiple,z,!1):R.defaultValue!=null&&jt(p,!!R.multiple,R.defaultValue,!0);break;default:typeof D.onClick=="function"&&(p.onclick=mm)}switch(E){case"button":case"input":case"select":case"textarea":R=!!R.autoFocus;break e;case"img":R=!0;break e;default:R=!1}}R&&(g.flags|=4)}g.ref!==null&&(g.flags|=512,g.flags|=2097152)}return pa(g),null;case 6:if(p&&g.stateNode!=null)v9(p,g,p.memoizedProps,R);else{if(typeof R!="string"&&g.stateNode===null)throw Error(n(166));if(E=Ti(vc.current),Ti(Da.current),bh(g)){if(R=g.stateNode,E=g.memoizedProps,R[Bi]=g,(z=R.nodeValue!==E)&&(p=us,p!==null))switch(p.tag){case 3:pm(R.nodeValue,E,(p.mode&1)!==0);break;case 5:p.memoizedProps.suppressHydrationWarning!==!0&&pm(R.nodeValue,E,(p.mode&1)!==0)}z&&(g.flags|=4)}else R=(E.nodeType===9?E:E.ownerDocument).createTextNode(R),R[Bi]=g,g.stateNode=R}return pa(g),null;case 13:if(Fr($r),R=g.memoizedState,p===null||p.memoizedState!==null&&p.memoizedState.dehydrated!==null){if(Vr&&Xs!==null&&(g.mode&1)!==0&&(g.flags&128)===0)uw(),xu(),g.flags|=98560,z=!1;else if(z=bh(g),R!==null&&R.dehydrated!==null){if(p===null){if(!z)throw Error(n(318));if(z=g.memoizedState,z=z!==null?z.dehydrated:null,!z)throw Error(n(317));z[Bi]=g}else xu(),(g.flags&128)===0&&(g.memoizedState=null),g.flags|=4;pa(g),z=!1}else go!==null&&(QO(go),go=null),z=!0;if(!z)return g.flags&65536?g:null}return(g.flags&128)!==0?(g.lanes=E,g):(R=R!==null,R!==(p!==null&&p.memoizedState!==null)&&R&&(g.child.flags|=8192,(g.mode&1)!==0&&(p===null||($r.current&1)!==0?ps===0&&(ps=3):tj())),g.updateQueue!==null&&(g.flags|=4),pa(g),null);case 4:return wu(),zO(p,g),p===null&&gh(g.stateNode.containerInfo),pa(g),null;case 10:return Sm(g.type._context),pa(g),null;case 17:return Ms(g.type)&&gm(),pa(g),null;case 19:if(Fr($r),z=g.memoizedState,z===null)return pa(g),null;if(R=(g.flags&128)!==0,te=z.rendering,te===null)if(R)Sw(z,!1);else{if(ps!==0||p!==null&&(p.flags&128)!==0)for(p=g.child;p!==null;){if(te=Ho(p),te!==null){for(g.flags|=128,Sw(z,!1),R=te.updateQueue,R!==null&&(g.updateQueue=R,g.flags|=4),g.subtreeFlags=0,R=E,E=g.child;E!==null;)z=E,p=R,z.flags&=14680066,te=z.alternate,te===null?(z.childLanes=0,z.lanes=p,z.child=null,z.subtreeFlags=0,z.memoizedProps=null,z.memoizedState=null,z.updateQueue=null,z.dependencies=null,z.stateNode=null):(z.childLanes=te.childLanes,z.lanes=te.lanes,z.child=te.child,z.subtreeFlags=0,z.deletions=null,z.memoizedProps=te.memoizedProps,z.memoizedState=te.memoizedState,z.updateQueue=te.updateQueue,z.type=te.type,p=te.dependencies,z.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),E=E.sibling;return Or($r,$r.current&1|2),g.child}p=p.sibling}z.tail!==null&&zr()>Ov&&(g.flags|=128,R=!0,Sw(z,!1),g.lanes=4194304)}else{if(!R)if(p=Ho(te),p!==null){if(g.flags|=128,R=!0,E=p.updateQueue,E!==null&&(g.updateQueue=E,g.flags|=4),Sw(z,!0),z.tail===null&&z.tailMode==="hidden"&&!te.alternate&&!Vr)return pa(g),null}else 2*zr()-z.renderingStartTime>Ov&&E!==1073741824&&(g.flags|=128,R=!0,Sw(z,!1),g.lanes=4194304);z.isBackwards?(te.sibling=g.child,g.child=te):(E=z.last,E!==null?E.sibling=te:g.child=te,z.last=te)}return z.tail!==null?(g=z.tail,z.rendering=g,z.tail=g.sibling,z.renderingStartTime=zr(),g.sibling=null,E=$r.current,Or($r,R?E&1|2:E&1),g):(pa(g),null);case 22:case 23:return ej(),R=g.memoizedState!==null,p!==null&&p.memoizedState!==null!==R&&(g.flags|=8192),R&&(g.mode&1)!==0?(qo&1073741824)!==0&&(pa(g),g.subtreeFlags&6&&(g.flags|=8192)):pa(g),null;case 24:return null;case 25:return null}throw Error(n(156,g.tag))}function yve(p,g){switch(pc(g),g.tag){case 1:return Ms(g.type)&&gm(),p=g.flags,p&65536?(g.flags=p&-65537|128,g):null;case 3:return wu(),Fr(Gs),Fr(cs),wl(),p=g.flags,(p&65536)!==0&&(p&128)===0?(g.flags=p&-65537|128,g):null;case 5:return Eh(g),null;case 13:if(Fr($r),p=g.memoizedState,p!==null&&p.dehydrated!==null){if(g.alternate===null)throw Error(n(340));xu()}return p=g.flags,p&65536?(g.flags=p&-65537|128,g):null;case 19:return Fr($r),null;case 4:return wu(),null;case 10:return Sm(g.type._context),null;case 22:case 23:return ej(),null;case 24:return null;default:return null}}var jM=!1,ma=!1,xve=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function Nv(p,g){var E=p.ref;if(E!==null)if(typeof E=="function")try{E(null)}catch(R){Ci(p,g,R)}else E.current=null}function VO(p,g,E){try{E()}catch(R){Ci(p,g,R)}}var y9=!1;function bve(p,g){if(yh=lo,p=ei(),Zi(p)){if("selectionStart"in p)var E={start:p.selectionStart,end:p.selectionEnd};else e:{E=(E=p.ownerDocument)&&E.defaultView||window;var R=E.getSelection&&E.getSelection();if(R&&R.rangeCount!==0){E=R.anchorNode;var D=R.anchorOffset,z=R.focusNode;R=R.focusOffset;try{E.nodeType,z.nodeType}catch{E=null;break e}var te=0,ce=-1,ve=-1,Fe=0,rt=0,ot=p,tt=null;t:for(;;){for(var Ft;ot!==E||D!==0&&ot.nodeType!==3||(ce=te+D),ot!==z||R!==0&&ot.nodeType!==3||(ve=te+R),ot.nodeType===3&&(te+=ot.nodeValue.length),(Ft=ot.firstChild)!==null;)tt=ot,ot=Ft;for(;;){if(ot===p)break t;if(tt===E&&++Fe===D&&(ce=te),tt===z&&++rt===R&&(ve=te),(Ft=ot.nextSibling)!==null)break;ot=tt,tt=ot.parentNode}ot=Ft}E=ce===-1||ve===-1?null:{start:ce,end:ve}}else E=null}E=E||{start:0,end:0}}else E=null;for(Qb={focusedElem:p,selectionRange:E},lo=!1,Gt=g;Gt!==null;)if(g=Gt,p=g.child,(g.subtreeFlags&1028)!==0&&p!==null)p.return=g,Gt=p;else for(;Gt!==null;){g=Gt;try{var Yt=g.alternate;if((g.flags&1024)!==0)switch(g.tag){case 0:case 11:case 15:break;case 1:if(Yt!==null){var Jt=Yt.memoizedProps,zi=Yt.memoizedState,Re=g.stateNode,we=Re.getSnapshotBeforeUpdate(g.elementType===g.type?Jt:vo(g.type,Jt),zi);Re.__reactInternalSnapshotBeforeUpdate=we}break;case 3:var je=g.stateNode.containerInfo;je.nodeType===1?je.textContent="":je.nodeType===9&&je.documentElement&&je.removeChild(je.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(gt){Ci(g,g.return,gt)}if(p=g.sibling,p!==null){p.return=g.return,Gt=p;break}Gt=g.return}return Yt=y9,y9=!1,Yt}function Ew(p,g,E){var R=g.updateQueue;if(R=R!==null?R.lastEffect:null,R!==null){var D=R=R.next;do{if((D.tag&p)===p){var z=D.destroy;D.destroy=void 0,z!==void 0&&VO(g,E,z)}D=D.next}while(D!==R)}}function IM(p,g){if(g=g.updateQueue,g=g!==null?g.lastEffect:null,g!==null){var E=g=g.next;do{if((E.tag&p)===p){var R=E.create;E.destroy=R()}E=E.next}while(E!==g)}}function $O(p){var g=p.ref;if(g!==null){var E=p.stateNode;p.tag,p=E,typeof g=="function"?g(p):g.current=p}}function x9(p){var g=p.alternate;g!==null&&(p.alternate=null,x9(g)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(g=p.stateNode,g!==null&&(delete g[Bi],delete g[xh],delete g[Bd],delete g[hv],delete g[pv])),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}function b9(p){return p.tag===5||p.tag===3||p.tag===4}function w9(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||b9(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function HO(p,g,E){var R=p.tag;if(R===5||R===6)p=p.stateNode,g?E.nodeType===8?E.parentNode.insertBefore(p,g):E.insertBefore(p,g):(E.nodeType===8?(g=E.parentNode,g.insertBefore(p,E)):(g=E,g.appendChild(p)),E=E._reactRootContainer,E!=null||g.onclick!==null||(g.onclick=mm));else if(R!==4&&(p=p.child,p!==null))for(HO(p,g,E),p=p.sibling;p!==null;)HO(p,g,E),p=p.sibling}function WO(p,g,E){var R=p.tag;if(R===5||R===6)p=p.stateNode,g?E.insertBefore(p,g):E.appendChild(p);else if(R!==4&&(p=p.child,p!==null))for(WO(p,g,E),p=p.sibling;p!==null;)WO(p,g,E),p=p.sibling}var Ks=null,_c=!1;function Ah(p,g,E){for(E=E.child;E!==null;)_9(p,g,E),E=E.sibling}function _9(p,g,E){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(Mt,E)}catch{}switch(E.tag){case 5:ma||Nv(E,g);case 6:var R=Ks,D=_c;Ks=null,Ah(p,g,E),Ks=R,_c=D,Ks!==null&&(_c?(p=Ks,E=E.stateNode,p.nodeType===8?p.parentNode.removeChild(E):p.removeChild(E)):Ks.removeChild(E.stateNode));break;case 18:Ks!==null&&(_c?(p=Ks,E=E.stateNode,p.nodeType===8?fv(p.parentNode,E):p.nodeType===1&&fv(p,E),rm(p)):fv(Ks,E.stateNode));break;case 4:R=Ks,D=_c,Ks=E.stateNode.containerInfo,_c=!0,Ah(p,g,E),Ks=R,_c=D;break;case 0:case 11:case 14:case 15:if(!ma&&(R=E.updateQueue,R!==null&&(R=R.lastEffect,R!==null))){D=R=R.next;do{var z=D,te=z.destroy;z=z.tag,te!==void 0&&((z&2)!==0||(z&4)!==0)&&VO(E,g,te),D=D.next}while(D!==R)}Ah(p,g,E);break;case 1:if(!ma&&(Nv(E,g),R=E.stateNode,typeof R.componentWillUnmount=="function"))try{R.props=E.memoizedProps,R.state=E.memoizedState,R.componentWillUnmount()}catch(ce){Ci(E,g,ce)}Ah(p,g,E);break;case 21:Ah(p,g,E);break;case 22:E.mode&1?(ma=(R=ma)||E.memoizedState!==null,Ah(p,g,E),ma=R):Ah(p,g,E);break;default:Ah(p,g,E)}}function S9(p){var g=p.updateQueue;if(g!==null){p.updateQueue=null;var E=p.stateNode;E===null&&(E=p.stateNode=new xve),g.forEach(function(R){var D=Pve.bind(null,p,R);E.has(R)||(E.add(R),R.then(D,D))})}}function Sc(p,g){var E=g.deletions;if(E!==null)for(var R=0;R<E.length;R++){var D=E[R];try{var z=p,te=g,ce=te;e:for(;ce!==null;){switch(ce.tag){case 5:Ks=ce.stateNode,_c=!1;break e;case 3:Ks=ce.stateNode.containerInfo,_c=!0;break e;case 4:Ks=ce.stateNode.containerInfo,_c=!0;break e}ce=ce.return}if(Ks===null)throw Error(n(160));_9(z,te,D),Ks=null,_c=!1;var ve=D.alternate;ve!==null&&(ve.return=null),D.return=null}catch(Fe){Ci(D,g,Fe)}}if(g.subtreeFlags&12854)for(g=g.child;g!==null;)E9(g,p),g=g.sibling}function E9(p,g){var E=p.alternate,R=p.flags;switch(p.tag){case 0:case 11:case 14:case 15:if(Sc(g,p),Su(p),R&4){try{Ew(3,p,p.return),IM(3,p)}catch(Jt){Ci(p,p.return,Jt)}try{Ew(5,p,p.return)}catch(Jt){Ci(p,p.return,Jt)}}break;case 1:Sc(g,p),Su(p),R&512&&E!==null&&Nv(E,E.return);break;case 5:if(Sc(g,p),Su(p),R&512&&E!==null&&Nv(E,E.return),p.flags&32){var D=p.stateNode;try{Ke(D,"")}catch(Jt){Ci(p,p.return,Jt)}}if(R&4&&(D=p.stateNode,D!=null)){var z=p.memoizedProps,te=E!==null?E.memoizedProps:z,ce=p.type,ve=p.updateQueue;if(p.updateQueue=null,ve!==null)try{ce==="input"&&z.type==="radio"&&z.name!=null&&Be(D,z),Pe(ce,te);var Fe=Pe(ce,z);for(te=0;te<ve.length;te+=2){var rt=ve[te],ot=ve[te+1];rt==="style"?mt(D,ot):rt==="dangerouslySetInnerHTML"?nt(D,ot):rt==="children"?Ke(D,ot):M(D,rt,ot,Fe)}switch(ce){case"input":Ye(D,z);break;case"textarea":H(D,z);break;case"select":var tt=D._wrapperState.wasMultiple;D._wrapperState.wasMultiple=!!z.multiple;var Ft=z.value;Ft!=null?jt(D,!!z.multiple,Ft,!1):tt!==!!z.multiple&&(z.defaultValue!=null?jt(D,!!z.multiple,z.defaultValue,!0):jt(D,!!z.multiple,z.multiple?[]:"",!1))}D[xh]=z}catch(Jt){Ci(p,p.return,Jt)}}break;case 6:if(Sc(g,p),Su(p),R&4){if(p.stateNode===null)throw Error(n(162));D=p.stateNode,z=p.memoizedProps;try{D.nodeValue=z}catch(Jt){Ci(p,p.return,Jt)}}break;case 3:if(Sc(g,p),Su(p),R&4&&E!==null&&E.memoizedState.isDehydrated)try{rm(g.containerInfo)}catch(Jt){Ci(p,p.return,Jt)}break;case 4:Sc(g,p),Su(p);break;case 13:Sc(g,p),Su(p),D=p.child,D.flags&8192&&(z=D.memoizedState!==null,D.stateNode.isHidden=z,!z||D.alternate!==null&&D.alternate.memoizedState!==null||(XO=zr())),R&4&&S9(p);break;case 22:if(rt=E!==null&&E.memoizedState!==null,p.mode&1?(ma=(Fe=ma)||rt,Sc(g,p),ma=Fe):Sc(g,p),Su(p),R&8192){if(Fe=p.memoizedState!==null,(p.stateNode.isHidden=Fe)&&!rt&&(p.mode&1)!==0)for(Gt=p,rt=p.child;rt!==null;){for(ot=Gt=rt;Gt!==null;){switch(tt=Gt,Ft=tt.child,tt.tag){case 0:case 11:case 14:case 15:Ew(4,tt,tt.return);break;case 1:Nv(tt,tt.return);var Yt=tt.stateNode;if(typeof Yt.componentWillUnmount=="function"){R=tt,E=tt.return;try{g=R,Yt.props=g.memoizedProps,Yt.state=g.memoizedState,Yt.componentWillUnmount()}catch(Jt){Ci(R,E,Jt)}}break;case 5:Nv(tt,tt.return);break;case 22:if(tt.memoizedState!==null){A9(ot);continue}}Ft!==null?(Ft.return=tt,Gt=Ft):A9(ot)}rt=rt.sibling}e:for(rt=null,ot=p;;){if(ot.tag===5){if(rt===null){rt=ot;try{D=ot.stateNode,Fe?(z=D.style,typeof z.setProperty=="function"?z.setProperty("display","none","important"):z.display="none"):(ce=ot.stateNode,ve=ot.memoizedProps.style,te=ve!=null&&ve.hasOwnProperty("display")?ve.display:null,ce.style.display=Je("display",te))}catch(Jt){Ci(p,p.return,Jt)}}}else if(ot.tag===6){if(rt===null)try{ot.stateNode.nodeValue=Fe?"":ot.memoizedProps}catch(Jt){Ci(p,p.return,Jt)}}else if((ot.tag!==22&&ot.tag!==23||ot.memoizedState===null||ot===p)&&ot.child!==null){ot.child.return=ot,ot=ot.child;continue}if(ot===p)break e;for(;ot.sibling===null;){if(ot.return===null||ot.return===p)break e;rt===ot&&(rt=null),ot=ot.return}rt===ot&&(rt=null),ot.sibling.return=ot.return,ot=ot.sibling}}break;case 19:Sc(g,p),Su(p),R&4&&S9(p);break;case 21:break;default:Sc(g,p),Su(p)}}function Su(p){var g=p.flags;if(g&2){try{e:{for(var E=p.return;E!==null;){if(b9(E)){var R=E;break e}E=E.return}throw Error(n(160))}switch(R.tag){case 5:var D=R.stateNode;R.flags&32&&(Ke(D,""),R.flags&=-33);var z=w9(p);WO(p,z,D);break;case 3:case 4:var te=R.stateNode.containerInfo,ce=w9(p);HO(p,ce,te);break;default:throw Error(n(161))}}catch(ve){Ci(p,p.return,ve)}p.flags&=-3}g&4096&&(p.flags&=-4097)}function wve(p,g,E){Gt=p,M9(p)}function M9(p,g,E){for(var R=(p.mode&1)!==0;Gt!==null;){var D=Gt,z=D.child;if(D.tag===22&&R){var te=D.memoizedState!==null||jM;if(!te){var ce=D.alternate,ve=ce!==null&&ce.memoizedState!==null||ma;ce=jM;var Fe=ma;if(jM=te,(ma=ve)&&!Fe)for(Gt=D;Gt!==null;)te=Gt,ve=te.child,te.tag===22&&te.memoizedState!==null?C9(D):ve!==null?(ve.return=te,Gt=ve):C9(D);for(;z!==null;)Gt=z,M9(z),z=z.sibling;Gt=D,jM=ce,ma=Fe}T9(p)}else(D.subtreeFlags&8772)!==0&&z!==null?(z.return=D,Gt=z):T9(p)}}function T9(p){for(;Gt!==null;){var g=Gt;if((g.flags&8772)!==0){var E=g.alternate;try{if((g.flags&8772)!==0)switch(g.tag){case 0:case 11:case 15:ma||IM(5,g);break;case 1:var R=g.stateNode;if(g.flags&4&&!ma)if(E===null)R.componentDidMount();else{var D=g.elementType===g.type?E.memoizedProps:vo(g.type,E.memoizedProps);R.componentDidUpdate(D,E.memoizedState,R.__reactInternalSnapshotBeforeUpdate)}var z=g.updateQueue;z!==null&&Sh(g,z,R);break;case 3:var te=g.updateQueue;if(te!==null){if(E=null,g.child!==null)switch(g.child.tag){case 5:E=g.child.stateNode;break;case 1:E=g.child.stateNode}Sh(g,te,E)}break;case 5:var ce=g.stateNode;if(E===null&&g.flags&4){E=ce;var ve=g.memoizedProps;switch(g.type){case"button":case"input":case"select":case"textarea":ve.autoFocus&&E.focus();break;case"img":ve.src&&(E.src=ve.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(g.memoizedState===null){var Fe=g.alternate;if(Fe!==null){var rt=Fe.memoizedState;if(rt!==null){var ot=rt.dehydrated;ot!==null&&rm(ot)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ma||g.flags&512&&$O(g)}catch(tt){Ci(g,g.return,tt)}}if(g===p){Gt=null;break}if(E=g.sibling,E!==null){E.return=g.return,Gt=E;break}Gt=g.return}}function A9(p){for(;Gt!==null;){var g=Gt;if(g===p){Gt=null;break}var E=g.sibling;if(E!==null){E.return=g.return,Gt=E;break}Gt=g.return}}function C9(p){for(;Gt!==null;){var g=Gt;try{switch(g.tag){case 0:case 11:case 15:var E=g.return;try{IM(4,g)}catch(ve){Ci(g,E,ve)}break;case 1:var R=g.stateNode;if(typeof R.componentDidMount=="function"){var D=g.return;try{R.componentDidMount()}catch(ve){Ci(g,D,ve)}}var z=g.return;try{$O(g)}catch(ve){Ci(g,z,ve)}break;case 5:var te=g.return;try{$O(g)}catch(ve){Ci(g,te,ve)}}}catch(ve){Ci(g,g.return,ve)}if(g===p){Gt=null;break}var ce=g.sibling;if(ce!==null){ce.return=g.return,Gt=ce;break}Gt=g.return}}var _ve=Math.ceil,kM=T.ReactCurrentDispatcher,GO=T.ReactCurrentOwner,Sl=T.ReactCurrentBatchConfig,gr=0,Cs=null,ns=null,Zs=0,qo=0,Rv=oi(0),ps=0,Mw=null,Im=0,DM=0,qO=0,Tw=null,yo=null,XO=0,Ov=1/0,nf=null,LM=!1,YO=null,Ch=null,FM=!1,Ph=null,UM=0,Aw=0,KO=null,BM=-1,zM=0;function Ba(){return(gr&6)!==0?zr():BM!==-1?BM:BM=zr()}function Nh(p){return(p.mode&1)===0?1:(gr&2)!==0&&Zs!==0?Zs&-Zs:FO.transition!==null?(zM===0&&(zM=Dr()),zM):(p=Mn,p!==0||(p=window.event,p=p===void 0?16:aM(p.type)),p)}function Ec(p,g,E,R){if(50<Aw)throw Aw=0,KO=null,Error(n(185));Li(p,E,R),((gr&2)===0||p!==Cs)&&(p===Cs&&((gr&2)===0&&(DM|=E),ps===4&&Rh(p,Zs)),xo(p,R),E===1&&gr===0&&(g.mode&1)===0&&(Ov=zr()+500,ym&&xl()))}function xo(p,g){var E=p.callbackNode;ir(p,g);var R=ar(p,p===Cs?Zs:0);if(R===0)E!==null&&L0(E),p.callbackNode=null,p.callbackPriority=0;else if(g=R&-R,p.callbackPriority!==g){if(E!=null&&L0(E),g===1)p.tag===0?bM(N9.bind(null,p)):xm(N9.bind(null,p)),LO(function(){(gr&6)===0&&xl()}),E=null;else{switch(Fi(R)){case 1:E=Se;break;case 4:E=Le;break;case 16:E=De;break;case 536870912:E=xt;break;default:E=De}E=F9(E,P9.bind(null,p))}p.callbackPriority=g,p.callbackNode=E}}function P9(p,g){if(BM=-1,zM=0,(gr&6)!==0)throw Error(n(327));var E=p.callbackNode;if(jv()&&p.callbackNode!==E)return null;var R=ar(p,p===Cs?Zs:0);if(R===0)return null;if((R&30)!==0||(R&p.expiredLanes)!==0||g)g=VM(p,R);else{g=R;var D=gr;gr|=2;var z=O9();(Cs!==p||Zs!==g)&&(nf=null,Ov=zr()+500,Dm(p,g));do try{Mve();break}catch(ce){R9(p,ce)}while(!0);Xd(),kM.current=z,gr=D,ns!==null?g=0:(Cs=null,Zs=0,g=ps)}if(g!==0){if(g===2&&(D=Qn(p),D!==0&&(R=D,g=ZO(p,D))),g===1)throw E=Mw,Dm(p,0),Rh(p,R),xo(p,zr()),E;if(g===6)Rh(p,R);else{if(D=p.current.alternate,(R&30)===0&&!Sve(D)&&(g=VM(p,R),g===2&&(z=Qn(p),z!==0&&(R=z,g=ZO(p,z))),g===1))throw E=Mw,Dm(p,0),Rh(p,R),xo(p,zr()),E;switch(p.finishedWork=D,p.finishedLanes=R,g){case 0:case 1:throw Error(n(345));case 2:Lm(p,yo,nf);break;case 3:if(Rh(p,R),(R&130023424)===R&&(g=XO+500-zr(),10<g)){if(ar(p,0)!==0)break;if(D=p.suspendedLanes,(D&R)!==R){Ba(),p.pingedLanes|=p.suspendedLanes&D;break}p.timeoutHandle=ew(Lm.bind(null,p,yo,nf),g);break}Lm(p,yo,nf);break;case 4:if(Rh(p,R),(R&4194240)===R)break;for(g=p.eventTimes,D=-1;0<R;){var te=31-Tt(R);z=1<<te,te=g[te],te>D&&(D=te),R&=~z}if(R=D,R=zr()-R,R=(120>R?120:480>R?480:1080>R?1080:1920>R?1920:3e3>R?3e3:4320>R?4320:1960*_ve(R/1960))-R,10<R){p.timeoutHandle=ew(Lm.bind(null,p,yo,nf),R);break}Lm(p,yo,nf);break;case 5:Lm(p,yo,nf);break;default:throw Error(n(329))}}}return xo(p,zr()),p.callbackNode===E?P9.bind(null,p):null}function ZO(p,g){var E=Tw;return p.current.memoizedState.isDehydrated&&(Dm(p,g).flags|=256),p=VM(p,g),p!==2&&(g=yo,yo=E,g!==null&&QO(g)),p}function QO(p){yo===null?yo=p:yo.push.apply(yo,p)}function Sve(p){for(var g=p;;){if(g.flags&16384){var E=g.updateQueue;if(E!==null&&(E=E.stores,E!==null))for(var R=0;R<E.length;R++){var D=E[R],z=D.getSnapshot;D=D.value;try{if(!Oa(z(),D))return!1}catch{return!1}}}if(E=g.child,g.subtreeFlags&16384&&E!==null)E.return=g,g=E;else{if(g===p)break;for(;g.sibling===null;){if(g.return===null||g.return===p)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function Rh(p,g){for(g&=~qO,g&=~DM,p.suspendedLanes|=g,p.pingedLanes&=~g,p=p.expirationTimes;0<g;){var E=31-Tt(g),R=1<<E;p[E]=-1,g&=~R}}function N9(p){if((gr&6)!==0)throw Error(n(327));jv();var g=ar(p,0);if((g&1)===0)return xo(p,zr()),null;var E=VM(p,g);if(p.tag!==0&&E===2){var R=Qn(p);R!==0&&(g=R,E=ZO(p,R))}if(E===1)throw E=Mw,Dm(p,0),Rh(p,g),xo(p,zr()),E;if(E===6)throw Error(n(345));return p.finishedWork=p.current.alternate,p.finishedLanes=g,Lm(p,yo,nf),xo(p,zr()),null}function JO(p,g){var E=gr;gr|=1;try{return p(g)}finally{gr=E,gr===0&&(Ov=zr()+500,ym&&xl())}}function km(p){Ph!==null&&Ph.tag===0&&(gr&6)===0&&jv();var g=gr;gr|=1;var E=Sl.transition,R=Mn;try{if(Sl.transition=null,Mn=1,p)return p()}finally{Mn=R,Sl.transition=E,gr=g,(gr&6)===0&&xl()}}function ej(){qo=Rv.current,Fr(Rv)}function Dm(p,g){p.finishedWork=null,p.finishedLanes=0;var E=p.timeoutHandle;if(E!==-1&&(p.timeoutHandle=-1,tw(E)),ns!==null)for(E=ns.return;E!==null;){var R=E;switch(pc(R),R.tag){case 1:R=R.type.childContextTypes,R!=null&&gm();break;case 3:wu(),Fr(Gs),Fr(cs),wl();break;case 5:Eh(R);break;case 4:wu();break;case 13:Fr($r);break;case 19:Fr($r);break;case 10:Sm(R.type._context);break;case 22:case 23:ej()}E=E.return}if(Cs=p,ns=p=Oh(p.current,null),Zs=qo=g,ps=0,Mw=null,qO=DM=Im=0,yo=Tw=null,gc!==null){for(g=0;g<gc.length;g++)if(E=gc[g],R=E.interleaved,R!==null){E.interleaved=null;var D=R.next,z=E.pending;if(z!==null){var te=z.next;z.next=D,R.next=te}E.pending=R}gc=null}return p}function R9(p,g){do{var E=ns;try{if(Xd(),Qd.current=Cv,Wo){for(var R=Ur.memoizedState;R!==null;){var D=R.queue;D!==null&&(D.pending=null),R=R.next}Wo=!1}if(yc=0,dr=ci=Ur=null,As=!1,_u=0,GO.current=null,E===null||E.return===null){ps=1,Mw=g,ns=null;break}e:{var z=p,te=E.return,ce=E,ve=g;if(g=Zs,ce.flags|=32768,ve!==null&&typeof ve=="object"&&typeof ve.then=="function"){var Fe=ve,rt=ce,ot=rt.tag;if((rt.mode&1)===0&&(ot===0||ot===11||ot===15)){var tt=rt.alternate;tt?(rt.updateQueue=tt.updateQueue,rt.memoizedState=tt.memoizedState,rt.lanes=tt.lanes):(rt.updateQueue=null,rt.memoizedState=null)}var Ft=zt(te);if(Ft!==null){Ft.flags&=-257,Rn(Ft,te,ce,z,g),Ft.mode&1&&ht(z,Fe,g),g=Ft,ve=Fe;var Yt=g.updateQueue;if(Yt===null){var Jt=new Set;Jt.add(ve),g.updateQueue=Jt}else Yt.add(ve);break e}else{if((g&1)===0){ht(z,Fe,g),tj();break e}ve=Error(n(426))}}else if(Vr&&ce.mode&1){var zi=zt(te);if(zi!==null){(zi.flags&65536)===0&&(zi.flags|=256),Rn(zi,te,ce,z,g),wh(I(ve,ce));break e}}z=ve=I(ve,ce),ps!==4&&(ps=2),Tw===null?Tw=[z]:Tw.push(z),z=te;do{switch(z.tag){case 3:z.flags|=65536,g&=-g,z.lanes|=g;var Re=_e(z,ve,g);Yd(z,Re);break e;case 1:ce=ve;var we=z.type,je=z.stateNode;if((z.flags&128)===0&&(typeof we.getDerivedStateFromError=="function"||je!==null&&typeof je.componentDidCatch=="function"&&(Ch===null||!Ch.has(je)))){z.flags|=65536,g&=-g,z.lanes|=g;var gt=Ve(z,ce,g);Yd(z,gt);break e}}z=z.return}while(z!==null)}I9(E)}catch(nn){g=nn,ns===E&&E!==null&&(ns=E=E.return);continue}break}while(!0)}function O9(){var p=kM.current;return kM.current=Cv,p===null?Cv:p}function tj(){(ps===0||ps===3||ps===2)&&(ps=4),Cs===null||(Im&268435455)===0&&(DM&268435455)===0||Rh(Cs,Zs)}function VM(p,g){var E=gr;gr|=2;var R=O9();(Cs!==p||Zs!==g)&&(nf=null,Dm(p,g));do try{Eve();break}catch(D){R9(p,D)}while(!0);if(Xd(),gr=E,kM.current=R,ns!==null)throw Error(n(261));return Cs=null,Zs=0,ps}function Eve(){for(;ns!==null;)j9(ns)}function Mve(){for(;ns!==null&&!Ib();)j9(ns)}function j9(p){var g=L9(p.alternate,p,qo);p.memoizedProps=p.pendingProps,g===null?I9(p):ns=g,GO.current=null}function I9(p){var g=p;do{var E=g.alternate;if(p=g.return,(g.flags&32768)===0){if(E=vve(E,g,qo),E!==null){ns=E;return}}else{if(E=yve(E,g),E!==null){E.flags&=32767,ns=E;return}if(p!==null)p.flags|=32768,p.subtreeFlags=0,p.deletions=null;else{ps=6,ns=null;return}}if(g=g.sibling,g!==null){ns=g;return}ns=g=p}while(g!==null);ps===0&&(ps=5)}function Lm(p,g,E){var R=Mn,D=Sl.transition;try{Sl.transition=null,Mn=1,Tve(p,g,E,R)}finally{Sl.transition=D,Mn=R}return null}function Tve(p,g,E,R){do jv();while(Ph!==null);if((gr&6)!==0)throw Error(n(327));E=p.finishedWork;var D=p.finishedLanes;if(E===null)return null;if(p.finishedWork=null,p.finishedLanes=0,E===p.current)throw Error(n(177));p.callbackNode=null,p.callbackPriority=0;var z=E.lanes|E.childLanes;if(Ed(p,z),p===Cs&&(ns=Cs=null,Zs=0),(E.subtreeFlags&2064)===0&&(E.flags&2064)===0||FM||(FM=!0,F9(De,function(){return jv(),null})),z=(E.flags&15990)!==0,(E.subtreeFlags&15990)!==0||z){z=Sl.transition,Sl.transition=null;var te=Mn;Mn=1;var ce=gr;gr|=4,GO.current=null,bve(p,E),E9(E,p),Qi(Qb),lo=!!yh,Qb=yh=null,p.current=E,wve(E),kb(),gr=ce,Mn=te,Sl.transition=z}else p.current=E;if(FM&&(FM=!1,Ph=p,UM=D),z=p.pendingLanes,z===0&&(Ch=null),ft(E.stateNode),xo(p,zr()),g!==null)for(R=p.onRecoverableError,E=0;E<g.length;E++)D=g[E],R(D.value,{componentStack:D.stack,digest:D.digest});if(LM)throw LM=!1,p=YO,YO=null,p;return(UM&1)!==0&&p.tag!==0&&jv(),z=p.pendingLanes,(z&1)!==0?p===KO?Aw++:(Aw=0,KO=p):Aw=0,xl(),null}function jv(){if(Ph!==null){var p=Fi(UM),g=Sl.transition,E=Mn;try{if(Sl.transition=null,Mn=16>p?16:p,Ph===null)var R=!1;else{if(p=Ph,Ph=null,UM=0,(gr&6)!==0)throw Error(n(331));var D=gr;for(gr|=4,Gt=p.current;Gt!==null;){var z=Gt,te=z.child;if((Gt.flags&16)!==0){var ce=z.deletions;if(ce!==null){for(var ve=0;ve<ce.length;ve++){var Fe=ce[ve];for(Gt=Fe;Gt!==null;){var rt=Gt;switch(rt.tag){case 0:case 11:case 15:Ew(8,rt,z)}var ot=rt.child;if(ot!==null)ot.return=rt,Gt=ot;else for(;Gt!==null;){rt=Gt;var tt=rt.sibling,Ft=rt.return;if(x9(rt),rt===Fe){Gt=null;break}if(tt!==null){tt.return=Ft,Gt=tt;break}Gt=Ft}}}var Yt=z.alternate;if(Yt!==null){var Jt=Yt.child;if(Jt!==null){Yt.child=null;do{var zi=Jt.sibling;Jt.sibling=null,Jt=zi}while(Jt!==null)}}Gt=z}}if((z.subtreeFlags&2064)!==0&&te!==null)te.return=z,Gt=te;else e:for(;Gt!==null;){if(z=Gt,(z.flags&2048)!==0)switch(z.tag){case 0:case 11:case 15:Ew(9,z,z.return)}var Re=z.sibling;if(Re!==null){Re.return=z.return,Gt=Re;break e}Gt=z.return}}var we=p.current;for(Gt=we;Gt!==null;){te=Gt;var je=te.child;if((te.subtreeFlags&2064)!==0&&je!==null)je.return=te,Gt=je;else e:for(te=we;Gt!==null;){if(ce=Gt,(ce.flags&2048)!==0)try{switch(ce.tag){case 0:case 11:case 15:IM(9,ce)}}catch(nn){Ci(ce,ce.return,nn)}if(ce===te){Gt=null;break e}var gt=ce.sibling;if(gt!==null){gt.return=ce.return,Gt=gt;break e}Gt=ce.return}}if(gr=D,xl(),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(Mt,p)}catch{}R=!0}return R}finally{Mn=E,Sl.transition=g}}return!1}function k9(p,g,E){g=I(E,g),g=_e(p,g,1),p=Kr(p,g,1),g=Ba(),p!==null&&(Li(p,1,g),xo(p,g))}function Ci(p,g,E){if(p.tag===3)k9(p,p,E);else for(;g!==null;){if(g.tag===3){k9(g,p,E);break}else if(g.tag===1){var R=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof R.componentDidCatch=="function"&&(Ch===null||!Ch.has(R))){p=I(E,p),p=Ve(g,p,1),g=Kr(g,p,1),p=Ba(),g!==null&&(Li(g,1,p),xo(g,p));break}}g=g.return}}function Ave(p,g,E){var R=p.pingCache;R!==null&&R.delete(g),g=Ba(),p.pingedLanes|=p.suspendedLanes&E,Cs===p&&(Zs&E)===E&&(ps===4||ps===3&&(Zs&130023424)===Zs&&500>zr()-XO?Dm(p,0):qO|=E),xo(p,g)}function D9(p,g){g===0&&((p.mode&1)===0?g=1:(g=Bn,Bn<<=1,(Bn&130023424)===0&&(Bn=4194304)));var E=Ba();p=$o(p,g),p!==null&&(Li(p,g,E),xo(p,E))}function Cve(p){var g=p.memoizedState,E=0;g!==null&&(E=g.retryLane),D9(p,E)}function Pve(p,g){var E=0;switch(p.tag){case 13:var R=p.stateNode,D=p.memoizedState;D!==null&&(E=D.retryLane);break;case 19:R=p.stateNode;break;default:throw Error(n(314))}R!==null&&R.delete(g),D9(p,E)}var L9;L9=function(p,g,E){if(p!==null)if(p.memoizedProps!==g.pendingProps||Gs.current)zn=!0;else{if((p.lanes&E)===0&&(g.flags&128)===0)return zn=!1,gve(p,g,E);zn=(p.flags&131072)!==0}else zn=!1,Vr&&(g.flags&1048576)!==0&&aw(g,yv,g.index);switch(g.lanes=0,g.tag){case 2:var R=g.type;OM(p,g),p=g.pendingProps;var D=zd(g,cs.current);bu(g,E),D=Cm(null,g,R,p,D,E);var z=pw();return g.flags|=1,typeof D=="object"&&D!==null&&typeof D.render=="function"&&D.$$typeof===void 0?(g.tag=1,g.memoizedState=null,g.updateQueue=null,Ms(R)?(z=!0,Vd(g)):z=!1,g.memoizedState=D.state!==null&&D.state!==void 0?D.state:null,Dn(g),D.updater=Pv,g.stateNode=D,D._reactInternals=g,P(g,R,p,E),g=In(null,g,R,!0,z,E)):(g.tag=0,Vr&&z&&ow(g),kt(null,g,D,E),g=g.child),g;case 16:R=g.elementType;e:{switch(OM(p,g),p=g.pendingProps,D=R._init,R=D(R._payload),g.type=R,D=g.tag=Rve(R),p=vo(R,p),D){case 0:g=Pt(null,g,R,p,E);break e;case 1:g=en(null,g,R,p,E);break e;case 11:g=hs(null,g,R,p,E);break e;case 14:g=Ua(null,g,R,vo(R.type,p),E);break e}throw Error(n(306,R,""))}return g;case 0:return R=g.type,D=g.pendingProps,D=g.elementType===R?D:vo(R,D),Pt(p,g,R,D,E);case 1:return R=g.type,D=g.pendingProps,D=g.elementType===R?D:vo(R,D),en(p,g,R,D,E);case 3:e:{if(On(g),p===null)throw Error(n(387));R=g.pendingProps,z=g.memoizedState,D=z.element,pi(p,g),li(g,R,null,E);var te=g.memoizedState;if(R=te.element,z.isDehydrated)if(z={element:R,isDehydrated:!1,cache:te.cache,pendingSuspenseBoundaries:te.pendingSuspenseBoundaries,transitions:te.transitions},g.updateQueue.baseState=z,g.memoizedState=z,g.flags&256){D=I(Error(n(423)),g),g=lr(p,g,R,E,D);break e}else if(R!==D){D=I(Error(n(424)),g),g=lr(p,g,R,E,D);break e}else for(Xs=cc(g.stateNode.containerInfo.firstChild),us=g,Vr=!0,go=null,E=_m(g,null,R,E),g.child=E;E;)E.flags=E.flags&-3|4096,E=E.sibling;else{if(xu(),R===D){g=tf(p,g,E);break e}kt(p,g,R,E)}g=g.child}return g;case 5:return Zd(g),p===null&&bv(g),R=g.type,D=g.pendingProps,z=p!==null?p.memoizedProps:null,te=D.children,Jb(R,D)?te=null:z!==null&&Jb(R,z)&&(g.flags|=32),ze(p,g),kt(p,g,te,E),g.child;case 6:return p===null&&bv(g),null;case 13:return wc(p,g,E);case 4:return Tm(g,g.stateNode.containerInfo),R=g.pendingProps,p===null?g.child=Wd(g,null,R,E):kt(p,g,R,E),g.child;case 11:return R=g.type,D=g.pendingProps,D=g.elementType===R?D:vo(R,D),hs(p,g,R,D,E);case 7:return kt(p,g,g.pendingProps,E),g.child;case 8:return kt(p,g,g.pendingProps.children,E),g.child;case 12:return kt(p,g,g.pendingProps.children,E),g.child;case 10:e:{if(R=g.type._context,D=g.pendingProps,z=g.memoizedProps,te=D.value,Or(Gd,R._currentValue),R._currentValue=te,z!==null)if(Oa(z.value,te)){if(z.children===D.children&&!Gs.current){g=tf(p,g,E);break e}}else for(z=g.child,z!==null&&(z.return=g);z!==null;){var ce=z.dependencies;if(ce!==null){te=z.child;for(var ve=ce.firstContext;ve!==null;){if(ve.context===R){if(z.tag===1){ve=Tr(-1,E&-E),ve.tag=2;var Fe=z.updateQueue;if(Fe!==null){Fe=Fe.shared;var rt=Fe.pending;rt===null?ve.next=ve:(ve.next=rt.next,rt.next=ve),Fe.pending=ve}}z.lanes|=E,ve=z.alternate,ve!==null&&(ve.lanes|=E),Em(z.return,E,g),ce.lanes|=E;break}ve=ve.next}}else if(z.tag===10)te=z.type===g.type?null:z.child;else if(z.tag===18){if(te=z.return,te===null)throw Error(n(341));te.lanes|=E,ce=te.alternate,ce!==null&&(ce.lanes|=E),Em(te,E,g),te=z.sibling}else te=z.child;if(te!==null)te.return=z;else for(te=z;te!==null;){if(te===g){te=null;break}if(z=te.sibling,z!==null){z.return=te.return,te=z;break}te=te.return}z=te}kt(p,g,D.children,E),g=g.child}return g;case 9:return D=g.type,R=g.pendingProps.children,bu(g,E),D=ka(D),R=R(D),g.flags|=1,kt(p,g,R,E),g.child;case 14:return R=g.type,D=vo(R,g.pendingProps),D=vo(R.type,D),Ua(p,g,R,D,E);case 15:return ke(p,g,g.type,g.pendingProps,E);case 17:return R=g.type,D=g.pendingProps,D=g.elementType===R?D:vo(R,D),OM(p,g),g.tag=1,Ms(R)?(p=!0,Vd(g)):p=!1,bu(g,E),x(g,R,D),P(g,R,D,E),In(null,g,R,!0,p,E);case 19:return p9(p,g,E);case 22:return Ee(p,g,E)}throw Error(n(156,g.tag))};function F9(p,g){return D0(p,g)}function Nve(p,g,E,R){this.tag=p,this.key=E,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=R,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function El(p,g,E,R){return new Nve(p,g,E,R)}function nj(p){return p=p.prototype,!(!p||!p.isReactComponent)}function Rve(p){if(typeof p=="function")return nj(p)?1:0;if(p!=null){if(p=p.$$typeof,p===G)return 11;if(p===W)return 14}return 2}function Oh(p,g){var E=p.alternate;return E===null?(E=El(p.tag,g,p.key,p.mode),E.elementType=p.elementType,E.type=p.type,E.stateNode=p.stateNode,E.alternate=p,p.alternate=E):(E.pendingProps=g,E.type=p.type,E.flags=0,E.subtreeFlags=0,E.deletions=null),E.flags=p.flags&14680064,E.childLanes=p.childLanes,E.lanes=p.lanes,E.child=p.child,E.memoizedProps=p.memoizedProps,E.memoizedState=p.memoizedState,E.updateQueue=p.updateQueue,g=p.dependencies,E.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},E.sibling=p.sibling,E.index=p.index,E.ref=p.ref,E}function $M(p,g,E,R,D,z){var te=2;if(R=p,typeof p=="function")nj(p)&&(te=1);else if(typeof p=="string")te=5;else e:switch(p){case j:return Fm(E.children,D,z,g);case L:te=8,D|=8;break;case O:return p=El(12,E,g,D|2),p.elementType=O,p.lanes=z,p;case Y:return p=El(13,E,g,D),p.elementType=Y,p.lanes=z,p;case U:return p=El(19,E,g,D),p.elementType=U,p.lanes=z,p;case Z:return HM(E,D,z,g);default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case k:te=10;break e;case F:te=9;break e;case G:te=11;break e;case W:te=14;break e;case q:te=16,R=null;break e}throw Error(n(130,p==null?p:typeof p,""))}return g=El(te,E,g,D),g.elementType=p,g.type=R,g.lanes=z,g}function Fm(p,g,E,R){return p=El(7,p,R,g),p.lanes=E,p}function HM(p,g,E,R){return p=El(22,p,R,g),p.elementType=Z,p.lanes=E,p.stateNode={isHidden:!1},p}function rj(p,g,E){return p=El(6,p,null,g),p.lanes=E,p}function ij(p,g,E){return g=El(4,p.children!==null?p.children:[],p.key,g),g.lanes=E,g.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},g}function Ove(p,g,E,R,D){this.tag=g,this.containerInfo=p,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pl(0),this.expirationTimes=pl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pl(0),this.identifierPrefix=R,this.onRecoverableError=D,this.mutableSourceEagerHydrationData=null}function sj(p,g,E,R,D,z,te,ce,ve){return p=new Ove(p,g,E,ce,ve),g===1?(g=1,z===!0&&(g|=8)):g=0,z=El(3,null,null,g),p.current=z,z.stateNode=p,z.memoizedState={element:R,isDehydrated:E,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dn(z),p}function jve(p,g,E){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:C,key:R==null?null:""+R,children:p,containerInfo:g,implementation:E}}function U9(p){if(!p)return dc;p=p._reactInternals;e:{if(ao(p)!==p||p.tag!==1)throw Error(n(170));var g=p;do{switch(g.tag){case 3:g=g.stateNode.context;break e;case 1:if(Ms(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break e}}g=g.return}while(g!==null);throw Error(n(171))}if(p.tag===1){var E=p.type;if(Ms(E))return vm(p,E,g)}return g}function B9(p,g,E,R,D,z,te,ce,ve){return p=sj(E,R,!0,p,D,z,te,ce,ve),p.context=U9(null),E=p.current,R=Ba(),D=Nh(E),z=Tr(R,D),z.callback=g??null,Kr(E,z,D),p.current.lanes=D,Li(p,D,R),xo(p,R),p}function WM(p,g,E,R){var D=g.current,z=Ba(),te=Nh(D);return E=U9(E),g.context===null?g.context=E:g.pendingContext=E,g=Tr(z,te),g.payload={element:p},R=R===void 0?null:R,R!==null&&(g.callback=R),p=Kr(D,g,te),p!==null&&(Ec(p,D,te,z),Ts(p,D,te)),te}function GM(p){return p=p.current,p.child?(p.child.tag===5,p.child.stateNode):null}function z9(p,g){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var E=p.retryLane;p.retryLane=E!==0&&E<g?E:g}}function aj(p,g){z9(p,g),(p=p.alternate)&&z9(p,g)}function Ive(){return null}var V9=typeof reportError=="function"?reportError:function(p){console.error(p)};function oj(p){this._internalRoot=p}qM.prototype.render=oj.prototype.render=function(p){var g=this._internalRoot;if(g===null)throw Error(n(409));WM(p,g,null,null)},qM.prototype.unmount=oj.prototype.unmount=function(){var p=this._internalRoot;if(p!==null){this._internalRoot=null;var g=p.containerInfo;km(function(){WM(null,p,null,null)}),g[Ia]=null}};function qM(p){this._internalRoot=p}qM.prototype.unstable_scheduleHydration=function(p){if(p){var g=oo();p={blockedOn:null,target:p,priority:g};for(var E=0;E<du.length&&g!==0&&g<du[E].priority;E++);du.splice(E,0,p),E===0&&B0(p)}};function lj(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)}function XM(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11&&(p.nodeType!==8||p.nodeValue!==" react-mount-point-unstable "))}function $9(){}function kve(p,g,E,R,D){if(D){if(typeof R=="function"){var z=R;R=function(){var Fe=GM(te);z.call(Fe)}}var te=B9(g,R,p,0,null,!1,!1,"",$9);return p._reactRootContainer=te,p[Ia]=te.current,gh(p.nodeType===8?p.parentNode:p),km(),te}for(;D=p.lastChild;)p.removeChild(D);if(typeof R=="function"){var ce=R;R=function(){var Fe=GM(ve);ce.call(Fe)}}var ve=sj(p,0,!1,null,null,!1,!1,"",$9);return p._reactRootContainer=ve,p[Ia]=ve.current,gh(p.nodeType===8?p.parentNode:p),km(function(){WM(g,ve,E,R)}),ve}function YM(p,g,E,R,D){var z=E._reactRootContainer;if(z){var te=z;if(typeof D=="function"){var ce=D;D=function(){var ve=GM(te);ce.call(ve)}}WM(g,te,p,D)}else te=kve(E,g,p,D,R);return GM(te)}fi=function(p){switch(p.tag){case 3:var g=p.stateNode;if(g.current.memoizedState.isDehydrated){var E=mr(g.pendingLanes);E!==0&&(or(g,E|1),xo(g,zr()),(gr&6)===0&&(Ov=zr()+500,xl()))}break;case 13:km(function(){var R=$o(p,1);if(R!==null){var D=Ba();Ec(R,p,1,D)}}),aj(p,1)}},Ki=function(p){if(p.tag===13){var g=$o(p,134217728);if(g!==null){var E=Ba();Ec(g,p,134217728,E)}aj(p,134217728)}},rh=function(p){if(p.tag===13){var g=Nh(p),E=$o(p,g);if(E!==null){var R=Ba();Ec(E,p,g,R)}aj(p,g)}},oo=function(){return Mn},F0=function(p,g){var E=Mn;try{return Mn=p,g()}finally{Mn=E}},at=function(p,g,E){switch(g){case"input":if(Ye(p,E),g=E.name,E.type==="radio"&&g!=null){for(E=p;E.parentNode;)E=E.parentNode;for(E=E.querySelectorAll("input[name="+JSON.stringify(""+g)+'][type="radio"]'),g=0;g<E.length;g++){var R=E[g];if(R!==p&&R.form===p.form){var D=mv(R);if(!D)throw Error(n(90));Te(R),Ye(R,D)}}}break;case"textarea":H(p,E);break;case"select":g=E.value,g!=null&&jt(p,!!E.multiple,g,!1)}},an=JO,er=km;var Dve={usingClientEntryPoint:!1,Events:[uc,hi,mv,qe,ct,JO]},Cw={findFiberByHostInstance:yu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Lve={bundleType:Cw.bundleType,version:Cw.version,rendererPackageName:Cw.rendererPackageName,rendererConfig:Cw.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(p){return p=em(p),p===null?null:p.stateNode},findFiberByHostInstance:Cw.findFiberByHostInstance||Ive,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var KM=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!KM.isDisabled&&KM.supportsFiber)try{Mt=KM.inject(Lve),Ze=KM}catch{}}return bo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dve,bo.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lj(g))throw Error(n(200));return jve(p,g,null,E)},bo.createRoot=function(p,g){if(!lj(p))throw Error(n(299));var E=!1,R="",D=V9;return g!=null&&(g.unstable_strictMode===!0&&(E=!0),g.identifierPrefix!==void 0&&(R=g.identifierPrefix),g.onRecoverableError!==void 0&&(D=g.onRecoverableError)),g=sj(p,1,!1,null,null,E,!1,R,D),p[Ia]=g.current,gh(p.nodeType===8?p.parentNode:p),new oj(g)},bo.findDOMNode=function(p){if(p==null)return null;if(p.nodeType===1)return p;var g=p._reactInternals;if(g===void 0)throw typeof p.render=="function"?Error(n(188)):(p=Object.keys(p).join(","),Error(n(268,p)));return p=em(g),p=p===null?null:p.stateNode,p},bo.flushSync=function(p){return km(p)},bo.hydrate=function(p,g,E){if(!XM(g))throw Error(n(200));return YM(null,p,g,!0,E)},bo.hydrateRoot=function(p,g,E){if(!lj(p))throw Error(n(405));var R=E!=null&&E.hydratedSources||null,D=!1,z="",te=V9;if(E!=null&&(E.unstable_strictMode===!0&&(D=!0),E.identifierPrefix!==void 0&&(z=E.identifierPrefix),E.onRecoverableError!==void 0&&(te=E.onRecoverableError)),g=B9(g,null,p,1,E??null,D,!1,z,te),p[Ia]=g.current,gh(p),R)for(p=0;p<R.length;p++)E=R[p],D=E._getVersion,D=D(E._source),g.mutableSourceEagerHydrationData==null?g.mutableSourceEagerHydrationData=[E,D]:g.mutableSourceEagerHydrationData.push(E,D);return new qM(g)},bo.render=function(p,g,E){if(!XM(g))throw Error(n(200));return YM(null,p,g,!1,E)},bo.unmountComponentAtNode=function(p){if(!XM(p))throw Error(n(40));return p._reactRootContainer?(km(function(){YM(null,null,p,!1,function(){p._reactRootContainer=null,p[Ia]=null})}),!0):!1},bo.unstable_batchedUpdates=JO,bo.unstable_renderSubtreeIntoContainer=function(p,g,E,R){if(!XM(E))throw Error(n(200));if(p==null||p._reactInternals===void 0)throw Error(n(38));return YM(p,g,E,!1,R)},bo.version="18.3.1-next-f1338f8080-20240426",bo}var Z9;function nne(){if(Z9)return dj.exports;Z9=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),dj.exports=Wve(),dj.exports}var Q9;function Gve(){if(Q9)return QM;Q9=1;var t=nne();return QM.createRoot=t.createRoot,QM.hydrateRoot=t.hydrateRoot,QM}var rne=Gve();function qve(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,i,s,a=[],o="",l=t.split("/");for(l[0]||l.shift();i=l.shift();)n=i[0],n==="*"?(a.push(n),o+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),s=i.indexOf(".",1),a.push(i.substring(1,~r?r:~s?s:i.length)),o+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(o+=(~r?"?":"")+"\\"+i.substring(s))):o+="/"+i;return{keys:a,pattern:new RegExp("^"+o+(e?"(?=$|/)":"/?$"),"i")}}var N=aE();const se=pr(N),ine=Uve({__proto__:null,default:se},[N]);var pj={exports:{}},mj={};var J9;function Xve(){if(J9)return mj;J9=1;var t=aE();function e(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,a=t.useDebugValue;function o(f,h){var m=h(),v=r({inst:{value:m,getSnapshot:h}}),b=v[0].inst,y=v[1];return s(function(){b.value=m,b.getSnapshot=h,l(b)&&y({inst:b})},[f,m,h]),i(function(){return l(b)&&y({inst:b}),f(function(){l(b)&&y({inst:b})})},[f]),a(m),m}function l(f){var h=f.getSnapshot;f=f.value;try{var m=h();return!n(f,m)}catch{return!0}}function c(f,h){return h()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:o;return mj.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,mj}var e$;function Yve(){return e$||(e$=1,pj.exports=Xve()),pj.exports}var Kve=Yve();const Zve=ine.useInsertionEffect,Qve=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Jve=Qve?N.useLayoutEffect:N.useEffect,eye=Zve||Jve,sne=t=>{const e=N.useRef([t,(...n)=>e[0](...n)]).current;return eye(()=>{e[0]=t}),e[1]},tye="popstate",uB="pushState",dB="replaceState",nye="hashchange",t$=[tye,uB,dB,nye],rye=t=>{for(const e of t$)addEventListener(e,t);return()=>{for(const e of t$)removeEventListener(e,t)}},ane=(t,e)=>Kve.useSyncExternalStore(rye,t,e),iye=()=>location.search,sye=({ssrSearch:t=""}={})=>ane(iye,()=>t),n$=()=>location.pathname,aye=({ssrPath:t}={})=>ane(n$,t?()=>t:n$),oye=(t,{replace:e=!1,state:n=null}={})=>history[e?dB:uB](n,"",t),lye=(t={})=>[aye(t),oye],r$=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[r$]>"u"){for(const t of[uB,dB]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,r$,{value:!0})}const cye=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",one=(t="")=>t==="/"?"":t,uye=(t,e)=>t[0]==="~"?t.slice(1):one(e)+t,dye=(t="",e)=>cye(i$(one(t)),i$(e)),i$=t=>{try{return decodeURI(t)}catch{return t}},lne={hook:lye,searchHook:sye,parser:qve,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},cne=N.createContext(lne),ob=()=>N.useContext(cne),une={},dne=N.createContext(une),fye=()=>N.useContext(dne),yN=t=>{const[e,n]=t.hook(t);return[dye(t.base,e),sne((r,i)=>n(uye(r,t.base),i))]},lb=()=>yN(ob()),fB=(t,e,n,r)=>{const{pattern:i,keys:s}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),a=i.exec(n)||[],[o,...l]=a;return o!==void 0?[!0,(()=>{const c=s!==!1?Object.fromEntries(s.map((f,h)=>[f,l[h]])):a.groups;let d={...l};return c&&Object.assign(d,c),d})(),...r?[o]:[]]:[!1,null]},hye=t=>fB(ob().parser,t,lb()[0]),pye=({children:t,...e})=>{const n=ob(),r=e.hook?lne:n;let i=r;const[s,a]=e.ssrPath?.split("?")??[];a&&(e.ssrSearch=a,e.ssrPath=s),e.hrefs=e.hrefs??e.hook?.hrefs;let o=N.useRef({}),l=o.current,c=l;for(let d in r){const f=d==="base"?r[d]+(e[d]||""):e[d]||r[d];l===c&&f!==c[d]&&(o.current=c={...c}),c[d]=f,f!==r[d]&&(i=c)}return N.createElement(cne.Provider,{value:i,children:t})},s$=({children:t,component:e},n)=>e?N.createElement(e,{params:n}):typeof t=="function"?t(n):t,mye=t=>{let e=N.useRef(une),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},Qs=({path:t,nest:e,match:n,...r})=>{const i=ob(),[s]=yN(i),[a,o,l]=n??fB(i.parser,t,s,e),c=mye({...fye(),...o});if(!a)return null;const d=l?N.createElement(pye,{base:l},s$(r,c)):s$(r,c);return N.createElement(dne.Provider,{value:c,children:d})},D1=N.forwardRef((t,e)=>{const n=ob(),[r,i]=yN(n),{to:s="",href:a=s,onClick:o,asChild:l,children:c,className:d,replace:f,state:h,...m}=t,v=sne(y=>{y.ctrlKey||y.metaKey||y.altKey||y.shiftKey||y.button!==0||(o?.(y),y.defaultPrevented||(y.preventDefault(),i(a,t)))}),b=n.hrefs(a[0]==="~"?a.slice(1):n.base+a,n);return l&&N.isValidElement(c)?N.cloneElement(c,{onClick:v,href:b}):N.createElement("a",{...m,onClick:v,href:b,className:d?.call?d(r===a):d,children:c,ref:e})}),fne=t=>Array.isArray(t)?t.flatMap(e=>fne(e&&e.type===N.Fragment?e.props.children:e)):[t],gye=({children:t,location:e})=>{const n=ob(),[r]=yN(n);for(const i of fne(t)){let s=0;if(N.isValidElement(i)&&(s=fB(n.parser,i.props.path,e||r,i.props.nest))[0])return N.cloneElement(i,{match:s})}return null};var cb=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},$g=typeof window>"u"||"Deno"in globalThis;function Rl(){}function vye(t,e){return typeof t=="function"?t(e):t}function C4(t){return typeof t=="number"&&t>=0&&t!==1/0}function hne(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Uy(t,e){return typeof t=="function"?t(e):t}function jc(t,e){return typeof t=="function"?t(e):t}function a$(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:a,stale:o}=t;if(a){if(r){if(e.queryHash!==hB(a,e.options))return!1}else if(!p_(e.queryKey,a))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||s&&!s(e))}function o$(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Hg(e.options.mutationKey)!==Hg(s))return!1}else if(!p_(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function hB(t,e){return(e?.queryKeyHashFn||Hg)(t)}function Hg(t){return JSON.stringify(t,(e,n)=>P4(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function p_(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!p_(t[n],e[n])):!1}function pne(t,e){if(t===e)return t;const n=l$(t)&&l$(e);if(n||P4(t)&&P4(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),a=s.length,o=n?[]:{};let l=0;for(let c=0;c<a;c++){const d=n?c:s[c];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(o[d]=void 0,l++):(o[d]=pne(t[d],e[d]),o[d]===t[d]&&t[d]!==void 0&&l++)}return i===a&&l===i?t:o}return e}function rA(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function l$(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function P4(t){if(!c$(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!c$(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function c$(t){return Object.prototype.toString.call(t)==="[object Object]"}function yye(t){return new Promise(e=>{setTimeout(e,t)})}function N4(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?pne(t,e):e}function xye(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function bye(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var pB=Symbol();function mne(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===pB?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var wye=class extends cb{#e;#t;#r;constructor(){super(),this.#r=t=>{if(!$g&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},mB=new wye,_ye=class extends cb{#e=!0;#t;#r;constructor(){super(),this.#r=t=>{if(!$g&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},iA=new _ye;function R4(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function Sye(t){return Math.min(1e3*2**t,3e4)}function gne(t){return(t??"online")==="online"?iA.isOnline():!0}var vne=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function gj(t){return t instanceof vne}function yne(t){let e=!1,n=0,r=!1,i;const s=R4(),a=b=>{r||(h(new vne(b)),t.abort?.())},o=()=>{e=!0},l=()=>{e=!1},c=()=>mB.isFocused()&&(t.networkMode==="always"||iA.isOnline())&&t.canRun(),d=()=>gne(t.networkMode)&&t.canRun(),f=b=>{r||(r=!0,t.onSuccess?.(b),i?.(),s.resolve(b))},h=b=>{r||(r=!0,t.onError?.(b),i?.(),s.reject(b))},m=()=>new Promise(b=>{i=y=>{(r||c())&&b(y)},t.onPause?.()}).then(()=>{i=void 0,r||t.onContinue?.()}),v=()=>{if(r)return;let b;const y=n===0?t.initialPromise:void 0;try{b=y??t.fn()}catch(w){b=Promise.reject(w)}Promise.resolve(b).then(f).catch(w=>{if(r)return;const S=t.retry??($g?0:3),M=t.retryDelay??Sye,T=typeof M=="function"?M(n,w):M,A=S===!0||typeof S=="number"&&n<S||typeof S=="function"&&S(n,w);if(e||!A){h(w);return}n++,t.onFail?.(n,w),yye(T).then(()=>c()?void 0:m()).then(()=>{e?h(w):v()})})};return{promise:s,cancel:a,continue:()=>(i?.(),s),cancelRetry:o,continueRetry:l,canStart:d,start:()=>(d()?v():m().then(v),s)}}function Eye(){let t=[],e=0,n=o=>{o()},r=o=>{o()},i=o=>setTimeout(o,0);const s=o=>{e?t.push(o):i(()=>{n(o)})},a=()=>{const o=t;t=[],o.length&&i(()=>{r(()=>{o.forEach(l=>{n(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||a()}return l},batchCalls:o=>(...l)=>{s(()=>{o(...l)})},schedule:s,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{i=o}}}var ys=Eye(),xne=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),C4(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??($g?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},Mye=class extends xne{#e;#t;#r;#n;#a;#s;constructor(t){super(),this.#s=!1,this.#a=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#r=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=Tye(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(t){this.options={...this.#a,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(t,e){const n=N4(this.state.data,t,this.options);return this.#i({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#i({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#n?.promise;return this.#n?.cancel(t),e?e.then(Rl).catch(Rl):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>jc(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===pB||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!hne(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#n&&(this.#s?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(t&&this.setOptions(t),!this.options.queryFn){const o=this.observers.find(l=>l.options.queryFn);o&&this.setOptions(o.options)}const n=new AbortController,r=o=>{Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(this.#s=!0,n.signal)})},i=()=>{const o=mne(this.options,e),l={queryKey:this.queryKey,meta:this.meta};return r(l),this.#s=!1,this.options.persister?this.options.persister(o,l,this):o(l)},s={fetchOptions:e,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};r(s),this.options.behavior?.onFetch(s,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==s.fetchOptions?.meta)&&this.#i({type:"fetch",meta:s.fetchOptions?.meta});const a=o=>{gj(o)&&o.silent||this.#i({type:"error",error:o}),gj(o)||(this.#r.config.onError?.(o,this),this.#r.config.onSettled?.(this.state.data,o,this)),this.scheduleGc()};return this.#n=yne({initialPromise:e?.initialPromise,fn:s.fetchFn,abort:n.abort.bind(n),onSuccess:o=>{if(o===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(o)}catch(l){a(l);return}this.#r.config.onSuccess?.(o,this),this.#r.config.onSettled?.(o,this.state.error,this),this.scheduleGc()},onError:a,onFail:(o,l)=>{this.#i({type:"failed",failureCount:o,error:l})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0}),this.#n.start()}#i(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...bne(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=t.error;return gj(r)&&r.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),ys.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:t})})}};function bne(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:gne(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Tye(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Aye=class extends cb{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,i=e.queryHash??hB(r,e);let s=this.get(i);return s||(s=new Mye({cache:this,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(s)),s}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ys.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>a$(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>a$(t,n)):e}notify(t){ys.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){ys.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ys.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Cye=class extends xne{#e;#t;#r;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||wne(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(t){this.#r=yne({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(r,i)=>{this.#n({type:"failed",failureCount:r,error:i})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const e=this.state.status==="pending",n=!this.#r.canStart();try{if(!e){this.#n({type:"pending",variables:t,isPaused:n}),await this.#t.config.onMutate?.(t,this);const i=await this.options.onMutate?.(t);i!==this.state.context&&this.#n({type:"pending",context:i,variables:t,isPaused:n})}const r=await this.#r.start();return await this.#t.config.onSuccess?.(r,t,this.state.context,this),await this.options.onSuccess?.(r,t,this.state.context),await this.#t.config.onSettled?.(r,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(r,null,t,this.state.context),this.#n({type:"success",data:r}),r}catch(r){try{throw await this.#t.config.onError?.(r,t,this.state.context,this),await this.options.onError?.(r,t,this.state.context),await this.#t.config.onSettled?.(void 0,r,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,r,t,this.state.context),r}finally{this.#n({type:"error",error:r})}}finally{this.#t.runNext(this)}}#n(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),ys.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function wne(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Pye=class extends cb{constructor(t={}){super(),this.config=t,this.#e=new Map,this.#t=Date.now()}#e;#t;build(t,e,n){const r=new Cye({mutationCache:this,mutationId:++this.#t,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){const e=JM(t),n=this.#e.get(e)??[];n.push(t),this.#e.set(e,n),this.notify({type:"added",mutation:t})}remove(t){const e=JM(t);if(this.#e.has(e)){const n=this.#e.get(e)?.filter(r=>r!==t);n&&(n.length===0?this.#e.delete(e):this.#e.set(e,n))}this.notify({type:"removed",mutation:t})}canRun(t){const e=this.#e.get(JM(t))?.find(n=>n.state.status==="pending");return!e||e===t}runNext(t){return this.#e.get(JM(t))?.find(n=>n!==t&&n.state.isPaused)?.continue()??Promise.resolve()}clear(){ys.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...this.#e.values()].flat()}find(t){const e={exact:!0,...t};return this.getAll().find(n=>o$(e,n))}findAll(t={}){return this.getAll().filter(e=>o$(t,e))}notify(t){ys.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return ys.batch(()=>Promise.all(t.map(e=>e.continue().catch(Rl))))}};function JM(t){return t.options.scope?.id??String(t.mutationId)}function u$(t){return{onFetch:(e,n)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],a=e.state.data?.pageParams||[];let o={pages:[],pageParams:[]},l=0;const c=async()=>{let d=!1;const f=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(e.signal.aborted?d=!0:e.signal.addEventListener("abort",()=>{d=!0}),e.signal)})},h=mne(e.options,e.fetchOptions),m=async(v,b,y)=>{if(d)return Promise.reject();if(b==null&&v.pages.length)return Promise.resolve(v);const w={queryKey:e.queryKey,pageParam:b,direction:y?"backward":"forward",meta:e.options.meta};f(w);const S=await h(w),{maxPages:M}=e.options,T=y?bye:xye;return{pages:T(v.pages,S,M),pageParams:T(v.pageParams,b,M)}};if(i&&s.length){const v=i==="backward",b=v?Nye:d$,y={pages:s,pageParams:a},w=b(r,y);o=await m(y,w,v)}else{const v=t??s.length;do{const b=l===0?a[0]??r.initialPageParam:d$(r,o);if(l>0&&b==null)break;o=await m(o,b),l++}while(l<v)}return o};e.options.persister?e.fetchFn=()=>e.options.persister?.(c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=c}}}function d$(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Nye(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var Rye=class{#e;#t;#r;#n;#a;#s;#i;#o;constructor(t={}){this.#e=t.queryCache||new Aye,this.#t=t.mutationCache||new Pye,this.#r=t.defaultOptions||{},this.#n=new Map,this.#a=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#i=mB.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#o=iA.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#i?.(),this.#i=void 0,this.#o?.(),this.#o=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=this.#e.build(this,n);return t.revalidateIfStale&&r.isStaleByTime(Uy(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=this.#e.get(r.queryHash)?.state.data,a=vye(e,s);if(a!==void 0)return this.#e.build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return ys.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;ys.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e,r={type:"active",...t};return ys.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=ys.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Rl).catch(Rl)}invalidateQueries(t={},e={}){return ys.batch(()=>{if(this.#e.findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:e?.cancelRefetch??!0},r=ys.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Rl)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Rl)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(Uy(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Rl).catch(Rl)}fetchInfiniteQuery(t){return t.behavior=u$(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Rl).catch(Rl)}ensureInfiniteQueryData(t){return t.behavior=u$(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return iA.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(t){this.#r=t}setQueryDefaults(t,e){this.#n.set(Hg(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#n.values()];let n={};return e.forEach(r=>{p_(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){this.#a.set(Hg(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#a.values()];let n={};return e.forEach(r=>{p_(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#r.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=hB(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===pB&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#r.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Oye=class extends cb{constructor(t,e){super(),this.options=e,this.#e=t,this.#o=null,this.#i=R4(),this.options.experimental_prefetchInRender||this.#i.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#r=void 0;#n=void 0;#a;#s;#i;#o;#m;#f;#h;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),f$(this.#t,this.options)?this.#d():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return O4(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return O4(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#t.removeObserver(this)}setOptions(t,e){const n=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof jc(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#t.setOptions(this.options),n._defaulted&&!rA(this.options,n)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&h$(this.#t,r,this.options,n)&&this.#d(),this.updateResult(e),i&&(this.#t!==r||jc(this.options.enabled,this.#t)!==jc(n.enabled,this.#t)||Uy(this.options.staleTime,this.#t)!==Uy(n.staleTime,this.#t))&&this.#g();const s=this.#v();i&&(this.#t!==r||jc(this.options.enabled,this.#t)!==jc(n.enabled,this.#t)||s!==this.#l)&&this.#y(s)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return Iye(this,n)&&(this.#n=n,this.#s=this.options,this.#a=this.#t.state),n}getCurrentResult(){return this.#n}trackResult(t,e){const n={};return Object.keys(t).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),e?.(r),t[r])})}),n}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#d(t){this.#_();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Rl)),e}#g(){this.#b();const t=Uy(this.options.staleTime,this.#t);if($g||this.#n.isStale||!C4(t))return;const n=hne(this.#n.dataUpdatedAt,t)+1;this.#c=setTimeout(()=>{this.#n.isStale||this.updateResult()},n)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(t){this.#w(),this.#l=t,!($g||jc(this.options.enabled,this.#t)===!1||!C4(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||mB.isFocused())&&this.#d()},this.#l))}#x(){this.#g(),this.#y(this.#v())}#b(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#t,r=this.options,i=this.#n,s=this.#a,a=this.#s,l=t!==n?t.state:this.#r,{state:c}=t;let d={...c},f=!1,h;if(e._optimisticResults){const j=this.hasListeners(),L=!j&&f$(t,e),O=j&&h$(t,n,e,r);(L||O)&&(d={...d,...bne(c.data,t.options)}),e._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:m,errorUpdatedAt:v,status:b}=d;if(e.select&&d.data!==void 0)if(i&&d.data===s?.data&&e.select===this.#m)h=this.#f;else try{this.#m=e.select,h=e.select(d.data),h=N4(i?.data,h,e),this.#f=h,this.#o=null}catch(j){this.#o=j}else h=d.data;if(e.placeholderData!==void 0&&h===void 0&&b==="pending"){let j;if(i?.isPlaceholderData&&e.placeholderData===a?.placeholderData)j=i.data;else if(j=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,e.select&&j!==void 0)try{j=e.select(j),this.#o=null}catch(L){this.#o=L}j!==void 0&&(b="success",h=N4(i?.data,j,e),f=!0)}this.#o&&(m=this.#o,h=this.#f,v=Date.now(),b="error");const y=d.fetchStatus==="fetching",w=b==="pending",S=b==="error",M=w&&y,T=h!==void 0,C={status:b,fetchStatus:d.fetchStatus,isPending:w,isSuccess:b==="success",isError:S,isInitialLoading:M,isLoading:M,data:h,dataUpdatedAt:d.dataUpdatedAt,error:m,errorUpdatedAt:v,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>l.dataUpdateCount||d.errorUpdateCount>l.errorUpdateCount,isFetching:y,isRefetching:y&&!w,isLoadingError:S&&!T,isPaused:d.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:S&&T,isStale:gB(t,e),refetch:this.refetch,promise:this.#i};if(this.options.experimental_prefetchInRender){const j=k=>{C.status==="error"?k.reject(C.error):C.data!==void 0&&k.resolve(C.data)},L=()=>{const k=this.#i=C.promise=R4();j(k)},O=this.#i;switch(O.status){case"pending":t.queryHash===n.queryHash&&j(O);break;case"fulfilled":(C.status==="error"||C.data!==O.value)&&L();break;case"rejected":(C.status!=="error"||C.error!==O.reason)&&L();break}}return C}updateResult(t){const e=this.#n,n=this.createResult(this.#t,this.options);if(this.#a=this.#t.state,this.#s=this.options,this.#a.data!==void 0&&(this.#h=this.#t),rA(n,e))return;this.#n=n;const r={},i=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,a=typeof s=="function"?s():s;if(a==="all"||!a&&!this.#p.size)return!0;const o=new Set(a??this.#p);return this.options.throwOnError&&o.add("error"),Object.keys(this.#n).some(l=>{const c=l;return this.#n[c]!==e[c]&&o.has(c)})};t?.listeners!==!1&&i()&&(r.listeners=!0),this.#S({...r,...t})}#_(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#r=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#S(t){ys.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#n)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function jye(t,e){return jc(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function f$(t,e){return jye(t,e)||t.state.data!==void 0&&O4(t,e,e.refetchOnMount)}function O4(t,e,n){if(jc(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&gB(t,e)}return!1}function h$(t,e,n,r){return(t!==e||jc(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&gB(t,n)}function gB(t,e){return jc(e.enabled,t)!==!1&&t.isStaleByTime(Uy(e.staleTime,t))}function Iye(t,e){return!rA(t.getCurrentResult(),e)}var kye=class extends cb{#e;#t=void 0;#r;#n;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),rA(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),n?.mutationKey&&this.options.mutationKey&&Hg(n.mutationKey)!==Hg(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#a(),this.#s(e)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#a(),this.#s()}mutate(e,n){return this.#n=n,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(e)}#a(){const e=this.#r?.state??wne();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#s(e){ys.batch(()=>{if(this.#n&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context;e?.type==="success"?(this.#n.onSuccess?.(e.data,n,r),this.#n.onSettled?.(e.data,null,n,r)):e?.type==="error"&&(this.#n.onError?.(e.error,n,r),this.#n.onSettled?.(void 0,e.error,n,r))}this.listeners.forEach(n=>{n(this.#t)})})}},_ne=N.createContext(void 0),fd=t=>{const e=N.useContext(_ne);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Dye=({client:t,children:e})=>(N.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(_ne.Provider,{value:t,children:e})),Sne=N.createContext(!1),Lye=()=>N.useContext(Sne);Sne.Provider;function Fye(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Uye=N.createContext(Fye()),Bye=()=>N.useContext(Uye);function Ene(t,e){return typeof t=="function"?t(...e):!!t}function j4(){}var zye=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Vye=t=>{N.useEffect(()=>{t.clearReset()},[t])},$ye=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&Ene(n,[t.error,r]),Hye=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},Wye=(t,e)=>t.isLoading&&t.isFetching&&!e,Gye=(t,e)=>t?.suspense&&e.isPending,p$=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function qye(t,e,n){const r=fd(),i=Lye(),s=Bye(),a=r.defaultQueryOptions(t);r.getDefaultOptions().queries?._experimental_beforeQuery?.(a),a._optimisticResults=i?"isRestoring":"optimistic",Hye(a),zye(a,s),Vye(s);const o=!r.getQueryCache().get(a.queryHash),[l]=N.useState(()=>new e(r,a)),c=l.getOptimisticResult(a);if(N.useSyncExternalStore(N.useCallback(d=>{const f=i?j4:l.subscribe(ys.batchCalls(d));return l.updateResult(),f},[l,i]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),N.useEffect(()=>{l.setOptions(a,{listeners:!1})},[a,l]),Gye(a,c))throw p$(a,l,s);if($ye({result:c,errorResetBoundary:s,throwOnError:a.throwOnError,query:r.getQueryCache().get(a.queryHash)}))throw c.error;return r.getDefaultOptions().queries?._experimental_afterQuery?.(a,c),a.experimental_prefetchInRender&&!$g&&Wye(c,i)&&(o?p$(a,l,s):r.getQueryCache().get(a.queryHash)?.promise)?.catch(j4).finally(()=>{l.updateResult()}),a.notifyOnChangeProps?c:l.trackResult(c)}function gp(t,e){return qye(t,Oye)}function Bl(t,e){const n=fd(),[r]=N.useState(()=>new kye(n,t));N.useEffect(()=>{r.setOptions(t)},[r,t]);const i=N.useSyncExternalStore(N.useCallback(a=>r.subscribe(ys.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=N.useCallback((a,o)=>{r.mutate(a,o).catch(j4)},[r]);if(i.error&&Ene(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}async function Mne(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}async function Xye(t,e,n){const r=await fetch(e,{method:t,headers:n?{"Content-Type":"application/json"}:{},body:n?JSON.stringify(n):void 0,credentials:"include"});return await Mne(r),r}const Yye=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return await Mne(n),await n.json()},Kye=new Rye({defaultOptions:{queries:{queryFn:Yye({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),Zye=1,Qye=1e6;let vj=0;function Jye(){return vj=(vj+1)%Number.MAX_SAFE_INTEGER,vj.toString()}const yj=new Map,m$=t=>{if(yj.has(t))return;const e=setTimeout(()=>{yj.delete(t),L1({type:"REMOVE_TOAST",toastId:t})},Qye);yj.set(t,e)},exe=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Zye)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?m$(n):t.toasts.forEach(r=>{m$(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},P2=[];let N2={toasts:[]};function L1(t){N2=exe(N2,t),P2.forEach(e=>{e(N2)})}function txe({...t}){const e=Jye(),n=i=>L1({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>L1({type:"DISMISS_TOAST",toastId:e});return L1({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function hd(){const[t,e]=N.useState(N2);return N.useEffect(()=>(P2.push(e),()=>{const n=P2.indexOf(e);n>-1&&P2.splice(n,1)}),[t]),{...t,toast:txe,dismiss:n=>L1({type:"DISMISS_TOAST",toastId:n})}}var Wu=nne();const F1=pr(Wu);function Ht(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}function g$(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Tne(...t){return e=>{let n=!1;const r=t.map(i=>{const s=g$(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():g$(t[i],null)}}}}function Hn(...t){return N.useCallback(Tne(...t),t)}function nxe(t,e){const n=N.createContext(e),r=s=>{const{children:a,...o}=s,l=N.useMemo(()=>o,Object.values(o));return u.jsx(n.Provider,{value:l,children:a})};r.displayName=t+"Provider";function i(s){const a=N.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function Pa(t,e=[]){let n=[];function r(s,a){const o=N.createContext(a),l=n.length;n=[...n,a];const c=f=>{const{scope:h,children:m,...v}=f,b=h?.[t]?.[l]||o,y=N.useMemo(()=>v,Object.values(v));return u.jsx(b.Provider,{value:y,children:m})};c.displayName=s+"Provider";function d(f,h){const m=h?.[t]?.[l]||o,v=N.useContext(m);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[c,d]}const i=()=>{const s=n.map(a=>N.createContext(a));return function(o){const l=o?.[t]||s;return N.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[r,rxe(i,...e)]}function rxe(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...o,...f}},{});return N.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function ix(t){const e=ixe(t),n=N.forwardRef((r,i)=>{const{children:s,...a}=r,o=N.Children.toArray(s),l=o.find(sxe);if(l){const c=l.props.children,d=o.map(f=>f===l?N.Children.count(c)>1?N.Children.only(null):N.isValidElement(c)?c.props.children:null:f);return u.jsx(e,{...a,ref:i,children:N.isValidElement(c)?N.cloneElement(c,void 0,d):null})}return u.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var Ane=ix("Slot");function ixe(t){const e=N.forwardRef((n,r)=>{const{children:i,...s}=n;if(N.isValidElement(i)){const a=oxe(i),o=axe(s,i.props);return i.type!==N.Fragment&&(o.ref=r?Tne(r,a):a),N.cloneElement(i,o)}return N.Children.count(i)>1?N.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Cne=Symbol("radix.slottable");function Pne(t){const e=({children:n})=>u.jsx(u.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=Cne,e}function sxe(t){return N.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Cne}function axe(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...o)=>{s(...o),i(...o)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function oxe(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function oE(t){const e=t+"CollectionProvider",[n,r]=Pa(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=b=>{const{scope:y,children:w}=b,S=se.useRef(null),M=se.useRef(new Map).current;return u.jsx(i,{scope:y,itemMap:M,collectionRef:S,children:w})};a.displayName=e;const o=t+"CollectionSlot",l=ix(o),c=se.forwardRef((b,y)=>{const{scope:w,children:S}=b,M=s(o,w),T=Hn(y,M.collectionRef);return u.jsx(l,{ref:T,children:S})});c.displayName=o;const d=t+"CollectionItemSlot",f="data-radix-collection-item",h=ix(d),m=se.forwardRef((b,y)=>{const{scope:w,children:S,...M}=b,T=se.useRef(null),A=Hn(y,T),C=s(d,w);return se.useEffect(()=>(C.itemMap.set(T,{ref:T,...M}),()=>{C.itemMap.delete(T)})),u.jsx(h,{[f]:"",ref:A,children:S})});m.displayName=d;function v(b){const y=s(t+"CollectionConsumer",b);return se.useCallback(()=>{const S=y.collectionRef.current;if(!S)return[];const M=Array.from(S.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((C,j)=>M.indexOf(C.ref.current)-M.indexOf(j.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:a,Slot:c,ItemSlot:m},v,r]}var lxe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],tn=lxe.reduce((t,e)=>{const n=ix(`Primitive.${e}`),r=N.forwardRef((i,s)=>{const{asChild:a,...o}=i,l=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...o,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Nne(t,e){t&&Wu.flushSync(()=>t.dispatchEvent(e))}function ji(t){const e=N.useRef(t);return N.useEffect(()=>{e.current=t}),N.useMemo(()=>(...n)=>e.current?.(...n),[])}function cxe(t,e=globalThis?.document){const n=ji(t);N.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var uxe="DismissableLayer",I4="dismissableLayer.update",dxe="dismissableLayer.pointerDownOutside",fxe="dismissableLayer.focusOutside",v$,Rne=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),lE=N.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...l}=t,c=N.useContext(Rne),[d,f]=N.useState(null),h=d?.ownerDocument??globalThis?.document,[,m]=N.useState({}),v=Hn(e,j=>f(j)),b=Array.from(c.layers),[y]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),w=b.indexOf(y),S=d?b.indexOf(d):-1,M=c.layersWithOutsidePointerEventsDisabled.size>0,T=S>=w,A=pxe(j=>{const L=j.target,O=[...c.branches].some(k=>k.contains(L));!T||O||(i?.(j),a?.(j),j.defaultPrevented||o?.())},h),C=mxe(j=>{const L=j.target;[...c.branches].some(k=>k.contains(L))||(s?.(j),a?.(j),j.defaultPrevented||o?.())},h);return cxe(j=>{S===c.layers.size-1&&(r?.(j),!j.defaultPrevented&&o&&(j.preventDefault(),o()))},h),N.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(v$=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),y$(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=v$)}},[d,h,n,c]),N.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),y$())},[d,c]),N.useEffect(()=>{const j=()=>m({});return document.addEventListener(I4,j),()=>document.removeEventListener(I4,j)},[]),u.jsx(tn.div,{...l,ref:v,style:{pointerEvents:M?T?"auto":"none":void 0,...t.style},onFocusCapture:Ht(t.onFocusCapture,C.onFocusCapture),onBlurCapture:Ht(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:Ht(t.onPointerDownCapture,A.onPointerDownCapture)})});lE.displayName=uxe;var hxe="DismissableLayerBranch",One=N.forwardRef((t,e)=>{const n=N.useContext(Rne),r=N.useRef(null),i=Hn(e,r);return N.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),u.jsx(tn.div,{...t,ref:i})});One.displayName=hxe;function pxe(t,e=globalThis?.document){const n=ji(t),r=N.useRef(!1),i=N.useRef(()=>{});return N.useEffect(()=>{const s=o=>{if(o.target&&!r.current){let l=function(){jne(dxe,n,c,{discrete:!0})};const c={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function mxe(t,e=globalThis?.document){const n=ji(t),r=N.useRef(!1);return N.useEffect(()=>{const i=s=>{s.target&&!r.current&&jne(fxe,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function y$(){const t=new CustomEvent(I4);document.dispatchEvent(t)}function jne(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Nne(i,s):i.dispatchEvent(s)}var gxe=lE,vxe=One,Xi=globalThis?.document?N.useLayoutEffect:()=>{},yxe="Portal",xN=N.forwardRef((t,e)=>{const{container:n,...r}=t,[i,s]=N.useState(!1);Xi(()=>s(!0),[]);const a=n||i&&globalThis?.document?.body;return a?F1.createPortal(u.jsx(tn.div,{...r,ref:e}),a):null});xN.displayName=yxe;function xxe(t,e){return N.useReducer((n,r)=>e[n][r]??n,t)}var Yl=t=>{const{present:e,children:n}=t,r=bxe(e),i=typeof n=="function"?n({present:r.isPresent}):N.Children.only(n),s=Hn(r.ref,wxe(i));return typeof n=="function"||r.isPresent?N.cloneElement(i,{ref:s}):null};Yl.displayName="Presence";function bxe(t){const[e,n]=N.useState(),r=N.useRef({}),i=N.useRef(t),s=N.useRef("none"),a=t?"mounted":"unmounted",[o,l]=xxe(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const c=eT(r.current);s.current=o==="mounted"?c:"none"},[o]),Xi(()=>{const c=r.current,d=i.current;if(d!==t){const h=s.current,m=eT(c);t?l("MOUNT"):m==="none"||c?.display==="none"?l("UNMOUNT"):l(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Xi(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=m=>{const b=eT(r.current).includes(m.animationName);if(m.target===e&&b&&(l("ANIMATION_END"),!i.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},h=m=>{m.target===e&&(s.current=eT(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:N.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function eT(t){return t?.animationName||"none"}function wxe(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Qc({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=_xe({defaultProp:e,onChange:n}),s=t!==void 0,a=s?t:r,o=ji(n),l=N.useCallback(c=>{if(s){const f=typeof c=="function"?c(t):c;f!==t&&o(f)}else i(c)},[s,t,i,o]);return[a,l]}function _xe({defaultProp:t,onChange:e}){const n=N.useState(t),[r]=n,i=N.useRef(r),s=ji(e);return N.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var Sxe="VisuallyHidden",cE=N.forwardRef((t,e)=>u.jsx(tn.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));cE.displayName=Sxe;var Exe=cE,vB="ToastProvider",[yB,Mxe,Txe]=oE("Toast"),[Ine]=Pa("Toast",[Txe]),[Axe,bN]=Ine(vB),kne=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:a}=t,[o,l]=N.useState(null),[c,d]=N.useState(0),f=N.useRef(!1),h=N.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${vB}\`. Expected non-empty \`string\`.`),u.jsx(yB.Provider,{scope:e,children:u.jsx(Axe,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:o,onViewportChange:l,onToastAdd:N.useCallback(()=>d(m=>m+1),[]),onToastRemove:N.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:a})})};kne.displayName=vB;var Dne="ToastViewport",Cxe=["F8"],k4="toast.viewportPause",D4="toast.viewportResume",Lne=N.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=Cxe,label:i="Notifications ({hotkey})",...s}=t,a=bN(Dne,n),o=Mxe(n),l=N.useRef(null),c=N.useRef(null),d=N.useRef(null),f=N.useRef(null),h=Hn(e,f,a.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=a.toastCount>0;N.useEffect(()=>{const y=w=>{r.length!==0&&r.every(M=>w[M]||w.code===M)&&f.current?.focus()};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),N.useEffect(()=>{const y=l.current,w=f.current;if(v&&y&&w){const S=()=>{if(!a.isClosePausedRef.current){const C=new CustomEvent(k4);w.dispatchEvent(C),a.isClosePausedRef.current=!0}},M=()=>{if(a.isClosePausedRef.current){const C=new CustomEvent(D4);w.dispatchEvent(C),a.isClosePausedRef.current=!1}},T=C=>{!y.contains(C.relatedTarget)&&M()},A=()=>{y.contains(document.activeElement)||M()};return y.addEventListener("focusin",S),y.addEventListener("focusout",T),y.addEventListener("pointermove",S),y.addEventListener("pointerleave",A),window.addEventListener("blur",S),window.addEventListener("focus",M),()=>{y.removeEventListener("focusin",S),y.removeEventListener("focusout",T),y.removeEventListener("pointermove",S),y.removeEventListener("pointerleave",A),window.removeEventListener("blur",S),window.removeEventListener("focus",M)}}},[v,a.isClosePausedRef]);const b=N.useCallback(({tabbingDirection:y})=>{const S=o().map(M=>{const T=M.ref.current,A=[T,...zxe(T)];return y==="forwards"?A:A.reverse()});return(y==="forwards"?S.reverse():S).flat()},[o]);return N.useEffect(()=>{const y=f.current;if(y){const w=S=>{const M=S.altKey||S.ctrlKey||S.metaKey;if(S.key==="Tab"&&!M){const A=document.activeElement,C=S.shiftKey;if(S.target===y&&C){c.current?.focus();return}const O=b({tabbingDirection:C?"backwards":"forwards"}),k=O.findIndex(F=>F===A);xj(O.slice(k+1))?S.preventDefault():C?c.current?.focus():d.current?.focus()}};return y.addEventListener("keydown",w),()=>y.removeEventListener("keydown",w)}},[o,b]),u.jsxs(vxe,{ref:l,role:"region","aria-label":i.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&u.jsx(L4,{ref:c,onFocusFromOutsideViewport:()=>{const y=b({tabbingDirection:"forwards"});xj(y)}}),u.jsx(yB.Slot,{scope:n,children:u.jsx(tn.ol,{tabIndex:-1,...s,ref:h})}),v&&u.jsx(L4,{ref:d,onFocusFromOutsideViewport:()=>{const y=b({tabbingDirection:"backwards"});xj(y)}})]})});Lne.displayName=Dne;var Fne="ToastFocusProxy",L4=N.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=bN(Fne,n);return u.jsx(cE,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:a=>{const o=a.relatedTarget;!s.viewport?.contains(o)&&r()}})});L4.displayName=Fne;var wN="Toast",Pxe="toast.swipeStart",Nxe="toast.swipeMove",Rxe="toast.swipeCancel",Oxe="toast.swipeEnd",Une=N.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...a}=t,[o=!0,l]=Qc({prop:r,defaultProp:i,onChange:s});return u.jsx(Yl,{present:n||o,children:u.jsx(kxe,{open:o,...a,ref:e,onClose:()=>l(!1),onPause:ji(t.onPause),onResume:ji(t.onResume),onSwipeStart:Ht(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ht(t.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ht(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ht(t.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});Une.displayName=wN;var[jxe,Ixe]=Ine(wN,{onClose(){}}),kxe=N.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:a,onEscapeKeyDown:o,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...v}=t,b=bN(wN,n),[y,w]=N.useState(null),S=Hn(e,U=>w(U)),M=N.useRef(null),T=N.useRef(null),A=i||b.duration,C=N.useRef(0),j=N.useRef(A),L=N.useRef(0),{onToastAdd:O,onToastRemove:k}=b,F=ji(()=>{y?.contains(document.activeElement)&&b.viewport?.focus(),a()}),G=N.useCallback(U=>{!U||U===1/0||(window.clearTimeout(L.current),C.current=new Date().getTime(),L.current=window.setTimeout(F,U))},[F]);N.useEffect(()=>{const U=b.viewport;if(U){const W=()=>{G(j.current),c?.()},q=()=>{const Z=new Date().getTime()-C.current;j.current=j.current-Z,window.clearTimeout(L.current),l?.()};return U.addEventListener(k4,q),U.addEventListener(D4,W),()=>{U.removeEventListener(k4,q),U.removeEventListener(D4,W)}}},[b.viewport,A,l,c,G]),N.useEffect(()=>{s&&!b.isClosePausedRef.current&&G(A)},[s,A,b.isClosePausedRef,G]),N.useEffect(()=>(O(),()=>k()),[O,k]);const Y=N.useMemo(()=>y?Gne(y):null,[y]);return b.viewport?u.jsxs(u.Fragment,{children:[Y&&u.jsx(Dxe,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:Y}),u.jsx(jxe,{scope:n,onClose:F,children:Wu.createPortal(u.jsx(yB.ItemSlot,{scope:n,children:u.jsx(gxe,{asChild:!0,onEscapeKeyDown:Ht(o,()=>{b.isFocusedToastEscapeKeyDownRef.current||F(),b.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(tn.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":b.swipeDirection,...v,ref:S,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ht(t.onKeyDown,U=>{U.key==="Escape"&&(o?.(U.nativeEvent),U.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:Ht(t.onPointerDown,U=>{U.button===0&&(M.current={x:U.clientX,y:U.clientY})}),onPointerMove:Ht(t.onPointerMove,U=>{if(!M.current)return;const W=U.clientX-M.current.x,q=U.clientY-M.current.y,Z=!!T.current,V=["left","right"].includes(b.swipeDirection),Q=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,ee=V?Q(0,W):0,$=V?0:Q(0,q),J=U.pointerType==="touch"?10:2,de={x:ee,y:$},Ae={originalEvent:U,delta:de};Z?(T.current=de,tT(Nxe,f,Ae,{discrete:!1})):x$(de,b.swipeDirection,J)?(T.current=de,tT(Pxe,d,Ae,{discrete:!1}),U.target.setPointerCapture(U.pointerId)):(Math.abs(W)>J||Math.abs(q)>J)&&(M.current=null)}),onPointerUp:Ht(t.onPointerUp,U=>{const W=T.current,q=U.target;if(q.hasPointerCapture(U.pointerId)&&q.releasePointerCapture(U.pointerId),T.current=null,M.current=null,W){const Z=U.currentTarget,V={originalEvent:U,delta:W};x$(W,b.swipeDirection,b.swipeThreshold)?tT(Oxe,m,V,{discrete:!0}):tT(Rxe,h,V,{discrete:!0}),Z.addEventListener("click",Q=>Q.preventDefault(),{once:!0})}})})})}),b.viewport)})]}):null}),Dxe=t=>{const{__scopeToast:e,children:n,...r}=t,i=bN(wN,e),[s,a]=N.useState(!1),[o,l]=N.useState(!1);return Uxe(()=>a(!0)),N.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),o?null:u.jsx(xN,{asChild:!0,children:u.jsx(cE,{...r,children:s&&u.jsxs(u.Fragment,{children:[i.label," ",n]})})})},Lxe="ToastTitle",Bne=N.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(tn.div,{...r,ref:e})});Bne.displayName=Lxe;var Fxe="ToastDescription",zne=N.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(tn.div,{...r,ref:e})});zne.displayName=Fxe;var Vne="ToastAction",$ne=N.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?u.jsx(Wne,{altText:n,asChild:!0,children:u.jsx(xB,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Vne}\`. Expected non-empty \`string\`.`),null)});$ne.displayName=Vne;var Hne="ToastClose",xB=N.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=Ixe(Hne,n);return u.jsx(Wne,{asChild:!0,children:u.jsx(tn.button,{type:"button",...r,ref:e,onClick:Ht(t.onClick,i.onClose)})})});xB.displayName=Hne;var Wne=N.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return u.jsx(tn.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function Gne(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Bxe(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const a=r.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...Gne(r))}}),e}function tT(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Nne(i,s):i.dispatchEvent(s)}var x$=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function Uxe(t=()=>{}){const e=ji(t);Xi(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function Bxe(t){return t.nodeType===t.ELEMENT_NODE}function zxe(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function xj(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var Vxe=kne,qne=Lne,Xne=Une,Yne=Bne,Kne=zne,Zne=$ne,Qne=xB;function Jne(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Jne(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function yr(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Jne(t))&&(r&&(r+=" "),r+=e);return r}const b$=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,w$=yr,uE=(t,e)=>n=>{var r;if(e?.variants==null)return w$(t,n?.class,n?.className);const{variants:i,defaultVariants:s}=e,a=Object.keys(i).map(c=>{const d=n?.[c],f=s?.[c];if(d===null)return null;const h=b$(d)||b$(f);return i[c][h]}),o=n&&Object.entries(n).reduce((c,d)=>{let[f,h]=d;return h===void 0||(c[f]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(v=>{let[b,y]=v;return Array.isArray(y)?y.includes({...s,...o}[b]):{...s,...o}[b]===y})?[...c,f,h]:c},[]);return w$(t,a,l,n?.class,n?.className)};const $xe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ere=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");var Hxe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Wxe=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...o},l)=>N.createElement("svg",{ref:l,...Hxe,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:ere("lucide",i),...o},[...a.map(([c,d])=>N.createElement(c,d)),...Array.isArray(s)?s:[s]]));const st=(t,e)=>{const n=N.forwardRef(({className:r,...i},s)=>N.createElement(Wxe,{ref:s,iconNode:e,className:ere(`lucide-${$xe(t)}`,r),...i}));return n.displayName=`${t}`,n};const Cg=st("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);const _N=st("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const F4=st("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const Gxe=st("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);const ub=st("Battery",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]);const bB=st("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);const tre=st("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);const wB=st("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);const _B=st("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);const qxe=st("Cable",[["path",{d:"M17 21v-2a1 1 0 0 1-1-1v-1a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v1a1 1 0 0 1-1 1",key:"10bnsj"}],["path",{d:"M19 15V6.5a1 1 0 0 0-7 0v11a1 1 0 0 1-7 0V9",key:"1eqmu1"}],["path",{d:"M21 21v-2h-4",key:"14zm7j"}],["path",{d:"M3 5h4V3",key:"z442eg"}],["path",{d:"M7 5a1 1 0 0 1 1 1v1a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6a1 1 0 0 1 1-1V3",key:"ebdjd7"}]]);const wy=st("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);const Xxe=st("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);const sA=st("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const Yxe=st("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const Wg=st("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const aA=st("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const nre=st("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const Pg=st("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const SB=st("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const Kxe=st("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const rre=st("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const m_=st("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const U4=st("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);const Zxe=st("Compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const B4=st("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);const z4=st("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const ire=st("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const Qxe=st("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);const g_=st("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const _$=st("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const v_=st("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Jxe=st("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);const S$=st("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);const nd=st("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const E$=st("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);const cp=st("Fuel",[["line",{x1:"3",x2:"15",y1:"22",y2:"22",key:"xegly4"}],["line",{x1:"4",x2:"14",y1:"9",y2:"9",key:"xcnuvu"}],["path",{d:"M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18",key:"16j0yd"}],["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5",key:"7cu91f"}]]);const oA=st("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);const aa=st("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const ebe=st("HardDriveDownload",[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 18h.01",key:"h775k"}]]);const tbe=st("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);const sre=st("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);const V4=st("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const nbe=st("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);const rbe=st("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);const ibe=st("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);const sx=st("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);const EB=st("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);const Ds=st("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const _y=st("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const sbe=st("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const y_=st("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const are=st("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const abe=st("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const U1=st("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);const M$=st("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const obe=st("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);const lbe=st("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);const cbe=st("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);const ube=st("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);const ore=st("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);const bj=st("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);const T$=st("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);const lre=st("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);const dbe=st("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);const $4=st("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const A$=st("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);const By=st("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);const cre=st("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const ure=st("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const C$=st("Satellite",[["path",{d:"M13 7 9 3 5 7l4 4",key:"vyckw6"}],["path",{d:"m17 11 4 4-4 4-4-4",key:"rchckc"}],["path",{d:"m8 12 4 4 6-6-4-4Z",key:"1sshf7"}],["path",{d:"m16 8 3-3",key:"x428zp"}],["path",{d:"M9 21a6 6 0 0 0-6-6",key:"1iajcf"}]]);const dre=st("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const MB=st("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const TB=st("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);const fbe=st("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);const fre=st("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const hbe=st("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);const up=st("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const AB=st("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const pbe=st("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);const wj=st("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);const hre=st("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);const lA=st("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const H4=st("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);const P$=st("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);const cA=st("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const mbe=st("TreeDeciduous",[["path",{d:"M8 19a4 4 0 0 1-2.24-7.32A3.5 3.5 0 0 1 9 6.03V6a3 3 0 1 1 6 0v.04a3.5 3.5 0 0 1 3.24 5.65A4 4 0 0 1 16 19Z",key:"oadzkq"}],["path",{d:"M12 19v3",key:"npa21l"}]]);const gbe=st("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);const ax=st("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const uA=st("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const N$=st("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);const x_=st("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const pre=st("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const vbe=st("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);const mre=st("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);const SN=st("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const Di=st("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);const ybe=st("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);const xbe=st("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),CB="-",bbe=t=>{const e=_be(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const o=a.split(CB);return o[0]===""&&o.length!==1&&o.shift(),gre(o,e)||wbe(a)},getConflictingClassGroupIds:(a,o)=>{const l=n[a]||[];return o&&r[a]?[...l,...r[a]]:l}}},gre=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?gre(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(CB);return e.validators.find(({validator:a})=>a(s))?.classGroupId},R$=/^\[(.+)\]$/,wbe=t=>{if(R$.test(t)){const e=R$.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},_be=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Ebe(Object.entries(t.classGroups),n).forEach(([s,a])=>{W4(a,r,s,e)}),r},W4=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:O$(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(Sbe(i)){W4(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,a])=>{W4(a,O$(e,s),n,r)})})},O$=(t,e)=>{let n=t;return e.split(CB).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Sbe=t=>t.isThemeGetter,Ebe=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,o])=>[e+a,o])):s);return[n,i]}):t,Mbe=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,a)=>{n.set(s,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set(s,a){n.has(s)?n.set(s,a):i(s,a)}}},vre="!",Tbe=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,a=o=>{const l=[];let c=0,d=0,f;for(let y=0;y<o.length;y++){let w=o[y];if(c===0){if(w===i&&(r||o.slice(y,y+s)===e)){l.push(o.slice(d,y)),d=y+s;continue}if(w==="/"){f=y;continue}}w==="["?c++:w==="]"&&c--}const h=l.length===0?o:o.substring(d),m=h.startsWith(vre),v=m?h.substring(1):h,b=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:b}};return n?o=>n({className:o,parseClassName:a}):a},Abe=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},Cbe=t=>({cache:Mbe(t.cacheSize),parseClassName:Tbe(t),...bbe(t)}),Pbe=/\s+/,Nbe=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],a=t.trim().split(Pbe);let o="";for(let l=a.length-1;l>=0;l-=1){const c=a[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=n(c);let v=!!m,b=r(v?h.substring(0,m):h);if(!b){if(!v){o=c+(o.length>0?" "+o:o);continue}if(b=r(h),!b){o=c+(o.length>0?" "+o:o);continue}v=!1}const y=Abe(d).join(":"),w=f?y+vre:y,S=w+b;if(s.includes(S))continue;s.push(S);const M=i(b,v);for(let T=0;T<M.length;++T){const A=M[T];s.push(w+A)}o=c+(o.length>0?" "+o:o)}return o};function Rbe(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=yre(e))&&(r&&(r+=" "),r+=n);return r}const yre=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=yre(t[r]))&&(n&&(n+=" "),n+=e);return n};function Obe(t,...e){let n,r,i,s=a;function a(l){const c=e.reduce((d,f)=>f(d),t());return n=Cbe(c),r=n.cache.get,i=n.cache.set,s=o,o(l)}function o(l){const c=r(l);if(c)return c;const d=Nbe(l,n);return i(l,d),d}return function(){return s(Rbe.apply(null,arguments))}}const ti=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},xre=/^\[(?:([a-z-]+):)?(.+)\]$/i,jbe=/^\d+\/\d+$/,Ibe=new Set(["px","full","screen"]),kbe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Dbe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Lbe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Fbe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Ube=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,rf=t=>zy(t)||Ibe.has(t)||jbe.test(t),Ih=t=>db(t,"length",qbe),zy=t=>!!t&&!Number.isNaN(Number(t)),_j=t=>db(t,"number",zy),Nw=t=>!!t&&Number.isInteger(Number(t)),Bbe=t=>t.endsWith("%")&&zy(t.slice(0,-1)),Gn=t=>xre.test(t),kh=t=>kbe.test(t),zbe=new Set(["length","size","percentage"]),Vbe=t=>db(t,zbe,bre),$be=t=>db(t,"position",bre),Hbe=new Set(["image","url"]),Wbe=t=>db(t,Hbe,Ybe),Gbe=t=>db(t,"",Xbe),Rw=()=>!0,db=(t,e,n)=>{const r=xre.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},qbe=t=>Dbe.test(t)&&!Lbe.test(t),bre=()=>!1,Xbe=t=>Fbe.test(t),Ybe=t=>Ube.test(t),Kbe=()=>{const t=ti("colors"),e=ti("spacing"),n=ti("blur"),r=ti("brightness"),i=ti("borderColor"),s=ti("borderRadius"),a=ti("borderSpacing"),o=ti("borderWidth"),l=ti("contrast"),c=ti("grayscale"),d=ti("hueRotate"),f=ti("invert"),h=ti("gap"),m=ti("gradientColorStops"),v=ti("gradientColorStopPositions"),b=ti("inset"),y=ti("margin"),w=ti("opacity"),S=ti("padding"),M=ti("saturate"),T=ti("scale"),A=ti("sepia"),C=ti("skew"),j=ti("space"),L=ti("translate"),O=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",Gn,e],G=()=>[Gn,e],Y=()=>["",rf,Ih],U=()=>["auto",zy,Gn],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],q=()=>["solid","dashed","dotted","double","none"],Z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],Q=()=>["","0",Gn],ee=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[zy,Gn];return{cacheSize:500,separator:":",theme:{colors:[Rw],spacing:[rf,Ih],blur:["none","",kh,Gn],brightness:$(),borderColor:[t],borderRadius:["none","","full",kh,Gn],borderSpacing:G(),borderWidth:Y(),contrast:$(),grayscale:Q(),hueRotate:$(),invert:Q(),gap:G(),gradientColorStops:[t],gradientColorStopPositions:[Bbe,Ih],inset:F(),margin:F(),opacity:$(),padding:G(),saturate:$(),scale:$(),sepia:Q(),skew:$(),space:G(),translate:G()},classGroups:{aspect:[{aspect:["auto","square","video",Gn]}],container:["container"],columns:[{columns:[kh]}],"break-after":[{"break-after":ee()}],"break-before":[{"break-before":ee()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),Gn]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Nw,Gn]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Gn]}],grow:[{grow:Q()}],shrink:[{shrink:Q()}],order:[{order:["first","last","none",Nw,Gn]}],"grid-cols":[{"grid-cols":[Rw]}],"col-start-end":[{col:["auto",{span:["full",Nw,Gn]},Gn]}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":[Rw]}],"row-start-end":[{row:["auto",{span:[Nw,Gn]},Gn]}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Gn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Gn]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[S]}],px:[{px:[S]}],py:[{py:[S]}],ps:[{ps:[S]}],pe:[{pe:[S]}],pt:[{pt:[S]}],pr:[{pr:[S]}],pb:[{pb:[S]}],pl:[{pl:[S]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Gn,e]}],"min-w":[{"min-w":[Gn,e,"min","max","fit"]}],"max-w":[{"max-w":[Gn,e,"none","full","min","max","fit","prose",{screen:[kh]},kh]}],h:[{h:[Gn,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Gn,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Gn,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Gn,e,"auto","min","max","fit"]}],"font-size":[{text:["base",kh,Ih]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",_j]}],"font-family":[{font:[Rw]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Gn]}],"line-clamp":[{"line-clamp":["none",zy,_j]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",rf,Gn]}],"list-image":[{"list-image":["none",Gn]}],"list-style-type":[{list:["none","disc","decimal",Gn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",rf,Ih]}],"underline-offset":[{"underline-offset":["auto",rf,Gn]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:G()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Gn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Gn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),$be]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Vbe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Wbe]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...q(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:q()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...q()]}],"outline-offset":[{"outline-offset":[rf,Gn]}],"outline-w":[{outline:[rf,Ih]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[rf,Ih]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",kh,Gbe]}],"shadow-color":[{shadow:[Rw]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...Z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Z()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",kh,Gn]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[M]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[M]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Gn]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",Gn]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",Gn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[Nw,Gn]}],"translate-x":[{"translate-x":[L]}],"translate-y":[{"translate-y":[L]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Gn]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Gn]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":G()}],"scroll-mx":[{"scroll-mx":G()}],"scroll-my":[{"scroll-my":G()}],"scroll-ms":[{"scroll-ms":G()}],"scroll-me":[{"scroll-me":G()}],"scroll-mt":[{"scroll-mt":G()}],"scroll-mr":[{"scroll-mr":G()}],"scroll-mb":[{"scroll-mb":G()}],"scroll-ml":[{"scroll-ml":G()}],"scroll-p":[{"scroll-p":G()}],"scroll-px":[{"scroll-px":G()}],"scroll-py":[{"scroll-py":G()}],"scroll-ps":[{"scroll-ps":G()}],"scroll-pe":[{"scroll-pe":G()}],"scroll-pt":[{"scroll-pt":G()}],"scroll-pr":[{"scroll-pr":G()}],"scroll-pb":[{"scroll-pb":G()}],"scroll-pl":[{"scroll-pl":G()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Gn]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[rf,Ih,_j]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Zbe=Obe(Kbe);function Et(...t){return Zbe(yr(t))}const Qbe=Vxe,wre=N.forwardRef(({className:t,...e},n)=>u.jsx(qne,{ref:n,className:Et("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));wre.displayName=qne.displayName;const Jbe=uE("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),_re=N.forwardRef(({className:t,variant:e,...n},r)=>u.jsx(Xne,{ref:r,className:Et(Jbe({variant:e}),t),...n}));_re.displayName=Xne.displayName;const ewe=N.forwardRef(({className:t,...e},n)=>u.jsx(Zne,{ref:n,className:Et("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));ewe.displayName=Zne.displayName;const Sre=N.forwardRef(({className:t,...e},n)=>u.jsx(Qne,{ref:n,className:Et("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:u.jsx(SN,{className:"h-4 w-4"})}));Sre.displayName=Qne.displayName;const Ere=N.forwardRef(({className:t,...e},n)=>u.jsx(Yne,{ref:n,className:Et("text-sm font-semibold",t),...e}));Ere.displayName=Yne.displayName;const Mre=N.forwardRef(({className:t,...e},n)=>u.jsx(Kne,{ref:n,className:Et("text-sm opacity-90",t),...e}));Mre.displayName=Kne.displayName;function twe(){const{toasts:t}=hd();return u.jsxs(Qbe,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return u.jsxs(_re,{...s,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(Ere,{children:n}),r&&u.jsx(Mre,{children:r})]}),i,u.jsx(Sre,{})]},e)}),u.jsx(wre,{})]})}var nwe=ine[" useId ".trim().toString()]||(()=>{}),rwe=0;function Gu(t){const[e,n]=N.useState(nwe());return Xi(()=>{n(r=>r??String(rwe++))},[t]),e?`radix-${e}`:""}const iwe=["top","right","bottom","left"],vp=Math.min,el=Math.max,dA=Math.round,nT=Math.floor,qu=t=>({x:t,y:t}),swe={left:"right",right:"left",bottom:"top",top:"bottom"},awe={start:"end",end:"start"};function G4(t,e,n){return el(t,vp(e,n))}function Ff(t,e){return typeof t=="function"?t(e):t}function Uf(t){return t.split("-")[0]}function fb(t){return t.split("-")[1]}function PB(t){return t==="x"?"y":"x"}function NB(t){return t==="y"?"height":"width"}function yp(t){return["top","bottom"].includes(Uf(t))?"y":"x"}function RB(t){return PB(yp(t))}function owe(t,e,n){n===void 0&&(n=!1);const r=fb(t),i=RB(t),s=NB(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=fA(a)),[a,fA(a)]}function lwe(t){const e=fA(t);return[q4(t),e,q4(e)]}function q4(t){return t.replace(/start|end/g,e=>awe[e])}function cwe(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:a;default:return[]}}function uwe(t,e,n,r){const i=fb(t);let s=cwe(Uf(t),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(q4)))),s}function fA(t){return t.replace(/left|right|bottom|top/g,e=>swe[e])}function dwe(t){return{top:0,right:0,bottom:0,left:0,...t}}function Tre(t){return typeof t!="number"?dwe(t):{top:t,right:t,bottom:t,left:t}}function hA(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function j$(t,e,n){let{reference:r,floating:i}=t;const s=yp(e),a=RB(e),o=NB(a),l=Uf(e),c=s==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[o]/2-i[o]/2;let m;switch(l){case"top":m={x:d,y:r.y-i.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-i.width,y:f};break;default:m={x:r.x,y:r.y}}switch(fb(e)){case"start":m[a]-=h*(n&&c?-1:1);break;case"end":m[a]+=h*(n&&c?-1:1);break}return m}const fwe=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,o=s.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let c=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=j$(c,r,l),h=r,m={},v=0;for(let b=0;b<o.length;b++){const{name:y,fn:w}=o[b],{x:S,y:M,data:T,reset:A}=await w({x:d,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:m,rects:c,platform:a,elements:{reference:t,floating:e}});d=S??d,f=M??f,m={...m,[y]:{...m[y],...T}},A&&v<=50&&(v++,typeof A=="object"&&(A.placement&&(h=A.placement),A.rects&&(c=A.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):A.rects),{x:d,y:f}=j$(c,h,l)),b=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:m}};async function b_(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:a,elements:o,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Ff(e,t),v=Tre(m),y=o[h?f==="floating"?"reference":"floating":f],w=hA(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(y)))==null||n?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:c,rootBoundary:d,strategy:l})),S=f==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,M=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),T=await(s.isElement==null?void 0:s.isElement(M))?await(s.getScale==null?void 0:s.getScale(M))||{x:1,y:1}:{x:1,y:1},A=hA(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:S,offsetParent:M,strategy:l}):S);return{top:(w.top-A.top+v.top)/T.y,bottom:(A.bottom-w.bottom+v.bottom)/T.y,left:(w.left-A.left+v.left)/T.x,right:(A.right-w.right+v.right)/T.x}}const hwe=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:a,elements:o,middlewareData:l}=e,{element:c,padding:d=0}=Ff(t,e)||{};if(c==null)return{};const f=Tre(d),h={x:n,y:r},m=RB(i),v=NB(m),b=await a.getDimensions(c),y=m==="y",w=y?"top":"left",S=y?"bottom":"right",M=y?"clientHeight":"clientWidth",T=s.reference[v]+s.reference[m]-h[m]-s.floating[v],A=h[m]-s.reference[m],C=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let j=C?C[M]:0;(!j||!await(a.isElement==null?void 0:a.isElement(C)))&&(j=o.floating[M]||s.floating[v]);const L=T/2-A/2,O=j/2-b[v]/2-1,k=vp(f[w],O),F=vp(f[S],O),G=k,Y=j-b[v]-F,U=j/2-b[v]/2+L,W=G4(G,U,Y),q=!l.arrow&&fb(i)!=null&&U!==W&&s.reference[v]/2-(U<G?k:F)-b[v]/2<0,Z=q?U<G?U-G:U-Y:0;return{[m]:h[m]+Z,data:{[m]:W,centerOffset:U-W-Z,...q&&{alignmentOffset:Z}},reset:q}}}),pwe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:b=!0,...y}=Ff(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const w=Uf(i),S=yp(o),M=Uf(o)===o,T=await(l.isRTL==null?void 0:l.isRTL(c.floating)),A=h||(M||!b?[fA(o)]:lwe(o)),C=v!=="none";!h&&C&&A.push(...uwe(o,b,v,T));const j=[o,...A],L=await b_(e,y),O=[];let k=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&O.push(L[w]),f){const U=owe(i,a,T);O.push(L[U[0]],L[U[1]])}if(k=[...k,{placement:i,overflows:O}],!O.every(U=>U<=0)){var F,G;const U=(((F=s.flip)==null?void 0:F.index)||0)+1,W=j[U];if(W)return{data:{index:U,overflows:k},reset:{placement:W}};let q=(G=k.filter(Z=>Z.overflows[0]<=0).sort((Z,V)=>Z.overflows[1]-V.overflows[1])[0])==null?void 0:G.placement;if(!q)switch(m){case"bestFit":{var Y;const Z=(Y=k.filter(V=>{if(C){const Q=yp(V.placement);return Q===S||Q==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(Q=>Q>0).reduce((Q,ee)=>Q+ee,0)]).sort((V,Q)=>V[1]-Q[1])[0])==null?void 0:Y[0];Z&&(q=Z);break}case"initialPlacement":q=o;break}if(i!==q)return{reset:{placement:q}}}return{}}}};function I$(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function k$(t){return iwe.some(e=>t[e]>=0)}const mwe=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Ff(t,e);switch(r){case"referenceHidden":{const s=await b_(e,{...i,elementContext:"reference"}),a=I$(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:k$(a)}}}case"escaped":{const s=await b_(e,{...i,altBoundary:!0}),a=I$(s,n.floating);return{data:{escapedOffsets:a,escaped:k$(a)}}}default:return{}}}}};async function gwe(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=Uf(n),o=fb(n),l=yp(n)==="y",c=["left","top"].includes(a)?-1:1,d=s&&l?-1:1,f=Ff(e,t);let{mainAxis:h,crossAxis:m,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof v=="number"&&(m=o==="end"?v*-1:v),l?{x:m*d,y:h*c}:{x:h*c,y:m*d}}const vwe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:a,middlewareData:o}=e,l=await gwe(e,t);return a===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:a}}}}},ywe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:y=>{let{x:w,y:S}=y;return{x:w,y:S}}},...l}=Ff(t,e),c={x:n,y:r},d=await b_(e,l),f=yp(Uf(i)),h=PB(f);let m=c[h],v=c[f];if(s){const y=h==="y"?"top":"left",w=h==="y"?"bottom":"right",S=m+d[y],M=m-d[w];m=G4(S,m,M)}if(a){const y=f==="y"?"top":"left",w=f==="y"?"bottom":"right",S=v+d[y],M=v-d[w];v=G4(S,v,M)}const b=o.fn({...e,[h]:m,[f]:v});return{...b,data:{x:b.x-n,y:b.y-r,enabled:{[h]:s,[f]:a}}}}}},xwe=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:a}=e,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=Ff(t,e),d={x:n,y:r},f=yp(i),h=PB(f);let m=d[h],v=d[f];const b=Ff(o,e),y=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(l){const M=h==="y"?"height":"width",T=s.reference[h]-s.floating[M]+y.mainAxis,A=s.reference[h]+s.reference[M]-y.mainAxis;m<T?m=T:m>A&&(m=A)}if(c){var w,S;const M=h==="y"?"width":"height",T=["top","left"].includes(Uf(i)),A=s.reference[f]-s.floating[M]+(T&&((w=a.offset)==null?void 0:w[f])||0)+(T?0:y.crossAxis),C=s.reference[f]+s.reference[M]+(T?0:((S=a.offset)==null?void 0:S[f])||0)-(T?y.crossAxis:0);v<A?v=A:v>C&&(v=C)}return{[h]:m,[f]:v}}}},bwe=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:a,elements:o}=e,{apply:l=()=>{},...c}=Ff(t,e),d=await b_(e,c),f=Uf(i),h=fb(i),m=yp(i)==="y",{width:v,height:b}=s.floating;let y,w;f==="top"||f==="bottom"?(y=f,w=h===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(w=f,y=h==="end"?"top":"bottom");const S=b-d.top-d.bottom,M=v-d.left-d.right,T=vp(b-d[y],S),A=vp(v-d[w],M),C=!e.middlewareData.shift;let j=T,L=A;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(L=M),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(j=S),C&&!h){const k=el(d.left,0),F=el(d.right,0),G=el(d.top,0),Y=el(d.bottom,0);m?L=v-2*(k!==0||F!==0?k+F:el(d.left,d.right)):j=b-2*(G!==0||Y!==0?G+Y:el(d.top,d.bottom))}await l({...e,availableWidth:L,availableHeight:j});const O=await a.getDimensions(o.floating);return v!==O.width||b!==O.height?{reset:{rects:!0}}:{}}}};function EN(){return typeof window<"u"}function hb(t){return Are(t)?(t.nodeName||"").toLowerCase():"#document"}function ll(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function pd(t){var e;return(e=(Are(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Are(t){return EN()?t instanceof Node||t instanceof ll(t).Node:!1}function Jc(t){return EN()?t instanceof Element||t instanceof ll(t).Element:!1}function rd(t){return EN()?t instanceof HTMLElement||t instanceof ll(t).HTMLElement:!1}function D$(t){return!EN()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ll(t).ShadowRoot}function dE(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=eu(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function wwe(t){return["table","td","th"].includes(hb(t))}function MN(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function OB(t){const e=jB(),n=Jc(t)?eu(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function _we(t){let e=xp(t);for(;rd(e)&&!ox(e);){if(OB(e))return e;if(MN(e))return null;e=xp(e)}return null}function jB(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ox(t){return["html","body","#document"].includes(hb(t))}function eu(t){return ll(t).getComputedStyle(t)}function TN(t){return Jc(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function xp(t){if(hb(t)==="html")return t;const e=t.assignedSlot||t.parentNode||D$(t)&&t.host||pd(t);return D$(e)?e.host:e}function Cre(t){const e=xp(t);return ox(e)?t.ownerDocument?t.ownerDocument.body:t.body:rd(e)&&dE(e)?e:Cre(e)}function w_(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Cre(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),a=ll(i);if(s){const o=X4(a);return e.concat(a,a.visualViewport||[],dE(i)?i:[],o&&n?w_(o):[])}return e.concat(i,w_(i,[],n))}function X4(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Pre(t){const e=eu(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=rd(t),s=i?t.offsetWidth:n,a=i?t.offsetHeight:r,o=dA(n)!==s||dA(r)!==a;return o&&(n=s,r=a),{width:n,height:r,$:o}}function IB(t){return Jc(t)?t:t.contextElement}function Vy(t){const e=IB(t);if(!rd(e))return qu(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=Pre(e);let a=(s?dA(n.width):n.width)/r,o=(s?dA(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const Swe=qu(0);function Nre(t){const e=ll(t);return!jB()||!e.visualViewport?Swe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Ewe(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ll(t)?!1:e}function Gg(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=IB(t);let a=qu(1);e&&(r?Jc(r)&&(a=Vy(r)):a=Vy(t));const o=Ewe(s,n,r)?Nre(s):qu(0);let l=(i.left+o.x)/a.x,c=(i.top+o.y)/a.y,d=i.width/a.x,f=i.height/a.y;if(s){const h=ll(s),m=r&&Jc(r)?ll(r):r;let v=h,b=X4(v);for(;b&&r&&m!==v;){const y=Vy(b),w=b.getBoundingClientRect(),S=eu(b),M=w.left+(b.clientLeft+parseFloat(S.paddingLeft))*y.x,T=w.top+(b.clientTop+parseFloat(S.paddingTop))*y.y;l*=y.x,c*=y.y,d*=y.x,f*=y.y,l+=M,c+=T,v=ll(b),b=X4(v)}}return hA({width:d,height:f,x:l,y:c})}function kB(t,e){const n=TN(t).scrollLeft;return e?e.left+n:Gg(pd(t)).left+n}function Rre(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:kB(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function Mwe(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",a=pd(r),o=e?MN(e.floating):!1;if(r===a||o&&s)return n;let l={scrollLeft:0,scrollTop:0},c=qu(1);const d=qu(0),f=rd(r);if((f||!f&&!s)&&((hb(r)!=="body"||dE(a))&&(l=TN(r)),rd(r))){const m=Gg(r);c=Vy(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const h=a&&!f&&!s?Rre(a,l,!0):qu(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+h.x,y:n.y*c.y-l.scrollTop*c.y+d.y+h.y}}function Twe(t){return Array.from(t.getClientRects())}function Awe(t){const e=pd(t),n=TN(t),r=t.ownerDocument.body,i=el(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=el(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+kB(t);const o=-n.scrollTop;return eu(r).direction==="rtl"&&(a+=el(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:o}}function Cwe(t,e){const n=ll(t),r=pd(t),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;const c=jB();(!c||c&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:s,height:a,x:o,y:l}}function Pwe(t,e){const n=Gg(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=rd(t)?Vy(t):qu(1),a=t.clientWidth*s.x,o=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:a,height:o,x:l,y:c}}function L$(t,e,n){let r;if(e==="viewport")r=Cwe(t,n);else if(e==="document")r=Awe(pd(t));else if(Jc(e))r=Pwe(e,n);else{const i=Nre(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return hA(r)}function Ore(t,e){const n=xp(t);return n===e||!Jc(n)||ox(n)?!1:eu(n).position==="fixed"||Ore(n,e)}function Nwe(t,e){const n=e.get(t);if(n)return n;let r=w_(t,[],!1).filter(o=>Jc(o)&&hb(o)!=="body"),i=null;const s=eu(t).position==="fixed";let a=s?xp(t):t;for(;Jc(a)&&!ox(a);){const o=eu(a),l=OB(a);!l&&o.position==="fixed"&&(i=null),(s?!l&&!i:!l&&o.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||dE(a)&&!l&&Ore(t,a))?r=r.filter(d=>d!==a):i=o,a=xp(a)}return e.set(t,r),r}function Rwe(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const a=[...n==="clippingAncestors"?MN(e)?[]:Nwe(e,this._c):[].concat(n),r],o=a[0],l=a.reduce((c,d)=>{const f=L$(e,d,i);return c.top=el(f.top,c.top),c.right=vp(f.right,c.right),c.bottom=vp(f.bottom,c.bottom),c.left=el(f.left,c.left),c},L$(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Owe(t){const{width:e,height:n}=Pre(t);return{width:e,height:n}}function jwe(t,e,n){const r=rd(e),i=pd(e),s=n==="fixed",a=Gg(t,!0,s,e);let o={scrollLeft:0,scrollTop:0};const l=qu(0);if(r||!r&&!s)if((hb(e)!=="body"||dE(i))&&(o=TN(e)),r){const h=Gg(e,!0,s,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else i&&(l.x=kB(i));const c=i&&!r&&!s?Rre(i,o):qu(0),d=a.left+o.scrollLeft-l.x-c.x,f=a.top+o.scrollTop-l.y-c.y;return{x:d,y:f,width:a.width,height:a.height}}function Sj(t){return eu(t).position==="static"}function F$(t,e){if(!rd(t)||eu(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return pd(t)===n&&(n=n.ownerDocument.body),n}function jre(t,e){const n=ll(t);if(MN(t))return n;if(!rd(t)){let i=xp(t);for(;i&&!ox(i);){if(Jc(i)&&!Sj(i))return i;i=xp(i)}return n}let r=F$(t,e);for(;r&&wwe(r)&&Sj(r);)r=F$(r,e);return r&&ox(r)&&Sj(r)&&!OB(r)?n:r||_we(t)||n}const Iwe=async function(t){const e=this.getOffsetParent||jre,n=this.getDimensions,r=await n(t.floating);return{reference:jwe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function kwe(t){return eu(t).direction==="rtl"}const Dwe={convertOffsetParentRelativeRectToViewportRelativeRect:Mwe,getDocumentElement:pd,getClippingRect:Rwe,getOffsetParent:jre,getElementRects:Iwe,getClientRects:Twe,getDimensions:Owe,getScale:Vy,isElement:Jc,isRTL:kwe};function Ire(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Lwe(t,e){let n=null,r;const i=pd(t);function s(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=c;if(o||e(),!h||!m)return;const v=nT(f),b=nT(i.clientWidth-(d+h)),y=nT(i.clientHeight-(f+m)),w=nT(d),M={rootMargin:-v+"px "+-b+"px "+-y+"px "+-w+"px",threshold:el(0,vp(1,l))||1};let T=!0;function A(C){const j=C[0].intersectionRatio;if(j!==l){if(!T)return a();j?a(!1,j):r=setTimeout(()=>{a(!1,1e-7)},1e3)}j===1&&!Ire(c,t.getBoundingClientRect())&&a(),T=!1}try{n=new IntersectionObserver(A,{...M,root:i.ownerDocument})}catch{n=new IntersectionObserver(A,M)}n.observe(t)}return a(!0),s}function Fwe(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=IB(t),d=i||s?[...c?w_(c):[],...w_(e)]:[];d.forEach(w=>{i&&w.addEventListener("scroll",n,{passive:!0}),s&&w.addEventListener("resize",n)});const f=c&&o?Lwe(c,n):null;let h=-1,m=null;a&&(m=new ResizeObserver(w=>{let[S]=w;S&&S.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var M;(M=m)==null||M.observe(e)})),n()}),c&&!l&&m.observe(c),m.observe(e));let v,b=l?Gg(t):null;l&&y();function y(){const w=Gg(t);b&&!Ire(b,w)&&n(),b=w,v=requestAnimationFrame(y)}return n(),()=>{var w;d.forEach(S=>{i&&S.removeEventListener("scroll",n),s&&S.removeEventListener("resize",n)}),f?.(),(w=m)==null||w.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const Uwe=vwe,Bwe=ywe,zwe=pwe,Vwe=bwe,$we=mwe,U$=hwe,Hwe=xwe,Wwe=(t,e,n)=>{const r=new Map,i={platform:Dwe,...n},s={...i.platform,_c:r};return fwe(t,e,{...i,platform:s})};var R2=typeof document<"u"?N.useLayoutEffect:N.useEffect;function pA(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!pA(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!pA(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function kre(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function B$(t,e){const n=kre(t);return Math.round(e*n)/n}function Ej(t){const e=N.useRef(t);return R2(()=>{e.current=t}),e}function Gwe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:l,open:c}=t,[d,f]=N.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,m]=N.useState(r);pA(h,r)||m(r);const[v,b]=N.useState(null),[y,w]=N.useState(null),S=N.useCallback(V=>{V!==C.current&&(C.current=V,b(V))},[]),M=N.useCallback(V=>{V!==j.current&&(j.current=V,w(V))},[]),T=s||v,A=a||y,C=N.useRef(null),j=N.useRef(null),L=N.useRef(d),O=l!=null,k=Ej(l),F=Ej(i),G=Ej(c),Y=N.useCallback(()=>{if(!C.current||!j.current)return;const V={placement:e,strategy:n,middleware:h};F.current&&(V.platform=F.current),Wwe(C.current,j.current,V).then(Q=>{const ee={...Q,isPositioned:G.current!==!1};U.current&&!pA(L.current,ee)&&(L.current=ee,Wu.flushSync(()=>{f(ee)}))})},[h,e,n,F,G]);R2(()=>{c===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,f(V=>({...V,isPositioned:!1})))},[c]);const U=N.useRef(!1);R2(()=>(U.current=!0,()=>{U.current=!1}),[]),R2(()=>{if(T&&(C.current=T),A&&(j.current=A),T&&A){if(k.current)return k.current(T,A,Y);Y()}},[T,A,Y,k,O]);const W=N.useMemo(()=>({reference:C,floating:j,setReference:S,setFloating:M}),[S,M]),q=N.useMemo(()=>({reference:T,floating:A}),[T,A]),Z=N.useMemo(()=>{const V={position:n,left:0,top:0};if(!q.floating)return V;const Q=B$(q.floating,d.x),ee=B$(q.floating,d.y);return o?{...V,transform:"translate("+Q+"px, "+ee+"px)",...kre(q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Q,top:ee}},[n,o,q.floating,d.x,d.y]);return N.useMemo(()=>({...d,update:Y,refs:W,elements:q,floatingStyles:Z}),[d,Y,W,q,Z])}const qwe=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?U$({element:r.current,padding:i}).fn(n):{}:r?U$({element:r,padding:i}).fn(n):{}}}},Xwe=(t,e)=>({...Uwe(t),options:[t,e]}),Ywe=(t,e)=>({...Bwe(t),options:[t,e]}),Kwe=(t,e)=>({...Hwe(t),options:[t,e]}),Zwe=(t,e)=>({...zwe(t),options:[t,e]}),Qwe=(t,e)=>({...Vwe(t),options:[t,e]}),Jwe=(t,e)=>({...$we(t),options:[t,e]}),e1e=(t,e)=>({...qwe(t),options:[t,e]});var t1e="Arrow",Dre=N.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return u.jsx(tn.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});Dre.displayName=t1e;var n1e=Dre;function DB(t){const[e,n]=N.useState(void 0);return Xi(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,o;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;a=c.inlineSize,o=c.blockSize}else a=t.offsetWidth,o=t.offsetHeight;n({width:a,height:o})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var LB="Popper",[Lre,AN]=Pa(LB),[r1e,Fre]=Lre(LB),Ure=t=>{const{__scopePopper:e,children:n}=t,[r,i]=N.useState(null);return u.jsx(r1e,{scope:e,anchor:r,onAnchorChange:i,children:n})};Ure.displayName=LB;var Bre="PopperAnchor",zre=N.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=Fre(Bre,n),a=N.useRef(null),o=Hn(e,a);return N.useEffect(()=>{s.onAnchorChange(r?.current||a.current)}),r?null:u.jsx(tn.div,{...i,ref:o})});zre.displayName=Bre;var FB="PopperContent",[i1e,s1e]=Lre(FB),Vre=N.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:v,...b}=t,y=Fre(FB,n),[w,S]=N.useState(null),M=Hn(e,pe=>S(pe)),[T,A]=N.useState(null),C=DB(T),j=C?.width??0,L=C?.height??0,O=r+(s!=="center"?"-"+s:""),k=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},F=Array.isArray(c)?c:[c],G=F.length>0,Y={padding:k,boundary:F.filter(o1e),altBoundary:G},{refs:U,floatingStyles:W,placement:q,isPositioned:Z,middlewareData:V}=Gwe({strategy:"fixed",placement:O,whileElementsMounted:(...pe)=>Fwe(...pe,{animationFrame:m==="always"}),elements:{reference:y.anchor},middleware:[Xwe({mainAxis:i+L,alignmentAxis:a}),l&&Ywe({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Kwe():void 0,...Y}),l&&Zwe({...Y}),Qwe({...Y,apply:({elements:pe,rects:Oe,availableWidth:xe,availableHeight:Me})=>{const{width:Ie,height:Te}=Oe.reference,Xe=pe.floating.style;Xe.setProperty("--radix-popper-available-width",`${xe}px`),Xe.setProperty("--radix-popper-available-height",`${Me}px`),Xe.setProperty("--radix-popper-anchor-width",`${Ie}px`),Xe.setProperty("--radix-popper-anchor-height",`${Te}px`)}}),T&&e1e({element:T,padding:o}),l1e({arrowWidth:j,arrowHeight:L}),h&&Jwe({strategy:"referenceHidden",...Y})]}),[Q,ee]=Wre(q),$=ji(v);Xi(()=>{Z&&$?.()},[Z,$]);const J=V.arrow?.x,de=V.arrow?.y,Ae=V.arrow?.centerOffset!==0,[Ue,ge]=N.useState();return Xi(()=>{w&&ge(window.getComputedStyle(w).zIndex)},[w]),u.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:Z?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ue,"--radix-popper-transform-origin":[V.transformOrigin?.x,V.transformOrigin?.y].join(" "),...V.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(i1e,{scope:n,placedSide:Q,onArrowChange:A,arrowX:J,arrowY:de,shouldHideArrow:Ae,children:u.jsx(tn.div,{"data-side":Q,"data-align":ee,...b,ref:M,style:{...b.style,animation:Z?void 0:"none"}})})})});Vre.displayName=FB;var $re="PopperArrow",a1e={top:"bottom",right:"left",bottom:"top",left:"right"},Hre=N.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=s1e($re,r),a=a1e[s.placedSide];return u.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:u.jsx(n1e,{...i,ref:n,style:{...i.style,display:"block"}})})});Hre.displayName=$re;function o1e(t){return t!==null}var l1e=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:i}=e,a=i.arrow?.centerOffset!==0,o=a?0:t.arrowWidth,l=a?0:t.arrowHeight,[c,d]=Wre(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(i.arrow?.x??0)+o/2,m=(i.arrow?.y??0)+l/2;let v="",b="";return c==="bottom"?(v=a?f:`${h}px`,b=`${-l}px`):c==="top"?(v=a?f:`${h}px`,b=`${r.floating.height+l}px`):c==="right"?(v=`${-l}px`,b=a?f:`${m}px`):c==="left"&&(v=`${r.floating.width+l}px`,b=a?f:`${m}px`),{data:{x:v,y:b}}}});function Wre(t){const[e,n="center"]=t.split("-");return[e,n]}var c1e=Ure,Gre=zre,qre=Vre,Xre=Hre,[CN]=Pa("Tooltip",[AN]),UB=AN(),Yre="TooltipProvider",u1e=700,z$="tooltip.open",[d1e,Kre]=CN(Yre),Zre=t=>{const{__scopeTooltip:e,delayDuration:n=u1e,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,a=N.useRef(!0),o=N.useRef(!1),l=N.useRef(0);return N.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),u.jsx(d1e,{scope:e,isOpenDelayedRef:a,delayDuration:n,onOpen:N.useCallback(()=>{window.clearTimeout(l.current),a.current=!1},[]),onClose:N.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:o,onPointerInTransitChange:N.useCallback(c=>{o.current=c},[]),disableHoverableContent:i,children:s})};Zre.displayName=Yre;var Qre="Tooltip",[Wdt,PN]=CN(Qre),Y4="TooltipTrigger",f1e=N.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=PN(Y4,n),s=Kre(Y4,n),a=UB(n),o=N.useRef(null),l=Hn(e,o,i.onTriggerChange),c=N.useRef(!1),d=N.useRef(!1),f=N.useCallback(()=>c.current=!1,[]);return N.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),u.jsx(Gre,{asChild:!0,...a,children:u.jsx(tn.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:Ht(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ht(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:Ht(t.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ht(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:Ht(t.onBlur,i.onClose),onClick:Ht(t.onClick,i.onClose)})})});f1e.displayName=Y4;var h1e="TooltipPortal",[Gdt,p1e]=CN(h1e,{forceMount:void 0}),lx="TooltipContent",Jre=N.forwardRef((t,e)=>{const n=p1e(lx,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,a=PN(lx,t.__scopeTooltip);return u.jsx(Yl,{present:r||a.open,children:a.disableHoverableContent?u.jsx(eie,{side:i,...s,ref:e}):u.jsx(m1e,{side:i,...s,ref:e})})}),m1e=N.forwardRef((t,e)=>{const n=PN(lx,t.__scopeTooltip),r=Kre(lx,t.__scopeTooltip),i=N.useRef(null),s=Hn(e,i),[a,o]=N.useState(null),{trigger:l,onClose:c}=n,d=i.current,{onPointerInTransitChange:f}=r,h=N.useCallback(()=>{o(null),f(!1)},[f]),m=N.useCallback((v,b)=>{const y=v.currentTarget,w={x:v.clientX,y:v.clientY},S=b1e(w,y.getBoundingClientRect()),M=w1e(w,S),T=_1e(b.getBoundingClientRect()),A=E1e([...M,...T]);o(A),f(!0)},[f]);return N.useEffect(()=>()=>h(),[h]),N.useEffect(()=>{if(l&&d){const v=y=>m(y,d),b=y=>m(y,l);return l.addEventListener("pointerleave",v),d.addEventListener("pointerleave",b),()=>{l.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",b)}}},[l,d,m,h]),N.useEffect(()=>{if(a){const v=b=>{const y=b.target,w={x:b.clientX,y:b.clientY},S=l?.contains(y)||d?.contains(y),M=!S1e(w,a);S?h():M&&(h(),c())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,d,a,c,h]),u.jsx(eie,{...t,ref:s})}),[g1e,v1e]=CN(Qre,{isInside:!1}),y1e=Pne("TooltipContent"),eie=N.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:a,...o}=t,l=PN(lx,n),c=UB(n),{onClose:d}=l;return N.useEffect(()=>(document.addEventListener(z$,d),()=>document.removeEventListener(z$,d)),[d]),N.useEffect(()=>{if(l.trigger){const f=h=>{h.target?.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),u.jsx(lE,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:u.jsxs(qre,{"data-state":l.stateAttribute,...c,...o,ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(y1e,{children:r}),u.jsx(g1e,{scope:n,isInside:!0,children:u.jsx(Exe,{id:l.contentId,role:"tooltip",children:i||r})})]})})});Jre.displayName=lx;var tie="TooltipArrow",x1e=N.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=UB(n);return v1e(tie,n).isInside?null:u.jsx(Xre,{...i,...r,ref:e})});x1e.displayName=tie;function b1e(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function w1e(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function _1e(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function S1e(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const o=e[s].x,l=e[s].y,c=e[a].x,d=e[a].y;l>r!=d>r&&n<(c-o)*(r-l)/(d-l)+o&&(i=!i)}return i}function E1e(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),M1e(e)}function M1e(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],a=e[e.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],a=n[n.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var T1e=Zre,nie=Jre;const A1e=T1e,C1e=N.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(nie,{ref:r,sideOffset:e,className:Et("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));C1e.displayName=nie.displayName;const V$={en:{dashboard:"Dashboard",catalog:"Equipment Catalog",sizingTool:"Sizing Tool",caseStudies:"Case Studies",blog:"Blog",settings:"Settings",admin:"Admin",logout:"Logout",login:"Login",register:"Register",submit:"Submit",cancel:"Cancel",save:"Save",delete:"Delete",edit:"Edit",add:"Add",search:"Search",filter:"Filter",loading:"Loading...",noResults:"No results found",viewAll:"View All",learnMore:"Learn More",readMore:"Read More",contactUs:"Contact Us",executiveSummary:"Executive Summary",operationalGoals:"Operational Goals",marketDynamics:"Market Dynamics & Local Opportunity",greenH2Investment:"Green H2 Investment Matrix",dieselHydrogenDivergence:"The Diesel-Hydrogen Divergence",fossilFuelVulnerability:"Fossil Fuel Vulnerability",greenHydrogenOpportunity:"Green Hydrogen Opportunity",economicRisk:"Economic risk vs. Future-proof investment",localInvestment:"Local Investment",marketDependency:"Market Dependency",retainedValue:"100% Retained Value",capitalFlight:"90% Capital Flight",tcoProjection:"TCO Projection & Local Ecosystem Growth",exploreGlobalStrategy:"Explore Global Strategy",globalH2Tracker:"Global H2 Project Tracker",liveData:"Live 2025 Data",openTrackerMap:"Open Tracker Map",hydrogenCapex:"Hydrogen (CapEx View)",dieselOpex:"Diesel (OpEx Drain)",equipmentCatalog:"Equipment Catalog",addEquipment:"Add Equipment",manufacturer:"Manufacturer",model:"Model",type:"Type",ratedPower:"Rated Power",efficiency:"Efficiency",outputVoltage:"Output Voltage",fuelConsumption:"Fuel Consumption",fuelType:"Fuel Type",capex:"CAPEX",source:"Source",technicalDetails:"Technical Details",powerRange:"Power Range",datasheet:"Datasheet",viewDatasheet:"View Datasheet",siteParameters:"Site Parameters",loadProfile:"Load Profile",systemConfiguration:"System Configuration",results:"Results",batteryRequirements:"Battery Requirements",fuelRequirements:"Fuel Requirements",cableSizing:"Cable Sizing",financialComparison:"Financial Comparison",calculateSystem:"Calculate System",saveProject:"Save Project",exportReport:"Export Report",siteLoad:"Site Load",autonomyHours:"Autonomy Hours",systemVoltage:"System Voltage",altitude:"Altitude",temperature:"Temperature",caseStudiesTitle:"Case Studies",successStories:"Success Stories",projectHighlights:"Project Highlights",keyMetrics:"Key Metrics",implementationDetails:"Implementation Details",blogTitle:"Blog & Insights",latestArticles:"Latest Articles",featuredPost:"Featured Post",categories:"Categories",allPosts:"All Posts",comments:"Comments",leaveComment:"Leave a Comment",yourName:"Your Name",yourEmail:"Your Email",yourMessage:"Your Message",postComment:"Post Comment",resources:"Resources & References",settingsTitle:"Settings",preferences:"Preferences",theme:"Theme",language:"Language",units:"Units",calculationDefaults:"Calculation Defaults",userProfile:"User Profile",changePassword:"Change Password",notifications:"Notifications",getInTouch:"Get in Touch",sendMessage:"Send Message",messageSent:"Message sent successfully!",email:"Email",password:"Password",confirmPassword:"Confirm Password",phone:"Phone",fullName:"Full Name",jobTitle:"Job Title",forgotPassword:"Forgot Password?",noAccount:"Don't have an account?",hasAccount:"Already have an account?",signUp:"Sign Up",signIn:"Sign In",executiveQuote:"Gentlemen, we are the largest diesel consumer in Sudan, and we own the largest geographically distributed asset network. If we invest part of the OpEx budget wasted on diesel and transform it into CapEx for hydrogen production units, we will become an Energy and Telecom company (InfraCo) within 10 years.",pillarEnergy:"Energy Independence",pillarCost:"Cost Optimization",pillarSustainability:"Sustainability",pillarInnovation:"Innovation"},ar:{dashboard:" ",catalog:" ",sizingTool:" ",caseStudies:" ",blog:"",settings:"",admin:"",logout:" ",login:" ",register:" ",submit:"",cancel:"",save:"",delete:"",edit:"",add:"",search:"",filter:"",loading:" ...",noResults:"  ",viewAll:" ",learnMore:" ",readMore:" ",contactUs:" ",executiveSummary:" ",operationalGoals:" ",marketDynamics:"   ",greenH2Investment:"   ",dieselHydrogenDivergence:"  ",fossilFuelVulnerability:"  ",greenHydrogenOpportunity:"  ",economicRisk:"    ",localInvestment:" ",marketDependency:"  ",retainedValue:"100%   ",capitalFlight:"90%   ",tcoProjection:"      ",exploreGlobalStrategy:"  ",globalH2Tracker:"   ",liveData:" 2025 ",openTrackerMap:"  ",hydrogenCapex:" (  )",dieselOpex:" ( )",equipmentCatalog:" ",addEquipment:" ",manufacturer:" ",model:"",type:"",ratedPower:" ",efficiency:"",outputVoltage:" ",fuelConsumption:" ",fuelType:" ",capex:" ",source:"",technicalDetails:" ",powerRange:" ",datasheet:" ",viewDatasheet:"  ",siteParameters:" ",loadProfile:" ",systemConfiguration:" ",results:"",batteryRequirements:" ",fuelRequirements:" ",cableSizing:" ",financialComparison:" ",calculateSystem:" ",saveProject:" ",exportReport:" ",siteLoad:" ",autonomyHours:" ",systemVoltage:" ",altitude:"",temperature:" ",caseStudiesTitle:" ",successStories:" ",projectHighlights:" ",keyMetrics:" ",implementationDetails:" ",blogTitle:" ",latestArticles:" ",featuredPost:" ",categories:"",allPosts:" ",comments:"",leaveComment:" ",yourName:"",yourEmail:" ",yourMessage:"",postComment:" ",resources:" ",settingsTitle:"",preferences:"",theme:"",language:"",units:"",calculationDefaults:"  ",userProfile:" ",changePassword:"  ",notifications:"",getInTouch:" ",sendMessage:" ",messageSent:"   !",email:" ",password:" ",confirmPassword:"  ",phone:"",fullName:" ",jobTitle:" ",forgotPassword:"  ",noAccount:"  ",hasAccount:"  ",signUp:" ",signIn:" ",executiveQuote:"           .                      10 .",pillarEnergy:" ",pillarCost:" ",pillarSustainability:"",pillarInnovation:""}},Mj={preferences:{theme:"system",visualStyle:"sudanese",language:"en",compactMode:!1,showTutorials:!0,autoSaveProjects:!0},units:{system:"metric",temperature:"celsius",pressure:"bar",currency:"USD"},calculationDefaults:{defaultDeratingTemp:45,defaultAltitude:0,defaultAutonomyHours:8,defaultSystemVoltage:48,defaultBatteryDod:80,defaultBatteryBufferHours:2,defaultDieselPrice:.8,defaultH2Price:8,defaultPilferageFactor:15,defaultLogisticsCost:20,defaultRefuelingCycleDays:14,defaultDgCapacity:20}},rie=N.createContext(void 0),$$="fcpms_settings";function P1e({children:t}){const[e,n]=N.useState(()=>{try{const m=localStorage.getItem($$);if(m){const v=JSON.parse(m);return{...Mj,...v}}}catch(m){console.error("Failed to load settings:",m)}return Mj});N.useEffect(()=>{try{localStorage.setItem($$,JSON.stringify(e))}catch(m){console.error("Failed to save settings:",m)}},[e]),N.useEffect(()=>{const m=e.preferences.theme,v=document.documentElement;v.classList.remove("dark","theme-blue","theme-green","theme-purple","theme-sunset"),m==="dark"?v.classList.add("dark"):m==="blue"?v.classList.add("theme-blue"):m==="green"?v.classList.add("theme-green"):m==="purple"?v.classList.add("theme-purple"):m==="sunset"?v.classList.add("theme-sunset"):m==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches&&v.classList.add("dark")},[e.preferences.theme]),N.useEffect(()=>{const m=e.preferences.visualStyle,v=document.documentElement;v.classList.remove("style-modern","style-classic","style-minimal","style-sudanese"),v.classList.add(`style-${m}`)},[e.preferences.visualStyle]);const r=m=>{n(v=>({...v,preferences:{...v.preferences,...m}}))},i=m=>{n(v=>({...v,units:{...v.units,...m}}))},s=m=>{n(v=>({...v,calculationDefaults:{...v.calculationDefaults,...m}}))},a=()=>{n(Mj)},o=(m,v)=>v==="fahrenheit"?m*9/5+32:(m-32)*5/9,l=(m,v)=>v==="psi"?m*14.5038:m/14.5038,c=m=>`${{USD:"$",EUR:"",GBP:"",SAR:"",AED:"."}[e.units.currency]}${m.toLocaleString()}`,d=e.preferences.language,f=d==="ar",h=N.useCallback(m=>V$[d][m]||V$.en[m]||m,[d]);return N.useEffect(()=>{document.documentElement.dir=f?"rtl":"ltr",document.documentElement.lang=d},[f,d]),u.jsx(rie.Provider,{value:{settings:e,updatePreferences:r,updateUnits:i,updateCalculationDefaults:s,resetToDefaults:a,convertTemperature:o,convertPressure:l,formatCurrency:c,t:h,language:d,isRTL:f},children:t})}function Na(){const t=N.useContext(rie);if(!t)throw new Error("useSettings must be used within a SettingsProvider");return t}async function N1e(){const t=localStorage.getItem("fcpms_user");if(localStorage.getItem("fcpms_authenticated")==="true"&&t)try{return JSON.parse(t)}catch{localStorage.removeItem("fcpms_user"),localStorage.removeItem("fcpms_authenticated")}const n=await fetch("/api/auth/user",{credentials:"include"});if(n.status===401)return null;if(!n.ok)throw new Error(`${n.status}: ${n.statusText}`);const r=await n.json();return r&&(localStorage.setItem("fcpms_user",JSON.stringify(r)),localStorage.setItem("fcpms_authenticated","true")),r}async function R1e(){localStorage.removeItem("fcpms_user"),localStorage.removeItem("fcpms_authenticated"),window.location.href="/api/logout"}function NN(){const t=fd(),{data:e,isLoading:n}=gp({queryKey:["/api/auth/user"],queryFn:N1e,retry:!1,staleTime:1e3*60*5}),r=Bl({mutationFn:R1e,onSuccess:()=>{t.setQueryData(["/api/auth/user"],null)}});return{user:e,isLoading:n,isAuthenticated:!!e,logout:r.mutate,isLoggingOut:r.isPending}}const vt=N.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:Et("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));vt.displayName="Card";const pn=N.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:Et("flex flex-col space-y-1.5 p-6",t),...e}));pn.displayName="CardHeader";const _n=N.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:Et("text-2xl font-semibold leading-none tracking-tight",t),...e}));_n.displayName="CardTitle";const Zr=N.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:Et("text-sm text-muted-foreground",t),...e}));Zr.displayName="CardDescription";const Ct=N.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:Et("p-6 pt-0",t),...e}));Ct.displayName="CardContent";const iie=N.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:Et("flex items-center p-6 pt-0",t),...e}));iie.displayName="CardFooter";function O1e(){return u.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:u.jsx(vt,{className:"w-full max-w-md mx-4",children:u.jsxs(Ct,{className:"pt-6",children:[u.jsxs("div",{className:"flex mb-4 gap-2",children:[u.jsx(nre,{className:"h-8 w-8 text-red-500"}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),u.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const BB=uE("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),bt=N.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const a=r?Ane:"button";return u.jsx(a,{className:Et(BB({variant:e,size:n,className:t})),ref:s,...i})});bt.displayName="Button";const ln=N.forwardRef(({className:t,type:e,...n},r)=>u.jsx("input",{type:e,className:Et("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));ln.displayName="Input";var j1e="Label",sie=N.forwardRef((t,e)=>u.jsx(tn.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));sie.displayName=j1e;var aie=sie;const I1e=uE("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Zt=N.forwardRef(({className:t,...e},n)=>u.jsx(aie,{ref:n,className:Et(I1e(),t),...e}));Zt.displayName=aie.displayName;var k1e=N.createContext(void 0);function pb(t){const e=N.useContext(k1e);return t||e||"ltr"}var Tj="rovingFocusGroup.onEntryFocus",D1e={bubbles:!1,cancelable:!0},RN="RovingFocusGroup",[K4,oie,L1e]=oE(RN),[F1e,lie]=Pa(RN,[L1e]),[U1e,B1e]=F1e(RN),cie=N.forwardRef((t,e)=>u.jsx(K4.Provider,{scope:t.__scopeRovingFocusGroup,children:u.jsx(K4.Slot,{scope:t.__scopeRovingFocusGroup,children:u.jsx(z1e,{...t,ref:e})})}));cie.displayName=RN;var z1e=N.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...f}=t,h=N.useRef(null),m=Hn(e,h),v=pb(s),[b=null,y]=Qc({prop:a,defaultProp:o,onChange:l}),[w,S]=N.useState(!1),M=ji(c),T=oie(n),A=N.useRef(!1),[C,j]=N.useState(0);return N.useEffect(()=>{const L=h.current;if(L)return L.addEventListener(Tj,M),()=>L.removeEventListener(Tj,M)},[M]),u.jsx(U1e,{scope:n,orientation:r,dir:v,loop:i,currentTabStopId:b,onItemFocus:N.useCallback(L=>y(L),[y]),onItemShiftTab:N.useCallback(()=>S(!0),[]),onFocusableItemAdd:N.useCallback(()=>j(L=>L+1),[]),onFocusableItemRemove:N.useCallback(()=>j(L=>L-1),[]),children:u.jsx(tn.div,{tabIndex:w||C===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...t.style},onMouseDown:Ht(t.onMouseDown,()=>{A.current=!0}),onFocus:Ht(t.onFocus,L=>{const O=!A.current;if(L.target===L.currentTarget&&O&&!w){const k=new CustomEvent(Tj,D1e);if(L.currentTarget.dispatchEvent(k),!k.defaultPrevented){const F=T().filter(q=>q.focusable),G=F.find(q=>q.active),Y=F.find(q=>q.id===b),W=[G,Y,...F].filter(Boolean).map(q=>q.ref.current);fie(W,d)}}A.current=!1}),onBlur:Ht(t.onBlur,()=>S(!1))})})}),uie="RovingFocusGroupItem",die=N.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,...a}=t,o=Gu(),l=s||o,c=B1e(uie,n),d=c.currentTabStopId===l,f=oie(n),{onFocusableItemAdd:h,onFocusableItemRemove:m}=c;return N.useEffect(()=>{if(r)return h(),()=>m()},[r,h,m]),u.jsx(K4.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:u.jsx(tn.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...a,ref:e,onMouseDown:Ht(t.onMouseDown,v=>{r?c.onItemFocus(l):v.preventDefault()}),onFocus:Ht(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:Ht(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){c.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const b=H1e(v,c.orientation,c.dir);if(b!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let w=f().filter(S=>S.focusable).map(S=>S.ref.current);if(b==="last")w.reverse();else if(b==="prev"||b==="next"){b==="prev"&&w.reverse();const S=w.indexOf(v.currentTarget);w=c.loop?W1e(w,S+1):w.slice(S+1)}setTimeout(()=>fie(w))}})})})});die.displayName=uie;var V1e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function $1e(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function H1e(t,e,n){const r=$1e(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return V1e[r]}function fie(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function W1e(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var G1e=cie,q1e=die,zB="Tabs",[X1e]=Pa(zB,[lie]),hie=lie(),[Y1e,VB]=X1e(zB),pie=N.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:a="horizontal",dir:o,activationMode:l="automatic",...c}=t,d=pb(o),[f,h]=Qc({prop:r,onChange:i,defaultProp:s});return u.jsx(Y1e,{scope:n,baseId:Gu(),value:f,onValueChange:h,orientation:a,dir:d,activationMode:l,children:u.jsx(tn.div,{dir:d,"data-orientation":a,...c,ref:e})})});pie.displayName=zB;var mie="TabsList",gie=N.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=VB(mie,n),a=hie(n);return u.jsx(G1e,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:r,children:u.jsx(tn.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});gie.displayName=mie;var vie="TabsTrigger",yie=N.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,a=VB(vie,n),o=hie(n),l=wie(a.baseId,r),c=_ie(a.baseId,r),d=r===a.value;return u.jsx(q1e,{asChild:!0,...o,focusable:!i,active:d,children:u.jsx(tn.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:e,onMouseDown:Ht(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?a.onValueChange(r):f.preventDefault()}),onKeyDown:Ht(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(r)}),onFocus:Ht(t.onFocus,()=>{const f=a.activationMode!=="manual";!d&&!i&&f&&a.onValueChange(r)})})})});yie.displayName=vie;var xie="TabsContent",bie=N.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...a}=t,o=VB(xie,n),l=wie(o.baseId,r),c=_ie(o.baseId,r),d=r===o.value,f=N.useRef(d);return N.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),u.jsx(Yl,{present:i||d,children:({present:h})=>u.jsx(tn.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:c,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:h&&s})})});bie.displayName=xie;function wie(t,e){return`${t}-trigger-${e}`}function _ie(t,e){return`${t}-content-${e}`}var K1e=pie,Sie=gie,Eie=yie,Mie=bie;const g0=K1e,Dp=N.forwardRef(({className:t,...e},n)=>u.jsx(Sie,{ref:n,className:Et("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Dp.displayName=Sie.displayName;const xs=N.forwardRef(({className:t,...e},n)=>u.jsx(Eie,{ref:n,className:Et("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));xs.displayName=Eie.displayName;const Fs=N.forwardRef(({className:t,...e},n)=>u.jsx(Mie,{ref:n,className:Et("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Fs.displayName=Mie.displayName;const __="/assets/photo_2026-01-06_08-19-49_1767684955336-BWT0a7eM.jpg",Tie=N.createContext({});function $B(t){const e=N.useRef(null);return e.current===null&&(e.current=t()),e.current}const HB=N.createContext(null),ON=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Z1e(t=!0){const e=N.useContext(HB);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=N.useId();N.useEffect(()=>{t&&i(s)},[t]);const a=N.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,a]:[!0]}const WB=typeof window<"u",GB=WB?N.useLayoutEffect:N.useEffect,cl=t=>t;let Aie=cl;function qB(t){let e;return()=>(e===void 0&&(e=t()),e)}const cx=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Rf=t=>t*1e3,Of=t=>t/1e3,Q1e={useManualTiming:!1};function J1e(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function o(c){s.has(c)&&(l.schedule(c),t()),c(a)}const l={schedule:(c,d=!1,f=!1)=>{const m=f&&r?e:n;return d&&s.add(c),m.has(c)||m.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(a=c,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(o),e.clear(),r=!1,i&&(i=!1,l.process(c))}};return l}const rT=["read","resolveKeyframes","update","preRender","render","postRender"],e_e=40;function Cie(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=rT.reduce((w,S)=>(w[S]=J1e(s),w),{}),{read:o,resolveKeyframes:l,update:c,preRender:d,render:f,postRender:h}=a,m=()=>{const w=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(w-i.timestamp,e_e),1),i.timestamp=w,i.isProcessing=!0,o.process(i),l.process(i),c.process(i),d.process(i),f.process(i),h.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(m))},v=()=>{n=!0,r=!0,i.isProcessing||t(m)};return{schedule:rT.reduce((w,S)=>{const M=a[S];return w[S]=(T,A=!1,C=!1)=>(n||v(),M.schedule(T,A,C)),w},{}),cancel:w=>{for(let S=0;S<rT.length;S++)a[rT[S]].cancel(w)},state:i,steps:a}}const{schedule:Xr,cancel:Bf,state:Rs,steps:Aj}=Cie(typeof requestAnimationFrame<"u"?requestAnimationFrame:cl,!0),Pie=N.createContext({strict:!1}),H$={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ux={};for(const t in H$)ux[t]={isEnabled:e=>H$[t].some(n=>!!e[n])};function t_e(t){for(const e in t)ux[e]={...ux[e],...t[e]}}const n_e=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function mA(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||n_e.has(t)}let Nie=t=>!mA(t);function r_e(t){t&&(Nie=e=>e.startsWith("on")?!mA(e):t(e))}try{r_e(require("@emotion/is-prop-valid").default)}catch{}function i_e(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(Nie(i)||n===!0&&mA(i)||!e&&!mA(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function s_e(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const jN=N.createContext({});function S_(t){return typeof t=="string"||Array.isArray(t)}function IN(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const XB=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],YB=["initial",...XB];function kN(t){return IN(t.animate)||YB.some(e=>S_(t[e]))}function Rie(t){return!!(kN(t)||t.variants)}function a_e(t,e){if(kN(t)){const{initial:n,animate:r}=t;return{initial:n===!1||S_(n)?n:void 0,animate:S_(r)?r:void 0}}return t.inherit!==!1?e:{}}function o_e(t){const{initial:e,animate:n}=a_e(t,N.useContext(jN));return N.useMemo(()=>({initial:e,animate:n}),[W$(e),W$(n)])}function W$(t){return Array.isArray(t)?t.join(" "):t}const l_e=Symbol.for("motionComponentSymbol");function Sy(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function c_e(t,e,n){return N.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Sy(n)&&(n.current=r))},[e])}const KB=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),u_e="framerAppearId",Oie="data-"+KB(u_e),{schedule:ZB}=Cie(queueMicrotask,!1),jie=N.createContext({});function d_e(t,e,n,r,i){var s,a;const{visualElement:o}=N.useContext(jN),l=N.useContext(Pie),c=N.useContext(HB),d=N.useContext(ON).reducedMotion,f=N.useRef(null);r=r||l.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:o,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const h=f.current,m=N.useContext(jie);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&f_e(f.current,n,i,m);const v=N.useRef(!1);N.useInsertionEffect(()=>{h&&v.current&&h.update(n,c)});const b=n[Oie],y=N.useRef(!!b&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,b))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,b)));return GB(()=>{h&&(v.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),ZB.render(h.render),y.current&&h.animationState&&h.animationState.animateChanges())}),N.useEffect(()=>{h&&(!y.current&&h.animationState&&h.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)===null||w===void 0||w.call(window,b)}),y.current=!1))}),h}function f_e(t,e,n,r){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Iie(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||o&&Sy(o),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function Iie(t){if(t)return t.options.allowProjection!==!1?t.projection:Iie(t.parent)}function h_e({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var s,a;t&&t_e(t);function o(c,d){let f;const h={...N.useContext(ON),...c,layoutId:p_e(c)},{isStatic:m}=h,v=o_e(c),b=r(c,m);if(!m&&WB){m_e();const y=g_e(h);f=y.MeasureLayout,v.visualElement=d_e(i,b,h,e,y.ProjectionNode)}return u.jsxs(jN.Provider,{value:v,children:[f&&v.visualElement?u.jsx(f,{visualElement:v.visualElement,...h}):null,n(i,c,c_e(b,v.visualElement,d),b,m,v.visualElement)]})}o.displayName=`motion.${typeof i=="string"?i:`create(${(a=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&a!==void 0?a:""})`}`;const l=N.forwardRef(o);return l[l_e]=i,l}function p_e({layoutId:t}){const e=N.useContext(Tie).id;return e&&t!==void 0?e+"-"+t:t}function m_e(t,e){N.useContext(Pie).strict}function g_e(t){const{drag:e,layout:n}=ux;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const v_e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function QB(t){return typeof t!="string"||t.includes("-")?!1:!!(v_e.indexOf(t)>-1||/[A-Z]/u.test(t))}function G$(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function JB(t,e,n,r){if(typeof e=="function"){const[i,s]=G$(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=G$(r);e=e(n!==void 0?n:t.custom,i,s)}return e}const Z4=t=>Array.isArray(t),y_e=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),x_e=t=>Z4(t)?t[t.length-1]||0:t,Us=t=>!!(t&&t.getVelocity);function O2(t){const e=Us(t)?t.get():t;return y_e(e)?e.toValue():e}function b_e({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,s){const a={latestValues:w_e(r,i,s,t),renderState:e()};return n&&(a.onMount=o=>n({props:r,current:o,...a}),a.onUpdate=o=>n(o)),a}const kie=t=>(e,n)=>{const r=N.useContext(jN),i=N.useContext(HB),s=()=>b_e(t,e,r,i);return n?s():$B(s)};function w_e(t,e,n,r){const i={},s=r(t,{});for(const h in s)i[h]=O2(s[h]);let{initial:a,animate:o}=t;const l=kN(t),c=Rie(t);e&&c&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const f=d?o:a;if(f&&typeof f!="boolean"&&!IN(f)){const h=Array.isArray(f)?f:[f];for(let m=0;m<h.length;m++){const v=JB(t,h[m]);if(v){const{transitionEnd:b,transition:y,...w}=v;for(const S in w){let M=w[S];if(Array.isArray(M)){const T=d?M.length-1:0;M=M[T]}M!==null&&(i[S]=M)}for(const S in b)i[S]=b[S]}}}return i}const mb=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],v0=new Set(mb),Die=t=>e=>typeof e=="string"&&e.startsWith(t),Lie=Die("--"),__e=Die("var(--"),ez=t=>__e(t)?S_e.test(t.split("/*")[0].trim()):!1,S_e=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Fie=(t,e)=>e&&typeof t=="number"?e.transform(t):t,zf=(t,e,n)=>n>e?e:n<t?t:n,gb={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},E_={...gb,transform:t=>zf(0,1,t)},iT={...gb,default:1},fE=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Gh=fE("deg"),Xu=fE("%"),wn=fE("px"),E_e=fE("vh"),M_e=fE("vw"),q$={...Xu,parse:t=>Xu.parse(t)/100,transform:t=>Xu.transform(t*100)},T_e={borderWidth:wn,borderTopWidth:wn,borderRightWidth:wn,borderBottomWidth:wn,borderLeftWidth:wn,borderRadius:wn,radius:wn,borderTopLeftRadius:wn,borderTopRightRadius:wn,borderBottomRightRadius:wn,borderBottomLeftRadius:wn,width:wn,maxWidth:wn,height:wn,maxHeight:wn,top:wn,right:wn,bottom:wn,left:wn,padding:wn,paddingTop:wn,paddingRight:wn,paddingBottom:wn,paddingLeft:wn,margin:wn,marginTop:wn,marginRight:wn,marginBottom:wn,marginLeft:wn,backgroundPositionX:wn,backgroundPositionY:wn},A_e={rotate:Gh,rotateX:Gh,rotateY:Gh,rotateZ:Gh,scale:iT,scaleX:iT,scaleY:iT,scaleZ:iT,skew:Gh,skewX:Gh,skewY:Gh,distance:wn,translateX:wn,translateY:wn,translateZ:wn,x:wn,y:wn,z:wn,perspective:wn,transformPerspective:wn,opacity:E_,originX:q$,originY:q$,originZ:wn},X$={...gb,transform:Math.round},tz={...T_e,...A_e,zIndex:X$,size:wn,fillOpacity:E_,strokeOpacity:E_,numOctaves:X$},C_e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},P_e=mb.length;function N_e(t,e,n){let r="",i=!0;for(let s=0;s<P_e;s++){const a=mb[s],o=t[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||n){const c=Fie(o,tz[a]);if(!l){i=!1;const d=C_e[a]||a;r+=`${d}(${c}) `}n&&(e[a]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function nz(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let a=!1,o=!1;for(const l in e){const c=e[l];if(v0.has(l)){a=!0;continue}else if(Lie(l)){i[l]=c;continue}else{const d=Fie(c,tz[l]);l.startsWith("origin")?(o=!0,s[l]=d):r[l]=d}}if(e.transform||(a||n?r.transform=N_e(e,t.transform,n):r.transform&&(r.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:d=0}=s;r.transformOrigin=`${l} ${c} ${d}`}}const R_e={offset:"stroke-dashoffset",array:"stroke-dasharray"},O_e={offset:"strokeDashoffset",array:"strokeDasharray"};function j_e(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?R_e:O_e;t[s.offset]=wn.transform(-r);const a=wn.transform(e),o=wn.transform(n);t[s.array]=`${a} ${o}`}function Y$(t,e,n){return typeof t=="string"?t:wn.transform(e+n*t)}function I_e(t,e,n){const r=Y$(e,t.x,t.width),i=Y$(n,t.y,t.height);return`${r} ${i}`}function rz(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:a,pathSpacing:o=1,pathOffset:l=0,...c},d,f){if(nz(t,c,f),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:m,dimensions:v}=t;h.transform&&(v&&(m.transform=h.transform),delete h.transform),v&&(i!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=I_e(v,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),a!==void 0&&j_e(h,a,o,l,!1)}const iz=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Uie=()=>({...iz(),attrs:{}}),sz=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Bie(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const zie=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Vie(t,e,n,r){Bie(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(zie.has(i)?i:KB(i),e.attrs[i])}const gA={};function k_e(t){Object.assign(gA,t)}function $ie(t,{layout:e,layoutId:n}){return v0.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!gA[t]||t==="opacity")}function az(t,e,n){var r;const{style:i}=t,s={};for(const a in i)(Us(i[a])||e.style&&Us(e.style[a])||$ie(a,t)||((r=n?.getValue(a))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[a]=i[a]);return s}function Hie(t,e,n){const r=az(t,e,n);for(const i in t)if(Us(t[i])||Us(e[i])){const s=mb.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function D_e(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const K$=["x","y","width","height","cx","cy","r"],L_e={useVisualState:kie({scrapeMotionValuesFromProps:Hie,createRenderState:Uie,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!t.drag;if(!s){for(const o in i)if(v0.has(o)){s=!0;break}}if(!s)return;let a=!e;if(e)for(let o=0;o<K$.length;o++){const l=K$[o];t[l]!==e[l]&&(a=!0)}a&&Xr.read(()=>{D_e(n,r),Xr.render(()=>{rz(r,i,sz(n.tagName),t.transformTemplate),Vie(n,r)})})}})},F_e={useVisualState:kie({scrapeMotionValuesFromProps:az,createRenderState:iz})};function Wie(t,e,n){for(const r in e)!Us(e[r])&&!$ie(r,n)&&(t[r]=e[r])}function U_e({transformTemplate:t},e){return N.useMemo(()=>{const n=iz();return nz(n,e,t),Object.assign({},n.vars,n.style)},[e])}function B_e(t,e){const n=t.style||{},r={};return Wie(r,n,t),Object.assign(r,U_e(t,e)),r}function z_e(t,e){const n={},r=B_e(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function V_e(t,e,n,r){const i=N.useMemo(()=>{const s=Uie();return rz(s,e,sz(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};Wie(s,t.style,t),i.style={...s,...i.style}}return i}function $_e(t=!1){return(n,r,i,{latestValues:s},a)=>{const l=(QB(n)?V_e:z_e)(r,s,a,n),c=i_e(r,typeof n=="string",t),d=n!==N.Fragment?{...c,...l,ref:i}:{},{children:f}=r,h=N.useMemo(()=>Us(f)?f.get():f,[f]);return N.createElement(n,{...d,children:h})}}function H_e(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const a={...QB(r)?L_e:F_e,preloadedFeatures:t,useRender:$_e(i),createVisualElement:e,Component:r};return h_e(a)}}function Gie(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function DN(t,e,n){const r=t.getProps();return JB(r,e,n!==void 0?n:r.custom,t)}const W_e=qB(()=>window.ScrollTimeline!==void 0);class G_e{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(W_e()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class q_e extends G_e{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function oz(t,e){return t?t[e]||t.default||t:void 0}const Q4=2e4;function qie(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Q4;)e+=n,r=t.next(e);return e>=Q4?1/0:e}function lz(t){return typeof t=="function"}function Z$(t,e){t.timeline=e,t.onfinish=null}const cz=t=>Array.isArray(t)&&typeof t[0]=="number",X_e={linearEasing:void 0};function Y_e(t,e){const n=qB(t);return()=>{var r;return(r=X_e[e])!==null&&r!==void 0?r:n()}}const vA=Y_e(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Xie=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=t(cx(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function Yie(t){return!!(typeof t=="function"&&vA()||!t||typeof t=="string"&&(t in J4||vA())||cz(t)||Array.isArray(t)&&t.every(Yie))}const g1=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,J4={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:g1([0,.65,.55,1]),circOut:g1([.55,0,1,.45]),backIn:g1([.31,.01,.66,-.59]),backOut:g1([.33,1.53,.69,.99])};function Kie(t,e){if(t)return typeof t=="function"&&vA()?Xie(t,e):cz(t)?g1(t):Array.isArray(t)?t.map(n=>Kie(n,e)||J4.easeOut):J4[t]}const Pc={x:!1,y:!1};function Zie(){return Pc.x||Pc.y}function K_e(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function Qie(t,e){const n=K_e(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function Q$(t){return e=>{e.pointerType==="touch"||Zie()||t(e)}}function Z_e(t,e,n={}){const[r,i,s]=Qie(t,n),a=Q$(o=>{const{target:l}=o,c=e(o);if(typeof c!="function"||!l)return;const d=Q$(f=>{c(f),l.removeEventListener("pointerleave",d)});l.addEventListener("pointerleave",d,i)});return r.forEach(o=>{o.addEventListener("pointerenter",a,i)}),s}const Jie=(t,e)=>e?t===e?!0:Jie(t,e.parentElement):!1,uz=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Q_e=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function J_e(t){return Q_e.has(t.tagName)||t.tabIndex!==-1}const v1=new WeakSet;function J$(t){return e=>{e.key==="Enter"&&t(e)}}function Cj(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const eSe=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=J$(()=>{if(v1.has(n))return;Cj(n,"down");const i=J$(()=>{Cj(n,"up")}),s=()=>Cj(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function eH(t){return uz(t)&&!Zie()}function tSe(t,e,n={}){const[r,i,s]=Qie(t,n),a=o=>{const l=o.currentTarget;if(!eH(o)||v1.has(l))return;v1.add(l);const c=e(o),d=(m,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),!(!eH(m)||!v1.has(l))&&(v1.delete(l),typeof c=="function"&&c(m,{success:v}))},f=m=>{d(m,n.useGlobalTarget||Jie(l,m.target))},h=m=>{d(m,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",h,i)};return r.forEach(o=>{!J_e(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0),(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,i),o.addEventListener("focus",c=>eSe(c,i),i)}),s}function nSe(t){return t==="x"||t==="y"?Pc[t]?null:(Pc[t]=!0,()=>{Pc[t]=!1}):Pc.x||Pc.y?null:(Pc.x=Pc.y=!0,()=>{Pc.x=Pc.y=!1})}const ese=new Set(["width","height","top","left","right","bottom",...mb]);let j2;function rSe(){j2=void 0}const Yu={now:()=>(j2===void 0&&Yu.set(Rs.isProcessing||Q1e.useManualTiming?Rs.timestamp:performance.now()),j2),set:t=>{j2=t,queueMicrotask(rSe)}};function dz(t,e){t.indexOf(e)===-1&&t.push(e)}function fz(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class hz{constructor(){this.subscriptions=[]}add(e){return dz(this.subscriptions,e),()=>fz(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function tse(t,e){return e?t*(1e3/e):0}const tH=30,iSe=t=>!isNaN(parseFloat(t)),B1={current:void 0};class sSe{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=Yu.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Yu.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=iSe(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new hz);const r=this.events[e].add(n);return e==="change"?()=>{r(),Xr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return B1.current&&B1.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Yu.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>tH)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,tH);return tse(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function dx(t,e){return new sSe(t,e)}function aSe(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,dx(n))}function oSe(t,e){const n=DN(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const a in s){const o=x_e(s[a]);aSe(t,a,o)}}function lSe(t){return!!(Us(t)&&t.add)}function eF(t,e){const n=t.getValue("willChange");if(lSe(n))return n.add(e)}function nse(t){return t.props[Oie]}const rse=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,cSe=1e-7,uSe=12;function dSe(t,e,n,r,i){let s,a,o=0;do a=e+(n-e)/2,s=rse(a,r,i)-t,s>0?n=a:e=a;while(Math.abs(s)>cSe&&++o<uSe);return a}function hE(t,e,n,r){if(t===e&&n===r)return cl;const i=s=>dSe(s,0,1,t,n);return s=>s===0||s===1?s:rse(i(s),e,r)}const ise=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,sse=t=>e=>1-t(1-e),ase=hE(.33,1.53,.69,.99),pz=sse(ase),ose=ise(pz),lse=t=>(t*=2)<1?.5*pz(t):.5*(2-Math.pow(2,-10*(t-1))),mz=t=>1-Math.sin(Math.acos(t)),cse=sse(mz),use=ise(mz),dse=t=>/^0[^.\s]+$/u.test(t);function fSe(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||dse(t):!0}const z1=t=>Math.round(t*1e5)/1e5,gz=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function hSe(t){return t==null}const pSe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,vz=(t,e)=>n=>!!(typeof n=="string"&&pSe.test(n)&&n.startsWith(t)||e&&!hSe(n)&&Object.prototype.hasOwnProperty.call(n,e)),fse=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,a,o]=r.match(gz);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},mSe=t=>zf(0,255,t),Pj={...gb,transform:t=>Math.round(mSe(t))},vg={test:vz("rgb","red"),parse:fse("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Pj.transform(t)+", "+Pj.transform(e)+", "+Pj.transform(n)+", "+z1(E_.transform(r))+")"};function gSe(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const tF={test:vz("#"),parse:gSe,transform:vg.transform},Ey={test:vz("hsl","hue"),parse:fse("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Xu.transform(z1(e))+", "+Xu.transform(z1(n))+", "+z1(E_.transform(r))+")"},xa={test:t=>vg.test(t)||tF.test(t)||Ey.test(t),parse:t=>vg.test(t)?vg.parse(t):Ey.test(t)?Ey.parse(t):tF.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?vg.transform(t):Ey.transform(t)},vSe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ySe(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(gz))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(vSe))===null||n===void 0?void 0:n.length)||0)>0}const hse="number",pse="color",xSe="var",bSe="var(",nH="${}",wSe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function M_(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const o=e.replace(wSe,l=>(xa.test(l)?(r.color.push(s),i.push(pse),n.push(xa.parse(l))):l.startsWith(bSe)?(r.var.push(s),i.push(xSe),n.push(l)):(r.number.push(s),i.push(hse),n.push(parseFloat(l))),++s,nH)).split(nH);return{values:n,split:o,indexes:r,types:i}}function mse(t){return M_(t).values}function gse(t){const{split:e,types:n}=M_(t),r=e.length;return i=>{let s="";for(let a=0;a<r;a++)if(s+=e[a],i[a]!==void 0){const o=n[a];o===hse?s+=z1(i[a]):o===pse?s+=xa.transform(i[a]):s+=i[a]}return s}}const _Se=t=>typeof t=="number"?0:t;function SSe(t){const e=mse(t);return gse(t)(e.map(_Se))}const bp={test:ySe,parse:mse,createTransformer:gse,getAnimatableNone:SSe},ESe=new Set(["brightness","contrast","saturate","opacity"]);function MSe(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(gz)||[];if(!r)return t;const i=n.replace(r,"");let s=ESe.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const TSe=/\b([a-z-]*)\(.*?\)/gu,nF={...bp,getAnimatableNone:t=>{const e=t.match(TSe);return e?e.map(MSe).join(" "):t}},ASe={...tz,color:xa,backgroundColor:xa,outlineColor:xa,fill:xa,stroke:xa,borderColor:xa,borderTopColor:xa,borderRightColor:xa,borderBottomColor:xa,borderLeftColor:xa,filter:nF,WebkitFilter:nF},yz=t=>ASe[t];function vse(t,e){let n=yz(t);return n!==nF&&(n=bp),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const CSe=new Set(["auto","none","0"]);function PSe(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!CSe.has(s)&&M_(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=vse(n,i)}const rH=t=>t===gb||t===wn,iH=(t,e)=>parseFloat(t.split(", ")[e]),sH=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return iH(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?iH(s[1],t):0}},NSe=new Set(["x","y","z"]),RSe=mb.filter(t=>!NSe.has(t));function OSe(t){const e=[];return RSe.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const fx={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:sH(4,13),y:sH(5,14)};fx.translateX=fx.x;fx.translateY=fx.y;const Ng=new Set;let rF=!1,iF=!1;function yse(){if(iF){const t=Array.from(Ng).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=OSe(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,a])=>{var o;(o=r.getValue(s))===null||o===void 0||o.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}iF=!1,rF=!1,Ng.forEach(t=>t.complete()),Ng.clear()}function xse(){Ng.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(iF=!0)})}function jSe(){xse(),yse()}class xz{constructor(e,n,r,i,s,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ng.add(this),rF||(rF=!0,Xr.read(xse),Xr.resolveKeyframes(yse))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const a=i?.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const l=r.readValue(n,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),i&&a===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ng.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ng.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const bse=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),ISe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function kSe(t){const e=ISe.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function wse(t,e,n=1){const[r,i]=kSe(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return bse(a)?parseFloat(a):a}return ez(i)?wse(i,e,n+1):i}const _se=t=>e=>e.test(t),DSe={test:t=>t==="auto",parse:t=>t},Sse=[gb,wn,Xu,Gh,M_e,E_e,DSe],aH=t=>Sse.find(_se(t));class Ese extends xz{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),ez(c))){const d=wse(c,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!ese.has(r)||e.length!==2)return;const[i,s]=e,a=aH(i),o=aH(s);if(a!==o)if(rH(a)&&rH(o))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)fSe(e[i])&&r.push(i);r.length&&PSe(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=fx[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const a=i.length-1,o=i[a];i[a]=fx[r](n.measureViewportBox(),window.getComputedStyle(n.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const oH=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(bp.test(t)||t==="0")&&!t.startsWith("url("));function LSe(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function FSe(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=oH(i,e),o=oH(s,e);return!a||!o?!1:LSe(t)||(n==="spring"||lz(n))&&r}const USe=t=>t!==null;function LN(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(USe),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const BSe=40;class Mse{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Yu.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:a,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>BSe?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&jSe(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Yu.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:a,onComplete:o,onUpdate:l,isGenerator:c}=this.options;if(!c&&!FSe(e,r,i,s))if(a)this.options.duration=0;else{l&&l(LN(e,this.options,n)),o&&o(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const xi=(t,e,n)=>t+(e-t)*n;function Nj(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function zSe({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,a=0;if(!e)i=s=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;i=Nj(l,o,t+1/3),s=Nj(l,o,t),a=Nj(l,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}function yA(t,e){return n=>n>0?e:t}const Rj=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},VSe=[tF,vg,Ey],$Se=t=>VSe.find(e=>e.test(t));function lH(t){const e=$Se(t);if(!e)return!1;let n=e.parse(t);return e===Ey&&(n=zSe(n)),n}const cH=(t,e)=>{const n=lH(t),r=lH(e);if(!n||!r)return yA(t,e);const i={...n};return s=>(i.red=Rj(n.red,r.red,s),i.green=Rj(n.green,r.green,s),i.blue=Rj(n.blue,r.blue,s),i.alpha=xi(n.alpha,r.alpha,s),vg.transform(i))},HSe=(t,e)=>n=>e(t(n)),pE=(...t)=>t.reduce(HSe),sF=new Set(["none","hidden"]);function WSe(t,e){return sF.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function GSe(t,e){return n=>xi(t,e,n)}function bz(t){return typeof t=="number"?GSe:typeof t=="string"?ez(t)?yA:xa.test(t)?cH:YSe:Array.isArray(t)?Tse:typeof t=="object"?xa.test(t)?cH:qSe:yA}function Tse(t,e){const n=[...t],r=n.length,i=t.map((s,a)=>bz(s)(s,e[a]));return s=>{for(let a=0;a<r;a++)n[a]=i[a](s);return n}}function qSe(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=bz(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function XSe(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],o=t.indexes[a][i[a]],l=(n=t.values[o])!==null&&n!==void 0?n:0;r[s]=l,i[a]++}return r}const YSe=(t,e)=>{const n=bp.createTransformer(e),r=M_(t),i=M_(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?sF.has(t)&&!i.values.length||sF.has(e)&&!r.values.length?WSe(t,e):pE(Tse(XSe(r,i),i.values),n):yA(t,e)};function Ase(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?xi(t,e,n):bz(t)(t,e)}const KSe=5;function Cse(t,e,n){const r=Math.max(e-KSe,0);return tse(n-t(r),e-r)}const Ri={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Oj=.001;function ZSe({duration:t=Ri.duration,bounce:e=Ri.bounce,velocity:n=Ri.velocity,mass:r=Ri.mass}){let i,s,a=1-e;a=zf(Ri.minDamping,Ri.maxDamping,a),t=zf(Ri.minDuration,Ri.maxDuration,Of(t)),a<1?(i=c=>{const d=c*a,f=d*t,h=d-n,m=aF(c,a),v=Math.exp(-f);return Oj-h/m*v},s=c=>{const f=c*a*t,h=f*n+n,m=Math.pow(a,2)*Math.pow(c,2)*t,v=Math.exp(-f),b=aF(Math.pow(c,2),a);return(-i(c)+Oj>0?-1:1)*((h-m)*v)/b}):(i=c=>{const d=Math.exp(-c*t),f=(c-n)*t+1;return-Oj+d*f},s=c=>{const d=Math.exp(-c*t),f=(n-c)*(t*t);return d*f});const o=5/t,l=JSe(i,s,o);if(t=Rf(t),isNaN(l))return{stiffness:Ri.stiffness,damping:Ri.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:a*2*Math.sqrt(r*c),duration:t}}}const QSe=12;function JSe(t,e,n){let r=n;for(let i=1;i<QSe;i++)r=r-t(r)/e(r);return r}function aF(t,e){return t*Math.sqrt(1-e*e)}const eEe=["duration","bounce"],tEe=["stiffness","damping","mass"];function uH(t,e){return e.some(n=>t[n]!==void 0)}function nEe(t){let e={velocity:Ri.velocity,stiffness:Ri.stiffness,damping:Ri.damping,mass:Ri.mass,isResolvedFromDuration:!1,...t};if(!uH(t,tEe)&&uH(t,eEe))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*zf(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Ri.mass,stiffness:i,damping:s}}else{const n=ZSe(t);e={...e,...n,mass:Ri.mass},e.isResolvedFromDuration=!0}return e}function Pse(t=Ri.visualDuration,e=Ri.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:d,duration:f,velocity:h,isResolvedFromDuration:m}=nEe({...n,velocity:-Of(n.velocity||0)}),v=h||0,b=c/(2*Math.sqrt(l*d)),y=a-s,w=Of(Math.sqrt(l/d)),S=Math.abs(y)<5;r||(r=S?Ri.restSpeed.granular:Ri.restSpeed.default),i||(i=S?Ri.restDelta.granular:Ri.restDelta.default);let M;if(b<1){const A=aF(w,b);M=C=>{const j=Math.exp(-b*w*C);return a-j*((v+b*w*y)/A*Math.sin(A*C)+y*Math.cos(A*C))}}else if(b===1)M=A=>a-Math.exp(-w*A)*(y+(v+w*y)*A);else{const A=w*Math.sqrt(b*b-1);M=C=>{const j=Math.exp(-b*w*C),L=Math.min(A*C,300);return a-j*((v+b*w*y)*Math.sinh(L)+A*y*Math.cosh(L))/A}}const T={calculatedDuration:m&&f||null,next:A=>{const C=M(A);if(m)o.done=A>=f;else{let j=0;b<1&&(j=A===0?Rf(v):Cse(M,A,C));const L=Math.abs(j)<=r,O=Math.abs(a-C)<=i;o.done=L&&O}return o.value=o.done?a:C,o},toString:()=>{const A=Math.min(qie(T),Q4),C=Xie(j=>T.next(A*j).value,A,30);return A+"ms "+C}};return T}function dH({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:c=.5,restSpeed:d}){const f=t[0],h={done:!1,value:f},m=L=>o!==void 0&&L<o||l!==void 0&&L>l,v=L=>o===void 0?l:l===void 0||Math.abs(o-L)<Math.abs(l-L)?o:l;let b=n*e;const y=f+b,w=a===void 0?y:a(y);w!==y&&(b=w-f);const S=L=>-b*Math.exp(-L/r),M=L=>w+S(L),T=L=>{const O=S(L),k=M(L);h.done=Math.abs(O)<=c,h.value=h.done?w:k};let A,C;const j=L=>{m(h.value)&&(A=L,C=Pse({keyframes:[h.value,v(h.value)],velocity:Cse(M,L,h.value),damping:i,stiffness:s,restDelta:c,restSpeed:d}))};return j(0),{calculatedDuration:null,next:L=>{let O=!1;return!C&&A===void 0&&(O=!0,T(L),j(L)),A!==void 0&&L>=A?C.next(L-A):(!O&&T(L),h)}}}const rEe=hE(.42,0,1,1),iEe=hE(0,0,.58,1),Nse=hE(.42,0,.58,1),sEe=t=>Array.isArray(t)&&typeof t[0]!="number",aEe={linear:cl,easeIn:rEe,easeInOut:Nse,easeOut:iEe,circIn:mz,circInOut:use,circOut:cse,backIn:pz,backInOut:ose,backOut:ase,anticipate:lse},fH=t=>{if(cz(t)){Aie(t.length===4);const[e,n,r,i]=t;return hE(e,n,r,i)}else if(typeof t=="string")return aEe[t];return t};function oEe(t,e,n){const r=[],i=n||Ase,s=t.length-1;for(let a=0;a<s;a++){let o=i(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||cl:e;o=pE(l,o)}r.push(o)}return r}function Rse(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Aie(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=oEe(e,r,i),l=o.length,c=d=>{if(a&&d<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(d<t[f+1]);f++);const h=cx(t[f],t[f+1],d);return o[f](h)};return n?d=>c(zf(t[0],t[s-1],d)):c}function lEe(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=cx(0,e,r);t.push(xi(n,1,i))}}function cEe(t){const e=[0];return lEe(e,t.length-1),e}function uEe(t,e){return t.map(n=>n*e)}function dEe(t,e){return t.map(()=>e||Nse).splice(0,t.length-1)}function xA({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=sEe(r)?r.map(fH):fH(r),s={done:!1,value:e[0]},a=uEe(n&&n.length===e.length?n:cEe(e),t),o=Rse(a,e,{ease:Array.isArray(i)?i:dEe(e,i)});return{calculatedDuration:t,next:l=>(s.value=o(l),s.done=l>=t,s)}}const fEe=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Xr.update(e,!0),stop:()=>Bf(e),now:()=>Rs.isProcessing?Rs.timestamp:Yu.now()}},hEe={decay:dH,inertia:dH,tween:xA,keyframes:xA,spring:Pse},pEe=t=>t/100;class FN extends Mse{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,a=i?.KeyframeResolver||xz,o=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new a(s,o,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=this.options,o=lz(n)?n:hEe[n]||xA;let l,c;o!==xA&&typeof e[0]!="number"&&(l=pE(pEe,Ase(e[0],e[1])),e=[0,100]);const d=o({...this.options,keyframes:e});s==="mirror"&&(c=o({...this.options,keyframes:[...e].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=qie(d));const{calculatedDuration:f}=d,h=f+i,m=h*(r+1)-i;return{generator:d,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:f,resolvedDuration:h,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:L}=this.options;return{done:!0,value:L[L.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:a,mapPercentToKeyframes:o,keyframes:l,calculatedDuration:c,totalDuration:d,resolvedDuration:f}=r;if(this.startTime===null)return s.next(0);const{delay:h,repeat:m,repeatType:v,repeatDelay:b,onUpdate:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const w=this.currentTime-h*(this.speed>=0?1:-1),S=this.speed>=0?w<0:w>d;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let M=this.currentTime,T=s;if(m){const L=Math.min(this.currentTime,d)/f;let O=Math.floor(L),k=L%1;!k&&L>=1&&(k=1),k===1&&O--,O=Math.min(O,m+1),O%2&&(v==="reverse"?(k=1-k,b&&(k-=b/f)):v==="mirror"&&(T=a)),M=zf(0,1,k)*f}const A=S?{done:!1,value:l[0]}:T.next(M);o&&(A.value=o(A.value));let{done:C}=A;!S&&c!==null&&(C=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return j&&i!==void 0&&(A.value=LN(l,this.options,i)),y&&y(A.value),j&&this.finish(),A}get duration(){const{resolved:e}=this;return e?Of(e.calculatedDuration):0}get time(){return Of(this.currentTime)}set time(e){e=Rf(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Of(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=fEe,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}function mEe(t){return new FN(t)}const gEe=new Set(["opacity","clipPath","filter","transform"]);function vEe(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const d=Kie(o,i);return Array.isArray(d)&&(c.easing=d),t.animate(c,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"})}const yEe=qB(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),bA=10,xEe=2e4;function bEe(t){return lz(t.type)||t.type==="spring"||!Yie(t.ease)}function wEe(t,e){const n=new FN({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<xEe;)r=n.sample(s),i.push(r.value),s+=bA;return{times:void 0,keyframes:i,duration:s-bA,ease:"linear"}}const Ose={anticipate:lse,backInOut:ose,circInOut:use};function _Ee(t){return t in Ose}class hH extends Mse{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new Ese(s,(a,o)=>this.onKeyframesResolved(a,o),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:s,type:a,motionValue:o,name:l,startTime:c}=this.options;if(!o.owner||!o.owner.current)return!1;if(typeof s=="string"&&vA()&&_Ee(s)&&(s=Ose[s]),bEe(this.options)){const{onComplete:f,onUpdate:h,motionValue:m,element:v,...b}=this.options,y=wEe(e,b);e=y.keyframes,e.length===1&&(e[1]=e[0]),r=y.duration,i=y.times,s=y.ease,a="keyframes"}const d=vEe(o.owner.current,l,e,{...this.options,duration:r,times:i,ease:s});return d.startTime=c??this.calcStartTime(),this.pendingTimeline?(Z$(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:f}=this.options;o.set(LN(e,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:i,type:a,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Of(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Of(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Rf(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return cl;const{animation:r}=n;Z$(r,e)}return cl}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:a,times:o}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:d,onComplete:f,element:h,...m}=this.options,v=new FN({...m,keyframes:r,duration:i,type:s,ease:a,times:o,isGenerator:!0}),b=Rf(this.time);c.setWithVelocity(v.sample(b-bA).value,v.sample(b).value,bA)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:a,type:o}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return yEe()&&r&&gEe.has(r)&&!l&&!c&&!i&&s!=="mirror"&&a!==0&&o!=="inertia"}}const SEe={type:"spring",stiffness:500,damping:25,restSpeed:10},EEe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),MEe={type:"keyframes",duration:.8},TEe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},AEe=(t,{keyframes:e})=>e.length>2?MEe:v0.has(t)?t.startsWith("scale")?EEe(e[1]):SEe:TEe;function CEe({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const wz=(t,e,n,r={},i,s)=>a=>{const o=oz(r,t)||{},l=o.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Rf(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-c,onUpdate:h=>{e.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:s?void 0:i};CEe(o)||(d={...d,...AEe(t,d)}),d.duration&&(d.duration=Rf(d.duration)),d.repeatDelay&&(d.repeatDelay=Rf(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),f&&!s&&e.get()!==void 0){const h=LN(d.keyframes,o);if(h!==void 0)return Xr.update(()=>{d.onUpdate(h),d.onComplete()}),new q_e([])}return!s&&hH.supports(d)?new hH(d):new FN(d)};function PEe({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function jse(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:a=t.getDefaultTransition(),transitionEnd:o,...l}=e;r&&(a=r);const c=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const f in l){const h=t.getValue(f,(s=t.latestValues[f])!==null&&s!==void 0?s:null),m=l[f];if(m===void 0||d&&PEe(d,f))continue;const v={delay:n,...oz(a||{},f)};let b=!1;if(window.MotionHandoffAnimation){const w=nse(t);if(w){const S=window.MotionHandoffAnimation(w,f,Xr);S!==null&&(v.startTime=S,b=!0)}}eF(t,f),h.start(wz(f,h,m,t.shouldReduceMotion&&ese.has(f)?{type:!1}:v,t,b));const y=h.animation;y&&c.push(y)}return o&&Promise.all(c).then(()=>{Xr.update(()=>{o&&oSe(t,o)})}),c}function oF(t,e,n={}){var r;const i=DN(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const a=i?()=>Promise.all(jse(t,i,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=s;return NEe(t,e,d+c,f,h,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,d]=l==="beforeChildren"?[a,o]:[o,a];return c().then(()=>d())}else return Promise.all([a(),o(n.delay)])}function NEe(t,e,n=0,r=0,i=1,s){const a=[],o=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>o-c*r;return Array.from(t.variantChildren).sort(REe).forEach((c,d)=>{c.notify("AnimationStart",e),a.push(oF(c,e,{...s,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(a)}function REe(t,e){return t.sortNodePosition(e)}function OEe(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>oF(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=oF(t,e,n);else{const i=typeof e=="function"?DN(t,e,n.custom):e;r=Promise.all(jse(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const jEe=YB.length;function Ise(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Ise(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<jEe;n++){const r=YB[n],i=t.props[r];(S_(i)||i===!1)&&(e[r]=i)}return e}const IEe=[...XB].reverse(),kEe=XB.length;function DEe(t){return e=>Promise.all(e.map(({animation:n,options:r})=>OEe(t,n,r)))}function LEe(t){let e=DEe(t),n=pH(),r=!0;const i=l=>(c,d)=>{var f;const h=DN(t,d,l==="exit"?(f=t.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:v,...b}=h;c={...c,...b,...v}}return c};function s(l){e=l(t)}function a(l){const{props:c}=t,d=Ise(t.parent)||{},f=[],h=new Set;let m={},v=1/0;for(let y=0;y<kEe;y++){const w=IEe[y],S=n[w],M=c[w]!==void 0?c[w]:d[w],T=S_(M),A=w===l?S.isActive:null;A===!1&&(v=y);let C=M===d[w]&&M!==c[w]&&T;if(C&&r&&t.manuallyAnimateOnMount&&(C=!1),S.protectedKeys={...m},!S.isActive&&A===null||!M&&!S.prevProp||IN(M)||typeof M=="boolean")continue;const j=FEe(S.prevProp,M);let L=j||w===l&&S.isActive&&!C&&T||y>v&&T,O=!1;const k=Array.isArray(M)?M:[M];let F=k.reduce(i(w),{});A===!1&&(F={});const{prevResolvedValues:G={}}=S,Y={...G,...F},U=Z=>{L=!0,h.has(Z)&&(O=!0,h.delete(Z)),S.needsAnimating[Z]=!0;const V=t.getValue(Z);V&&(V.liveStyle=!1)};for(const Z in Y){const V=F[Z],Q=G[Z];if(m.hasOwnProperty(Z))continue;let ee=!1;Z4(V)&&Z4(Q)?ee=!Gie(V,Q):ee=V!==Q,ee?V!=null?U(Z):h.add(Z):V!==void 0&&h.has(Z)?U(Z):S.protectedKeys[Z]=!0}S.prevProp=M,S.prevResolvedValues=F,S.isActive&&(m={...m,...F}),r&&t.blockInitialAnimation&&(L=!1),L&&(!(C&&j)||O)&&f.push(...k.map(Z=>({animation:Z,options:{type:w}})))}if(h.size){const y={};h.forEach(w=>{const S=t.getBaseTarget(w),M=t.getValue(w);M&&(M.liveStyle=!0),y[w]=S??null}),f.push({animation:y})}let b=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(b=!1),r=!1,b?e(f):Promise.resolve()}function o(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(h=>{var m;return(m=h.animationState)===null||m===void 0?void 0:m.setActive(l,c)}),n[l].isActive=c;const f=a(l);for(const h in n)n[h].protectedKeys={};return f}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>n,reset:()=>{n=pH(),r=!0}}}function FEe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Gie(e,t):!1}function Um(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function pH(){return{animate:Um(!0),whileInView:Um(),whileHover:Um(),whileTap:Um(),whileDrag:Um(),whileFocus:Um(),exit:Um()}}class Lp{constructor(e){this.isMounted=!1,this.node=e}update(){}}class UEe extends Lp{constructor(e){super(e),e.animationState||(e.animationState=LEe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();IN(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let BEe=0;class zEe extends Lp{constructor(){super(...arguments),this.id=BEe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const VEe={animation:{Feature:UEe},exit:{Feature:zEe}};function T_(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function mE(t){return{point:{x:t.pageX,y:t.pageY}}}const $Ee=t=>e=>uz(e)&&t(e,mE(e));function V1(t,e,n,r){return T_(t,e,$Ee(n),r)}const mH=(t,e)=>Math.abs(t-e);function HEe(t,e){const n=mH(t.x,e.x),r=mH(t.y,e.y);return Math.sqrt(n**2+r**2)}class kse{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Ij(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=HEe(f.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:v}=f,{timestamp:b}=Rs;this.history.push({...v,timestamp:b});const{onStart:y,onMove:w}=this.handlers;h||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=jj(h,this.transformPagePoint),Xr.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:m,onSessionEnd:v,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Ij(f.type==="pointercancel"?this.lastMoveEventInfo:jj(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,y),v&&v(f,y)},!uz(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const a=mE(e),o=jj(a,this.transformPagePoint),{point:l}=o,{timestamp:c}=Rs;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,Ij(o,this.history)),this.removeListeners=pE(V1(this.contextWindow,"pointermove",this.handlePointerMove),V1(this.contextWindow,"pointerup",this.handlePointerUp),V1(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Bf(this.updatePoint)}}function jj(t,e){return e?{point:e(t.point)}:t}function gH(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ij({point:t},e){return{point:t,delta:gH(t,Dse(e)),offset:gH(t,WEe(e)),velocity:GEe(e,.1)}}function WEe(t){return t[0]}function Dse(t){return t[t.length-1]}function GEe(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=Dse(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Rf(e)));)n--;if(!r)return{x:0,y:0};const s=Of(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const Lse=1e-4,qEe=1-Lse,XEe=1+Lse,Fse=.01,YEe=0-Fse,KEe=0+Fse;function fl(t){return t.max-t.min}function ZEe(t,e,n){return Math.abs(t-e)<=n}function vH(t,e,n,r=.5){t.origin=r,t.originPoint=xi(e.min,e.max,t.origin),t.scale=fl(n)/fl(e),t.translate=xi(n.min,n.max,t.origin)-t.originPoint,(t.scale>=qEe&&t.scale<=XEe||isNaN(t.scale))&&(t.scale=1),(t.translate>=YEe&&t.translate<=KEe||isNaN(t.translate))&&(t.translate=0)}function $1(t,e,n,r){vH(t.x,e.x,n.x,r?r.originX:void 0),vH(t.y,e.y,n.y,r?r.originY:void 0)}function yH(t,e,n){t.min=n.min+e.min,t.max=t.min+fl(e)}function QEe(t,e,n){yH(t.x,e.x,n.x),yH(t.y,e.y,n.y)}function xH(t,e,n){t.min=e.min-n.min,t.max=t.min+fl(e)}function H1(t,e,n){xH(t.x,e.x,n.x),xH(t.y,e.y,n.y)}function JEe(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?xi(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?xi(n,t,r.max):Math.min(t,n)),t}function bH(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function eMe(t,{top:e,left:n,bottom:r,right:i}){return{x:bH(t.x,n,i),y:bH(t.y,e,r)}}function wH(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function tMe(t,e){return{x:wH(t.x,e.x),y:wH(t.y,e.y)}}function nMe(t,e){let n=.5;const r=fl(t),i=fl(e);return i>r?n=cx(e.min,e.max-r,t.min):r>i&&(n=cx(t.min,t.max-i,e.min)),zf(0,1,n)}function rMe(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const lF=.35;function iMe(t=lF){return t===!1?t=0:t===!0&&(t=lF),{x:_H(t,"left","right"),y:_H(t,"top","bottom")}}function _H(t,e,n){return{min:SH(t,e),max:SH(t,n)}}function SH(t,e){return typeof t=="number"?t:t[e]||0}const EH=()=>({translate:0,scale:1,origin:0,originPoint:0}),My=()=>({x:EH(),y:EH()}),MH=()=>({min:0,max:0}),$i=()=>({x:MH(),y:MH()});function Nl(t){return[t("x"),t("y")]}function Use({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function sMe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function aMe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function kj(t){return t===void 0||t===1}function cF({scale:t,scaleX:e,scaleY:n}){return!kj(t)||!kj(e)||!kj(n)}function ig(t){return cF(t)||Bse(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Bse(t){return TH(t.x)||TH(t.y)}function TH(t){return t&&t!=="0%"}function wA(t,e,n){const r=t-n,i=e*r;return n+i}function AH(t,e,n,r,i){return i!==void 0&&(t=wA(t,i,r)),wA(t,n,r)+e}function uF(t,e=0,n=1,r,i){t.min=AH(t.min,e,n,r,i),t.max=AH(t.max,e,n,r,i)}function zse(t,{x:e,y:n}){uF(t.x,e.translate,e.scale,e.originPoint),uF(t.y,n.translate,n.scale,n.originPoint)}const CH=.999999999999,PH=1.0000000000001;function oMe(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,a;for(let o=0;o<i;o++){s=n[o],a=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ay(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,zse(t,a)),r&&ig(s.latestValues)&&Ay(t,s.latestValues))}e.x<PH&&e.x>CH&&(e.x=1),e.y<PH&&e.y>CH&&(e.y=1)}function Ty(t,e){t.min=t.min+e,t.max=t.max+e}function NH(t,e,n,r,i=.5){const s=xi(t.min,t.max,i);uF(t,e,n,s,r)}function Ay(t,e){NH(t.x,e.x,e.scaleX,e.scale,e.originX),NH(t.y,e.y,e.scaleY,e.scale,e.originY)}function Vse(t,e){return Use(aMe(t.getBoundingClientRect(),e))}function lMe(t,e,n){const r=Vse(t,n),{scroll:i}=e;return i&&(Ty(r.x,i.offset.x),Ty(r.y,i.offset.y)),r}const $se=({current:t})=>t?t.ownerDocument.defaultView:null,cMe=new WeakMap;class uMe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=$i(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(mE(d).point)},s=(d,f)=>{const{drag:h,dragPropagation:m,onDragStart:v}=this.getProps();if(h&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=nSe(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Nl(y=>{let w=this.getAxisMotionValue(y).get()||0;if(Xu.test(w)){const{projection:S}=this.visualElement;if(S&&S.layout){const M=S.layout.layoutBox[y];M&&(w=fl(M)*(parseFloat(w)/100))}}this.originPoint[y]=w}),v&&Xr.postRender(()=>v(d,f)),eF(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},a=(d,f)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:v,onDrag:b}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:y}=f;if(m&&this.currentDirection===null){this.currentDirection=dMe(y),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),b&&b(d,f)},o=(d,f)=>this.stop(d,f),l=()=>Nl(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new kse(e,{onSessionStart:i,onStart:s,onMove:a,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:$se(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Xr.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!sT(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=JEe(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&Sy(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=eMe(i.layoutBox,n):this.constraints=!1,this.elastic=iMe(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Nl(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=rMe(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Sy(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=lMe(r,i.root,this.visualElement.getTransformPagePoint());let a=tMe(i.layout.layoutBox,s);if(n){const o=n(sMe(a));this.hasMutatedConstraints=!!o,o&&(a=Use(o))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=Nl(d=>{if(!sT(d,n,this.currentDirection))return;let f=l&&l[d]||{};a&&(f={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,v={type:"inertia",velocity:r?e[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(d,v)});return Promise.all(c).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return eF(this.visualElement,e),r.start(wz(e,r,0,n,this.visualElement,!1))}stopAnimation(){Nl(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Nl(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Nl(n=>{const{drag:r}=this.getProps();if(!sT(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[n];s.set(e[n]-xi(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Sy(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Nl(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();i[a]=nMe({min:l,max:l},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Nl(a=>{if(!sT(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:c}=this.constraints[a];o.set(xi(l,c,i[a]))})}addListeners(){if(!this.visualElement.current)return;cMe.set(this.visualElement,this);const e=this.visualElement.current,n=V1(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Sy(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Xr.read(r);const a=T_(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",(({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Nl(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())}));return()=>{a(),n(),s(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=lF,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function sT(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function dMe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class fMe extends Lp{constructor(e){super(e),this.removeGroupControls=cl,this.removeListeners=cl,this.controls=new uMe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||cl}unmount(){this.removeGroupControls(),this.removeListeners()}}const RH=t=>(e,n)=>{t&&Xr.postRender(()=>t(e,n))};class hMe extends Lp{constructor(){super(...arguments),this.removePointerDownListener=cl}onPointerDown(e){this.session=new kse(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:$se(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:RH(e),onStart:RH(n),onMove:r,onEnd:(s,a)=>{delete this.session,i&&Xr.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=V1(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const I2={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function OH(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ow={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(wn.test(t))t=parseFloat(t);else return t;const n=OH(t,e.target.x),r=OH(t,e.target.y);return`${n}% ${r}%`}},pMe={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=bp.parse(t);if(i.length>5)return r;const s=bp.createTransformer(t),a=typeof i[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;i[0+a]/=o,i[1+a]/=l;const c=xi(o,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=c),typeof i[3+a]=="number"&&(i[3+a]/=c),s(i)}};class mMe extends N.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;k_e(gMe),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),I2.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,a=r.projection;return a&&(a.isPresent=s,i||e.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||Xr.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ZB.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Hse(t){const[e,n]=Z1e(),r=N.useContext(Tie);return u.jsx(mMe,{...t,layoutGroup:r,switchLayoutGroup:N.useContext(jie),isPresent:e,safeToRemove:n})}const gMe={borderRadius:{...Ow,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ow,borderTopRightRadius:Ow,borderBottomLeftRadius:Ow,borderBottomRightRadius:Ow,boxShadow:pMe};function vMe(t,e,n){const r=Us(t)?t:dx(t);return r.start(wz("",r,e,n)),r.animation}function yMe(t){return t instanceof SVGElement&&t.tagName!=="svg"}const xMe=(t,e)=>t.depth-e.depth;class bMe{constructor(){this.children=[],this.isDirty=!1}add(e){dz(this.children,e),this.isDirty=!0}remove(e){fz(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(xMe),this.isDirty=!1,this.children.forEach(e)}}function wMe(t,e){const n=Yu.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Bf(r),t(s-e))};return Xr.read(r,!0),()=>Bf(r)}const Wse=["TopLeft","TopRight","BottomLeft","BottomRight"],_Me=Wse.length,jH=t=>typeof t=="string"?parseFloat(t):t,IH=t=>typeof t=="number"||wn.test(t);function SMe(t,e,n,r,i,s){i?(t.opacity=xi(0,n.opacity!==void 0?n.opacity:1,EMe(r)),t.opacityExit=xi(e.opacity!==void 0?e.opacity:1,0,MMe(r))):s&&(t.opacity=xi(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<_Me;a++){const o=`border${Wse[a]}Radius`;let l=kH(e,o),c=kH(n,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||IH(l)===IH(c)?(t[o]=Math.max(xi(jH(l),jH(c),r),0),(Xu.test(c)||Xu.test(l))&&(t[o]+="%")):t[o]=c}(e.rotate||n.rotate)&&(t.rotate=xi(e.rotate||0,n.rotate||0,r))}function kH(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const EMe=Gse(0,.5,cse),MMe=Gse(.5,.95,cl);function Gse(t,e,n){return r=>r<t?0:r>e?1:n(cx(t,e,r))}function DH(t,e){t.min=e.min,t.max=e.max}function Ml(t,e){DH(t.x,e.x),DH(t.y,e.y)}function LH(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function FH(t,e,n,r,i){return t-=e,t=wA(t,1/n,r),i!==void 0&&(t=wA(t,1/i,r)),t}function TMe(t,e=0,n=1,r=.5,i,s=t,a=t){if(Xu.test(e)&&(e=parseFloat(e),e=xi(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=xi(s.min,s.max,r);t===s&&(o-=e),t.min=FH(t.min,e,n,o,i),t.max=FH(t.max,e,n,o,i)}function UH(t,e,[n,r,i],s,a){TMe(t,e[n],e[r],e[i],e.scale,s,a)}const AMe=["x","scaleX","originX"],CMe=["y","scaleY","originY"];function BH(t,e,n,r){UH(t.x,e,AMe,n?n.x:void 0,r?r.x:void 0),UH(t.y,e,CMe,n?n.y:void 0,r?r.y:void 0)}function zH(t){return t.translate===0&&t.scale===1}function qse(t){return zH(t.x)&&zH(t.y)}function VH(t,e){return t.min===e.min&&t.max===e.max}function PMe(t,e){return VH(t.x,e.x)&&VH(t.y,e.y)}function $H(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Xse(t,e){return $H(t.x,e.x)&&$H(t.y,e.y)}function HH(t){return fl(t.x)/fl(t.y)}function WH(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class NMe{constructor(){this.members=[]}add(e){dz(this.members,e),e.scheduleRender()}remove(e){if(fz(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function RMe(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=n?.z||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:f,rotateY:h,skewX:m,skewY:v}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),h&&(r+=`rotateY(${h}deg) `),m&&(r+=`skewX(${m}deg) `),v&&(r+=`skewY(${v}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const sg={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},y1=typeof window<"u"&&window.MotionDebug!==void 0,Dj=["","X","Y","Z"],OMe={visibility:"hidden"},GH=1e3;let jMe=0;function Lj(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Yse(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=nse(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Xr,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Yse(r)}function Kse({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},o=e?.()){this.id=jMe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,y1&&(sg.totalNodes=sg.resolvedTargetDeltas=sg.recalculatedProjection=0),this.nodes.forEach(DMe),this.nodes.forEach(zMe),this.nodes.forEach(VMe),this.nodes.forEach(LMe),y1&&window.MotionDebug.record(sg)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new bMe)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new hz),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=yMe(a),this.instance=a;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(c||l)&&(this.isLayoutDirty=!0),t){let f;const h=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=wMe(h,250),I2.hasAnimatedSinceResize&&(I2.hasAnimatedSinceResize=!1,this.nodes.forEach(XH))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||d.getDefaultTransition()||qMe,{onLayoutAnimationStart:y,onLayoutAnimationComplete:w}=d.getProps(),S=!this.targetLayout||!Xse(this.targetLayout,v)||m,M=!h&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||M||h&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,M);const T={...oz(b,"layout"),onPlay:y,onComplete:w};(d.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T)}else h||XH(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Bf(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach($Me),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Yse(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(qH);return}this.isUpdating||this.nodes.forEach(UMe),this.isUpdating=!1,this.nodes.forEach(BMe),this.nodes.forEach(IMe),this.nodes.forEach(kMe),this.clearAllSnapshots();const o=Yu.now();Rs.delta=zf(0,1e3/60,o-Rs.timestamp),Rs.timestamp=o,Rs.isProcessing=!0,Aj.update.process(Rs),Aj.preRender.process(Rs),Aj.render.process(Rs),Rs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ZB.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(FMe),this.sharedNodes.forEach(HMe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Xr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Xr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=$i(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!qse(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;a&&(o||ig(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),XMe(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:o}=this.options;if(!o)return $i();const l=o.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(YMe))){const{scroll:d}=this.root;d&&(Ty(l.x,d.offset.x),Ty(l.y,d.offset.y))}return l}removeElementScroll(a){var o;const l=$i();if(Ml(l,a),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Ml(l,a),Ty(l.x,f.offset.x),Ty(l.y,f.offset.y))}return l}applyTransform(a,o=!1){const l=$i();Ml(l,a);for(let c=0;c<this.path.length;c++){const d=this.path[c];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Ay(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ig(d.latestValues)&&Ay(l,d.latestValues)}return ig(this.latestValues)&&Ay(l,this.latestValues),l}removeTransform(a){const o=$i();Ml(o,a);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!ig(c.latestValues))continue;cF(c.latestValues)&&c.updateSnapshot();const d=$i(),f=c.measurePageBox();Ml(d,f),BH(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return ig(this.latestValues)&&BH(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Rs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=Rs.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$i(),this.relativeTargetOrigin=$i(),H1(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Ml(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=$i(),this.targetWithTransforms=$i()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),QEe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ml(this.target,this.layout.layoutBox),zse(this.target,this.targetDelta)):Ml(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$i(),this.relativeTargetOrigin=$i(),H1(this.relativeTargetOrigin,this.target,m.target),Ml(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}y1&&sg.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||cF(this.parent.latestValues)||Bse(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Rs.timestamp&&(c=!1),c)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Ml(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;oMe(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=$i());const{target:v}=o;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(LH(this.prevProjectionDelta.x,this.projectionDelta.x),LH(this.prevProjectionDelta.y,this.projectionDelta.y)),$1(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==m||!WH(this.projectionDelta.x,this.prevProjectionDelta.x)||!WH(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),y1&&sg.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=My(),this.projectionDelta=My(),this.projectionDeltaWithTransform=My()}setAnimationOrigin(a,o=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},f=My();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=$i(),m=l?l.source:void 0,v=this.layout?this.layout.source:void 0,b=m!==v,y=this.getStack(),w=!y||y.members.length<=1,S=!!(b&&!w&&this.options.crossfade===!0&&!this.path.some(GMe));this.animationProgress=0;let M;this.mixTargetDelta=T=>{const A=T/1e3;YH(f.x,a.x,A),YH(f.y,a.y,A),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(H1(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),WMe(this.relativeTarget,this.relativeTargetOrigin,h,A),M&&PMe(this.relativeTarget,M)&&(this.isProjectionDirty=!1),M||(M=$i()),Ml(M,this.relativeTarget)),b&&(this.animationValues=d,SMe(d,c,this.latestValues,A,S,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Bf(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Xr.update(()=>{I2.hasAnimatedSinceResize=!0,this.currentAnimation=vMe(0,GH,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(GH),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:d}=a;if(!(!o||!l||!c)){if(this!==a&&this.layout&&c&&Zse(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||$i();const f=fl(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+f;const h=fl(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+h}Ml(o,l),Ay(o,d),$1(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new NMe),this.sharedNodes.get(a).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&Lj("z",a,c,this.animationValues);for(let d=0;d<Dj.length;d++)Lj(`rotate${Dj[d]}`,a,c,this.animationValues),Lj(`skew${Dj[d]}`,a,c,this.animationValues);a.render();for(const d in c)a.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);a.scheduleRender()}getProjectionStyles(a){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return OMe;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=O2(a?.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=O2(a?.pointerEvents)||""),this.hasProjected&&!ig(this.latestValues)&&(b.transform=d?d({},""):"none",this.hasProjected=!1),b}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=RMe(this.projectionDeltaWithTransform,this.treeScale,h),d&&(c.transform=d(h,c.transform));const{x:m,y:v}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(o=h.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const b in gA){if(h[b]===void 0)continue;const{correct:y,applyTo:w}=gA[b],S=c.transform==="none"?h[b]:y(h[b],f);if(w){const M=w.length;for(let T=0;T<M;T++)c[w[T]]=S}else c[b]=S}return this.options.layoutId&&(c.pointerEvents=f===this?O2(a?.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(qH),this.root.sharedNodes.clear()}}}function IMe(t){t.updateLayout()}function kMe(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,a=n.source!==t.layout.source;s==="size"?Nl(f=>{const h=a?n.measuredBox[f]:n.layoutBox[f],m=fl(h);h.min=r[f].min,h.max=h.min+m}):Zse(s,n.layoutBox,r)&&Nl(f=>{const h=a?n.measuredBox[f]:n.layoutBox[f],m=fl(r[f]);h.max=h.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+m)});const o=My();$1(o,r,n.layoutBox);const l=My();a?$1(l,t.applyTransform(i,!0),n.measuredBox):$1(l,r,n.layoutBox);const c=!qse(o);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const v=$i();H1(v,n.layoutBox,h.layoutBox);const b=$i();H1(b,r,m.layoutBox),Xse(v,b)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=v,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function DMe(t){y1&&sg.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function LMe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function FMe(t){t.clearSnapshot()}function qH(t){t.clearMeasurements()}function UMe(t){t.isLayoutDirty=!1}function BMe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function XH(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function zMe(t){t.resolveTargetDelta()}function VMe(t){t.calcProjection()}function $Me(t){t.resetSkewAndRotation()}function HMe(t){t.removeLeadSnapshot()}function YH(t,e,n){t.translate=xi(e.translate,0,n),t.scale=xi(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function KH(t,e,n,r){t.min=xi(e.min,n.min,r),t.max=xi(e.max,n.max,r)}function WMe(t,e,n,r){KH(t.x,e.x,n.x,r),KH(t.y,e.y,n.y,r)}function GMe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const qMe={duration:.45,ease:[.4,0,.1,1]},ZH=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),QH=ZH("applewebkit/")&&!ZH("chrome/")?Math.round:cl;function JH(t){t.min=QH(t.min),t.max=QH(t.max)}function XMe(t){JH(t.x),JH(t.y)}function Zse(t,e,n){return t==="position"||t==="preserve-aspect"&&!ZEe(HH(e),HH(n),.2)}function YMe(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const KMe=Kse({attachResizeListener:(t,e)=>T_(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Fj={current:void 0},Qse=Kse({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Fj.current){const t=new KMe({});t.mount(window),t.setOptions({layoutScroll:!0}),Fj.current=t}return Fj.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),ZMe={pan:{Feature:hMe},drag:{Feature:fMe,ProjectionNode:Qse,MeasureLayout:Hse}};function eW(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Xr.postRender(()=>s(e,mE(e)))}class QMe extends Lp{mount(){const{current:e}=this.node;e&&(this.unmount=Z_e(e,n=>(eW(this.node,n,"Start"),r=>eW(this.node,r,"End"))))}unmount(){}}class JMe extends Lp{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pE(T_(this.node.current,"focus",()=>this.onFocus()),T_(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function tW(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Xr.postRender(()=>s(e,mE(e)))}class eTe extends Lp{mount(){const{current:e}=this.node;e&&(this.unmount=tSe(e,n=>(tW(this.node,n,"Start"),(r,{success:i})=>tW(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const dF=new WeakMap,Uj=new WeakMap,tTe=t=>{const e=dF.get(t.target);e&&e(t)},nTe=t=>{t.forEach(tTe)};function rTe({root:t,...e}){const n=t||document;Uj.has(n)||Uj.set(n,{});const r=Uj.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(nTe,{root:t,...e})),r[i]}function iTe(t,e,n){const r=rTe(e);return dF.set(t,n),r.observe(t),()=>{dF.delete(t),r.unobserve(t)}}const sTe={some:0,all:1};class aTe extends Lp{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:sTe[i]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=c?d:f;h&&h(l)};return iTe(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(oTe(e,n))&&this.startObserver()}unmount(){}}function oTe({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const lTe={inView:{Feature:aTe},tap:{Feature:eTe},focus:{Feature:JMe},hover:{Feature:QMe}},cTe={layout:{ProjectionNode:Qse,MeasureLayout:Hse}},fF={current:null},Jse={current:!1};function uTe(){if(Jse.current=!0,!!WB)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>fF.current=t.matches;t.addListener(e),e()}else fF.current=!1}const dTe=[...Sse,xa,bp],fTe=t=>dTe.find(_se(t)),nW=new WeakMap;function hTe(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Us(i))t.addValue(r,i);else if(Us(s))t.addValue(r,dx(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(r);t.addValue(r,dx(a!==void 0?a:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const rW=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class pTe{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=xz,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Yu.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Xr.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:d}=a;this.onUpdate=d,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=kN(n),this.isVariantNode=Rie(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in h){const v=h[m];l[m]!==void 0&&Us(v)&&v.set(l[m],!1)}}mount(e){this.current=e,nW.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Jse.current||uTe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:fF.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){nW.delete(this.current),this.projection&&this.projection.unmount(),Bf(this.notifyUpdate),Bf(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=v0.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Xr.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ux){const n=ux[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):$i()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<rW.length;r++){const i=rW[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=hTe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=dx(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(bse(i)||dse(i))?i=parseFloat(i):!fTe(i)&&bp.test(n)&&(i=vse(e,n)),this.setBaseTarget(e,Us(i)?i.get():i)),Us(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const a=JB(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);a&&(i=a[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Us(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new hz),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class eae extends pTe{constructor(){super(...arguments),this.KeyframeResolver=Ese}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Us(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function mTe(t){return window.getComputedStyle(t)}class gTe extends eae{constructor(){super(...arguments),this.type="html",this.renderInstance=Bie}readValueFromInstance(e,n){if(v0.has(n)){const r=yz(n);return r&&r.default||0}else{const r=mTe(e),i=(Lie(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Vse(e,n)}build(e,n,r){nz(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return az(e,n,r)}}class vTe extends eae{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=$i}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(v0.has(n)){const r=yz(n);return r&&r.default||0}return n=zie.has(n)?n:KB(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return Hie(e,n,r)}build(e,n,r){rz(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){Vie(e,n,r,i)}mount(e){this.isSVGTag=sz(e.tagName),super.mount(e)}}const yTe=(t,e)=>QB(t)?new vTe(e):new gTe(e,{allowProjection:t!==N.Fragment}),xTe=H_e({...VEe,...lTe,...ZMe,...cTe},yTe),Ku=s_e(xTe);function _A(t){const e=$B(()=>dx(t)),{isStatic:n}=N.useContext(ON);if(n){const[,r]=N.useState(t);N.useEffect(()=>e.on("change",r),[])}return e}function tae(t,e){const n=_A(e()),r=()=>n.set(e());return r(),GB(()=>{const i=()=>Xr.preRender(r,!1,!0),s=t.map(a=>a.on("change",i));return()=>{s.forEach(a=>a()),Bf(r)}}),n}function iW(t){return typeof t=="number"?t:parseFloat(t)}function sW(t,e={}){const{isStatic:n}=N.useContext(ON),r=N.useRef(null),i=_A(Us(t)?iW(t.get()):t),s=N.useRef(i.get()),a=N.useRef(()=>{}),o=()=>{const c=r.current;c&&c.time===0&&c.sample(Rs.delta),l(),r.current=mEe({keyframes:[i.get(),s.current],velocity:i.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...e,onUpdate:a.current})},l=()=>{r.current&&r.current.stop()};return N.useInsertionEffect(()=>i.attach((c,d)=>n?d(c):(s.current=c,a.current=d,Xr.update(o),i.get()),l),[JSON.stringify(e)]),GB(()=>{if(Us(t))return t.on("change",c=>i.set(iW(c)))},[i]),i}const bTe=t=>t&&typeof t=="object"&&t.mix,wTe=t=>bTe(t)?t.mix:void 0;function _Te(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],i=t[1+n],s=t[2+n],a=t[3+n],o=Rse(i,s,{mixer:wTe(s[0]),...a});return e?o(r):o}function STe(t){B1.current=[],t();const e=tae(B1.current,t);return B1.current=void 0,e}function aT(t,e,n,r){if(typeof t=="function")return STe(t);const i=typeof e=="function"?e:_Te(e,n,r);return Array.isArray(t)?aW(t,i):aW([t],([s])=>i(s))}function aW(t,e){const n=$B(()=>[]);return tae(t,()=>{n.length=0;const r=t.length;for(let i=0;i<r;i++)n[i]=t[i].get();return e(n)})}const ETe="/assets/Gemini_Generated_Image_6fkmut6fkmut6fkm_1767644075541-BF8iJg3H.png";function nae(){const t=N.useRef(null),[e,n]=N.useState(.3),r=_A(0),i=_A(0),s={damping:25,stiffness:150},a=sW(r,s),o=sW(i,s),l=aT(a,[-.5,.5],[15,-15]),c=aT(o,[-.5,.5],[10,-10]),d=aT(a,[-.5,.5],[8,-8]),f=aT(o,[-.5,.5],[5,-5]);N.useEffect(()=>{const m=setInterval(()=>{n(v=>v>=.7?(clearInterval(m),.7):v+.01)},500);return()=>clearInterval(m)},[]);const h=m=>{if(!t.current)return;const v=t.current.getBoundingClientRect(),b=(m.clientX-v.left)/v.width-.5,y=(m.clientY-v.top)/v.height-.5;r.set(b),i.set(y)};return u.jsxs("div",{ref:t,className:"fixed inset-0 overflow-hidden pointer-events-none",children:[u.jsx("div",{className:"absolute inset-0 pointer-events-auto",onPointerMove:h,style:{touchAction:"none"}}),u.jsx("style",{children:`
        @keyframes waterFlow {
          0% { background-position: 0% 50%; }
          50% { background-position: 100% 50%; }
          100% { background-position: 0% 50%; }
        }
        @keyframes shimmer {
          0%, 100% { opacity: 0.3; transform: scaleX(1); }
          50% { opacity: 0.6; transform: scaleX(1.02); }
        }
        @keyframes sunPulse {
          0%, 100% { opacity: 0.6; transform: scale(1); }
          50% { opacity: 0.85; transform: scale(1.08); }
        }
        @keyframes sunRise {
          0% { transform: translateY(0); }
          100% { transform: translateY(-8px); }
        }
        @keyframes cloudDrift1 {
          0% { transform: translateX(100vw); }
          100% { transform: translateX(-100vw); }
        }
        @keyframes cloudDrift2 {
          0% { transform: translateX(100vw); }
          100% { transform: translateX(-100vw); }
        }
        @keyframes ripple {
          0% { transform: scale(1) translateX(0); opacity: 0.4; }
          50% { transform: scale(1.1) translateX(10px); opacity: 0.2; }
          100% { transform: scale(1) translateX(0); opacity: 0.4; }
        }
        @keyframes breathe {
          0%, 100% { filter: brightness(1); }
          50% { filter: brightness(1.05); }
        }
        @keyframes greenGrow {
          0% { opacity: 0.3; transform: scale(1); }
          100% { opacity: 0.7; transform: scale(1.02); }
        }
        .water-shimmer {
          animation: shimmer 4s ease-in-out infinite;
        }
        .sun-glow {
          animation: sunPulse 6s ease-in-out infinite, sunRise 60s ease-out forwards;
        }
        .cloud-layer-1 {
          animation: cloudDrift1 120s linear infinite;
        }
        .cloud-layer-2 {
          animation: cloudDrift2 180s linear infinite;
        }
        .scene-breathe {
          animation: breathe 8s ease-in-out infinite;
        }
      `}),u.jsx(Ku.div,{className:"absolute scene-breathe",style:{x:l,y:c,top:"-20px",left:"-20px",right:"-20px",bottom:"-20px"},children:u.jsx("img",{src:ETe,alt:"Sudanese landscape with pyramids and Nile",className:"w-full h-full object-cover",style:{objectPosition:"center center"}})}),u.jsx(Ku.div,{className:"absolute inset-0 pointer-events-none",style:{x:d,y:f},children:u.jsxs("svg",{className:"absolute inset-0 w-full h-full",viewBox:"0 0 1280 720",preserveAspectRatio:"xMidYMid slice",children:[u.jsx("defs",{children:u.jsx("clipPath",{id:"nileRiverMask",children:u.jsx("path",{d:"M0,520 Q150,480 280,500 Q400,520 500,490 Q600,460 700,480 Q800,500 900,470 Q1000,440 1100,460 Q1200,480 1280,450 L1280,720 L0,720 Z"})})}),u.jsxs("g",{clipPath:"url(#nileRiverMask)",children:[u.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"transparent"}),u.jsx("rect",{className:"water-shimmer",x:"0",y:"400",width:"100%",height:"320",style:{fill:"url(#waterGlow)",opacity:.3}})]}),u.jsx("defs",{children:u.jsxs("linearGradient",{id:"waterGlow",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[u.jsx("stop",{offset:"0%",stopColor:"rgba(255,200,100,0.1)"}),u.jsx("stop",{offset:"25%",stopColor:"rgba(255,220,150,0.25)"}),u.jsx("stop",{offset:"50%",stopColor:"rgba(255,200,100,0.35)"}),u.jsx("stop",{offset:"75%",stopColor:"rgba(255,220,150,0.25)"}),u.jsx("stop",{offset:"100%",stopColor:"rgba(255,200,100,0.1)"})]})})]})}),u.jsx("div",{className:"absolute top-[18%] left-1/2 -translate-x-1/2 pointer-events-none",children:u.jsx("div",{className:"w-32 h-32 rounded-full sun-glow",style:{background:"radial-gradient(circle, rgba(255,200,100,0.9) 0%, rgba(255,150,50,0.6) 30%, rgba(255,100,50,0.3) 60%, transparent 100%)",boxShadow:"0 0 80px 40px rgba(255,180,100,0.4), 0 0 120px 60px rgba(255,150,50,0.2)"}})}),u.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[u.jsx("div",{className:"absolute top-[5%] left-0 w-[300px] h-[60px] cloud-layer-1",style:{background:"radial-gradient(ellipse at center, rgba(255,255,255,0.15) 0%, transparent 70%)",filter:"blur(8px)"}}),u.jsx("div",{className:"absolute top-[12%] left-0 w-[400px] h-[80px] cloud-layer-2",style:{background:"radial-gradient(ellipse at center, rgba(255,255,255,0.1) 0%, transparent 70%)",filter:"blur(12px)",animationDelay:"-60s"}}),u.jsx("div",{className:"absolute top-[8%] left-0 w-[250px] h-[50px] cloud-layer-1",style:{background:"radial-gradient(ellipse at center, rgba(255,220,180,0.12) 0%, transparent 70%)",filter:"blur(6px)",animationDelay:"-30s"}})]}),u.jsxs(Ku.div,{className:"absolute inset-0 pointer-events-none",style:{opacity:e,x:d,y:f},children:[u.jsx("div",{className:"absolute bottom-[25%] left-[5%] w-[25%] h-[20%]",style:{background:"radial-gradient(ellipse at bottom, rgba(34,197,94,0.25) 0%, transparent 70%)",filter:"blur(20px)",transition:"opacity 0.5s ease"}}),u.jsx("div",{className:"absolute bottom-[20%] right-[5%] w-[30%] h-[25%]",style:{background:"radial-gradient(ellipse at bottom, rgba(34,197,94,0.2) 0%, transparent 70%)",filter:"blur(25px)",transition:"opacity 0.5s ease"}}),u.jsx("div",{className:"absolute bottom-[15%] left-[35%] w-[30%] h-[15%]",style:{background:"radial-gradient(ellipse at bottom, rgba(74,222,128,0.15) 0%, transparent 70%)",filter:"blur(15px)",transition:"opacity 0.5s ease"}})]}),u.jsx("div",{className:"absolute left-1/2 top-[8%] -translate-x-1/2 w-[700px] h-[350px] pointer-events-none",style:{background:"linear-gradient(to bottom, rgba(255,170,100,0.95) 0%, rgba(255,150,80,0.9) 20%, rgba(255,130,60,0.7) 40%, rgba(200,120,60,0.5) 60%, transparent 100%)",filter:"blur(50px)"}})]})}const MTe={ar:{tagline:"    ",inspireQuote:"          .           .            .              .",quranVerse:"                                 ",quranRef:"  ( )",seizeOpportunity:" ",lang:"EN",enterEcosystem:" ",signIn:" ",signUp:" ",email:" ",phone:" ",password:" ",confirmPassword:"  ",firstName:" ",lastName:" ",organization:" ()",back:"",continueWithGoogle:"  Google",orContinueWith:"  ",sendOtp:"  ",verifyOtp:"  ",otpCode:" ",register:"",loggingIn:"  ...",registering:" ...",pendingApproval:"  ",invalidCredentials:"   ",emailOrPhone:"  "},en:{tagline:"Where Heritage Meets the Digital Future",inspireQuote:"We are not masters of nature, but a vital part of its vast biodiversity. For too long, we have taken; now, the world gives us the ultimate opportunity to give back. By embracing evolution and global progress, we can heal the systems that sustain us. It is time to risefor ourselves, for each other, and for the Earth.",quranVerse:"                              ",quranRef:"Surah Hud (Verse 61)",seizeOpportunity:"Enter the Ecosystem",lang:"",enterEcosystem:"Enter the Ecosystem",signIn:"Sign In",signUp:"Sign Up",email:"Email",phone:"Phone (+249)",password:"Password",confirmPassword:"Confirm Password",firstName:"First Name",lastName:"Last Name",organization:"Organization (Optional)",back:"Back",continueWithGoogle:"Continue with Google",orContinueWith:"Or continue with",sendOtp:"Send OTP",verifyOtp:"Verify OTP",otpCode:"OTP Code",register:"Register",loggingIn:"Signing in...",registering:"Registering...",pendingApproval:"Your account is pending approval",invalidCredentials:"Invalid credentials",emailOrPhone:"Email or Phone"}};function TTe(){const{language:t,updatePreferences:e}=Na(),[n,r]=N.useState(!1),[i,s]=N.useState("signin"),a=fd(),{toast:o}=hd(),l=t,c=k=>e({language:k}),d=MTe[l],[f,h]=N.useState({identifier:"",password:""}),[m,v]=N.useState({email:"",phone:"",firstName:"",lastName:"",organization:"",password:"",confirmPassword:"",otp:""}),[b,y]=N.useState(!1),[w,S]=N.useState(!1),[M,T]=N.useState(!1);N.useEffect(()=>{const k=new URLSearchParams(window.location.search),F=k.get("auth"),G=k.get("user");if(F==="success"&&G)try{const Y=JSON.parse(decodeURIComponent(G));localStorage.setItem("fcpms_user",JSON.stringify(Y)),localStorage.setItem("fcpms_authenticated","true"),a.setQueryData(["/api/auth/user"],Y),window.history.replaceState({},"","/"),window.location.reload()}catch(Y){console.error("Failed to parse user data",Y)}},[a]);const A=()=>{window.location.href="/api/auth/google"},C=async k=>{k.preventDefault(),T(!0);try{const G=await(await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)})).json();G.success?(localStorage.setItem("fcpms_user",JSON.stringify(G.user)),localStorage.setItem("fcpms_authenticated","true"),a.setQueryData(["/api/auth/user"],G.user),window.location.reload()):o({title:l==="ar"?"":"Error",description:G.error||d.invalidCredentials,variant:"destructive"})}catch{o({title:l==="ar"?"":"Error",description:d.invalidCredentials,variant:"destructive"})}T(!1)},j=async()=>{T(!0);const k=m.email;try{const G=await(await fetch("/api/auth/send-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({identifier:k,type:"email"})})).json();G.success?(y(!0),o({title:l==="ar"?" ":"Sent",description:G.message})):o({title:l==="ar"?"":"Error",description:G.message||"Failed to send OTP",variant:"destructive"})}catch{o({title:l==="ar"?"":"Error",description:"Failed to send OTP",variant:"destructive"})}T(!1)},L=async()=>{T(!0);const k=m.email;try{const G=await(await fetch("/api/auth/verify-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({identifier:k,code:m.otp})})).json();G.success?(S(!0),o({title:l==="ar"?" ":"Verified",description:l==="ar"?"  ":"OTP verified successfully"})):o({title:l==="ar"?"":"Error",description:G.error||"Invalid OTP",variant:"destructive"})}catch{o({title:l==="ar"?"":"Error",description:"Verification failed",variant:"destructive"})}T(!1)},O=async k=>{if(k.preventDefault(),m.password!==m.confirmPassword){o({title:l==="ar"?"":"Error",description:l==="ar"?"   ":"Passwords do not match",variant:"destructive"});return}if(m.password.length<6){o({title:l==="ar"?"":"Error",description:l==="ar"?"     6   ":"Password must be at least 6 characters",variant:"destructive"});return}T(!0);try{const G=await(await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:m.email,firstName:m.firstName,lastName:m.lastName,organization:m.organization,password:m.password})})).json();G.success?(o({title:l==="ar"?" ":"Registered",description:d.pendingApproval}),s("signin"),y(!1),S(!1),v({email:"",phone:"",firstName:"",lastName:"",organization:"",password:"",confirmPassword:"",otp:""})):o({title:l==="ar"?"":"Error",description:G.error||"Registration failed",variant:"destructive"})}catch{o({title:l==="ar"?"":"Error",description:"Registration failed",variant:"destructive"})}T(!1)};return u.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 relative overflow-hidden",children:[u.jsx(nae,{}),u.jsxs(bt,{onClick:()=>c(l==="ar"?"en":"ar"),className:"absolute top-4 right-4 z-20 bg-white/20 backdrop-blur-md hover:bg-white/40 text-white border border-white/30 px-3 py-2 rounded-full flex items-center gap-2 shadow-lg",variant:"ghost",children:[u.jsx(aa,{className:"w-4 h-4"}),u.jsx("span",{className:"font-semibold text-sm",children:d.lang})]}),n?u.jsxs(vt,{className:"w-full max-w-lg mx-2 sm:mx-auto bg-slate-900/70 backdrop-blur-xl border-white/20 shadow-2xl relative z-10 overflow-hidden animate-in fade-in slide-in-from-bottom-4 duration-500",dir:l==="ar"?"rtl":"ltr",children:[u.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-[#22C55E] via-[#4ADE80] to-amber-500"}),u.jsxs(pn,{className:"text-center space-y-2 pb-2 pt-4 px-4 sm:px-6",children:[u.jsxs("div",{className:"flex justify-center flex-col items-center gap-2",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute -inset-4 bg-emerald-500/50 blur-2xl rounded-full"}),u.jsx("div",{className:"relative w-16 h-16 sm:w-20 sm:h-20 overflow-hidden rounded-2xl",children:u.jsx("img",{src:__,alt:"FCPMS Logo",className:"w-full h-full object-contain",style:{filter:"drop-shadow(0 0 8px rgba(34, 197, 94, 0.5))"}})})]}),u.jsx("h1",{className:"text-base sm:text-lg font-black bg-gradient-to-r from-white via-emerald-200 to-white bg-clip-text text-transparent tracking-wider",children:"FCPMS"})]}),u.jsx(Zr,{className:"text-[11px] sm:text-xs text-white/60",children:d.tagline})]}),u.jsxs(Ct,{className:"pt-2 pb-4 px-4 sm:px-6",children:[u.jsxs(g0,{value:i,onValueChange:k=>s(k),className:"w-full",children:[u.jsxs(Dp,{className:"grid w-full grid-cols-2 bg-white/10 mb-4",children:[u.jsx(xs,{value:"signin",className:"data-[state=active]:bg-emerald-600 data-[state=active]:text-white text-white/70",children:d.signIn}),u.jsx(xs,{value:"signup",className:"data-[state=active]:bg-emerald-600 data-[state=active]:text-white text-white/70",children:d.signUp})]}),u.jsxs(Fs,{value:"signin",className:"space-y-3",children:[u.jsxs("form",{onSubmit:C,className:"space-y-3",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs(Zt,{htmlFor:"signin-identifier",className:"flex items-center gap-1 text-white/80 text-xs",children:[u.jsx(y_,{className:"w-3 h-3 text-[#4ADE80]"}),u.jsx("span",{children:d.emailOrPhone})]}),u.jsx(ln,{id:"signin-identifier",type:"text",placeholder:"user@example.com",value:f.identifier,onChange:k=>h({...f,identifier:k.target.value}),className:"border-white/20 focus:border-[#4ADE80] bg-white/10 text-white placeholder:text-white/40 h-9 text-sm",required:!0})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsxs(Zt,{htmlFor:"signin-password",className:"flex items-center gap-1 text-white/80 text-xs",children:[u.jsx(_y,{className:"w-3 h-3 text-[#4ADE80]"}),u.jsx("span",{children:d.password})]}),u.jsx(ln,{id:"signin-password",type:"password",placeholder:"",value:f.password,onChange:k=>h({...f,password:k.target.value}),className:"border-white/20 focus:border-[#4ADE80] bg-white/10 text-white placeholder:text-white/40 h-9 text-sm",required:!0})]}),u.jsxs(bt,{type:"submit",disabled:M,className:"w-full bg-gradient-to-r from-[#22C55E] to-[#16A34A] hover:from-[#16A34A] hover:to-[#15803D] text-white font-bold h-10",children:[M?u.jsx(Ds,{className:"w-4 h-4 animate-spin mr-2"}):null,M?d.loggingIn:d.signIn]})]}),u.jsxs("div",{className:"relative my-3",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("div",{className:"w-full border-t border-white/20"})}),u.jsx("div",{className:"relative flex justify-center text-xs",children:u.jsx("span",{className:"px-2 bg-slate-900/70 text-white/50",children:d.orContinueWith})})]}),u.jsx(bt,{onClick:A,className:"w-full bg-white hover:bg-gray-100 text-gray-800 font-bold h-10 text-sm shadow-lg border border-gray-300",type:"button",children:u.jsxs("span",{className:"flex items-center justify-center gap-2",children:[u.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[u.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),u.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),u.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),u.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),d.continueWithGoogle]})})]}),u.jsxs(Fs,{value:"signup",className:"space-y-3",children:[u.jsxs("form",{onSubmit:O,className:"space-y-3",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs(Zt,{className:"flex items-center gap-1 text-white/80 text-xs",children:[u.jsx(y_,{className:"w-3 h-3 text-[#4ADE80]"}),u.jsx("span",{children:d.email})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(ln,{type:"email",placeholder:"user@example.com",value:m.email,onChange:k=>v({...m,email:k.target.value}),className:"border-white/20 focus:border-[#4ADE80] bg-white/10 text-white placeholder:text-white/40 h-9 text-sm flex-1",disabled:w,required:!0}),!b&&u.jsx(bt,{type:"button",size:"sm",onClick:j,disabled:M||!m.email,className:"bg-amber-600 hover:bg-amber-700 text-xs h-9",children:M?u.jsx(Ds,{className:"w-3 h-3 animate-spin"}):d.sendOtp})]})]}),b&&!w&&u.jsxs("div",{className:"space-y-1",children:[u.jsxs(Zt,{className:"flex items-center gap-1 text-white/80 text-xs",children:[u.jsx(_y,{className:"w-3 h-3 text-[#4ADE80]"}),u.jsx("span",{children:d.otpCode})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(ln,{type:"text",placeholder:"123456",value:m.otp,onChange:k=>v({...m,otp:k.target.value}),className:"border-white/20 focus:border-[#4ADE80] bg-white/10 text-white placeholder:text-white/40 h-9 text-sm flex-1",maxLength:6}),u.jsx(bt,{type:"button",size:"sm",onClick:L,disabled:M||m.otp.length!==6,className:"bg-emerald-600 hover:bg-emerald-700 text-xs h-9",children:M?u.jsx(Ds,{className:"w-3 h-3 animate-spin"}):d.verifyOtp})]})]}),w&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs(Zt,{className:"flex items-center gap-1 text-white/80 text-xs",children:[u.jsx(x_,{className:"w-3 h-3 text-[#4ADE80]"}),u.jsx("span",{children:d.firstName})]}),u.jsx(ln,{type:"text",value:m.firstName,onChange:k=>v({...m,firstName:k.target.value}),className:"border-white/20 focus:border-[#4ADE80] bg-white/10 text-white placeholder:text-white/40 h-9 text-sm",required:!0})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsxs(Zt,{className:"flex items-center gap-1 text-white/80 text-xs",children:[u.jsx(x_,{className:"w-3 h-3 text-[#4ADE80]"}),u.jsx("span",{children:d.lastName})]}),u.jsx(ln,{type:"text",value:m.lastName,onChange:k=>v({...m,lastName:k.target.value}),className:"border-white/20 focus:border-[#4ADE80] bg-white/10 text-white placeholder:text-white/40 h-9 text-sm",required:!0})]})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsxs(Zt,{className:"flex items-center gap-1 text-white/80 text-xs",children:[u.jsx(_B,{className:"w-3 h-3 text-[#4ADE80]"}),u.jsx("span",{children:d.organization})]}),u.jsx(ln,{type:"text",value:m.organization,onChange:k=>v({...m,organization:k.target.value}),className:"border-white/20 focus:border-[#4ADE80] bg-white/10 text-white placeholder:text-white/40 h-9 text-sm"})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsxs(Zt,{className:"flex items-center gap-1 text-white/80 text-xs",children:[u.jsx(_y,{className:"w-3 h-3 text-[#4ADE80]"}),u.jsx("span",{children:d.password})]}),u.jsx(ln,{type:"password",placeholder:"",value:m.password,onChange:k=>v({...m,password:k.target.value}),className:"border-white/20 focus:border-[#4ADE80] bg-white/10 text-white placeholder:text-white/40 h-9 text-sm",required:!0})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsxs(Zt,{className:"flex items-center gap-1 text-white/80 text-xs",children:[u.jsx(_y,{className:"w-3 h-3 text-[#4ADE80]"}),u.jsx("span",{children:d.confirmPassword})]}),u.jsx(ln,{type:"password",placeholder:"",value:m.confirmPassword,onChange:k=>v({...m,confirmPassword:k.target.value}),className:"border-white/20 focus:border-[#4ADE80] bg-white/10 text-white placeholder:text-white/40 h-9 text-sm",required:!0})]}),u.jsxs(bt,{type:"submit",disabled:M,className:"w-full bg-gradient-to-r from-[#22C55E] to-[#16A34A] hover:from-[#16A34A] hover:to-[#15803D] text-white font-bold h-10",children:[M?u.jsx(Ds,{className:"w-4 h-4 animate-spin mr-2"}):null,M?d.registering:d.register]})]})]}),u.jsxs("div",{className:"relative my-3",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("div",{className:"w-full border-t border-white/20"})}),u.jsx("div",{className:"relative flex justify-center text-xs",children:u.jsx("span",{className:"px-2 bg-slate-900/70 text-white/50",children:d.orContinueWith})})]}),u.jsx(bt,{onClick:A,className:"w-full bg-white hover:bg-gray-100 text-gray-800 font-bold h-10 text-sm shadow-lg border border-gray-300",type:"button",children:u.jsxs("span",{className:"flex items-center justify-center gap-2",children:[u.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[u.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),u.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),u.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),u.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),d.continueWithGoogle]})})]})]}),u.jsx(bt,{variant:"ghost",onClick:()=>r(!1),className:"w-full text-white/60 hover:text-white hover:bg-white/10 text-sm mt-3",children:d.back})]})]}):u.jsx("div",{className:"w-full max-w-2xl mx-4 sm:mx-auto relative z-10 text-center animate-in fade-in slide-in-from-bottom-4 duration-700",dir:l==="ar"?"rtl":"ltr",children:u.jsxs("div",{className:"bg-slate-900/60 backdrop-blur-2xl rounded-3xl p-8 sm:p-12 border border-white/10 shadow-2xl",children:[u.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-[#22C55E] via-[#4ADE80] to-amber-500 rounded-t-3xl"}),u.jsx("div",{className:"flex justify-center mb-8",children:u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute -inset-6 bg-emerald-500/40 blur-3xl rounded-full"}),u.jsx("div",{className:"relative w-24 h-24 sm:w-32 sm:h-32 overflow-hidden rounded-2xl",children:u.jsx("img",{src:__,alt:"FCPMS Logo",className:"w-full h-full object-contain",style:{filter:"drop-shadow(0 0 12px rgba(34, 197, 94, 0.6))"}})})]})}),u.jsxs("blockquote",{className:"text-lg sm:text-xl md:text-2xl font-serif italic leading-relaxed text-white/90 mb-6 px-2",children:['"',d.inspireQuote,'"']}),u.jsxs("div",{className:"mb-6 px-4",children:[u.jsx("p",{className:"sm:text-2xl md:text-3xl font-arabic text-amber-400/90 mb-2 text-[23px] font-bold",dir:"rtl",children:d.quranVerse}),u.jsxs("p",{className:"text-xs sm:text-sm text-white/50 font-medium",children:[" ",d.quranRef]})]}),u.jsx("div",{className:"w-16 h-1 bg-gradient-to-r from-emerald-500 to-amber-500 mx-auto mb-8 rounded-full"}),u.jsx(bt,{onClick:()=>r(!0),className:"bg-gradient-to-r from-[#22C55E] to-[#16A34A] hover:from-[#16A34A] hover:to-[#15803D] text-white font-bold text-base sm:text-lg px-8 sm:px-12 py-4 sm:py-6 h-auto rounded-xl shadow-lg shadow-green-500/30 transition-all duration-300 hover:scale-105 hover:shadow-xl hover:shadow-green-500/40",children:u.jsxs("span",{className:"flex items-center gap-3",children:[d.seizeOpportunity,u.jsx("svg",{className:`w-5 h-5 ${l==="ar"?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})})]})})]})}const ATe=[{label:"Dashboard",labelAr:" ",href:"/",icon:ibe,testId:"nav-dashboard"},{label:"Case Studies",labelAr:" ",href:"/case-studies",icon:nd,testId:"nav-case-studies"},{label:"H2 Strategy",labelAr:" H2",href:"/h2-strategy",icon:aa,testId:"nav-h2-strategy"},{label:"Sizing Tool",labelAr:" ",href:"/sizing",icon:wy,testId:"nav-sizing"},{label:"Asset Optimizer",labelAr:" ",href:"/optimizer",icon:cre,testId:"nav-optimizer"},{label:"Remote Monitoring",labelAr:"  ",href:"/monitoring",icon:mre,testId:"nav-monitoring"},{label:"Inventory",labelAr:"",href:"/catalog",icon:z4,testId:"nav-catalog"},{label:"Fuel Cell Library",labelAr:"  ",href:"/fuel-cells",icon:cp,testId:"nav-fuel-cells"},{label:"Settings",labelAr:"",href:"/settings",icon:fre,testId:"nav-settings"}];function No(){const[t]=lb(),[e,n]=N.useState(!1),{user:r,logout:i}=NN(),{language:s,updatePreferences:a,isRTL:o}=Na(),l=()=>n(!e);return u.jsxs(u.Fragment,{children:[u.jsx("aside",{className:Et("fixed inset-y-0 left-0 z-40 bg-slate-950 text-slate-100 transform transition-all duration-300 ease-in-out lg:translate-x-0 border-r border-slate-800/50",e?"w-64 translate-x-0":"w-20 -translate-x-full lg:translate-x-0"),children:u.jsxs("div",{className:"flex flex-col h-full bg-gradient-to-b from-[#1E293B] via-[#1E293B] to-[#22C55E]/20",children:[u.jsx("div",{className:"flex flex-col items-center py-4 border-b border-slate-800 cursor-pointer hover:bg-slate-900/50 transition-colors",onClick:l,children:e?u.jsxs("div",{className:"flex flex-col items-center gap-3 animate-in fade-in duration-300",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute -inset-3 bg-emerald-500/40 blur-xl rounded-full"}),u.jsx("div",{className:"relative w-20 h-20 overflow-hidden rounded-xl",children:u.jsx("img",{src:__,alt:"FCPMS Logo",className:"w-full h-full object-contain",style:{filter:"drop-shadow(0 0 6px rgba(34, 197, 94, 0.5))"}})})]}),u.jsx("span",{className:"text-sm font-black bg-gradient-to-r from-emerald-400 to-emerald-300 bg-clip-text text-transparent tracking-widest",children:"FCPMS"})]}):u.jsxs("div",{className:"relative mx-auto",children:[u.jsx("div",{className:"absolute -inset-2 bg-emerald-500/40 blur-lg rounded-full"}),u.jsx("div",{className:"relative w-12 h-12 overflow-hidden rounded-lg",children:u.jsx("img",{src:__,alt:"FCPMS Logo",className:"w-full h-full object-contain",style:{filter:"drop-shadow(0 0 4px rgba(34, 197, 94, 0.5))"}})})]})}),u.jsx("nav",{className:"flex-1 px-3 py-6 space-y-2 overflow-x-hidden",children:ATe.map(c=>{const d=t===c.href,f=c.icon;return u.jsx(D1,{href:c.href,children:u.jsxs("div",{className:Et("flex items-center px-3 py-3 rounded-lg text-sm font-medium transition-all duration-200 cursor-pointer group",d?"bg-primary text-white shadow-lg shadow-primary/20":"text-slate-400 hover:text-white hover:bg-slate-800"),"data-testid":c.testId,children:[u.jsx(f,{className:Et("w-6 h-6 shrink-0 transition-colors",d?"text-white":"text-slate-400 group-hover:text-white",e?o?"ml-3":"mr-3":"mx-auto")}),e&&u.jsx("span",{className:"truncate animate-in fade-in duration-300",children:s==="ar"?c.labelAr:c.label})]})},c.href)})}),u.jsxs("div",{className:"p-4 border-t border-slate-800 space-y-3",children:[u.jsxs("button",{onClick:()=>a({language:s==="ar"?"en":"ar"}),className:"w-full flex items-center px-3 py-2 rounded-lg text-sm font-medium text-slate-400 hover:text-white hover:bg-slate-800 transition-colors mb-2",children:[u.jsx(nbe,{className:Et("w-5 h-5 shrink-0",e?o?"ml-3":"mr-3":"mx-auto")}),e&&u.jsx("span",{className:"animate-in fade-in duration-300",children:s==="ar"?"English":""})]}),u.jsx(D1,{href:"/blog",children:u.jsxs("div",{className:Et("flex items-center px-3 py-3 rounded-lg text-sm font-medium transition-all duration-200 cursor-pointer group mb-2",t==="/blog"?"bg-emerald-500 text-white shadow-lg shadow-emerald-500/20":"text-slate-400 hover:text-white hover:bg-slate-800"),"data-testid":"nav-blog-bottom",children:[u.jsx(bB,{className:Et("w-6 h-6 shrink-0 transition-colors",t==="/blog"?"text-white":"text-slate-400 group-hover:text-white",e?o?"ml-3":"mr-3":"mx-auto")}),e&&u.jsx("span",{className:"truncate animate-in fade-in duration-300",children:s==="ar"?"":"Blog"})]})}),u.jsx(D1,{href:"/settings",children:u.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-3 flex items-center overflow-hidden cursor-pointer hover:bg-slate-700/50 transition-colors",children:[r?.profileImageUrl?u.jsx("img",{src:r.profileImageUrl,alt:"Profile",className:"w-8 h-8 rounded-full object-cover shrink-0"}):u.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-tr from-primary to-blue-400 flex items-center justify-center text-xs font-bold text-white shrink-0",children:r?.firstName?.[0]?.toUpperCase()||r?.email?.[0]?.toUpperCase()||"U"}),e&&u.jsxs("div",{className:"ml-3 truncate animate-in fade-in duration-300",children:[u.jsxs("p",{className:"text-sm font-medium",children:[r?.firstName," ",r?.lastName]}),u.jsx("p",{className:"text-xs text-slate-500 truncate",children:"User"})]})]})}),u.jsxs("button",{onClick:()=>i(),className:"w-full flex items-center px-3 py-2 rounded-lg text-sm font-medium text-slate-400 hover:text-white hover:bg-slate-800 transition-colors","data-testid":"button-logout",children:[u.jsx(sbe,{className:Et("w-4 h-4 shrink-0",e?o?"ml-3":"mr-3":"mx-auto")}),e&&u.jsx("span",{className:"animate-in fade-in duration-300",children:s==="ar"?" ":"Logout"})]})]})]})}),e&&u.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 lg:hidden",onClick:()=>n(!1)}),u.jsx("button",{onClick:l,className:"fixed bottom-4 left-4 z-50 lg:hidden w-14 h-14 bg-emerald-500 hover:bg-emerald-600 text-white rounded-full shadow-lg shadow-emerald-500/30 flex items-center justify-center transition-all duration-300","aria-label":"Toggle menu",children:e?u.jsx(SN,{className:"w-6 h-6"}):u.jsx(abe,{className:"w-6 h-6"})})]})}const jf=N.forwardRef(({className:t,...e},n)=>u.jsx("textarea",{className:Et("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));jf.displayName="Textarea";var Bj="focusScope.autoFocusOnMount",zj="focusScope.autoFocusOnUnmount",oW={bubbles:!1,cancelable:!0},CTe="FocusScope",_z=N.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=t,[o,l]=N.useState(null),c=ji(i),d=ji(s),f=N.useRef(null),h=Hn(e,b=>l(b)),m=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(r){let b=function(M){if(m.paused||!o)return;const T=M.target;o.contains(T)?f.current=T:qh(f.current,{select:!0})},y=function(M){if(m.paused||!o)return;const T=M.relatedTarget;T!==null&&(o.contains(T)||qh(f.current,{select:!0}))},w=function(M){if(document.activeElement===document.body)for(const A of M)A.removedNodes.length>0&&qh(o)};document.addEventListener("focusin",b),document.addEventListener("focusout",y);const S=new MutationObserver(w);return o&&S.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",y),S.disconnect()}}},[r,o,m.paused]),N.useEffect(()=>{if(o){cW.add(m);const b=document.activeElement;if(!o.contains(b)){const w=new CustomEvent(Bj,oW);o.addEventListener(Bj,c),o.dispatchEvent(w),w.defaultPrevented||(PTe(ITe(rae(o)),{select:!0}),document.activeElement===b&&qh(o))}return()=>{o.removeEventListener(Bj,c),setTimeout(()=>{const w=new CustomEvent(zj,oW);o.addEventListener(zj,d),o.dispatchEvent(w),w.defaultPrevented||qh(b??document.body,{select:!0}),o.removeEventListener(zj,d),cW.remove(m)},0)}}},[o,c,d,m]);const v=N.useCallback(b=>{if(!n&&!r||m.paused)return;const y=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,w=document.activeElement;if(y&&w){const S=b.currentTarget,[M,T]=NTe(S);M&&T?!b.shiftKey&&w===T?(b.preventDefault(),n&&qh(M,{select:!0})):b.shiftKey&&w===M&&(b.preventDefault(),n&&qh(T,{select:!0})):w===S&&b.preventDefault()}},[n,r,m.paused]);return u.jsx(tn.div,{tabIndex:-1,...a,ref:h,onKeyDown:v})});_z.displayName=CTe;function PTe(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(qh(r,{select:e}),document.activeElement!==n)return}function NTe(t){const e=rae(t),n=lW(e,t),r=lW(e.reverse(),t);return[n,r]}function rae(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function lW(t,e){for(const n of t)if(!RTe(n,{upTo:e}))return n}function RTe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function OTe(t){return t instanceof HTMLInputElement&&"select"in t}function qh(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&OTe(t)&&e&&t.select()}}var cW=jTe();function jTe(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=uW(t,e),t.unshift(e)},remove(e){t=uW(t,e),t[0]?.resume()}}}function uW(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function ITe(t){return t.filter(e=>e.tagName!=="A")}var Vj=0;function iae(){N.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??dW()),document.body.insertAdjacentElement("beforeend",t[1]??dW()),Vj++,()=>{Vj===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Vj--}},[])}function dW(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ju=function(){return ju=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ju.apply(this,arguments)};function sae(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function kTe(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var k2="right-scroll-bar-position",D2="width-before-scroll-bar",DTe="with-scroll-bars-hidden",LTe="--removed-body-scroll-bar-size";function $j(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function FTe(t,e){var n=N.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var UTe=typeof window<"u"?N.useLayoutEffect:N.useEffect,fW=new WeakMap;function BTe(t,e){var n=FTe(null,function(r){return t.forEach(function(i){return $j(i,r)})});return UTe(function(){var r=fW.get(n);if(r){var i=new Set(r),s=new Set(t),a=n.current;i.forEach(function(o){s.has(o)||$j(o,null)}),s.forEach(function(o){i.has(o)||$j(o,a)})}fW.set(n,t)},[t]),n}function zTe(t){return t}function VTe(t,e){e===void 0&&(e=zTe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var a=e(s,r);return n.push(a),function(){n=n.filter(function(o){return o!==a})}},assignSyncMedium:function(s){for(r=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(o){return s(o)},filter:function(){return n}}},assignMedium:function(s){r=!0;var a=[];if(n.length){var o=n;n=[],o.forEach(s),a=n}var l=function(){var d=a;a=[],d.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){a.push(d),c()},filter:function(d){return a=a.filter(d),n}}}};return i}function $Te(t){t===void 0&&(t={});var e=VTe(null);return e.options=ju({async:!0,ssr:!1},t),e}var aae=function(t){var e=t.sideCar,n=sae(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return N.createElement(r,ju({},n))};aae.isSideCarExport=!0;function HTe(t,e){return t.useMedium(e),aae}var oae=$Te(),Hj=function(){},UN=N.forwardRef(function(t,e){var n=N.useRef(null),r=N.useState({onScrollCapture:Hj,onWheelCapture:Hj,onTouchMoveCapture:Hj}),i=r[0],s=r[1],a=t.forwardProps,o=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,m=t.noIsolation,v=t.inert,b=t.allowPinchZoom,y=t.as,w=y===void 0?"div":y,S=t.gapMode,M=sae(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=h,A=BTe([n,e]),C=ju(ju({},M),i);return N.createElement(N.Fragment,null,d&&N.createElement(T,{sideCar:oae,removeScrollBar:c,shards:f,noIsolation:m,inert:v,setCallbacks:s,allowPinchZoom:!!b,lockRef:n,gapMode:S}),a?N.cloneElement(N.Children.only(o),ju(ju({},C),{ref:A})):N.createElement(w,ju({},C,{className:l,ref:A}),o))});UN.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};UN.classNames={fullWidth:D2,zeroRight:k2};var WTe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function GTe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=WTe();return e&&t.setAttribute("nonce",e),t}function qTe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function XTe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var YTe=function(){var t=0,e=null;return{add:function(n){t==0&&(e=GTe())&&(qTe(e,n),XTe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},KTe=function(){var t=YTe();return function(e,n){N.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},lae=function(){var t=KTe(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},ZTe={left:0,top:0,right:0,gap:0},Wj=function(t){return parseInt(t||"",10)||0},QTe=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Wj(n),Wj(r),Wj(i)]},JTe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return ZTe;var e=QTe(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},e2e=lae(),$y="data-scroll-locked",t2e=function(t,e,n,r){var i=t.left,s=t.top,a=t.right,o=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(DTe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat($y,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(k2,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(D2,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(k2," .").concat(k2,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(D2," .").concat(D2,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat($y,`] {
    `).concat(LTe,": ").concat(o,`px;
  }
`)},hW=function(){var t=parseInt(document.body.getAttribute($y)||"0",10);return isFinite(t)?t:0},n2e=function(){N.useEffect(function(){return document.body.setAttribute($y,(hW()+1).toString()),function(){var t=hW()-1;t<=0?document.body.removeAttribute($y):document.body.setAttribute($y,t.toString())}},[])},r2e=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;n2e();var s=N.useMemo(function(){return JTe(i)},[i]);return N.createElement(e2e,{styles:t2e(s,!e,i,n?"":"!important")})},hF=!1;if(typeof window<"u")try{var oT=Object.defineProperty({},"passive",{get:function(){return hF=!0,!0}});window.addEventListener("test",oT,oT),window.removeEventListener("test",oT,oT)}catch{hF=!1}var Iv=hF?{passive:!1}:!1,i2e=function(t){return t.tagName==="TEXTAREA"},cae=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!i2e(t)&&n[e]==="visible")},s2e=function(t){return cae(t,"overflowY")},a2e=function(t){return cae(t,"overflowX")},pW=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=uae(t,r);if(i){var s=dae(t,r),a=s[1],o=s[2];if(a>o)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},o2e=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},l2e=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},uae=function(t,e){return t==="v"?s2e(e):a2e(e)},dae=function(t,e){return t==="v"?o2e(e):l2e(e)},c2e=function(t,e){return t==="h"&&e==="rtl"?-1:1},u2e=function(t,e,n,r,i){var s=c2e(t,window.getComputedStyle(e).direction),a=s*r,o=n.target,l=e.contains(o),c=!1,d=a>0,f=0,h=0;do{var m=dae(t,o),v=m[0],b=m[1],y=m[2],w=b-y-s*v;(v||w)&&uae(t,o)&&(f+=w,h+=v),o instanceof ShadowRoot?o=o.host:o=o.parentNode}while(!l&&o!==document.body||l&&(e.contains(o)||e===o));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(c=!0),c},lT=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},mW=function(t){return[t.deltaX,t.deltaY]},gW=function(t){return t&&"current"in t?t.current:t},d2e=function(t,e){return t[0]===e[0]&&t[1]===e[1]},f2e=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},h2e=0,kv=[];function p2e(t){var e=N.useRef([]),n=N.useRef([0,0]),r=N.useRef(),i=N.useState(h2e++)[0],s=N.useState(lae)[0],a=N.useRef(t);N.useEffect(function(){a.current=t},[t]),N.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var b=kTe([t.lockRef.current],(t.shards||[]).map(gW),!0).filter(Boolean);return b.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),b.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var o=N.useCallback(function(b,y){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!a.current.allowPinchZoom;var w=lT(b),S=n.current,M="deltaX"in b?b.deltaX:S[0]-w[0],T="deltaY"in b?b.deltaY:S[1]-w[1],A,C=b.target,j=Math.abs(M)>Math.abs(T)?"h":"v";if("touches"in b&&j==="h"&&C.type==="range")return!1;var L=pW(j,C);if(!L)return!0;if(L?A=j:(A=j==="v"?"h":"v",L=pW(j,C)),!L)return!1;if(!r.current&&"changedTouches"in b&&(M||T)&&(r.current=A),!A)return!0;var O=r.current||A;return u2e(O,y,b,O==="h"?M:T)},[]),l=N.useCallback(function(b){var y=b;if(!(!kv.length||kv[kv.length-1]!==s)){var w="deltaY"in y?mW(y):lT(y),S=e.current.filter(function(A){return A.name===y.type&&(A.target===y.target||y.target===A.shadowParent)&&d2e(A.delta,w)})[0];if(S&&S.should){y.cancelable&&y.preventDefault();return}if(!S){var M=(a.current.shards||[]).map(gW).filter(Boolean).filter(function(A){return A.contains(y.target)}),T=M.length>0?o(y,M[0]):!a.current.noIsolation;T&&y.cancelable&&y.preventDefault()}}},[]),c=N.useCallback(function(b,y,w,S){var M={name:b,delta:y,target:w,should:S,shadowParent:m2e(w)};e.current.push(M),setTimeout(function(){e.current=e.current.filter(function(T){return T!==M})},1)},[]),d=N.useCallback(function(b){n.current=lT(b),r.current=void 0},[]),f=N.useCallback(function(b){c(b.type,mW(b),b.target,o(b,t.lockRef.current))},[]),h=N.useCallback(function(b){c(b.type,lT(b),b.target,o(b,t.lockRef.current))},[]);N.useEffect(function(){return kv.push(s),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Iv),document.addEventListener("touchmove",l,Iv),document.addEventListener("touchstart",d,Iv),function(){kv=kv.filter(function(b){return b!==s}),document.removeEventListener("wheel",l,Iv),document.removeEventListener("touchmove",l,Iv),document.removeEventListener("touchstart",d,Iv)}},[]);var m=t.removeScrollBar,v=t.inert;return N.createElement(N.Fragment,null,v?N.createElement(s,{styles:f2e(i)}):null,m?N.createElement(r2e,{gapMode:t.gapMode}):null)}function m2e(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const g2e=HTe(oae,p2e);var Sz=N.forwardRef(function(t,e){return N.createElement(UN,ju({},t,{ref:e,sideCar:g2e}))});Sz.classNames=UN.classNames;var v2e=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Dv=new WeakMap,cT=new WeakMap,uT={},Gj=0,fae=function(t){return t&&(t.host||fae(t.parentNode))},y2e=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=fae(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},x2e=function(t,e,n,r){var i=y2e(e,Array.isArray(t)?t:[t]);uT[n]||(uT[n]=new WeakMap);var s=uT[n],a=[],o=new Set,l=new Set(i),c=function(f){!f||o.has(f)||(o.add(f),c(f.parentNode))};i.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(o.has(h))d(h);else try{var m=h.getAttribute(r),v=m!==null&&m!=="false",b=(Dv.get(h)||0)+1,y=(s.get(h)||0)+1;Dv.set(h,b),s.set(h,y),a.push(h),b===1&&v&&cT.set(h,!0),y===1&&h.setAttribute(n,"true"),v||h.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",h,w)}})};return d(e),o.clear(),Gj++,function(){a.forEach(function(f){var h=Dv.get(f)-1,m=s.get(f)-1;Dv.set(f,h),s.set(f,m),h||(cT.has(f)||f.removeAttribute(r),cT.delete(f)),m||f.removeAttribute(n)}),Gj--,Gj||(Dv=new WeakMap,Dv=new WeakMap,cT=new WeakMap,uT={})}},hae=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=v2e(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),x2e(r,i,n,"aria-hidden")):function(){return null}},Ez="Dialog",[pae,mae]=Pa(Ez),[b2e,ru]=pae(Ez),gae=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!0}=t,o=N.useRef(null),l=N.useRef(null),[c=!1,d]=Qc({prop:r,defaultProp:i,onChange:s});return u.jsx(b2e,{scope:e,triggerRef:o,contentRef:l,contentId:Gu(),titleId:Gu(),descriptionId:Gu(),open:c,onOpenChange:d,onOpenToggle:N.useCallback(()=>d(f=>!f),[d]),modal:a,children:n})};gae.displayName=Ez;var vae="DialogTrigger",yae=N.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ru(vae,n),s=Hn(e,i.triggerRef);return u.jsx(tn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Az(i.open),...r,ref:s,onClick:Ht(t.onClick,i.onOpenToggle)})});yae.displayName=vae;var Mz="DialogPortal",[w2e,xae]=pae(Mz,{forceMount:void 0}),bae=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=ru(Mz,e);return u.jsx(w2e,{scope:e,forceMount:n,children:N.Children.map(r,a=>u.jsx(Yl,{present:n||s.open,children:u.jsx(xN,{asChild:!0,container:i,children:a})}))})};bae.displayName=Mz;var SA="DialogOverlay",wae=N.forwardRef((t,e)=>{const n=xae(SA,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=ru(SA,t.__scopeDialog);return s.modal?u.jsx(Yl,{present:r||s.open,children:u.jsx(S2e,{...i,ref:e})}):null});wae.displayName=SA;var _2e=ix("DialogOverlay.RemoveScroll"),S2e=N.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ru(SA,n);return u.jsx(Sz,{as:_2e,allowPinchZoom:!0,shards:[i.contentRef],children:u.jsx(tn.div,{"data-state":Az(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),qg="DialogContent",_ae=N.forwardRef((t,e)=>{const n=xae(qg,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=ru(qg,t.__scopeDialog);return u.jsx(Yl,{present:r||s.open,children:s.modal?u.jsx(E2e,{...i,ref:e}):u.jsx(M2e,{...i,ref:e})})});_ae.displayName=qg;var E2e=N.forwardRef((t,e)=>{const n=ru(qg,t.__scopeDialog),r=N.useRef(null),i=Hn(e,n.contentRef,r);return N.useEffect(()=>{const s=r.current;if(s)return hae(s)},[]),u.jsx(Sae,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ht(t.onCloseAutoFocus,s=>{s.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Ht(t.onPointerDownOutside,s=>{const a=s.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&s.preventDefault()}),onFocusOutside:Ht(t.onFocusOutside,s=>s.preventDefault())})}),M2e=N.forwardRef((t,e)=>{const n=ru(qg,t.__scopeDialog),r=N.useRef(!1),i=N.useRef(!1);return u.jsx(Sae,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{t.onCloseAutoFocus?.(s),s.defaultPrevented||(r.current||n.triggerRef.current?.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{t.onInteractOutside?.(s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;n.triggerRef.current?.contains(a)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),Sae=N.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=t,o=ru(qg,n),l=N.useRef(null),c=Hn(e,l);return iae(),u.jsxs(u.Fragment,{children:[u.jsx(_z,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:u.jsx(lE,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":Az(o.open),...a,ref:c,onDismiss:()=>o.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(A2e,{titleId:o.titleId}),u.jsx(P2e,{contentRef:l,descriptionId:o.descriptionId})]})]})}),Tz="DialogTitle",Eae=N.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ru(Tz,n);return u.jsx(tn.h2,{id:i.titleId,...r,ref:e})});Eae.displayName=Tz;var Mae="DialogDescription",Tae=N.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ru(Mae,n);return u.jsx(tn.p,{id:i.descriptionId,...r,ref:e})});Tae.displayName=Mae;var Aae="DialogClose",Cae=N.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ru(Aae,n);return u.jsx(tn.button,{type:"button",...r,ref:e,onClick:Ht(t.onClick,()=>i.onOpenChange(!1))})});Cae.displayName=Aae;function Az(t){return t?"open":"closed"}var Pae="DialogTitleWarning",[T2e,Nae]=nxe(Pae,{contentName:qg,titleName:Tz,docsSlug:"dialog"}),A2e=({titleId:t})=>{const e=Nae(Pae),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return N.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},C2e="DialogDescriptionWarning",P2e=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Nae(C2e).contentName}}.`;return N.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},Rae=gae,Oae=yae,jae=bae,Cz=wae,Pz=_ae,Nz=Eae,Rz=Tae,Oz=Cae;const Xg=Rae,jz=Oae,N2e=jae,Iae=N.forwardRef(({className:t,...e},n)=>u.jsx(Cz,{ref:n,className:Et("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));Iae.displayName=Cz.displayName;const wp=N.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(N2e,{children:[u.jsx(Iae,{}),u.jsxs(Pz,{ref:r,className:Et("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,u.jsxs(Oz,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[u.jsx(SN,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));wp.displayName=Pz.displayName;const _p=({className:t,...e})=>u.jsx("div",{className:Et("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});_p.displayName="DialogHeader";const Sp=({className:t,...e})=>u.jsx("div",{className:Et("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Sp.displayName="DialogFooter";const Ep=N.forwardRef(({className:t,...e},n)=>u.jsx(Nz,{ref:n,className:Et("text-lg font-semibold leading-none tracking-tight",t),...e}));Ep.displayName=Nz.displayName;const Iz=N.forwardRef(({className:t,...e},n)=>u.jsx(Rz,{ref:n,className:Et("text-sm text-muted-foreground",t),...e}));Iz.displayName=Rz.displayName;function Gr(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Mp(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const kae=6048e5,R2e=864e5,dT=43200,vW=1440;let O2e={};function gE(){return O2e}function A_(t,e){const n=gE(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=Gr(t),s=i.getDay(),a=(s<r?7:0)+s-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function EA(t){return A_(t,{weekStartsOn:1})}function Dae(t){const e=Gr(t),n=e.getFullYear(),r=Mp(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=EA(r),s=Mp(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const a=EA(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function yW(t){const e=Gr(t);return e.setHours(0,0,0,0),e}function MA(t){const e=Gr(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function j2e(t,e){const n=yW(t),r=yW(e),i=+n-MA(n),s=+r-MA(r);return Math.round((i-s)/R2e)}function I2e(t){const e=Dae(t),n=Mp(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),EA(n)}function L2(t,e){const n=Gr(t),r=Gr(e),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function k2e(t){return Mp(t,Date.now())}function D2e(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function L2e(t){if(!D2e(t)&&typeof t!="number")return!1;const e=Gr(t);return!isNaN(Number(e))}function F2e(t,e){const n=Gr(t),r=Gr(e),i=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return i*12+s}function U2e(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function B2e(t,e){return+Gr(t)-+Gr(e)}function z2e(t){const e=Gr(t);return e.setHours(23,59,59,999),e}function V2e(t){const e=Gr(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function $2e(t){const e=Gr(t);return+z2e(e)==+V2e(e)}function H2e(t,e){const n=Gr(t),r=Gr(e),i=L2(n,r),s=Math.abs(F2e(n,r));let a;if(s<1)a=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*s);let o=L2(n,r)===-i;$2e(Gr(t))&&s===1&&L2(t,r)===1&&(o=!1),a=i*(s-Number(o))}return a===0?0:a}function W2e(t,e,n){const r=B2e(t,e)/1e3;return U2e(n?.roundingMethod)(r)}function G2e(t){const e=Gr(t),n=Mp(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const q2e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},X2e=(t,e,n)=>{let r;const i=q2e[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Hy(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Y2e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},K2e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Z2e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Q2e={date:Hy({formats:Y2e,defaultWidth:"full"}),time:Hy({formats:K2e,defaultWidth:"full"}),dateTime:Hy({formats:Z2e,defaultWidth:"full"})},J2e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},eAe=(t,e,n,r)=>J2e[t];function Iu(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=n?.width?String(n.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=n?.width?String(n.width):t.defaultWidth;i=t.values[o]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const tAe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},nAe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},rAe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},iAe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},sAe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},aAe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},oAe=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},lAe={ordinalNumber:oAe,era:Iu({values:tAe,defaultWidth:"wide"}),quarter:Iu({values:nAe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Iu({values:rAe,defaultWidth:"wide"}),day:Iu({values:iAe,defaultWidth:"wide"}),dayPeriod:Iu({values:sAe,defaultWidth:"wide",formattingValues:aAe,defaultFormattingWidth:"wide"})};function ku(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?uAe(o,f=>f.test(a)):cAe(o,f=>f.test(a));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const d=e.slice(a.length);return{value:c,rest:d}}}function cAe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function uAe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Lae(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const o=e.slice(i.length);return{value:a,rest:o}}}const dAe=/^(\d+)(th|st|nd|rd)?/i,fAe=/\d+/i,hAe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},pAe={any:[/^b/i,/^(a|c)/i]},mAe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},gAe={any:[/1/i,/2/i,/3/i,/4/i]},vAe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},yAe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},xAe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},bAe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},wAe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},_Ae={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},SAe={ordinalNumber:Lae({matchPattern:dAe,parsePattern:fAe,valueCallback:t=>parseInt(t,10)}),era:ku({matchPatterns:hAe,defaultMatchWidth:"wide",parsePatterns:pAe,defaultParseWidth:"any"}),quarter:ku({matchPatterns:mAe,defaultMatchWidth:"wide",parsePatterns:gAe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ku({matchPatterns:vAe,defaultMatchWidth:"wide",parsePatterns:yAe,defaultParseWidth:"any"}),day:ku({matchPatterns:xAe,defaultMatchWidth:"wide",parsePatterns:bAe,defaultParseWidth:"any"}),dayPeriod:ku({matchPatterns:wAe,defaultMatchWidth:"any",parsePatterns:_Ae,defaultParseWidth:"any"})},Fae={code:"en-US",formatDistance:X2e,formatLong:Q2e,formatRelative:eAe,localize:lAe,match:SAe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function EAe(t){const e=Gr(t);return j2e(e,G2e(e))+1}function MAe(t){const e=Gr(t),n=+EA(e)-+I2e(e);return Math.round(n/kae)+1}function Uae(t,e){const n=Gr(t),r=n.getFullYear(),i=gE(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,a=Mp(t,0);a.setFullYear(r+1,0,s),a.setHours(0,0,0,0);const o=A_(a,e),l=Mp(t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const c=A_(l,e);return n.getTime()>=o.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function TAe(t,e){const n=gE(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=Uae(t,e),s=Mp(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),A_(s,e)}function AAe(t,e){const n=Gr(t),r=+A_(n,e)-+TAe(n,e);return Math.round(r/kae)+1}function jr(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Dh={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return jr(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):jr(n+1,2)},d(t,e){return jr(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(t,e){return jr(t.getHours()%12||12,e.length)},H(t,e){return jr(t.getHours(),e.length)},m(t,e){return jr(t.getMinutes(),e.length)},s(t,e){return jr(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return jr(i,e.length)}},Lv={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},xW={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Dh.y(t,e)},Y:function(t,e,n,r){const i=Uae(t,r),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return jr(a,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):jr(s,e.length)},R:function(t,e){const n=Dae(t);return jr(n,e.length)},u:function(t,e){const n=t.getFullYear();return jr(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return jr(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return jr(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Dh.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return jr(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=AAe(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):jr(i,e.length)},I:function(t,e,n){const r=MAe(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):jr(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Dh.d(t,e)},D:function(t,e,n){const r=EAe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):jr(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return jr(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return jr(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return jr(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Lv.noon:r===0?i=Lv.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Lv.evening:r>=12?i=Lv.afternoon:r>=4?i=Lv.morning:i=Lv.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Dh.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Dh.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):jr(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):jr(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Dh.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Dh.s(t,e)},S:function(t,e){return Dh.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return wW(r);case"XXXX":case"XX":return ag(r);default:return ag(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return wW(r);case"xxxx":case"xx":return ag(r);default:return ag(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+bW(r,":");default:return"GMT"+ag(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+bW(r,":");default:return"GMT"+ag(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return jr(r,e.length)},T:function(t,e,n){const r=t.getTime();return jr(r,e.length)}};function bW(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+jr(s,2)}function wW(t,e){return t%60===0?(t>0?"-":"+")+jr(Math.abs(t)/60,2):ag(t,e)}function ag(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=jr(Math.trunc(r/60),2),s=jr(r%60,2);return n+i+e+s}const _W=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},Bae=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},CAe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return _W(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",_W(r,e)).replace("{{time}}",Bae(i,e))},PAe={p:Bae,P:CAe},NAe=/^D+$/,RAe=/^Y+$/,OAe=["D","DD","YY","YYYY"];function jAe(t){return NAe.test(t)}function IAe(t){return RAe.test(t)}function kAe(t,e,n){const r=DAe(t,e,n);if(console.warn(r),OAe.includes(t))throw new RangeError(r)}function DAe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const LAe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,FAe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,UAe=/^'([^]*?)'?$/,BAe=/''/g,zAe=/[a-zA-Z]/;function hx(t,e,n){const r=gE(),i=n?.locale??r.locale??Fae,s=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=Gr(t);if(!L2e(o))throw new RangeError("Invalid time value");let l=e.match(FAe).map(d=>{const f=d[0];if(f==="p"||f==="P"){const h=PAe[f];return h(d,i.formatLong)}return d}).join("").match(LAe).map(d=>{if(d==="''")return{isToken:!1,value:"'"};const f=d[0];if(f==="'")return{isToken:!1,value:VAe(d)};if(xW[f])return{isToken:!0,value:d};if(f.match(zAe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:d}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const c={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return l.map(d=>{if(!d.isToken)return d.value;const f=d.value;(!n?.useAdditionalWeekYearTokens&&IAe(f)||!n?.useAdditionalDayOfYearTokens&&jAe(f))&&kAe(f,e,String(t));const h=xW[f[0]];return h(o,f,i.localize,c)}).join("")}function VAe(t){const e=t.match(UAe);return e?e[1].replace(BAe,"'"):t}function $Ae(t,e,n){const r=gE(),i=n?.locale??r.locale??Fae,s=2520,a=L2(t,e);if(isNaN(a))throw new RangeError("Invalid time value");const o=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:a});let l,c;a>0?(l=Gr(e),c=Gr(t)):(l=Gr(t),c=Gr(e));const d=W2e(c,l),f=(MA(c)-MA(l))/1e3,h=Math.round((d-f)/60);let m;if(h<2)return n?.includeSeconds?d<5?i.formatDistance("lessThanXSeconds",5,o):d<10?i.formatDistance("lessThanXSeconds",10,o):d<20?i.formatDistance("lessThanXSeconds",20,o):d<40?i.formatDistance("halfAMinute",0,o):d<60?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",1,o):h===0?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",h,o);if(h<45)return i.formatDistance("xMinutes",h,o);if(h<90)return i.formatDistance("aboutXHours",1,o);if(h<vW){const v=Math.round(h/60);return i.formatDistance("aboutXHours",v,o)}else{if(h<s)return i.formatDistance("xDays",1,o);if(h<dT){const v=Math.round(h/vW);return i.formatDistance("xDays",v,o)}else if(h<dT*2)return m=Math.round(h/dT),i.formatDistance("aboutXMonths",m,o)}if(m=H2e(c,l),m<12){const v=Math.round(h/dT);return i.formatDistance("xMonths",v,o)}else{const v=m%12,b=Math.trunc(m/12);return v<3?i.formatDistance("aboutXYears",b,o):v<9?i.formatDistance("overXYears",b,o):i.formatDistance("almostXYears",b+1,o)}}function SW(t,e){return $Ae(t,k2e(t),e)}const HAe={"default-0":9001,"default-1":9002};function WAe({postId:t}){const{toast:e}=hd(),n=fd(),[r,i]=N.useState(!1),[s,a]=N.useState({authorName:"",authorEmail:"",content:""}),o=typeof t=="string"&&t.startsWith("default-")?HAe[t]||9e3:t,{data:l=[]}=gp({queryKey:[`/api/blog/post/${o}/comments`],queryFn:async()=>{const d=await fetch(`/api/blog/post/${o}/comments`);return d.ok?d.json():[]}}),c=Bl({mutationFn:async d=>{const f=await fetch(`/api/blog/post/${o}/comments`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)});if(!f.ok)throw new Error("Failed to submit comment");return f.json()},onSuccess:()=>{n.invalidateQueries({queryKey:[`/api/blog/post/${o}/comments`]}),e({title:"  | Comment Posted",description:"  | Thank you for your feedback"}),a({authorName:"",authorEmail:"",content:""}),i(!1)},onError:()=>{e({title:" | Error",description:"    | Failed to post comment",variant:"destructive"})}});return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("h3",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[u.jsx(U1,{className:"w-5 h-5 text-emerald-500"})," | Comments (",l.length,")"]}),u.jsxs(Xg,{open:r,onOpenChange:i,children:[u.jsx(jz,{asChild:!0,children:u.jsxs(bt,{className:"bg-emerald-500 hover:bg-emerald-600 text-white",children:[u.jsx(U1,{className:"w-4 h-4 mr-2"}),"   | Add Comment"]})}),u.jsxs(wp,{className:"sm:max-w-md",children:[u.jsx(_p,{children:u.jsx(Ep,{className:"text-xl text-[#1E3A5F]",children:"  | Add Your Comment"})}),u.jsxs("form",{onSubmit:d=>{d.preventDefault(),c.mutate(s)},className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Zt,{htmlFor:"name",children:" | Name *"}),u.jsx(ln,{id:"name",value:s.authorName,onChange:d=>a({...s,authorName:d.target.value}),required:!0,placeholder:" | Your name",className:"bg-white border-slate-200"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Zt,{htmlFor:"email",children:"  | Email"}),u.jsx(ln,{id:"email",type:"email",value:s.authorEmail,onChange:d=>a({...s,authorEmail:d.target.value}),placeholder:"email@example.com",className:"bg-white border-slate-200"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Zt,{htmlFor:"comment",children:" | Comment *"}),u.jsx(jf,{id:"comment",value:s.content,onChange:d=>a({...s,content:d.target.value}),required:!0,rows:4,placeholder:"  ... | Write your comment here...",className:"bg-white border-slate-200"})]}),u.jsx(Sp,{children:u.jsxs(bt,{type:"submit",disabled:c.isPending,className:"bg-emerald-500 hover:bg-emerald-600 w-full",children:[u.jsx(TB,{className:"w-4 h-4 mr-2"})," ",c.isPending?" ...":"  | Post Comment"]})})]})]})]})]}),l.length>0?u.jsx("div",{className:"space-y-3",children:l.map(d=>u.jsx(vt,{className:"bg-slate-50 border-slate-200",children:u.jsx(Ct,{className:"p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-emerald-100 flex items-center justify-center text-emerald-600 font-bold",children:d.authorName.charAt(0).toUpperCase()}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("span",{className:"font-semibold text-slate-800",children:d.authorName}),u.jsx("span",{className:"text-xs text-slate-400",children:d.createdAt?hx(new Date(d.createdAt),"MMM d, yyyy"):""})]}),u.jsx("p",{className:"text-slate-600 text-sm leading-relaxed",children:d.content})]})]})})},d.id))}):u.jsx(vt,{className:"bg-slate-50 border-dashed border-slate-300",children:u.jsxs(Ct,{className:"p-8 text-center",children:[u.jsx(U1,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),u.jsx("p",{className:"text-slate-500",children:"    | No comments yet"}),u.jsx("p",{className:"text-slate-400 text-sm",children:"   ! | Be the first to comment!"})]})})]})}function GAe(){const{toast:t}=hd(),[e,n]=N.useState(!1),[r,i]=N.useState(!1),[s,a]=N.useState({name:"",email:"",phone:"",subject:"",message:""}),o=Bl({mutationFn:async l=>{const c=await fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});if(!c.ok)throw new Error("Failed to send message");return c.json()},onSuccess:()=>{i(!0),a({name:"",email:"",phone:"",subject:"",message:""}),t({title:"  | Message Sent",description:"   | We'll contact you soon"})},onError:()=>{t({title:" | Error",description:"    | Failed to send message",variant:"destructive"})}});return u.jsxs(Xg,{open:e,onOpenChange:l=>{n(l),l||i(!1)},children:[u.jsx(jz,{asChild:!0,children:u.jsxs(bt,{variant:"outline",className:"border-emerald-500 text-emerald-600 hover:bg-emerald-50",children:[u.jsx(y_,{className:"w-4 h-4 mr-2"}),"   | Contact Us"]})}),u.jsxs(wp,{className:"sm:max-w-lg",children:[u.jsx(_p,{children:u.jsx(Ep,{className:"text-xl text-[#1E3A5F]",children:"  | Contact Us"})}),r?u.jsxs("div",{className:"py-8 text-center",children:[u.jsx(Pg,{className:"w-16 h-16 text-emerald-500 mx-auto mb-4"}),u.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:" ! | Thank You!"}),u.jsx("p",{className:"text-slate-500",children:"      "}),u.jsx("p",{className:"text-slate-400 text-sm",children:"We will respond to you as soon as possible"}),u.jsx(bt,{onClick:()=>n(!1),className:"mt-6 bg-emerald-500 hover:bg-emerald-600",children:" | Close"})]}):u.jsxs("form",{onSubmit:l=>{l.preventDefault(),o.mutate(s)},className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Zt,{htmlFor:"contact-name",children:" | Name *"}),u.jsxs("div",{className:"relative",children:[u.jsx(x_,{className:"absolute left-3 top-3 w-4 h-4 text-slate-400"}),u.jsx(ln,{id:"contact-name",value:s.name,onChange:l=>a({...s,name:l.target.value}),required:!0,placeholder:" | Your name",className:"pl-10 bg-white border-slate-200"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Zt,{htmlFor:"contact-email",children:"  | Email *"}),u.jsxs("div",{className:"relative",children:[u.jsx(y_,{className:"absolute left-3 top-3 w-4 h-4 text-slate-400"}),u.jsx(ln,{id:"contact-email",type:"email",value:s.email,onChange:l=>a({...s,email:l.target.value}),required:!0,placeholder:"email@example.com",className:"pl-10 bg-white border-slate-200"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Zt,{htmlFor:"contact-phone",children:"  | Phone"}),u.jsxs("div",{className:"relative",children:[u.jsx(lre,{className:"absolute left-3 top-3 w-4 h-4 text-slate-400"}),u.jsx(ln,{id:"contact-phone",value:s.phone,onChange:l=>a({...s,phone:l.target.value}),placeholder:"+249 123 456 789",className:"pl-10 bg-white border-slate-200"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Zt,{htmlFor:"contact-subject",children:" | Subject *"}),u.jsx(ln,{id:"contact-subject",value:s.subject,onChange:l=>a({...s,subject:l.target.value}),required:!0,placeholder:"  | Message subject",className:"bg-white border-slate-200"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Zt,{htmlFor:"contact-message",children:" | Message *"}),u.jsx(jf,{id:"contact-message",value:s.message,onChange:l=>a({...s,message:l.target.value}),required:!0,rows:4,placeholder:"  ... | Write your message here...",className:"bg-white border-slate-200"})]}),u.jsx(Sp,{children:u.jsxs(bt,{type:"submit",disabled:o.isPending,className:"bg-emerald-500 hover:bg-emerald-600 w-full",children:[u.jsx(TB,{className:"w-4 h-4 mr-2"})," ",o.isPending?" ...":"  | Send Message"]})})]})]})]})}function BN(){return u.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:u.jsx(GAe,{})})}const qAe=uE("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function Sn({className:t,variant:e,...n}){return u.jsx("div",{className:Et(qAe({variant:e}),t),...n})}var hr;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const a of i)s[a]=a;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),a={};for(const o of s)a[o]=i[o];return t.objectValues(a)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.push(a);return s},t.find=(i,s)=>{for(const a of i)if(s(a))return a},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(hr||(hr={}));var pF;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(pF||(pF={}));const Bt=hr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),vf=t=>{switch(typeof t){case"undefined":return Bt.undefined;case"string":return Bt.string;case"number":return Number.isNaN(t)?Bt.nan:Bt.number;case"boolean":return Bt.boolean;case"function":return Bt.function;case"bigint":return Bt.bigint;case"symbol":return Bt.symbol;case"object":return Array.isArray(t)?Bt.array:t===null?Bt.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Bt.promise:typeof Map<"u"&&t instanceof Map?Bt.map:typeof Set<"u"&&t instanceof Set?Bt.set:typeof Date<"u"&&t instanceof Date?Bt.date:Bt.object;default:return Bt.unknown}},ut=hr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),XAe=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class ul extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let o=r,l=0;for(;l<a.path.length;){const c=a.path[l];l===a.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(n(a))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return i(this),r}static assert(e){if(!(e instanceof ul))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,hr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const s=i.path[0];n[s]=n[s]||[],n[s].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}ul.create=t=>new ul(t);const px=(t,e)=>{let n;switch(t.code){case ut.invalid_type:t.received===Bt.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case ut.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,hr.jsonStringifyReplacer)}`;break;case ut.unrecognized_keys:n=`Unrecognized key(s) in object: ${hr.joinValues(t.keys,", ")}`;break;case ut.invalid_union:n="Invalid input";break;case ut.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${hr.joinValues(t.options)}`;break;case ut.invalid_enum_value:n=`Invalid enum value. Expected ${hr.joinValues(t.options)}, received '${t.received}'`;break;case ut.invalid_arguments:n="Invalid function arguments";break;case ut.invalid_return_type:n="Invalid function return type";break;case ut.invalid_date:n="Invalid date";break;case ut.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:hr.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case ut.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case ut.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case ut.custom:n="Invalid input";break;case ut.invalid_intersection_types:n="Intersection results could not be merged";break;case ut.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case ut.not_finite:n="Number must be finite";break;default:n=e.defaultError,hr.assertNever(t)}return{message:n}};let zae=px;function YAe(t){zae=t}function TA(){return zae}const AA=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],a={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let o="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)o=c(a,{data:e,defaultError:o}).message;return{...i,path:s,message:o}},KAe=[];function It(t,e){const n=TA(),r=AA({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===px?void 0:px].filter(i=>!!i)});t.common.issues.push(r)}class Ca{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return En;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,a=await i.value;r.push({key:s,value:a})}return Ca.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:a}=i;if(s.status==="aborted"||a.status==="aborted")return En;s.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(r[s.value]=a.value)}return{status:e.value,value:r}}}const En=Object.freeze({status:"aborted"}),Cy=t=>({status:"dirty",value:t}),to=t=>({status:"valid",value:t}),mF=t=>t.status==="aborted",gF=t=>t.status==="dirty",Yg=t=>t.status==="valid",C_=t=>typeof Promise<"u"&&t instanceof Promise;var rn;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(rn||(rn={}));class id{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const EW=(t,e)=>{if(Yg(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new ul(t.common.issues);return this._error=n,this._error}}};function $n(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(a,o)=>{const{message:l}=t;return a.code==="invalid_enum_value"?{message:l??o.defaultError}:typeof o.data>"u"?{message:l??r??o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:l??n??o.defaultError}},description:i}}class Zn{get description(){return this._def.description}_getType(e){return vf(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:vf(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ca,ctx:{common:e.parent.common,data:e.data,parsedType:vf(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(C_(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:n?.async??!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:vf(e)},i=this._parseSync({data:e,path:r.path,parent:r});return EW(r,i)}"~validate"(e){const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:vf(e)};if(!this["~standard"].async)try{const r=this._parseSync({data:e,path:[],parent:n});return Yg(r)?{value:r.value}:{issues:n.common.issues}}catch(r){r?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(r=>Yg(r)?{value:r.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:vf(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(C_(i)?i:Promise.resolve(i));return EW(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const a=e(i),o=()=>s.addIssue({code:ut.custom,...r(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(l=>l?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new tu({schema:this,typeName:An.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Zu.create(this,this._def)}nullable(){return Pp.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Xc.create(this)}promise(){return gx.create(this,this._def)}or(e){return O_.create([this,e],this._def)}and(e){return j_.create(this,e,this._def)}transform(e){return new tu({...$n(this._def),schema:this,typeName:An.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new F_({...$n(this._def),innerType:this,defaultValue:n,typeName:An.ZodDefault})}brand(){return new kz({typeName:An.ZodBranded,type:this,...$n(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new U_({...$n(this._def),innerType:this,catchValue:n,typeName:An.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return vE.create(this,e)}readonly(){return B_.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const ZAe=/^c[^\s-]{8,}$/i,QAe=/^[0-9a-z]+$/,JAe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,eCe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,tCe=/^[a-z0-9_-]{21}$/i,nCe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,rCe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,iCe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,sCe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let qj;const aCe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,oCe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,lCe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,cCe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,uCe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,dCe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Vae="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",fCe=new RegExp(`^${Vae}$`);function $ae(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function hCe(t){return new RegExp(`^${$ae(t)}$`)}function Hae(t){let e=`${Vae}T${$ae(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function pCe(t,e){return!!((e==="v4"||!e)&&aCe.test(t)||(e==="v6"||!e)&&lCe.test(t))}function mCe(t,e){if(!nCe.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&i?.typ!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function gCe(t,e){return!!((e==="v4"||!e)&&oCe.test(t)||(e==="v6"||!e)&&cCe.test(t))}class zc extends Zn{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Bt.string){const s=this._getOrReturnCtx(e);return It(s,{code:ut.invalid_type,expected:Bt.string,received:s.parsedType}),En}const r=new Ca;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),It(i,{code:ut.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),It(i,{code:ut.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const a=e.data.length>s.value,o=e.data.length<s.value;(a||o)&&(i=this._getOrReturnCtx(e,i),a?It(i,{code:ut.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):o&&It(i,{code:ut.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")iCe.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"email",code:ut.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")qj||(qj=new RegExp(sCe,"u")),qj.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"emoji",code:ut.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")eCe.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"uuid",code:ut.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")tCe.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"nanoid",code:ut.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")ZAe.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"cuid",code:ut.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")QAe.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"cuid2",code:ut.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")JAe.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"ulid",code:ut.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),It(i,{validation:"url",code:ut.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"regex",code:ut.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),It(i,{code:ut.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),It(i,{code:ut.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),It(i,{code:ut.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?Hae(s).test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{code:ut.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?fCe.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{code:ut.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?hCe(s).test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{code:ut.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?rCe.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"duration",code:ut.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?pCe(e.data,s.version)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"ip",code:ut.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?mCe(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"jwt",code:ut.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?gCe(e.data,s.version)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"cidr",code:ut.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?uCe.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"base64",code:ut.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?dCe.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"base64url",code:ut.invalid_string,message:s.message}),r.dirty()):hr.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:ut.invalid_string,...rn.errToObj(r)})}_addCheck(e){return new zc({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...rn.errToObj(e)})}url(e){return this._addCheck({kind:"url",...rn.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...rn.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...rn.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...rn.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...rn.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...rn.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...rn.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...rn.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...rn.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...rn.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...rn.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...rn.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...rn.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...rn.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...rn.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...rn.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,...rn.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...rn.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...rn.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...rn.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...rn.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...rn.errToObj(n)})}nonempty(e){return this.min(1,rn.errToObj(e))}trim(){return new zc({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new zc({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new zc({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}zc.create=t=>new zc({checks:[],typeName:An.ZodString,coerce:t?.coerce??!1,...$n(t)});function vCe(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=Number.parseInt(t.toFixed(i).replace(".","")),a=Number.parseInt(e.toFixed(i).replace(".",""));return s%a/10**i}class Tp extends Zn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Bt.number){const s=this._getOrReturnCtx(e);return It(s,{code:ut.invalid_type,expected:Bt.number,received:s.parsedType}),En}let r;const i=new Ca;for(const s of this._def.checks)s.kind==="int"?hr.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),It(r,{code:ut.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),It(r,{code:ut.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),It(r,{code:ut.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?vCe(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),It(r,{code:ut.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),It(r,{code:ut.not_finite,message:s.message}),i.dirty()):hr.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,rn.toString(n))}gt(e,n){return this.setLimit("min",e,!1,rn.toString(n))}lte(e,n){return this.setLimit("max",e,!0,rn.toString(n))}lt(e,n){return this.setLimit("max",e,!1,rn.toString(n))}setLimit(e,n,r,i){return new Tp({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:rn.toString(i)}]})}_addCheck(e){return new Tp({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:rn.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:rn.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:rn.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:rn.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:rn.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:rn.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:rn.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:rn.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:rn.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&hr.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Tp.create=t=>new Tp({checks:[],typeName:An.ZodNumber,coerce:t?.coerce||!1,...$n(t)});class Ap extends Zn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Bt.bigint)return this._getInvalidInput(e);let r;const i=new Ca;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),It(r,{code:ut.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),It(r,{code:ut.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),It(r,{code:ut.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):hr.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return It(n,{code:ut.invalid_type,expected:Bt.bigint,received:n.parsedType}),En}gte(e,n){return this.setLimit("min",e,!0,rn.toString(n))}gt(e,n){return this.setLimit("min",e,!1,rn.toString(n))}lte(e,n){return this.setLimit("max",e,!0,rn.toString(n))}lt(e,n){return this.setLimit("max",e,!1,rn.toString(n))}setLimit(e,n,r,i){return new Ap({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:rn.toString(i)}]})}_addCheck(e){return new Ap({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:rn.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:rn.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:rn.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:rn.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:rn.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ap.create=t=>new Ap({checks:[],typeName:An.ZodBigInt,coerce:t?.coerce??!1,...$n(t)});class P_ extends Zn{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Bt.boolean){const r=this._getOrReturnCtx(e);return It(r,{code:ut.invalid_type,expected:Bt.boolean,received:r.parsedType}),En}return to(e.data)}}P_.create=t=>new P_({typeName:An.ZodBoolean,coerce:t?.coerce||!1,...$n(t)});class Kg extends Zn{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Bt.date){const s=this._getOrReturnCtx(e);return It(s,{code:ut.invalid_type,expected:Bt.date,received:s.parsedType}),En}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return It(s,{code:ut.invalid_date}),En}const r=new Ca;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),It(i,{code:ut.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),It(i,{code:ut.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):hr.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Kg({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:rn.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:rn.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Kg.create=t=>new Kg({checks:[],coerce:t?.coerce||!1,typeName:An.ZodDate,...$n(t)});class CA extends Zn{_parse(e){if(this._getType(e)!==Bt.symbol){const r=this._getOrReturnCtx(e);return It(r,{code:ut.invalid_type,expected:Bt.symbol,received:r.parsedType}),En}return to(e.data)}}CA.create=t=>new CA({typeName:An.ZodSymbol,...$n(t)});class N_ extends Zn{_parse(e){if(this._getType(e)!==Bt.undefined){const r=this._getOrReturnCtx(e);return It(r,{code:ut.invalid_type,expected:Bt.undefined,received:r.parsedType}),En}return to(e.data)}}N_.create=t=>new N_({typeName:An.ZodUndefined,...$n(t)});class R_ extends Zn{_parse(e){if(this._getType(e)!==Bt.null){const r=this._getOrReturnCtx(e);return It(r,{code:ut.invalid_type,expected:Bt.null,received:r.parsedType}),En}return to(e.data)}}R_.create=t=>new R_({typeName:An.ZodNull,...$n(t)});class mx extends Zn{constructor(){super(...arguments),this._any=!0}_parse(e){return to(e.data)}}mx.create=t=>new mx({typeName:An.ZodAny,...$n(t)});class Rg extends Zn{constructor(){super(...arguments),this._unknown=!0}_parse(e){return to(e.data)}}Rg.create=t=>new Rg({typeName:An.ZodUnknown,...$n(t)});class Vf extends Zn{_parse(e){const n=this._getOrReturnCtx(e);return It(n,{code:ut.invalid_type,expected:Bt.never,received:n.parsedType}),En}}Vf.create=t=>new Vf({typeName:An.ZodNever,...$n(t)});class PA extends Zn{_parse(e){if(this._getType(e)!==Bt.undefined){const r=this._getOrReturnCtx(e);return It(r,{code:ut.invalid_type,expected:Bt.void,received:r.parsedType}),En}return to(e.data)}}PA.create=t=>new PA({typeName:An.ZodVoid,...$n(t)});class Xc extends Zn{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==Bt.array)return It(n,{code:ut.invalid_type,expected:Bt.array,received:n.parsedType}),En;if(i.exactLength!==null){const a=n.data.length>i.exactLength.value,o=n.data.length<i.exactLength.value;(a||o)&&(It(n,{code:a?ut.too_big:ut.too_small,minimum:o?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(It(n,{code:ut.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(It(n,{code:ut.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,o)=>i.type._parseAsync(new id(n,a,n.path,o)))).then(a=>Ca.mergeArray(r,a));const s=[...n.data].map((a,o)=>i.type._parseSync(new id(n,a,n.path,o)));return Ca.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new Xc({...this._def,minLength:{value:e,message:rn.toString(n)}})}max(e,n){return new Xc({...this._def,maxLength:{value:e,message:rn.toString(n)}})}length(e,n){return new Xc({...this._def,exactLength:{value:e,message:rn.toString(n)}})}nonempty(e){return this.min(1,e)}}Xc.create=(t,e)=>new Xc({type:t,minLength:null,maxLength:null,exactLength:null,typeName:An.ZodArray,...$n(e)});function vy(t){if(t instanceof vi){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Zu.create(vy(r))}return new vi({...t._def,shape:()=>e})}else return t instanceof Xc?new Xc({...t._def,type:vy(t.element)}):t instanceof Zu?Zu.create(vy(t.unwrap())):t instanceof Pp?Pp.create(vy(t.unwrap())):t instanceof sd?sd.create(t.items.map(e=>vy(e))):t}class vi extends Zn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=hr.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==Bt.object){const c=this._getOrReturnCtx(e);return It(c,{code:ut.invalid_type,expected:Bt.object,received:c.parsedType}),En}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof Vf&&this._def.unknownKeys==="strip"))for(const c in i.data)a.includes(c)||o.push(c);const l=[];for(const c of a){const d=s[c],f=i.data[c];l.push({key:{status:"valid",value:c},value:d._parse(new id(i,f,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof Vf){const c=this._def.unknownKeys;if(c==="passthrough")for(const d of o)l.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(c==="strict")o.length>0&&(It(i,{code:ut.unrecognized_keys,keys:o}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const d of o){const f=i.data[d];l.push({key:{status:"valid",value:d},value:c._parse(new id(i,f,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const d of l){const f=await d.key,h=await d.value;c.push({key:f,value:h,alwaysSet:d.alwaysSet})}return c}).then(c=>Ca.mergeObjectSync(r,c)):Ca.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return rn.errToObj,new vi({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{const i=this._def.errorMap?.(n,r).message??r.defaultError;return n.code==="unrecognized_keys"?{message:rn.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new vi({...this._def,unknownKeys:"strip"})}passthrough(){return new vi({...this._def,unknownKeys:"passthrough"})}extend(e){return new vi({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new vi({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:An.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new vi({...this._def,catchall:e})}pick(e){const n={};for(const r of hr.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new vi({...this._def,shape:()=>n})}omit(e){const n={};for(const r of hr.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new vi({...this._def,shape:()=>n})}deepPartial(){return vy(this)}partial(e){const n={};for(const r of hr.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new vi({...this._def,shape:()=>n})}required(e){const n={};for(const r of hr.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Zu;)s=s._def.innerType;n[r]=s}return new vi({...this._def,shape:()=>n})}keyof(){return Wae(hr.objectKeys(this.shape))}}vi.create=(t,e)=>new vi({shape:()=>t,unknownKeys:"strip",catchall:Vf.create(),typeName:An.ZodObject,...$n(e)});vi.strictCreate=(t,e)=>new vi({shape:()=>t,unknownKeys:"strict",catchall:Vf.create(),typeName:An.ZodObject,...$n(e)});vi.lazycreate=(t,e)=>new vi({shape:t,unknownKeys:"strip",catchall:Vf.create(),typeName:An.ZodObject,...$n(e)});class O_ extends Zn{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const o of s)if(o.result.status==="valid")return o.result;for(const o of s)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const a=s.map(o=>new ul(o.ctx.common.issues));return It(n,{code:ut.invalid_union,unionErrors:a}),En}if(n.common.async)return Promise.all(r.map(async s=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(i);{let s;const a=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},d=l._parseSync({data:n.data,path:n.path,parent:c});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:c}),c.common.issues.length&&a.push(c.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const o=a.map(l=>new ul(l));return It(n,{code:ut.invalid_union,unionErrors:o}),En}}get options(){return this._def.options}}O_.create=(t,e)=>new O_({options:t,typeName:An.ZodUnion,...$n(e)});const pf=t=>t instanceof k_?pf(t.schema):t instanceof tu?pf(t.innerType()):t instanceof D_?[t.value]:t instanceof Cp?t.options:t instanceof L_?hr.objectValues(t.enum):t instanceof F_?pf(t._def.innerType):t instanceof N_?[void 0]:t instanceof R_?[null]:t instanceof Zu?[void 0,...pf(t.unwrap())]:t instanceof Pp?[null,...pf(t.unwrap())]:t instanceof kz||t instanceof B_?pf(t.unwrap()):t instanceof U_?pf(t._def.innerType):[];class zN extends Zn{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Bt.object)return It(n,{code:ut.invalid_type,expected:Bt.object,received:n.parsedType}),En;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(It(n,{code:ut.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),En)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const a=pf(s.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of a){if(i.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);i.set(o,s)}}return new zN({typeName:An.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...$n(r)})}}function vF(t,e){const n=vf(t),r=vf(e);if(t===e)return{valid:!0,data:t};if(n===Bt.object&&r===Bt.object){const i=hr.objectKeys(e),s=hr.objectKeys(t).filter(o=>i.indexOf(o)!==-1),a={...t,...e};for(const o of s){const l=vF(t[o],e[o]);if(!l.valid)return{valid:!1};a[o]=l.data}return{valid:!0,data:a}}else if(n===Bt.array&&r===Bt.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const a=t[s],o=e[s],l=vF(a,o);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===Bt.date&&r===Bt.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class j_ extends Zn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,a)=>{if(mF(s)||mF(a))return En;const o=vF(s.value,a.value);return o.valid?((gF(s)||gF(a))&&n.dirty(),{status:n.value,value:o.data}):(It(r,{code:ut.invalid_intersection_types}),En)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,a])=>i(s,a)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}j_.create=(t,e,n)=>new j_({left:t,right:e,typeName:An.ZodIntersection,...$n(n)});class sd extends Zn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Bt.array)return It(r,{code:ut.invalid_type,expected:Bt.array,received:r.parsedType}),En;if(r.data.length<this._def.items.length)return It(r,{code:ut.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),En;!this._def.rest&&r.data.length>this._def.items.length&&(It(r,{code:ut.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((a,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new id(r,a,r.path,o)):null}).filter(a=>!!a);return r.common.async?Promise.all(s).then(a=>Ca.mergeArray(n,a)):Ca.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new sd({...this._def,rest:e})}}sd.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new sd({items:t,typeName:An.ZodTuple,rest:null,...$n(e)})};class I_ extends Zn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Bt.object)return It(r,{code:ut.invalid_type,expected:Bt.object,received:r.parsedType}),En;const i=[],s=this._def.keyType,a=this._def.valueType;for(const o in r.data)i.push({key:s._parse(new id(r,o,r.path,o)),value:a._parse(new id(r,r.data[o],r.path,o)),alwaysSet:o in r.data});return r.common.async?Ca.mergeObjectAsync(n,i):Ca.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Zn?new I_({keyType:e,valueType:n,typeName:An.ZodRecord,...$n(r)}):new I_({keyType:zc.create(),valueType:e,typeName:An.ZodRecord,...$n(n)})}}class NA extends Zn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Bt.map)return It(r,{code:ut.invalid_type,expected:Bt.map,received:r.parsedType}),En;const i=this._def.keyType,s=this._def.valueType,a=[...r.data.entries()].map(([o,l],c)=>({key:i._parse(new id(r,o,r.path,[c,"key"])),value:s._parse(new id(r,l,r.path,[c,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of a){const c=await l.key,d=await l.value;if(c.status==="aborted"||d.status==="aborted")return En;(c.status==="dirty"||d.status==="dirty")&&n.dirty(),o.set(c.value,d.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const l of a){const c=l.key,d=l.value;if(c.status==="aborted"||d.status==="aborted")return En;(c.status==="dirty"||d.status==="dirty")&&n.dirty(),o.set(c.value,d.value)}return{status:n.value,value:o}}}}NA.create=(t,e,n)=>new NA({valueType:e,keyType:t,typeName:An.ZodMap,...$n(n)});class Zg extends Zn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Bt.set)return It(r,{code:ut.invalid_type,expected:Bt.set,received:r.parsedType}),En;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(It(r,{code:ut.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(It(r,{code:ut.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function a(l){const c=new Set;for(const d of l){if(d.status==="aborted")return En;d.status==="dirty"&&n.dirty(),c.add(d.value)}return{status:n.value,value:c}}const o=[...r.data.values()].map((l,c)=>s._parse(new id(r,l,r.path,c)));return r.common.async?Promise.all(o).then(l=>a(l)):a(o)}min(e,n){return new Zg({...this._def,minSize:{value:e,message:rn.toString(n)}})}max(e,n){return new Zg({...this._def,maxSize:{value:e,message:rn.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Zg.create=(t,e)=>new Zg({valueType:t,minSize:null,maxSize:null,typeName:An.ZodSet,...$n(e)});class Wy extends Zn{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Bt.function)return It(n,{code:ut.invalid_type,expected:Bt.function,received:n.parsedType}),En;function r(o,l){return AA({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,TA(),px].filter(c=>!!c),issueData:{code:ut.invalid_arguments,argumentsError:l}})}function i(o,l){return AA({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,TA(),px].filter(c=>!!c),issueData:{code:ut.invalid_return_type,returnTypeError:l}})}const s={errorMap:n.common.contextualErrorMap},a=n.data;if(this._def.returns instanceof gx){const o=this;return to(async function(...l){const c=new ul([]),d=await o._def.args.parseAsync(l,s).catch(m=>{throw c.addIssue(r(l,m)),c}),f=await Reflect.apply(a,this,d);return await o._def.returns._def.type.parseAsync(f,s).catch(m=>{throw c.addIssue(i(f,m)),c})})}else{const o=this;return to(function(...l){const c=o._def.args.safeParse(l,s);if(!c.success)throw new ul([r(l,c.error)]);const d=Reflect.apply(a,this,c.data),f=o._def.returns.safeParse(d,s);if(!f.success)throw new ul([i(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Wy({...this._def,args:sd.create(e).rest(Rg.create())})}returns(e){return new Wy({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Wy({args:e||sd.create([]).rest(Rg.create()),returns:n||Rg.create(),typeName:An.ZodFunction,...$n(r)})}}class k_ extends Zn{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}k_.create=(t,e)=>new k_({getter:t,typeName:An.ZodLazy,...$n(e)});class D_ extends Zn{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return It(n,{received:n.data,code:ut.invalid_literal,expected:this._def.value}),En}return{status:"valid",value:e.data}}get value(){return this._def.value}}D_.create=(t,e)=>new D_({value:t,typeName:An.ZodLiteral,...$n(e)});function Wae(t,e){return new Cp({values:t,typeName:An.ZodEnum,...$n(e)})}class Cp extends Zn{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return It(n,{expected:hr.joinValues(r),received:n.parsedType,code:ut.invalid_type}),En}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return It(n,{received:n.data,code:ut.invalid_enum_value,options:r}),En}return to(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Cp.create(e,{...this._def,...n})}exclude(e,n=this._def){return Cp.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Cp.create=Wae;class L_ extends Zn{_parse(e){const n=hr.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Bt.string&&r.parsedType!==Bt.number){const i=hr.objectValues(n);return It(r,{expected:hr.joinValues(i),received:r.parsedType,code:ut.invalid_type}),En}if(this._cache||(this._cache=new Set(hr.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=hr.objectValues(n);return It(r,{received:r.data,code:ut.invalid_enum_value,options:i}),En}return to(e.data)}get enum(){return this._def.values}}L_.create=(t,e)=>new L_({values:t,typeName:An.ZodNativeEnum,...$n(e)});class gx extends Zn{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Bt.promise&&n.common.async===!1)return It(n,{code:ut.invalid_type,expected:Bt.promise,received:n.parsedType}),En;const r=n.parsedType===Bt.promise?n.data:Promise.resolve(n.data);return to(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}gx.create=(t,e)=>new gx({type:t,typeName:An.ZodPromise,...$n(e)});class tu extends Zn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===An.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:a=>{It(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const a=i.transform(r.data,s);if(r.common.async)return Promise.resolve(a).then(async o=>{if(n.value==="aborted")return En;const l=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return l.status==="aborted"?En:l.status==="dirty"||n.value==="dirty"?Cy(l.value):l});{if(n.value==="aborted")return En;const o=this._def.schema._parseSync({data:a,path:r.path,parent:r});return o.status==="aborted"?En:o.status==="dirty"||n.value==="dirty"?Cy(o.value):o}}if(i.type==="refinement"){const a=o=>{const l=i.refinement(o,s);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?En:(o.status==="dirty"&&n.dirty(),a(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?En:(o.status==="dirty"&&n.dirty(),a(o.value).then(()=>({status:n.value,value:o.value}))))}if(i.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Yg(a))return En;const o=i.transform(a.value,s);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>Yg(a)?Promise.resolve(i.transform(a.value,s)).then(o=>({status:n.value,value:o})):En);hr.assertNever(i)}}tu.create=(t,e,n)=>new tu({schema:t,typeName:An.ZodEffects,effect:e,...$n(n)});tu.createWithPreprocess=(t,e,n)=>new tu({schema:e,effect:{type:"preprocess",transform:t},typeName:An.ZodEffects,...$n(n)});class Zu extends Zn{_parse(e){return this._getType(e)===Bt.undefined?to(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Zu.create=(t,e)=>new Zu({innerType:t,typeName:An.ZodOptional,...$n(e)});class Pp extends Zn{_parse(e){return this._getType(e)===Bt.null?to(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Pp.create=(t,e)=>new Pp({innerType:t,typeName:An.ZodNullable,...$n(e)});class F_ extends Zn{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Bt.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}F_.create=(t,e)=>new F_({innerType:t,typeName:An.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...$n(e)});class U_ extends Zn{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return C_(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ul(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ul(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}U_.create=(t,e)=>new U_({innerType:t,typeName:An.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...$n(e)});class RA extends Zn{_parse(e){if(this._getType(e)!==Bt.nan){const r=this._getOrReturnCtx(e);return It(r,{code:ut.invalid_type,expected:Bt.nan,received:r.parsedType}),En}return{status:"valid",value:e.data}}}RA.create=t=>new RA({typeName:An.ZodNaN,...$n(t)});const yCe=Symbol("zod_brand");class kz extends Zn{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class vE extends Zn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?En:s.status==="dirty"?(n.dirty(),Cy(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?En:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new vE({in:e,out:n,typeName:An.ZodPipeline})}}class B_ extends Zn{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Yg(i)&&(i.value=Object.freeze(i.value)),i);return C_(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}B_.create=(t,e)=>new B_({innerType:t,typeName:An.ZodReadonly,...$n(e)});function MW(t,e){const n=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof n=="string"?{message:n}:n}function yf(t,e={},n){return t?mx.create().superRefine((r,i)=>{const s=t(r);if(s instanceof Promise)return s.then(a=>{if(!a){const o=MW(e,r),l=o.fatal??n??!0;i.addIssue({code:"custom",...o,fatal:l})}});if(!s){const a=MW(e,r),o=a.fatal??n??!0;i.addIssue({code:"custom",...a,fatal:o})}}):mx.create()}const xCe={object:vi.lazycreate};var An;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(An||(An={}));const bCe=(t,e={message:`Input not instance of ${t.name}`})=>yf(n=>n instanceof t,e),Mf=zc.create,on=Tp.create,wCe=RA.create,_Ce=Ap.create,Dz=P_.create,SCe=Kg.create,ECe=CA.create,MCe=N_.create,Gae=R_.create,OA=mx.create,TCe=Rg.create,ACe=Vf.create,qae=PA.create,jA=Xc.create,dp=vi.create,CCe=vi.strictCreate,Lz=O_.create,PCe=zN.create,NCe=j_.create,RCe=sd.create,Xae=I_.create,OCe=NA.create,jCe=Zg.create,ICe=Wy.create,kCe=k_.create,DCe=D_.create,LCe=Cp.create,FCe=L_.create,UCe=gx.create,TW=tu.create,BCe=Zu.create,zCe=Pp.create,VCe=tu.createWithPreprocess,$Ce=vE.create,HCe=()=>Mf().optional(),WCe=()=>on().optional(),GCe=()=>Dz().optional(),qCe={string:(t=>zc.create({...t,coerce:!0})),number:(t=>Tp.create({...t,coerce:!0})),boolean:(t=>P_.create({...t,coerce:!0})),bigint:(t=>Ap.create({...t,coerce:!0})),date:(t=>Kg.create({...t,coerce:!0}))},XCe=En,YCe=Object.freeze(Object.defineProperty({__proto__:null,BRAND:yCe,DIRTY:Cy,EMPTY_PATH:KAe,INVALID:En,NEVER:XCe,OK:to,ParseStatus:Ca,Schema:Zn,ZodAny:mx,ZodArray:Xc,ZodBigInt:Ap,ZodBoolean:P_,ZodBranded:kz,ZodCatch:U_,ZodDate:Kg,ZodDefault:F_,ZodDiscriminatedUnion:zN,ZodEffects:tu,ZodEnum:Cp,ZodError:ul,get ZodFirstPartyTypeKind(){return An},ZodFunction:Wy,ZodIntersection:j_,ZodIssueCode:ut,ZodLazy:k_,ZodLiteral:D_,ZodMap:NA,ZodNaN:RA,ZodNativeEnum:L_,ZodNever:Vf,ZodNull:R_,ZodNullable:Pp,ZodNumber:Tp,ZodObject:vi,ZodOptional:Zu,ZodParsedType:Bt,ZodPipeline:vE,ZodPromise:gx,ZodReadonly:B_,ZodRecord:I_,ZodSchema:Zn,ZodSet:Zg,ZodString:zc,ZodSymbol:CA,ZodTransformer:tu,ZodTuple:sd,ZodType:Zn,ZodUndefined:N_,ZodUnion:O_,ZodUnknown:Rg,ZodVoid:PA,addIssueToContext:It,any:OA,array:jA,bigint:_Ce,boolean:Dz,coerce:qCe,custom:yf,date:SCe,datetimeRegex:Hae,defaultErrorMap:px,discriminatedUnion:PCe,effect:TW,enum:LCe,function:ICe,getErrorMap:TA,getParsedType:vf,instanceof:bCe,intersection:NCe,isAborted:mF,isAsync:C_,isDirty:gF,isValid:Yg,late:xCe,lazy:kCe,literal:DCe,makeIssue:AA,map:OCe,nan:wCe,nativeEnum:FCe,never:ACe,null:Gae,nullable:zCe,number:on,object:dp,get objectUtil(){return pF},oboolean:GCe,onumber:WCe,optional:BCe,ostring:HCe,pipeline:$Ce,preprocess:VCe,promise:UCe,quotelessJson:XAe,record:Xae,set:jCe,setErrorMap:YAe,strictObject:CCe,string:Mf,symbol:ECe,transformer:TW,tuple:RCe,undefined:MCe,union:Lz,unknown:TCe,get util(){return hr},void:qae},Symbol.toStringTag,{value:"Module"})),Qe=Symbol.for("drizzle:entityKind");function ss(t,e){if(!t||typeof t!="object")return!1;if(t instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,Qe))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let n=Object.getPrototypeOf(t).constructor;if(n)for(;n;){if(Qe in n&&n[Qe]===e[Qe])return!0;n=Object.getPrototypeOf(n)}return!1}class z_{constructor(e,n){this.table=e,this.config=n,this.name=n.name,this.keyAsName=n.keyAsName,this.notNull=n.notNull,this.default=n.default,this.defaultFn=n.defaultFn,this.onUpdateFn=n.onUpdateFn,this.hasDefault=n.hasDefault,this.primary=n.primaryKey,this.isUnique=n.isUnique,this.uniqueName=n.uniqueName,this.uniqueType=n.uniqueType,this.dataType=n.dataType,this.columnType=n.columnType,this.generated=n.generated,this.generatedIdentity=n.generatedIdentity}static[Qe]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}class KCe{static[Qe]="ColumnBuilder";config;constructor(e,n,r){this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:n,columnType:r,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}const Gy=Symbol.for("drizzle:Name");class ZCe{static[Qe]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(e,n){this.reference=()=>{const{name:r,columns:i,foreignColumns:s}=e();return{name:r,columns:i,foreignTable:s[0].table,foreignColumns:s}},n&&(this._onUpdate=n.onUpdate,this._onDelete=n.onDelete)}onUpdate(e){return this._onUpdate=e===void 0?"no action":e,this}onDelete(e){return this._onDelete=e===void 0?"no action":e,this}build(e){return new QCe(e,this)}}class QCe{constructor(e,n){this.table=e,this.reference=n.reference,this.onUpdate=n._onUpdate,this.onDelete=n._onDelete}static[Qe]="PgForeignKey";reference;onUpdate;onDelete;getName(){const{name:e,columns:n,foreignColumns:r}=this.reference(),i=n.map(o=>o.name),s=r.map(o=>o.name),a=[this.table[Gy],...i,r[0].table[Gy],...s];return e??`${a.join("_")}_fk`}}function JCe(t,...e){return t(...e)}function ePe(t,e){return`${t[Gy]}_${e.join("_")}_unique`}function AW(t,e,n){for(let r=e;r<t.length;r++){const i=t[r];if(i==="\\"){r++;continue}if(i==='"')return[t.slice(e,r).replace(/\\/g,""),r+1];if(!n&&(i===","||i==="}"))return[t.slice(e,r).replace(/\\/g,""),r]}return[t.slice(e).replace(/\\/g,""),t.length]}function Yae(t,e=0){const n=[];let r=e,i=!1;for(;r<t.length;){const s=t[r];if(s===","){(i||r===e)&&n.push(""),i=!0,r++;continue}if(i=!1,s==="\\"){r+=2;continue}if(s==='"'){const[l,c]=AW(t,r+1,!0);n.push(l),r=c;continue}if(s==="}")return[n,r+1];if(s==="{"){const[l,c]=Yae(t,r+1);n.push(l),r=c;continue}const[a,o]=AW(t,r,!1);n.push(a),r=o}return[n,r]}function tPe(t){const[e]=Yae(t,1);return e}function Kae(t){return`{${t.map(e=>Array.isArray(e)?Kae(e):typeof e=="string"?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}class br extends KCe{foreignKeyConfigs=[];static[Qe]="PgColumnBuilder";array(e){return new rPe(this.config.name,this,e)}references(e,n={}){return this.foreignKeyConfigs.push({ref:e,actions:n}),this}unique(e,n){return this.config.isUnique=!0,this.config.uniqueName=e,this.config.uniqueType=n?.nulls,this}generatedAlwaysAs(e){return this.config.generated={as:e,type:"always",mode:"stored"},this}buildForeignKeys(e,n){return this.foreignKeyConfigs.map(({ref:r,actions:i})=>JCe((s,a)=>{const o=new ZCe(()=>{const l=s();return{columns:[e],foreignColumns:[l]}});return a.onUpdate&&o.onUpdate(a.onUpdate),a.onDelete&&o.onDelete(a.onDelete),o.build(n)},r,i))}buildExtraConfigColumn(e){return new nPe(e,this.config)}}class Xn extends z_{constructor(e,n){n.uniqueName||(n.uniqueName=ePe(e,[n.name])),super(e,n),this.table=e}static[Qe]="PgColumn"}class nPe extends Xn{static[Qe]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(e){return this.indexConfig.opClass=e,this}}class Xj{static[Qe]="IndexedColumn";constructor(e,n,r,i){this.name=e,this.keyAsName=n,this.type=r,this.indexConfig=i}name;keyAsName;type;indexConfig}class rPe extends br{static[Qe]="PgArrayBuilder";constructor(e,n,r){super(e,"array","PgArray"),this.config.baseBuilder=n,this.config.size=r}build(e){const n=this.config.baseBuilder.build(e);return new Fz(e,this.config,n)}}class Fz extends Xn{constructor(e,n,r,i){super(e,n),this.baseColumn=r,this.range=i,this.size=n.size}size;static[Qe]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(e){return typeof e=="string"&&(e=tPe(e)),e.map(n=>this.baseColumn.mapFromDriverValue(n))}mapToDriverValue(e,n=!1){const r=e.map(i=>i===null?null:ss(this.baseColumn,Fz)?this.baseColumn.mapToDriverValue(i,!0):this.baseColumn.mapToDriverValue(i));return n?r:Kae(r)}}const CW=Symbol.for("drizzle:isPgEnum");function iPe(t){return!!t&&typeof t=="function"&&CW in t&&t[CW]===!0}class Zae{static[Qe]="Subquery";constructor(e,n,r,i=!1){this._={brand:"Subquery",sql:e,selectedFields:n,alias:r,isWith:i}}}const sPe={startActiveSpan(t,e){return e()}},qy=Symbol.for("drizzle:ViewBaseConfig"),Yj=Symbol.for("drizzle:Schema"),PW=Symbol.for("drizzle:Columns"),NW=Symbol.for("drizzle:ExtraConfigColumns"),Kj=Symbol.for("drizzle:OriginalName"),Zj=Symbol.for("drizzle:BaseName"),IA=Symbol.for("drizzle:IsAlias"),RW=Symbol.for("drizzle:ExtraConfigBuilder"),Qae=Symbol.for("drizzle:IsDrizzleTable");let tl=class{static[Qe]="Table";static Symbol={Name:Gy,Schema:Yj,OriginalName:Kj,Columns:PW,ExtraConfigColumns:NW,BaseName:Zj,IsAlias:IA,ExtraConfigBuilder:RW};[Gy];[Kj];[Yj];[PW];[NW];[Zj];[IA]=!1;[Qae]=!0;[RW]=void 0;constructor(e,n,r){this[Gy]=this[Kj]=e,this[Yj]=n,this[Zj]=r}};function Jae(t){return typeof t=="object"&&t!==null&&Qae in t}function aPe(t){return t!=null&&typeof t.getSQL=="function"}function oPe(t){const e={sql:"",params:[]};for(const n of t)e.sql+=n.sql,e.params.push(...n.params),n.typings?.length&&(e.typings||(e.typings=[]),e.typings.push(...n.typings));return e}class Rc{static[Qe]="StringChunk";value;constructor(e){this.value=Array.isArray(e)?e:[e]}getSQL(){return new ii([this])}}class ii{constructor(e){this.queryChunks=e}static[Qe]="SQL";decoder=eoe;shouldInlineParams=!1;append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return sPe.startActiveSpan("drizzle.buildSQL",n=>{const r=this.buildQueryFromSourceParams(this.queryChunks,e);return n?.setAttributes({"drizzle.query.text":r.sql,"drizzle.query.params":JSON.stringify(r.params)}),r})}buildQueryFromSourceParams(e,n){const r=Object.assign({},n,{inlineParams:n.inlineParams||this.shouldInlineParams,paramStartIndex:n.paramStartIndex||{value:0}}),{casing:i,escapeName:s,escapeParam:a,prepareTyping:o,inlineParams:l,paramStartIndex:c}=r;return oPe(e.map(d=>{if(ss(d,Rc))return{sql:d.value.join(""),params:[]};if(ss(d,yF))return{sql:s(d.value),params:[]};if(d===void 0)return{sql:"",params:[]};if(Array.isArray(d)){const f=[new Rc("(")];for(const[h,m]of d.entries())f.push(m),h<d.length-1&&f.push(new Rc(", "));return f.push(new Rc(")")),this.buildQueryFromSourceParams(f,r)}if(ss(d,ii))return this.buildQueryFromSourceParams(d.queryChunks,{...r,inlineParams:l||d.shouldInlineParams});if(ss(d,tl)){const f=d[tl.Symbol.Schema],h=d[tl.Symbol.Name];return{sql:f===void 0||d[IA]?s(h):s(f)+"."+s(h),params:[]}}if(ss(d,z_)){const f=i.getColumnCasing(d);if(n.invokeSource==="indexes")return{sql:s(f),params:[]};const h=d.table[tl.Symbol.Schema];return{sql:d.table[IA]||h===void 0?s(d.table[tl.Symbol.Name])+"."+s(f):s(h)+"."+s(d.table[tl.Symbol.Name])+"."+s(f),params:[]}}if(ss(d,lPe)){const f=d[qy].schema,h=d[qy].name;return{sql:f===void 0||d[qy].isAlias?s(h):s(f)+"."+s(h),params:[]}}if(ss(d,noe)){if(ss(d.value,xF))return{sql:a(c.value++,d),params:[d],typings:["none"]};const f=d.value===null?null:d.encoder.mapToDriverValue(d.value);if(ss(f,ii))return this.buildQueryFromSourceParams([f],r);if(l)return{sql:this.mapInlineParam(f,r),params:[]};let h=["none"];return o&&(h=[o(d.encoder)]),{sql:a(c.value++,f),params:[f],typings:h}}return ss(d,xF)?{sql:a(c.value++,d),params:[d],typings:["none"]}:ss(d,ii.Aliased)&&d.fieldAlias!==void 0?{sql:s(d.fieldAlias),params:[]}:ss(d,Zae)?d._.isWith?{sql:s(d._.alias),params:[]}:this.buildQueryFromSourceParams([new Rc("("),d._.sql,new Rc(") "),new yF(d._.alias)],r):iPe(d)?d.schema?{sql:s(d.schema)+"."+s(d.enumName),params:[]}:{sql:s(d.enumName),params:[]}:aPe(d)?d.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([d.getSQL()],r):this.buildQueryFromSourceParams([new Rc("("),d.getSQL(),new Rc(")")],r):l?{sql:this.mapInlineParam(d,r),params:[]}:{sql:a(c.value++,d),params:[d],typings:["none"]}}))}mapInlineParam(e,{escapeString:n}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return n(e);if(typeof e=="object"){const r=e.toString();return n(r==="[object Object]"?JSON.stringify(e):r)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new ii.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}}class yF{constructor(e){this.value=e}static[Qe]="Name";brand;getSQL(){return new ii([this])}}const eoe={mapFromDriverValue:t=>t},toe={mapToDriverValue:t=>t};({...eoe,...toe});class noe{constructor(e,n=toe){this.value=e,this.encoder=n}static[Qe]="Param";brand;getSQL(){return new ii([this])}}function Qg(t,...e){const n=[];(e.length>0||t.length>0&&t[0]!=="")&&n.push(new Rc(t[0]));for(const[r,i]of e.entries())n.push(i,new Rc(t[r+1]));return new ii(n)}(t=>{function e(){return new ii([])}t.empty=e;function n(l){return new ii(l)}t.fromList=n;function r(l){return new ii([new Rc(l)])}t.raw=r;function i(l,c){const d=[];for(const[f,h]of l.entries())f>0&&c!==void 0&&d.push(c),d.push(h);return new ii(d)}t.join=i;function s(l){return new yF(l)}t.identifier=s;function a(l){return new xF(l)}t.placeholder=a;function o(l,c){return new noe(l,c)}t.param=o})(Qg||(Qg={}));(t=>{class e{constructor(r,i){this.sql=r,this.fieldAlias=i}static[Qe]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new e(this.sql,this.fieldAlias)}}t.Aliased=e})(ii||(ii={}));class xF{constructor(e){this.name=e}static[Qe]="Placeholder";getSQL(){return new ii([this])}}const roe=Symbol.for("drizzle:IsDrizzleView");class lPe{static[Qe]="View";[qy];[roe]=!0;constructor({name:e,schema:n,selectedFields:r,query:i}){this[qy]={name:e,originalName:e,schema:n,selectedFields:r,query:i,isExisting:!i,isAlias:!1}}getSQL(){return new ii([this])}}function cPe(t){return typeof t=="object"&&t!==null&&roe in t}z_.prototype.getSQL=function(){return new ii([this])};tl.prototype.getSQL=function(){return new ii([this])};Zae.prototype.getSQL=function(){return new ii([this])};function uPe(t){return t[tl.Symbol.Columns]}function dPe(t){return t[qy].selectedFields}function zs(t,e){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:e}}class VN extends br{static[Qe]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(e){if(e){const{name:n,...r}=e;this.config.generatedIdentity={type:"always",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){const{name:n,...r}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}class fPe extends VN{static[Qe]="PgBigInt53Builder";constructor(e){super(e,"number","PgBigInt53")}build(e){return new hPe(e,this.config)}}class hPe extends Xn{static[Qe]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}class pPe extends VN{static[Qe]="PgBigInt64Builder";constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new mPe(e,this.config)}}class mPe extends Xn{static[Qe]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}function gPe(t,e){const{name:n,config:r}=zs(t,e);return r.mode==="number"?new fPe(n):new pPe(n)}class vPe extends br{static[Qe]="PgBigSerial53Builder";constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new yPe(e,this.config)}}class yPe extends Xn{static[Qe]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}class xPe extends br{static[Qe]="PgBigSerial64Builder";constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new bPe(e,this.config)}}class bPe extends Xn{static[Qe]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}function wPe(t,e){const{name:n,config:r}=zs(t,e);return r.mode==="number"?new vPe(n):new xPe(n)}class _Pe extends br{static[Qe]="PgBooleanBuilder";constructor(e){super(e,"boolean","PgBoolean")}build(e){return new SPe(e,this.config)}}class SPe extends Xn{static[Qe]="PgBoolean";getSQLType(){return"boolean"}}function kA(t){return new _Pe(t??"")}class EPe extends br{static[Qe]="PgCharBuilder";constructor(e,n){super(e,"string","PgChar"),this.config.length=n.length,this.config.enumValues=n.enum}build(e){return new MPe(e,this.config)}}class MPe extends Xn{static[Qe]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}function TPe(t,e={}){const{name:n,config:r}=zs(t,e);return new EPe(n,r)}class APe extends br{static[Qe]="PgCidrBuilder";constructor(e){super(e,"string","PgCidr")}build(e){return new CPe(e,this.config)}}class CPe extends Xn{static[Qe]="PgCidr";getSQLType(){return"cidr"}}function PPe(t){return new APe(t??"")}class NPe extends br{static[Qe]="PgCustomColumnBuilder";constructor(e,n,r){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=n,this.config.customTypeParams=r}build(e){return new RPe(e,this.config)}}class RPe extends Xn{static[Qe]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(e,n){super(e,n),this.sqlName=n.customTypeParams.dataType(n.fieldConfig),this.mapTo=n.customTypeParams.toDriver,this.mapFrom=n.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(e){return typeof this.mapFrom=="function"?this.mapFrom(e):e}mapToDriverValue(e){return typeof this.mapTo=="function"?this.mapTo(e):e}}function OPe(t){return(e,n)=>{const{name:r,config:i}=zs(e,n);return new NPe(r,i,t)}}class yE extends br{static[Qe]="PgDateColumnBaseBuilder";defaultNow(){return this.default(Qg`now()`)}}class jPe extends yE{static[Qe]="PgDateBuilder";constructor(e){super(e,"date","PgDate")}build(e){return new IPe(e,this.config)}}class IPe extends Xn{static[Qe]="PgDate";getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}class kPe extends yE{static[Qe]="PgDateStringBuilder";constructor(e){super(e,"string","PgDateString")}build(e){return new DPe(e,this.config)}}class DPe extends Xn{static[Qe]="PgDateString";getSQLType(){return"date"}}function LPe(t,e){const{name:n,config:r}=zs(t,e);return r?.mode==="date"?new jPe(n):new kPe(n)}class FPe extends br{static[Qe]="PgDoublePrecisionBuilder";constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new UPe(e,this.config)}}class UPe extends Xn{static[Qe]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(e){return typeof e=="string"?Number.parseFloat(e):e}}function BPe(t){return new FPe(t??"")}class zPe extends br{static[Qe]="PgInetBuilder";constructor(e){super(e,"string","PgInet")}build(e){return new VPe(e,this.config)}}class VPe extends Xn{static[Qe]="PgInet";getSQLType(){return"inet"}}function $Pe(t){return new zPe(t??"")}class HPe extends VN{static[Qe]="PgIntegerBuilder";constructor(e){super(e,"number","PgInteger")}build(e){return new WPe(e,this.config)}}class WPe extends Xn{static[Qe]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(e){return typeof e=="string"?Number.parseInt(e):e}}function fp(t){return new HPe(t??"")}class GPe extends br{static[Qe]="PgIntervalBuilder";constructor(e,n){super(e,"string","PgInterval"),this.config.intervalConfig=n}build(e){return new qPe(e,this.config)}}class qPe extends Xn{static[Qe]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){const e=this.fields?` ${this.fields}`:"",n=this.precision?`(${this.precision})`:"";return`interval${e}${n}`}}function XPe(t,e={}){const{name:n,config:r}=zs(t,e);return new GPe(n,r)}class YPe extends br{static[Qe]="PgJsonBuilder";constructor(e){super(e,"json","PgJson")}build(e){return new KPe(e,this.config)}}class KPe extends Xn{static[Qe]="PgJson";constructor(e,n){super(e,n)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}function ZPe(t){return new YPe(t??"")}class QPe extends br{static[Qe]="PgJsonbBuilder";constructor(e){super(e,"json","PgJsonb")}build(e){return new JPe(e,this.config)}}class JPe extends Xn{static[Qe]="PgJsonb";constructor(e,n){super(e,n)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}function ioe(t){return new QPe(t??"")}class eNe extends br{static[Qe]="PgLineBuilder";constructor(e){super(e,"array","PgLine")}build(e){return new tNe(e,this.config)}}class tNe extends Xn{static[Qe]="PgLine";getSQLType(){return"line"}mapFromDriverValue(e){const[n,r,i]=e.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r),Number.parseFloat(i)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}class nNe extends br{static[Qe]="PgLineABCBuilder";constructor(e){super(e,"json","PgLineABC")}build(e){return new rNe(e,this.config)}}class rNe extends Xn{static[Qe]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(e){const[n,r,i]=e.slice(1,-1).split(",");return{a:Number.parseFloat(n),b:Number.parseFloat(r),c:Number.parseFloat(i)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}function iNe(t,e){const{name:n,config:r}=zs(t,e);return!r?.mode||r.mode==="tuple"?new eNe(n):new nNe(n)}class sNe extends br{static[Qe]="PgMacaddrBuilder";constructor(e){super(e,"string","PgMacaddr")}build(e){return new aNe(e,this.config)}}class aNe extends Xn{static[Qe]="PgMacaddr";getSQLType(){return"macaddr"}}function oNe(t){return new sNe(t??"")}class lNe extends br{static[Qe]="PgMacaddr8Builder";constructor(e){super(e,"string","PgMacaddr8")}build(e){return new cNe(e,this.config)}}class cNe extends Xn{static[Qe]="PgMacaddr8";getSQLType(){return"macaddr8"}}function uNe(t){return new lNe(t??"")}class dNe extends br{static[Qe]="PgNumericBuilder";constructor(e,n,r){super(e,"string","PgNumeric"),this.config.precision=n,this.config.scale=r}build(e){return new fNe(e,this.config)}}class fNe extends Xn{static[Qe]="PgNumeric";precision;scale;constructor(e,n){super(e,n),this.precision=n.precision,this.scale=n.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}function hNe(t,e){const{name:n,config:r}=zs(t,e);return new dNe(n,r?.precision,r?.scale)}class pNe extends br{static[Qe]="PgPointTupleBuilder";constructor(e){super(e,"array","PgPointTuple")}build(e){return new mNe(e,this.config)}}class mNe extends Xn{static[Qe]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[n,r]=e.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}class gNe extends br{static[Qe]="PgPointObjectBuilder";constructor(e){super(e,"json","PgPointObject")}build(e){return new vNe(e,this.config)}}class vNe extends Xn{static[Qe]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[n,r]=e.slice(1,-1).split(",");return{x:Number.parseFloat(n),y:Number.parseFloat(r)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}function yNe(t,e){const{name:n,config:r}=zs(t,e);return!r?.mode||r.mode==="tuple"?new pNe(n):new gNe(n)}function xNe(t){const e=[];for(let n=0;n<t.length;n+=2)e.push(Number.parseInt(t.slice(n,n+2),16));return new Uint8Array(e)}function OW(t,e){const n=new ArrayBuffer(8),r=new DataView(n);for(let i=0;i<8;i++)r.setUint8(i,t[e+i]);return r.getFloat64(0,!0)}function soe(t){const e=xNe(t);let n=0;const r=e[n];n+=1;const i=new DataView(e.buffer),s=i.getUint32(n,r===1);if(n+=4,s&536870912&&(i.getUint32(n,r===1),n+=4),(s&65535)===1){const a=OW(e,n);n+=8;const o=OW(e,n);return n+=8,[a,o]}throw new Error("Unsupported geometry type")}class bNe extends br{static[Qe]="PgGeometryBuilder";constructor(e){super(e,"array","PgGeometry")}build(e){return new wNe(e,this.config)}}class wNe extends Xn{static[Qe]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return soe(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}class _Ne extends br{static[Qe]="PgGeometryObjectBuilder";constructor(e){super(e,"json","PgGeometryObject")}build(e){return new SNe(e,this.config)}}class SNe extends Xn{static[Qe]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){const n=soe(e);return{x:n[0],y:n[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}function ENe(t,e){const{name:n,config:r}=zs(t,e);return!r?.mode||r.mode==="tuple"?new bNe(n):new _Ne(n)}class MNe extends br{static[Qe]="PgRealBuilder";constructor(e,n){super(e,"number","PgReal"),this.config.length=n}build(e){return new TNe(e,this.config)}}class TNe extends Xn{static[Qe]="PgReal";constructor(e,n){super(e,n)}getSQLType(){return"real"}mapFromDriverValue=e=>typeof e=="string"?Number.parseFloat(e):e}function Kn(t){return new MNe(t??"")}class ANe extends br{static[Qe]="PgSerialBuilder";constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new CNe(e,this.config)}}class CNe extends Xn{static[Qe]="PgSerial";getSQLType(){return"serial"}}function iu(t){return new ANe(t??"")}class PNe extends VN{static[Qe]="PgSmallIntBuilder";constructor(e){super(e,"number","PgSmallInt")}build(e){return new NNe(e,this.config)}}class NNe extends Xn{static[Qe]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=e=>typeof e=="string"?Number(e):e}function RNe(t){return new PNe(t??"")}class ONe extends br{static[Qe]="PgSmallSerialBuilder";constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new jNe(e,this.config)}}class jNe extends Xn{static[Qe]="PgSmallSerial";getSQLType(){return"smallserial"}}function INe(t){return new ONe(t??"")}class kNe extends br{static[Qe]="PgTextBuilder";constructor(e,n){super(e,"string","PgText"),this.config.enumValues=n.enum}build(e){return new DNe(e,this.config)}}class DNe extends Xn{static[Qe]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}function un(t,e={}){const{name:n,config:r}=zs(t,e);return new kNe(n,r)}class LNe extends yE{constructor(e,n,r){super(e,"string","PgTime"),this.withTimezone=n,this.precision=r,this.config.withTimezone=n,this.config.precision=r}static[Qe]="PgTimeBuilder";build(e){return new FNe(e,this.config)}}class FNe extends Xn{static[Qe]="PgTime";withTimezone;precision;constructor(e,n){super(e,n),this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function UNe(t,e={}){const{name:n,config:r}=zs(t,e);return new LNe(n,r.withTimezone??!1,r.precision)}class BNe extends yE{static[Qe]="PgTimestampBuilder";constructor(e,n,r){super(e,"date","PgTimestamp"),this.config.withTimezone=n,this.config.precision=r}build(e){return new zNe(e,this.config)}}class zNe extends Xn{static[Qe]="PgTimestamp";withTimezone;precision;constructor(e,n){super(e,n),this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}mapFromDriverValue=e=>new Date(this.withTimezone?e:e+"+0000");mapToDriverValue=e=>e.toISOString()}class VNe extends yE{static[Qe]="PgTimestampStringBuilder";constructor(e,n,r){super(e,"string","PgTimestampString"),this.config.withTimezone=n,this.config.precision=r}build(e){return new $Ne(e,this.config)}}class $Ne extends Xn{static[Qe]="PgTimestampString";withTimezone;precision;constructor(e,n){super(e,n),this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function ws(t,e={}){const{name:n,config:r}=zs(t,e);return r?.mode==="string"?new VNe(n,r.withTimezone??!1,r.precision):new BNe(n,r?.withTimezone??!1,r?.precision)}class HNe extends br{static[Qe]="PgUUIDBuilder";constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(Qg`gen_random_uuid()`)}build(e){return new WNe(e,this.config)}}class WNe extends Xn{static[Qe]="PgUUID";getSQLType(){return"uuid"}}function GNe(t){return new HNe(t??"")}class qNe extends br{static[Qe]="PgVarcharBuilder";constructor(e,n){super(e,"string","PgVarchar"),this.config.length=n.length,this.config.enumValues=n.enum}build(e){return new XNe(e,this.config)}}class XNe extends Xn{static[Qe]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}function pg(t,e={}){const{name:n,config:r}=zs(t,e);return new qNe(n,r)}class YNe extends br{static[Qe]="PgBinaryVectorBuilder";constructor(e,n){super(e,"string","PgBinaryVector"),this.config.dimensions=n.dimensions}build(e){return new KNe(e,this.config)}}class KNe extends Xn{static[Qe]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}function ZNe(t,e){const{name:n,config:r}=zs(t,e);return new YNe(n,r)}class QNe extends br{static[Qe]="PgHalfVectorBuilder";constructor(e,n){super(e,"array","PgHalfVector"),this.config.dimensions=n.dimensions}build(e){return new JNe(e,this.config)}}class JNe extends Xn{static[Qe]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}function eRe(t,e){const{name:n,config:r}=zs(t,e);return new QNe(n,r)}class tRe extends br{static[Qe]="PgSparseVectorBuilder";constructor(e,n){super(e,"string","PgSparseVector"),this.config.dimensions=n.dimensions}build(e){return new nRe(e,this.config)}}class nRe extends Xn{static[Qe]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}function rRe(t,e){const{name:n,config:r}=zs(t,e);return new tRe(n,r)}class iRe extends br{static[Qe]="PgVectorBuilder";constructor(e,n){super(e,"array","PgVector"),this.config.dimensions=n.dimensions}build(e){return new sRe(e,this.config)}}class sRe extends Xn{static[Qe]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}function aRe(t,e){const{name:n,config:r}=zs(t,e);return new iRe(n,r)}function oRe(){return{bigint:gPe,bigserial:wPe,boolean:kA,char:TPe,cidr:PPe,customType:OPe,date:LPe,doublePrecision:BPe,inet:$Pe,integer:fp,interval:XPe,json:ZPe,jsonb:ioe,line:iNe,macaddr:oNe,macaddr8:uNe,numeric:hNe,point:yNe,geometry:ENe,real:Kn,serial:iu,smallint:RNe,smallserial:INe,text:un,time:UNe,timestamp:ws,uuid:GNe,varchar:pg,bit:ZNe,halfvec:eRe,sparsevec:rRe,vector:aRe}}const bF=Symbol.for("drizzle:PgInlineForeignKeys"),jW=Symbol.for("drizzle:EnableRLS");class Qj extends tl{static[Qe]="PgTable";static Symbol=Object.assign({},tl.Symbol,{InlineForeignKeys:bF,EnableRLS:jW});[bF]=[];[jW]=!1;[tl.Symbol.ExtraConfigBuilder]=void 0}function lRe(t,e,n,r,i=t){const s=new Qj(t,r,i),a=typeof e=="function"?e(oRe()):e,o=Object.fromEntries(Object.entries(a).map(([d,f])=>{const h=f;h.setName(d);const m=h.build(s);return s[bF].push(...h.buildForeignKeys(m,s)),[d,m]})),l=Object.fromEntries(Object.entries(a).map(([d,f])=>{const h=f;h.setName(d);const m=h.buildExtraConfigColumn(s);return[d,m]})),c=Object.assign(s,o);return c[tl.Symbol.Columns]=o,c[tl.Symbol.ExtraConfigColumns]=l,n&&(c[Qj.Symbol.ExtraConfigBuilder]=n),Object.assign(c,{enableRLS:()=>(c[Qj.Symbol.EnableRLS]=!0,c)})}const Kl=(t,e,n)=>lRe(t,e,n,void 0);class cRe{constructor(e,n){this.unique=e,this.name=n}static[Qe]="PgIndexBuilderOn";on(...e){return new Jj(e.map(n=>{if(ss(n,ii))return n;n=n;const r=new Xj(n.name,!!n.keyAsName,n.columnType,n.indexConfig);return n.indexConfig=JSON.parse(JSON.stringify(n.defaultConfig)),r}),this.unique,!1,this.name)}onOnly(...e){return new Jj(e.map(n=>{if(ss(n,ii))return n;n=n;const r=new Xj(n.name,!!n.keyAsName,n.columnType,n.indexConfig);return n.indexConfig=n.defaultConfig,r}),this.unique,!0,this.name)}using(e,...n){return new Jj(n.map(r=>{if(ss(r,ii))return r;r=r;const i=new Xj(r.name,!!r.keyAsName,r.columnType,r.indexConfig);return r.indexConfig=JSON.parse(JSON.stringify(r.defaultConfig)),i}),this.unique,!0,this.name,e)}}class Jj{static[Qe]="PgIndexBuilder";config;constructor(e,n,r,i,s="btree"){this.config={name:i,columns:e,unique:n,only:r,method:s}}concurrently(){return this.config.concurrently=!0,this}with(e){return this.config.with=e,this}where(e){return this.config.where=e,this}build(e){return new uRe(this.config,e)}}class uRe{static[Qe]="PgIndex";config;constructor(e,n){this.config={...e,table:n}}}function dRe(t){return new cRe(!1,t)}const mi={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function Hi(t,e){return e.includes(t.columnType)}function fRe(t){return"enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0}const hRe=Lz([Mf(),on(),Dz(),Gae()]),pRe=Lz([hRe,Xae(OA()),jA(OA())]),mRe=yf(t=>t instanceof Buffer);function aoe(t,e){const n=e?.zodInstance??YCe,r=e?.coerce??{};let i;return fRe(t)&&(i=t.enumValues.length?n.enum(t.enumValues):n.string()),i||(Hi(t,["PgGeometry","PgPointTuple"])?i=n.tuple([n.number(),n.number()]):Hi(t,["PgGeometryObject","PgPointObject"])?i=n.object({x:n.number(),y:n.number()}):Hi(t,["PgHalfVector","PgVector"])?(i=n.array(n.number()),i=t.dimensions?i.length(t.dimensions):i):Hi(t,["PgLine"])?i=n.tuple([n.number(),n.number(),n.number()]):Hi(t,["PgLineABC"])?i=n.object({a:n.number(),b:n.number(),c:n.number()}):Hi(t,["PgArray"])?(i=n.array(aoe(t.baseColumn,n)),i=t.size?i.length(t.size):i):t.dataType==="array"?i=n.array(n.any()):t.dataType==="number"?i=gRe(t,n,r):t.dataType==="bigint"?i=vRe(t,n,r):t.dataType==="boolean"?i=r===!0||r.boolean?n.coerce.boolean():n.boolean():t.dataType==="date"?i=r===!0||r.date?n.coerce.date():n.date():t.dataType==="string"?i=yRe(t,n,r):t.dataType==="json"?i=pRe:t.dataType==="custom"?i=n.any():t.dataType==="buffer"&&(i=mRe)),i||(i=n.any()),i}function gRe(t,e,n){let r=t.getSQLType().includes("unsigned"),i,s,a=!1;Hi(t,["MySqlTinyInt","SingleStoreTinyInt"])?(i=r?0:mi.INT8_MIN,s=r?mi.INT8_UNSIGNED_MAX:mi.INT8_MAX,a=!0):Hi(t,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(i=r?0:mi.INT16_MIN,s=r?mi.INT16_UNSIGNED_MAX:mi.INT16_MAX,a=!0):Hi(t,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(i=r?0:mi.INT24_MIN,s=r?mi.INT24_UNSIGNED_MAX:mi.INT24_MAX,a=Hi(t,["MySqlMediumInt","SingleStoreMediumInt"])):Hi(t,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(i=r?0:mi.INT32_MIN,s=r?mi.INT32_UNSIGNED_MAX:mi.INT32_MAX,a=!0):Hi(t,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(i=r?0:mi.INT48_MIN,s=r?mi.INT48_UNSIGNED_MAX:mi.INT48_MAX):Hi(t,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(r=r||Hi(t,["MySqlSerial","SingleStoreSerial"]),i=r?0:Number.MIN_SAFE_INTEGER,s=Number.MAX_SAFE_INTEGER,a=!0):Hi(t,["MySqlYear","SingleStoreYear"])?(i=1901,s=2155,a=!0):(i=Number.MIN_SAFE_INTEGER,s=Number.MAX_SAFE_INTEGER);let o=n===!0||n?.number?e.coerce.number():e.number();return o=o.min(i).max(s),a?o.int():o}function vRe(t,e,n){const r=t.getSQLType().includes("unsigned"),i=r?0n:mi.INT64_MIN,s=r?mi.INT64_UNSIGNED_MAX:mi.INT64_MAX;return(n===!0||n?.bigint?e.coerce.bigint():e.bigint()).min(i).max(s)}function yRe(t,e,n){if(Hi(t,["PgUUID"]))return e.string().uuid();let r,i,s=!1;Hi(t,["PgVarchar","SQLiteText"])?r=t.length:Hi(t,["MySqlVarChar","SingleStoreVarChar"])?r=t.length??mi.INT16_UNSIGNED_MAX:Hi(t,["MySqlText","SingleStoreText"])&&(t.textType==="longtext"?r=mi.INT32_UNSIGNED_MAX:t.textType==="mediumtext"?r=mi.INT24_UNSIGNED_MAX:t.textType==="text"?r=mi.INT16_UNSIGNED_MAX:r=mi.INT8_UNSIGNED_MAX),Hi(t,["PgChar","MySqlChar","SingleStoreChar"])&&(r=t.length,s=!0),Hi(t,["PgBinaryVector"])&&(i=/^[01]+$/,r=t.dimensions);let a=n===!0||n?.string?e.coerce.string():e.string();return a=i?a.regex(i):a,r&&s?a.length(r):r?a.max(r):a}function ooe(t){return Jae(t)?uPe(t):dPe(t)}function loe(t,e,n,r){const i={};for(const[s,a]of Object.entries(t)){if(!ss(a,z_)&&!ss(a,ii)&&!ss(a,ii.Aliased)&&typeof a=="object"){const f=Jae(a)||cPe(a)?ooe(a):a;i[s]=loe(f,e[s]??{},n,r);continue}const o=e[s];if(o!==void 0&&typeof o!="function"){i[s]=o;continue}const l=ss(a,z_)?a:void 0,c=l?aoe(l,r):OA(),d=typeof o=="function"?o(c):c;n.never(l)||(i[s]=d,l&&(n.nullable(l)&&(i[s]=i[s].nullable()),n.optional(l)&&(i[s]=i[s].optional())))}return dp(i)}const xRe={never:t=>t?.generated?.type==="always"||t?.generatedIdentity?.type==="always",optional:t=>!t.notNull||t.notNull&&t.hasDefault,nullable:t=>!t.notNull},Fp=(t,e)=>{const n=ooe(t);return loe(n,{},xRe)},coe=Kl("conversations",{id:iu("id").primaryKey(),title:un("title").notNull(),createdAt:ws("created_at").default(Qg`CURRENT_TIMESTAMP`).notNull()}),bRe=Kl("messages",{id:iu("id").primaryKey(),conversationId:fp("conversation_id").notNull().references(()=>coe.id,{onDelete:"cascade"}),role:un("role").notNull(),content:un("content").notNull(),createdAt:ws("created_at").default(Qg`CURRENT_TIMESTAMP`).notNull()});Fp(coe).omit({id:!0,createdAt:!0});Fp(bRe).omit({id:!0,createdAt:!0});Kl("sessions",{sid:pg("sid").primaryKey(),sess:ioe("sess").notNull(),expire:ws("expire").notNull()},t=>[dRe("IDX_session_expire").on(t.expire)]);Kl("users",{id:pg("id").primaryKey().default(Qg`gen_random_uuid()`),email:pg("email").unique(),firstName:pg("first_name"),lastName:pg("last_name"),profileImageUrl:pg("profile_image_url"),createdAt:ws("created_at").defaultNow(),updatedAt:ws("updated_at").defaultNow()});const uoe=Kl("fuel_cells",{id:iu("id").primaryKey(),manufacturer:un("manufacturer").notNull(),model:un("model").notNull(),type:un("type").notNull(),ratedPowerKw:Kn("rated_power_kw").notNull(),minPowerKw:Kn("min_power_kw").default(0),maxPowerKw:Kn("max_power_kw"),outputVoltageV:Kn("output_voltage_v").notNull(),fuelConsumptionPerKwh:Kn("fuel_consumption_per_kwh").notNull(),efficiency:Kn("efficiency").notNull(),parasiticLoss:Kn("parasitic_loss").default(.08),fuelType:un("fuel_type").default("Hydrogen"),lhv:Kn("lhv").default(33.3),capexPerKw:Kn("capex_per_kw").default(3e3),datasheetUrl:un("datasheet_url"),source:un("source"),telecomApplication:un("telecom_application"),referenceUrl:un("reference_url")}),wRe=Kl("projects",{id:iu("id").primaryKey(),name:un("name").notNull(),description:un("description"),latitude:Kn("latitude"),longitude:Kn("longitude"),maxTemperature:Kn("max_temperature").default(35),altitude:Kn("altitude").default(0),loadKw:Kn("load_kw").notNull(),autonomyHours:Kn("autonomy_hours").notNull(),hoursPerYear:Kn("hours_per_year").default(2e3),systemVoltage:Kn("system_voltage").default(48),dgCapacityKva:Kn("dg_capacity_kva").default(20),dieselPrice:Kn("diesel_price").default(1),pilferageFactor:Kn("pilferage_factor").default(10),dgCapex:Kn("dg_capex").default(5e3),h2Price:Kn("h2_price").default(15),logisticsCostPct:Kn("logistics_cost_pct").default(10),selectedFuelCellId:fp("selected_fuel_cell_id").references(()=>uoe.id),batteryBufferHours:Kn("battery_buffer_hours").default(4),batteryDod:Kn("battery_dod").default(.8),refuelingCycleDays:Kn("refueling_cycle_days").default(7),requiredBatteryKwh:Kn("required_battery_kwh"),requiredBatteryAh:Kn("required_battery_ah"),dailyFuelConsumption:Kn("daily_fuel_consumption"),recommendedCableSizeMm2:Kn("recommended_cable_size_mm2"),deratingFactor:Kn("derating_factor"),grossPowerRequired:Kn("gross_power_required"),parasiticLossKw:Kn("parasitic_loss_kw"),dailyCostDg:Kn("daily_cost_dg"),dailyCostFc:Kn("daily_cost_fc"),dailySavings:Kn("daily_savings"),annualSavings:Kn("annual_savings"),paybackYears:Kn("payback_years"),co2Savings:Kn("co2_savings"),cylindersRequired:fp("cylinders_required"),bundlesRequired:fp("bundles_required"),createdAt:ws("created_at").defaultNow()}),_Re=Kl("app_users",{id:iu("id").primaryKey(),email:un("email").unique(),phone:un("phone").unique(),passwordHash:un("password_hash").notNull(),firstName:un("first_name").notNull(),lastName:un("last_name").notNull(),jobTitle:un("job_title"),profilePhoto:un("profile_photo"),role:un("role").notNull().default("user"),status:un("status").notNull().default("pending"),emailVerified:kA("email_verified").default(!1),phoneVerified:kA("phone_verified").default(!1),approvedBy:fp("approved_by"),approvedAt:ws("approved_at"),createdAt:ws("created_at").defaultNow(),updatedAt:ws("updated_at").defaultNow()}),SRe=Kl("registration_requests",{id:iu("id").primaryKey(),email:un("email"),phone:un("phone"),firstName:un("first_name").notNull(),lastName:un("last_name").notNull(),organization:un("organization"),reason:un("reason"),status:un("status").notNull().default("pending"),adminNotes:un("admin_notes"),reviewedBy:fp("reviewed_by"),reviewedAt:ws("reviewed_at"),createdAt:ws("created_at").defaultNow()}),ERe=Kl("otp_codes",{id:iu("id").primaryKey(),identifier:un("identifier").notNull(),code:un("code").notNull(),type:un("type").notNull(),expiresAt:ws("expires_at").notNull(),verified:kA("verified").default(!1),createdAt:ws("created_at").defaultNow()}),MRe=Kl("blog_posts",{id:iu("id").primaryKey(),title:un("title").notNull(),titleAr:un("title_ar"),subtitle:un("subtitle"),slug:un("slug").notNull(),excerpt:un("excerpt").notNull(),content:un("content").notNull(),category:un("category").notNull().default("Strategic Intelligence"),imageUrl:un("image_url"),authorName:un("author_name").notNull(),authorRole:un("author_role").default("Contributor"),readTime:un("read_time").default("5 min read"),status:un("status").notNull().default("pending"),adminNotes:un("admin_notes"),reviewedBy:un("reviewed_by"),publishedAt:ws("published_at"),createdAt:ws("created_at").defaultNow(),updatedAt:ws("updated_at").defaultNow()});Kl("blog_comments",{id:iu("id").primaryKey(),postId:fp("post_id").notNull(),authorName:un("author_name").notNull(),authorEmail:un("author_email"),content:un("content").notNull(),status:un("status").notNull().default("approved"),createdAt:ws("created_at").defaultNow()});Kl("contact_messages",{id:iu("id").primaryKey(),name:un("name").notNull(),email:un("email").notNull(),phone:un("phone"),subject:un("subject").notNull(),message:un("message").notNull(),status:un("status").notNull().default("unread"),createdAt:ws("created_at").defaultNow()});const TRe=Fp(uoe).omit({id:!0});Fp(wRe).omit({id:!0,createdAt:!0});Fp(MRe).omit({id:!0,createdAt:!0,updatedAt:!0,publishedAt:!0,reviewedBy:!0,adminNotes:!0});Fp(_Re).omit({id:!0,createdAt:!0,updatedAt:!0,approvedAt:!0});Fp(SRe).omit({id:!0,createdAt:!0,reviewedAt:!0,reviewedBy:!0,adminNotes:!0,status:!0});Fp(ERe).omit({id:!0,createdAt:!0,verified:!0});const IW={validation:dp({message:Mf(),field:Mf().optional()}),notFound:dp({message:Mf()}),internal:dp({message:Mf()})},Ii={fuelCells:{list:{path:"/api/fuel-cells",responses:{200:jA(yf())}},get:{responses:{200:yf()}},create:{method:"POST",path:"/api/fuel-cells",responses:{201:yf(),400:IW.validation}}},projects:{list:{path:"/api/projects",responses:{200:jA(yf())}},get:{path:"/api/projects/:id",responses:{200:yf()}},create:{method:"POST",path:"/api/projects",responses:{201:yf(),400:IW.validation}},delete:{method:"DELETE",path:"/api/projects/:id",responses:{204:qae()}}},calculations:{calculate:{input:dp({loadKw:on().min(0),maxTemperature:on().optional().default(35),altitude:on().optional().default(0),fuelCellId:on(),autonomyHours:on().min(0),hoursPerYear:on().optional().default(2e3),dgCapacityKva:on().optional().default(20),dieselPrice:on().optional().default(1),pilferageFactor:on().optional().default(10),dgCapex:on().optional().default(5e3),h2Price:on().optional().default(15),logisticsCostPct:on().optional().default(10),batteryBufferHours:on().optional().default(4),batteryDod:on().optional().default(.8),systemVoltage:on().optional().default(48),refuelingCycleDays:on().optional().default(7)}),responses:{200:dp({deratingFactor:on(),grossPowerRequired:on(),parasiticLossKw:on(),netOutputKw:on(),fuelConsumptionHourly:on(),fuelConsumptionDaily:on(),batteryCapacityKwh:on(),batteryCapacityAh:on(),batteryStrings:on(),cableSizeMm2:on(),dgLoadFactor:on(),dgFuelConsumptionHourly:on(),dgFuelWithTheft:on(),dgDailyCost:on(),dgAnnualCost:on(),fcDailyCost:on(),fcAnnualCost:on(),dailySavings:on(),annualSavings:on(),paybackYears:on(),co2Savings:on(),totalH2Required:on(),cylindersRequired:on(),bundlesRequired:on()})}}}};function doe(t,e){let n=t;return e&&Object.entries(e).forEach(([r,i])=>{n.includes(`:${r}`)&&(n=n.replace(`:${r}`,String(i)))}),n}function ARe(){return gp({queryKey:[Ii.projects.list.path],queryFn:async()=>{const t=await fetch(Ii.projects.list.path,{credentials:"include"});if(!t.ok)throw new Error("Failed to fetch projects");return Ii.projects.list.responses[200].parse(await t.json())}})}function CRe(t){return gp({queryKey:[Ii.projects.get.path,t],queryFn:async()=>{const e=doe(Ii.projects.get.path,{id:t}),n=await fetch(e,{credentials:"include"});if(n.status===404)return null;if(!n.ok)throw new Error("Failed to fetch project");return Ii.projects.get.responses[200].parse(await n.json())},enabled:!!t})}function PRe(){const t=fd();return Bl({mutationFn:async e=>{const n=await fetch(Ii.projects.create.path,{method:Ii.projects.create.method,headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"});if(!n.ok){if(n.status===400){const r=Ii.projects.create.responses[400].parse(await n.json());throw new Error(r.message)}throw new Error("Failed to save project")}return Ii.projects.create.responses[201].parse(await n.json())},onSuccess:()=>{t.invalidateQueries({queryKey:[Ii.projects.list.path]})}})}function NRe(){const t=fd();return Bl({mutationFn:async e=>{const n=doe(Ii.projects.delete.path,{id:e}),r=await fetch(n,{method:Ii.projects.delete.method,credentials:"include"});if(!r.ok)throw r.status===404?new Error("Project not found"):new Error("Failed to delete project")},onSuccess:()=>{t.invalidateQueries({queryKey:[Ii.projects.list.path]})}})}var eI,kW;function Io(){if(kW)return eI;kW=1;var t=Array.isArray;return eI=t,eI}var tI,DW;function foe(){if(DW)return tI;DW=1;var t=typeof ZM=="object"&&ZM&&ZM.Object===Object&&ZM;return tI=t,tI}var nI,LW;function md(){if(LW)return nI;LW=1;var t=foe(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return nI=n,nI}var rI,FW;function xE(){if(FW)return rI;FW=1;var t=md(),e=t.Symbol;return rI=e,rI}var iI,UW;function RRe(){if(UW)return iI;UW=1;var t=xE(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function s(a){var o=n.call(a,i),l=a[i];try{a[i]=void 0;var c=!0}catch{}var d=r.call(a);return c&&(o?a[i]=l:delete a[i]),d}return iI=s,iI}var sI,BW;function ORe(){if(BW)return sI;BW=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return sI=n,sI}var aI,zW;function Zf(){if(zW)return aI;zW=1;var t=xE(),e=RRe(),n=ORe(),r="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function a(o){return o==null?o===void 0?i:r:s&&s in Object(o)?e(o):n(o)}return aI=a,aI}var oI,VW;function Qf(){if(VW)return oI;VW=1;function t(e){return e!=null&&typeof e=="object"}return oI=t,oI}var lI,$W;function vb(){if($W)return lI;$W=1;var t=Zf(),e=Qf(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return lI=r,lI}var cI,HW;function Uz(){if(HW)return cI;HW=1;var t=Io(),e=vb(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,a){if(t(s))return!1;var o=typeof s;return o=="number"||o=="symbol"||o=="boolean"||s==null||e(s)?!0:r.test(s)||!n.test(s)||a!=null&&s in Object(a)}return cI=i,cI}var uI,WW;function Up(){if(WW)return uI;WW=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return uI=t,uI}var dI,GW;function Bz(){if(GW)return dI;GW=1;var t=Zf(),e=Up(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function a(o){if(!e(o))return!1;var l=t(o);return l==r||l==i||l==n||l==s}return dI=a,dI}var fI,qW;function jRe(){if(qW)return fI;qW=1;var t=md(),e=t["__core-js_shared__"];return fI=e,fI}var hI,XW;function IRe(){if(XW)return hI;XW=1;var t=jRe(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return hI=n,hI}var pI,YW;function hoe(){if(YW)return pI;YW=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return pI=n,pI}var mI,KW;function kRe(){if(KW)return mI;KW=1;var t=Bz(),e=IRe(),n=Up(),r=hoe(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,a=Function.prototype,o=Object.prototype,l=a.toString,c=o.hasOwnProperty,d=RegExp("^"+l.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(h){if(!n(h)||e(h))return!1;var m=t(h)?d:s;return m.test(r(h))}return mI=f,mI}var gI,ZW;function DRe(){if(ZW)return gI;ZW=1;function t(e,n){return e?.[n]}return gI=t,gI}var vI,QW;function y0(){if(QW)return vI;QW=1;var t=kRe(),e=DRe();function n(r,i){var s=e(r,i);return t(s)?s:void 0}return vI=n,vI}var yI,JW;function $N(){if(JW)return yI;JW=1;var t=y0(),e=t(Object,"create");return yI=e,yI}var xI,e7;function LRe(){if(e7)return xI;e7=1;var t=$N();function e(){this.__data__=t?t(null):{},this.size=0}return xI=e,xI}var bI,t7;function FRe(){if(t7)return bI;t7=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return bI=t,bI}var wI,n7;function URe(){if(n7)return wI;n7=1;var t=$N(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var a=this.__data__;if(t){var o=a[s];return o===e?void 0:o}return r.call(a,s)?a[s]:void 0}return wI=i,wI}var _I,r7;function BRe(){if(r7)return _I;r7=1;var t=$N(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var s=this.__data__;return t?s[i]!==void 0:n.call(s,i)}return _I=r,_I}var SI,i7;function zRe(){if(i7)return SI;i7=1;var t=$N(),e="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=t&&i===void 0?e:i,this}return SI=n,SI}var EI,s7;function VRe(){if(s7)return EI;s7=1;var t=LRe(),e=FRe(),n=URe(),r=BRe(),i=zRe();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var c=a[o];this.set(c[0],c[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,EI=s,EI}var MI,a7;function $Re(){if(a7)return MI;a7=1;function t(){this.__data__=[],this.size=0}return MI=t,MI}var TI,o7;function zz(){if(o7)return TI;o7=1;function t(e,n){return e===n||e!==e&&n!==n}return TI=t,TI}var AI,l7;function HN(){if(l7)return AI;l7=1;var t=zz();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return AI=e,AI}var CI,c7;function HRe(){if(c7)return CI;c7=1;var t=HN(),e=Array.prototype,n=e.splice;function r(i){var s=this.__data__,a=t(s,i);if(a<0)return!1;var o=s.length-1;return a==o?s.pop():n.call(s,a,1),--this.size,!0}return CI=r,CI}var PI,u7;function WRe(){if(u7)return PI;u7=1;var t=HN();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return PI=e,PI}var NI,d7;function GRe(){if(d7)return NI;d7=1;var t=HN();function e(n){return t(this.__data__,n)>-1}return NI=e,NI}var RI,f7;function qRe(){if(f7)return RI;f7=1;var t=HN();function e(n,r){var i=this.__data__,s=t(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return RI=e,RI}var OI,h7;function WN(){if(h7)return OI;h7=1;var t=$Re(),e=HRe(),n=WRe(),r=GRe(),i=qRe();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var c=a[o];this.set(c[0],c[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,OI=s,OI}var jI,p7;function Vz(){if(p7)return jI;p7=1;var t=y0(),e=md(),n=t(e,"Map");return jI=n,jI}var II,m7;function XRe(){if(m7)return II;m7=1;var t=VRe(),e=WN(),n=Vz();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return II=r,II}var kI,g7;function YRe(){if(g7)return kI;g7=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return kI=t,kI}var DI,v7;function GN(){if(v7)return DI;v7=1;var t=YRe();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return DI=e,DI}var LI,y7;function KRe(){if(y7)return LI;y7=1;var t=GN();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return LI=e,LI}var FI,x7;function ZRe(){if(x7)return FI;x7=1;var t=GN();function e(n){return t(this,n).get(n)}return FI=e,FI}var UI,b7;function QRe(){if(b7)return UI;b7=1;var t=GN();function e(n){return t(this,n).has(n)}return UI=e,UI}var BI,w7;function JRe(){if(w7)return BI;w7=1;var t=GN();function e(n,r){var i=t(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return BI=e,BI}var zI,_7;function $z(){if(_7)return zI;_7=1;var t=XRe(),e=KRe(),n=ZRe(),r=QRe(),i=JRe();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var c=a[o];this.set(c[0],c[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,zI=s,zI}var VI,S7;function poe(){if(S7)return VI;S7=1;var t=$z(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var s=function(){var a=arguments,o=i?i.apply(this,a):a[0],l=s.cache;if(l.has(o))return l.get(o);var c=r.apply(this,a);return s.cache=l.set(o,c)||l,c};return s.cache=new(n.Cache||t),s}return n.Cache=t,VI=n,VI}var $I,E7;function eOe(){if(E7)return $I;E7=1;var t=poe(),e=500;function n(r){var i=t(r,function(a){return s.size===e&&s.clear(),a}),s=i.cache;return i}return $I=n,$I}var HI,M7;function tOe(){if(M7)return HI;M7=1;var t=eOe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(e,function(a,o,l,c){s.push(l?c.replace(n,"$1"):o||a)}),s});return HI=r,HI}var WI,T7;function Hz(){if(T7)return WI;T7=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=Array(i);++r<i;)s[r]=n(e[r],r,e);return s}return WI=t,WI}var GI,A7;function nOe(){if(A7)return GI;A7=1;var t=xE(),e=Hz(),n=Io(),r=vb(),i=t?t.prototype:void 0,s=i?i.toString:void 0;function a(o){if(typeof o=="string")return o;if(n(o))return e(o,a)+"";if(r(o))return s?s.call(o):"";var l=o+"";return l=="0"&&1/o==-1/0?"-0":l}return GI=a,GI}var qI,C7;function moe(){if(C7)return qI;C7=1;var t=nOe();function e(n){return n==null?"":t(n)}return qI=e,qI}var XI,P7;function goe(){if(P7)return XI;P7=1;var t=Io(),e=Uz(),n=tOe(),r=moe();function i(s,a){return t(s)?s:e(s,a)?[s]:n(r(s))}return XI=i,XI}var YI,N7;function qN(){if(N7)return YI;N7=1;var t=vb();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return YI=e,YI}var KI,R7;function Wz(){if(R7)return KI;R7=1;var t=goe(),e=qN();function n(r,i){i=t(i,r);for(var s=0,a=i.length;r!=null&&s<a;)r=r[e(i[s++])];return s&&s==a?r:void 0}return KI=n,KI}var ZI,O7;function voe(){if(O7)return ZI;O7=1;var t=Wz();function e(n,r,i){var s=n==null?void 0:t(n,r);return s===void 0?i:s}return ZI=e,ZI}var rOe=voe();const Wl=pr(rOe);var QI,j7;function iOe(){if(j7)return QI;j7=1;function t(e){return e==null}return QI=t,QI}var sOe=iOe();const Er=pr(sOe);var JI,I7;function aOe(){if(I7)return JI;I7=1;var t=Zf(),e=Io(),n=Qf(),r="[object String]";function i(s){return typeof s=="string"||!e(s)&&n(s)&&t(s)==r}return JI=i,JI}var oOe=aOe();const Jg=pr(oOe);var lOe=Bz();const rr=pr(lOe);var cOe=Up();const yb=pr(cOe);var ek={exports:{}},Ar={};var k7;function uOe(){if(k7)return Ar;k7=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),v;v=Symbol.for("react.module.reference");function b(y){if(typeof y=="object"&&y!==null){var w=y.$$typeof;switch(w){case t:switch(y=y.type,y){case n:case i:case r:case c:case d:return y;default:switch(y=y&&y.$$typeof,y){case o:case a:case l:case h:case f:case s:return y;default:return w}}case e:return w}}}return Ar.ContextConsumer=a,Ar.ContextProvider=s,Ar.Element=t,Ar.ForwardRef=l,Ar.Fragment=n,Ar.Lazy=h,Ar.Memo=f,Ar.Portal=e,Ar.Profiler=i,Ar.StrictMode=r,Ar.Suspense=c,Ar.SuspenseList=d,Ar.isAsyncMode=function(){return!1},Ar.isConcurrentMode=function(){return!1},Ar.isContextConsumer=function(y){return b(y)===a},Ar.isContextProvider=function(y){return b(y)===s},Ar.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===t},Ar.isForwardRef=function(y){return b(y)===l},Ar.isFragment=function(y){return b(y)===n},Ar.isLazy=function(y){return b(y)===h},Ar.isMemo=function(y){return b(y)===f},Ar.isPortal=function(y){return b(y)===e},Ar.isProfiler=function(y){return b(y)===i},Ar.isStrictMode=function(y){return b(y)===r},Ar.isSuspense=function(y){return b(y)===c},Ar.isSuspenseList=function(y){return b(y)===d},Ar.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===n||y===i||y===r||y===c||y===d||y===m||typeof y=="object"&&y!==null&&(y.$$typeof===h||y.$$typeof===f||y.$$typeof===s||y.$$typeof===a||y.$$typeof===l||y.$$typeof===v||y.getModuleId!==void 0)},Ar.typeOf=b,Ar}var D7;function dOe(){return D7||(D7=1,ek.exports=uOe()),ek.exports}var fOe=dOe(),tk,L7;function yoe(){if(L7)return tk;L7=1;var t=Zf(),e=Qf(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return tk=r,tk}var nk,F7;function hOe(){if(F7)return nk;F7=1;var t=yoe();function e(n){return t(n)&&n!=+n}return nk=e,nk}var pOe=hOe();const bE=pr(pOe);var mOe=yoe();const gOe=pr(mOe);var Vc=function(e){return e===0?0:e>0?1:-1},yg=function(e){return Jg(e)&&e.indexOf("%")===e.length-1},St=function(e){return gOe(e)&&!bE(e)},vOe=function(e){return Er(e)},bs=function(e){return St(e)||Jg(e)},yOe=0,XN=function(e){var n=++yOe;return"".concat(e||"").concat(n)},e0=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!St(e)&&!Jg(e))return r;var s;if(yg(e)){var a=e.indexOf("%");s=n*parseFloat(e.slice(0,a))/100}else s=+e;return bE(s)&&(s=r),i&&s>n&&(s=n),s},Jh=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},xOe=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Fv=function(e,n){return St(e)&&St(n)?function(r){return e+r*(n-e)}:function(){return n}};function wF(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Wl(r,e))===n})}var bOe=function(e,n){return St(e)&&St(n)?e-n:Jg(e)&&Jg(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Xy(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function _F(t){"@babel/helpers - typeof";return _F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_F(t)}var wOe=["viewBox","children"],_Oe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],U7=["points","pathLength"],rk={svg:wOe,polygon:U7,polyline:U7},Gz=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],DA=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(N.isValidElement(e)&&(r=e.props),!yb(r))return null;var i={};return Object.keys(r).forEach(function(s){Gz.includes(s)&&(i[s]=n||function(a){return r[s](r,a)})}),i},SOe=function(e,n,r){return function(i){return e(n,r,i),null}},LA=function(e,n,r){if(!yb(e)||_F(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var a=e[s];Gz.includes(s)&&typeof a=="function"&&(i||(i={}),i[s]=SOe(a,n,r))}),i},EOe=["children"],MOe=["children"];function B7(t,e){if(t==null)return{};var n=TOe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function TOe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var z7={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},If=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},V7=null,ik=null,qz=function t(e){if(e===V7&&Array.isArray(ik))return ik;var n=[];return N.Children.forEach(e,function(r){Er(r)||(fOe.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),ik=n,V7=e,n};function Yc(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return If(i)}):r=[If(e)],qz(t).forEach(function(i){var s=Wl(i,"type.displayName")||Wl(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}function Zo(t,e){var n=Yc(t,e);return n&&n[0]}var $7=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!St(r)||r<=0||!St(i)||i<=0)},AOe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],COe=function(e){return e&&e.type&&Jg(e.type)&&AOe.indexOf(e.type)>=0},POe=function(e,n,r,i){var s,a=(s=rk?.[i])!==null&&s!==void 0?s:[];return n.startsWith("data-")||!rr(e)&&(i&&a.includes(n)||_Oe.includes(n))||r&&Gz.includes(n)},Sr=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(N.isValidElement(e)&&(i=e.props),!yb(i))return null;var s={};return Object.keys(i).forEach(function(a){var o;POe((o=i)===null||o===void 0?void 0:o[a],a,n,r)&&(s[a]=i[a])}),s},SF=function t(e,n){if(e===n)return!0;var r=N.Children.count(e);if(r!==N.Children.count(n))return!1;if(r===0)return!0;if(r===1)return H7(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var s=e[i],a=n[i];if(Array.isArray(s)||Array.isArray(a)){if(!t(s,a))return!1}else if(!H7(s,a))return!1}return!0},H7=function(e,n){if(Er(e)&&Er(n))return!0;if(!Er(e)&&!Er(n)){var r=e.props||{},i=r.children,s=B7(r,EOe),a=n.props||{},o=a.children,l=B7(a,MOe);return i&&o?Xy(s,l)&&SF(i,o):!i&&!o?Xy(s,l):!1}return!1},W7=function(e,n){var r=[],i={};return qz(e).forEach(function(s,a){if(COe(s))r.push(s);else if(s){var o=If(s.type),l=n[o]||{},c=l.handler,d=l.once;if(c&&(!d||!i[o])){var f=c(s,o,a);r.push(f),i[o]=!0}}}),r},NOe=function(e){var n=e&&e.type;return n&&z7[n]?z7[n]:null},ROe=function(e,n){return qz(n).indexOf(e)},OOe=["children","width","height","viewBox","className","style","title","desc"];function EF(){return EF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},EF.apply(this,arguments)}function jOe(t,e){if(t==null)return{};var n=IOe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function IOe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function MF(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,s=t.className,a=t.style,o=t.title,l=t.desc,c=jOe(t,OOe),d=i||{width:n,height:r,x:0,y:0},f=yr("recharts-surface",s);return se.createElement("svg",EF({},Sr(c,!0,"svg"),{className:f,width:n,height:r,style:a,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),se.createElement("title",null,o),se.createElement("desc",null,l),e)}var kOe=["children","className"];function TF(){return TF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TF.apply(this,arguments)}function DOe(t,e){if(t==null)return{};var n=LOe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function LOe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Ls=se.forwardRef(function(t,e){var n=t.children,r=t.className,i=DOe(t,kOe),s=yr("recharts-layer",r);return se.createElement("g",TF({className:s},Sr(i,!0),{ref:e}),n)}),kf=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]},sk,G7;function FOe(){if(G7)return sk;G7=1;function t(e,n,r){var i=-1,s=e.length;n<0&&(n=-n>s?0:s+n),r=r>s?s:r,r<0&&(r+=s),s=n>r?0:r-n>>>0,n>>>=0;for(var a=Array(s);++i<s;)a[i]=e[i+n];return a}return sk=t,sk}var ak,q7;function UOe(){if(q7)return ak;q7=1;var t=FOe();function e(n,r,i){var s=n.length;return i=i===void 0?s:i,!r&&i>=s?n:t(n,r,i)}return ak=e,ak}var ok,X7;function xoe(){if(X7)return ok;X7=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,s="\\ufe0e\\ufe0f",a="\\u200d",o=RegExp("["+a+t+i+s+"]");function l(c){return o.test(c)}return ok=l,ok}var lk,Y7;function BOe(){if(Y7)return lk;Y7=1;function t(e){return e.split("")}return lk=t,lk}var ck,K7;function zOe(){if(K7)return ck;K7=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,s="\\ufe0e\\ufe0f",a="["+t+"]",o="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",c="(?:"+o+"|"+l+")",d="[^"+t+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",m="\\u200d",v=c+"?",b="["+s+"]?",y="(?:"+m+"(?:"+[d,f,h].join("|")+")"+b+v+")*",w=b+v+y,S="(?:"+[d+o+"?",o,f,h,a].join("|")+")",M=RegExp(l+"(?="+l+")|"+S+w,"g");function T(A){return A.match(M)||[]}return ck=T,ck}var uk,Z7;function VOe(){if(Z7)return uk;Z7=1;var t=BOe(),e=xoe(),n=zOe();function r(i){return e(i)?n(i):t(i)}return uk=r,uk}var dk,Q7;function $Oe(){if(Q7)return dk;Q7=1;var t=UOe(),e=xoe(),n=VOe(),r=moe();function i(s){return function(a){a=r(a);var o=e(a)?n(a):void 0,l=o?o[0]:a.charAt(0),c=o?t(o,1).join(""):a.slice(1);return l[s]()+c}}return dk=i,dk}var fk,J7;function HOe(){if(J7)return fk;J7=1;var t=$Oe(),e=t("toUpperCase");return fk=e,fk}var WOe=HOe();const YN=pr(WOe);function Qr(t){return function(){return t}}const boe=Math.cos,FA=Math.sin,su=Math.sqrt,UA=Math.PI,KN=2*UA,AF=Math.PI,CF=2*AF,og=1e-6,GOe=CF-og;function woe(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function qOe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return woe;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let XOe=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?woe:qOe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=r-e,c=i-n,d=a-e,f=o-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>og)if(!(Math.abs(f*l-c*d)>og)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-a,v=i-o,b=l*l+c*c,y=m*m+v*v,w=Math.sqrt(b),S=Math.sqrt(h),M=s*Math.tan((AF-Math.acos((b+h-y)/(2*w*S)))/2),T=M/S,A=M/w;Math.abs(T-1)>og&&this._append`L${e+T*d},${n+T*f}`,this._append`A${s},${s},0,0,${+(f*m>d*v)},${this._x1=e+A*l},${this._y1=n+A*c}`}}arc(e,n,r,i,s,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),c=e+o,d=n+l,f=1^a,h=a?i-s:s-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>og||Math.abs(this._y1-d)>og)&&this._append`L${c},${d}`,r&&(h<0&&(h=h%CF+CF),h>GOe?this._append`A${r},${r},0,1,${f},${e-o},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=d}`:h>og&&this._append`A${r},${r},0,${+(h>=AF)},${f},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function Xz(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new XOe(e)}function Yz(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function _oe(t){this._context=t}_oe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function ZN(t){return new _oe(t)}function Soe(t){return t[0]}function Eoe(t){return t[1]}function Moe(t,e){var n=Qr(!0),r=null,i=ZN,s=null,a=Xz(o);t=typeof t=="function"?t:t===void 0?Soe:Qr(t),e=typeof e=="function"?e:e===void 0?Eoe:Qr(e);function o(l){var c,d=(l=Yz(l)).length,f,h=!1,m;for(r==null&&(s=i(m=a())),c=0;c<=d;++c)!(c<d&&n(f=l[c],c,l))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+t(f,c,l),+e(f,c,l));if(m)return s=null,m+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:Qr(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Qr(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Qr(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),o):r},o}function fT(t,e,n){var r=null,i=Qr(!0),s=null,a=ZN,o=null,l=Xz(c);t=typeof t=="function"?t:t===void 0?Soe:Qr(+t),e=typeof e=="function"?e:Qr(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?Eoe:Qr(+n);function c(f){var h,m,v,b=(f=Yz(f)).length,y,w=!1,S,M=new Array(b),T=new Array(b);for(s==null&&(o=a(S=l())),h=0;h<=b;++h){if(!(h<b&&i(y=f[h],h,f))===w)if(w=!w)m=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),v=h-1;v>=m;--v)o.point(M[v],T[v]);o.lineEnd(),o.areaEnd()}w&&(M[h]=+t(y,h,f),T[h]=+e(y,h,f),o.point(r?+r(y,h,f):M[h],n?+n(y,h,f):T[h]))}if(S)return o=null,S+""||null}function d(){return Moe().defined(i).curve(a).context(s)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:Qr(+f),r=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Qr(+f),c):t},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Qr(+f),c):r},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:Qr(+f),n=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Qr(+f),c):e},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Qr(+f),c):n},c.lineX0=c.lineY0=function(){return d().x(t).y(e)},c.lineY1=function(){return d().x(t).y(n)},c.lineX1=function(){return d().x(r).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Qr(!!f),c):i},c.curve=function(f){return arguments.length?(a=f,s!=null&&(o=a(s)),c):a},c.context=function(f){return arguments.length?(f==null?s=o=null:o=a(s=f),c):s},c}class Toe{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function YOe(t){return new Toe(t,!0)}function KOe(t){return new Toe(t,!1)}const Kz={draw(t,e){const n=su(e/UA);t.moveTo(n,0),t.arc(0,0,n,0,KN)}},ZOe={draw(t,e){const n=su(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Aoe=su(1/3),QOe=Aoe*2,JOe={draw(t,e){const n=su(e/QOe),r=n*Aoe;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},eje={draw(t,e){const n=su(e),r=-n/2;t.rect(r,r,n,n)}},tje=.8908130915292852,Coe=FA(UA/10)/FA(7*UA/10),nje=FA(KN/10)*Coe,rje=-boe(KN/10)*Coe,ije={draw(t,e){const n=su(e*tje),r=nje*n,i=rje*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const a=KN*s/5,o=boe(a),l=FA(a);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*i,l*r+o*i)}t.closePath()}},hk=su(3),sje={draw(t,e){const n=-su(e/(hk*3));t.moveTo(0,n*2),t.lineTo(-hk*n,-n),t.lineTo(hk*n,-n),t.closePath()}},Tl=-.5,Al=su(3)/2,PF=1/su(12),aje=(PF/2+1)*3,oje={draw(t,e){const n=su(e/aje),r=n/2,i=n*PF,s=r,a=n*PF+n,o=-s,l=a;t.moveTo(r,i),t.lineTo(s,a),t.lineTo(o,l),t.lineTo(Tl*r-Al*i,Al*r+Tl*i),t.lineTo(Tl*s-Al*a,Al*s+Tl*a),t.lineTo(Tl*o-Al*l,Al*o+Tl*l),t.lineTo(Tl*r+Al*i,Tl*i-Al*r),t.lineTo(Tl*s+Al*a,Tl*a-Al*s),t.lineTo(Tl*o+Al*l,Tl*l-Al*o),t.closePath()}};function lje(t,e){let n=null,r=Xz(i);t=typeof t=="function"?t:Qr(t||Kz),e=typeof e=="function"?e:Qr(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Qr(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Qr(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function BA(){}function zA(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Poe(t){this._context=t}Poe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zA(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zA(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function cje(t){return new Poe(t)}function Noe(t){this._context=t}Noe.prototype={areaStart:BA,areaEnd:BA,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:zA(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function uje(t){return new Noe(t)}function Roe(t){this._context=t}Roe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:zA(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function dje(t){return new Roe(t)}function Ooe(t){this._context=t}Ooe.prototype={areaStart:BA,areaEnd:BA,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function fje(t){return new Ooe(t)}function eG(t){return t<0?-1:1}function tG(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),o=(s*i+a*r)/(r+i);return(eG(s)+eG(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function nG(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function pk(t,e,n){var r=t._x0,i=t._y0,s=t._x1,a=t._y1,o=(s-r)/3;t._context.bezierCurveTo(r+o,i+o*e,s-o,a-o*n,s,a)}function VA(t){this._context=t}VA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:pk(this,this._t0,nG(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,pk(this,nG(this,n=tG(this,t,e)),n);break;default:pk(this,this._t0,n=tG(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function joe(t){this._context=new Ioe(t)}(joe.prototype=Object.create(VA.prototype)).point=function(t,e){VA.prototype.point.call(this,e,t)};function Ioe(t){this._context=t}Ioe.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function hje(t){return new VA(t)}function pje(t){return new joe(t)}function koe(t){this._context=t}koe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=rG(t),i=rG(e),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function rG(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function mje(t){return new koe(t)}function QN(t,e){this._context=t,this._t=e}QN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function gje(t){return new QN(t,.5)}function vje(t){return new QN(t,0)}function yje(t){return new QN(t,1)}function vx(t,e){if((a=t.length)>1)for(var n=1,r,i,s=t[e[0]],a,o=s.length;n<a;++n)for(i=s,s=t[e[n]],r=0;r<o;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function NF(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function xje(t,e){return t[e]}function bje(t){const e=[];return e.key=t,e}function wje(){var t=Qr([]),e=NF,n=vx,r=xje;function i(s){var a=Array.from(t.apply(this,arguments),bje),o,l=a.length,c=-1,d;for(const f of s)for(o=0,++c;o<l;++o)(a[o][c]=[0,+r(f,a[o].key,c,s)]).data=f;for(o=0,d=Yz(e(a));o<l;++o)a[d[o]].index=o;return n(a,d),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Qr(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Qr(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?NF:typeof s=="function"?s:Qr(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??vx,i):n},i}function _je(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,a;i<s;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}vx(t,e)}}function Sje(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var a=0,o=0;a<i;++a)o+=t[a][n][1]||0;r[n][1]+=r[n][0]=-o/2}vx(t,e)}}function Eje(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,a;r<s;++r){for(var o=0,l=0,c=0;o<a;++o){for(var d=t[e[o]],f=d[r][1]||0,h=d[r-1][1]||0,m=(f-h)/2,v=0;v<o;++v){var b=t[e[v]],y=b[r][1]||0,w=b[r-1][1]||0;m+=y-w}l+=f,c+=m*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,vx(t,e)}}function V_(t){"@babel/helpers - typeof";return V_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V_(t)}var Mje=["type","size","sizeType"];function RF(){return RF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},RF.apply(this,arguments)}function iG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iG(Object(n),!0).forEach(function(r){Tje(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tje(t,e,n){return e=Aje(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aje(t){var e=Cje(t,"string");return V_(e)=="symbol"?e:e+""}function Cje(t,e){if(V_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(V_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pje(t,e){if(t==null)return{};var n=Nje(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Nje(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Doe={symbolCircle:Kz,symbolCross:ZOe,symbolDiamond:JOe,symbolSquare:eje,symbolStar:ije,symbolTriangle:sje,symbolWye:oje},Rje=Math.PI/180,Oje=function(e){var n="symbol".concat(YN(e));return Doe[n]||Kz},jje=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Rje;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Ije=function(e,n){Doe["symbol".concat(YN(e))]=n},Zz=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,s=i===void 0?64:i,a=e.sizeType,o=a===void 0?"area":a,l=Pje(e,Mje),c=sG(sG({},l),{},{type:r,size:s,sizeType:o}),d=function(){var y=Oje(r),w=lje().type(y).size(jje(s,o,r));return w()},f=c.className,h=c.cx,m=c.cy,v=Sr(c,!0);return h===+h&&m===+m&&s===+s?se.createElement("path",RF({},v,{className:yr("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};Zz.registerSymbol=Ije;function yx(t){"@babel/helpers - typeof";return yx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yx(t)}function OF(){return OF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OF.apply(this,arguments)}function aG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kje(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aG(Object(n),!0).forEach(function(r){$_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lje(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Foe(r.key),r)}}function Fje(t,e,n){return e&&Lje(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uje(t,e,n){return e=$A(e),Bje(t,Loe()?Reflect.construct(e,n||[],$A(t).constructor):e.apply(t,n))}function Bje(t,e){if(e&&(yx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zje(t)}function zje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Loe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Loe=function(){return!!t})()}function $A(t){return $A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$A(t)}function Vje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jF(t,e)}function jF(t,e){return jF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jF(t,e)}function $_(t,e,n){return e=Foe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Foe(t){var e=$je(t,"string");return yx(e)=="symbol"?e:e+""}function $je(t,e){if(yx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Cl=32,Qz=(function(t){function e(){return Dje(this,e),Uje(this,e,arguments)}return Vje(e,t),Fje(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=Cl/2,a=Cl/6,o=Cl/3,l=r.inactive?i:r.color;if(r.type==="plainline")return se.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:Cl,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return se.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(s,`
            H`).concat(Cl,"M").concat(2*o,",").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return se.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Cl/8,"h").concat(Cl,"v").concat(Cl*3/4,"h").concat(-Cl,"z"),className:"recharts-legend-icon"});if(se.isValidElement(r.legendIcon)){var c=kje({},r);return delete c.legendIcon,se.cloneElement(r.legendIcon,c)}return se.createElement(Zz,{fill:l,cx:s,cy:s,size:Cl,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,a=i.iconSize,o=i.layout,l=i.formatter,c=i.inactiveColor,d={x:0,y:0,width:Cl,height:Cl},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(m,v){var b=m.formatter||l,y=yr($_($_({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",m.inactive));if(m.type==="none")return null;var w=rr(m.value)?null:m.value;kf(!rr(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var S=m.inactive?c:m.color;return se.createElement("li",OF({className:y,style:f,key:"legend-item-".concat(v)},LA(r.props,m,v)),se.createElement(MF,{width:a,height:a,viewBox:d,style:h},r.renderIcon(m)),se.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},b?b(w,m,v):w))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,a=r.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:s==="horizontal"?a:"left"};return se.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])})(N.PureComponent);$_(Qz,"displayName","Legend");$_(Qz,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var mk,oG;function Hje(){if(oG)return mk;oG=1;var t=WN();function e(){this.__data__=new t,this.size=0}return mk=e,mk}var gk,lG;function Wje(){if(lG)return gk;lG=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return gk=t,gk}var vk,cG;function Gje(){if(cG)return vk;cG=1;function t(e){return this.__data__.get(e)}return vk=t,vk}var yk,uG;function qje(){if(uG)return yk;uG=1;function t(e){return this.__data__.has(e)}return yk=t,yk}var xk,dG;function Xje(){if(dG)return xk;dG=1;var t=WN(),e=Vz(),n=$z(),r=200;function i(s,a){var o=this.__data__;if(o instanceof t){var l=o.__data__;if(!e||l.length<r-1)return l.push([s,a]),this.size=++o.size,this;o=this.__data__=new n(l)}return o.set(s,a),this.size=o.size,this}return xk=i,xk}var bk,fG;function Uoe(){if(fG)return bk;fG=1;var t=WN(),e=Hje(),n=Wje(),r=Gje(),i=qje(),s=Xje();function a(o){var l=this.__data__=new t(o);this.size=l.size}return a.prototype.clear=e,a.prototype.delete=n,a.prototype.get=r,a.prototype.has=i,a.prototype.set=s,bk=a,bk}var wk,hG;function Yje(){if(hG)return wk;hG=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return wk=e,wk}var _k,pG;function Kje(){if(pG)return _k;pG=1;function t(e){return this.__data__.has(e)}return _k=t,_k}var Sk,mG;function Boe(){if(mG)return Sk;mG=1;var t=$z(),e=Yje(),n=Kje();function r(i){var s=-1,a=i==null?0:i.length;for(this.__data__=new t;++s<a;)this.add(i[s])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,Sk=r,Sk}var Ek,gG;function zoe(){if(gG)return Ek;gG=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return Ek=t,Ek}var Mk,vG;function Voe(){if(vG)return Mk;vG=1;function t(e,n){return e.has(n)}return Mk=t,Mk}var Tk,yG;function $oe(){if(yG)return Tk;yG=1;var t=Boe(),e=zoe(),n=Voe(),r=1,i=2;function s(a,o,l,c,d,f){var h=l&r,m=a.length,v=o.length;if(m!=v&&!(h&&v>m))return!1;var b=f.get(a),y=f.get(o);if(b&&y)return b==o&&y==a;var w=-1,S=!0,M=l&i?new t:void 0;for(f.set(a,o),f.set(o,a);++w<m;){var T=a[w],A=o[w];if(c)var C=h?c(A,T,w,o,a,f):c(T,A,w,a,o,f);if(C!==void 0){if(C)continue;S=!1;break}if(M){if(!e(o,function(j,L){if(!n(M,L)&&(T===j||d(T,j,l,c,f)))return M.push(L)})){S=!1;break}}else if(!(T===A||d(T,A,l,c,f))){S=!1;break}}return f.delete(a),f.delete(o),S}return Tk=s,Tk}var Ak,xG;function Zje(){if(xG)return Ak;xG=1;var t=md(),e=t.Uint8Array;return Ak=e,Ak}var Ck,bG;function Qje(){if(bG)return Ck;bG=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,s){r[++n]=[s,i]}),r}return Ck=t,Ck}var Pk,wG;function Jz(){if(wG)return Pk;wG=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return Pk=t,Pk}var Nk,_G;function Jje(){if(_G)return Nk;_G=1;var t=xE(),e=Zje(),n=zz(),r=$oe(),i=Qje(),s=Jz(),a=1,o=2,l="[object Boolean]",c="[object Date]",d="[object Error]",f="[object Map]",h="[object Number]",m="[object RegExp]",v="[object Set]",b="[object String]",y="[object Symbol]",w="[object ArrayBuffer]",S="[object DataView]",M=t?t.prototype:void 0,T=M?M.valueOf:void 0;function A(C,j,L,O,k,F,G){switch(L){case S:if(C.byteLength!=j.byteLength||C.byteOffset!=j.byteOffset)return!1;C=C.buffer,j=j.buffer;case w:return!(C.byteLength!=j.byteLength||!F(new e(C),new e(j)));case l:case c:case h:return n(+C,+j);case d:return C.name==j.name&&C.message==j.message;case m:case b:return C==j+"";case f:var Y=i;case v:var U=O&a;if(Y||(Y=s),C.size!=j.size&&!U)return!1;var W=G.get(C);if(W)return W==j;O|=o,G.set(C,j);var q=r(Y(C),Y(j),O,k,F,G);return G.delete(C),q;case y:if(T)return T.call(C)==T.call(j)}return!1}return Nk=A,Nk}var Rk,SG;function Hoe(){if(SG)return Rk;SG=1;function t(e,n){for(var r=-1,i=n.length,s=e.length;++r<i;)e[s+r]=n[r];return e}return Rk=t,Rk}var Ok,EG;function eIe(){if(EG)return Ok;EG=1;var t=Hoe(),e=Io();function n(r,i,s){var a=i(r);return e(r)?a:t(a,s(r))}return Ok=n,Ok}var jk,MG;function tIe(){if(MG)return jk;MG=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=0,a=[];++r<i;){var o=e[r];n(o,r,e)&&(a[s++]=o)}return a}return jk=t,jk}var Ik,TG;function nIe(){if(TG)return Ik;TG=1;function t(){return[]}return Ik=t,Ik}var kk,AG;function rIe(){if(AG)return kk;AG=1;var t=tIe(),e=nIe(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(a){return a==null?[]:(a=Object(a),t(i(a),function(o){return r.call(a,o)}))}:e;return kk=s,kk}var Dk,CG;function iIe(){if(CG)return Dk;CG=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return Dk=t,Dk}var Lk,PG;function sIe(){if(PG)return Lk;PG=1;var t=Zf(),e=Qf(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return Lk=r,Lk}var Fk,NG;function e6(){if(NG)return Fk;NG=1;var t=sIe(),e=Qf(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,s=t((function(){return arguments})())?t:function(a){return e(a)&&r.call(a,"callee")&&!i.call(a,"callee")};return Fk=s,Fk}var x1={exports:{}},Uk,RG;function aIe(){if(RG)return Uk;RG=1;function t(){return!1}return Uk=t,Uk}x1.exports;var OG;function Woe(){return OG||(OG=1,(function(t,e){var n=md(),r=aIe(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===i,o=a?n.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||r;t.exports=c})(x1,x1.exports)),x1.exports}var Bk,jG;function t6(){if(jG)return Bk;jG=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var s=typeof r;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return Bk=n,Bk}var zk,IG;function n6(){if(IG)return zk;IG=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return zk=e,zk}var Vk,kG;function oIe(){if(kG)return Vk;kG=1;var t=Zf(),e=n6(),n=Qf(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",a="[object Date]",o="[object Error]",l="[object Function]",c="[object Map]",d="[object Number]",f="[object Object]",h="[object RegExp]",m="[object Set]",v="[object String]",b="[object WeakMap]",y="[object ArrayBuffer]",w="[object DataView]",S="[object Float32Array]",M="[object Float64Array]",T="[object Int8Array]",A="[object Int16Array]",C="[object Int32Array]",j="[object Uint8Array]",L="[object Uint8ClampedArray]",O="[object Uint16Array]",k="[object Uint32Array]",F={};F[S]=F[M]=F[T]=F[A]=F[C]=F[j]=F[L]=F[O]=F[k]=!0,F[r]=F[i]=F[y]=F[s]=F[w]=F[a]=F[o]=F[l]=F[c]=F[d]=F[f]=F[h]=F[m]=F[v]=F[b]=!1;function G(Y){return n(Y)&&e(Y.length)&&!!F[t(Y)]}return Vk=G,Vk}var $k,DG;function Goe(){if(DG)return $k;DG=1;function t(e){return function(n){return e(n)}}return $k=t,$k}var b1={exports:{}};b1.exports;var LG;function lIe(){return LG||(LG=1,(function(t,e){var n=foe(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,a=s&&n.process,o=(function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}})();t.exports=o})(b1,b1.exports)),b1.exports}var Hk,FG;function qoe(){if(FG)return Hk;FG=1;var t=oIe(),e=Goe(),n=lIe(),r=n&&n.isTypedArray,i=r?e(r):t;return Hk=i,Hk}var Wk,UG;function cIe(){if(UG)return Wk;UG=1;var t=iIe(),e=e6(),n=Io(),r=Woe(),i=t6(),s=qoe(),a=Object.prototype,o=a.hasOwnProperty;function l(c,d){var f=n(c),h=!f&&e(c),m=!f&&!h&&r(c),v=!f&&!h&&!m&&s(c),b=f||h||m||v,y=b?t(c.length,String):[],w=y.length;for(var S in c)(d||o.call(c,S))&&!(b&&(S=="length"||m&&(S=="offset"||S=="parent")||v&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||i(S,w)))&&y.push(S);return y}return Wk=l,Wk}var Gk,BG;function uIe(){if(BG)return Gk;BG=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return Gk=e,Gk}var qk,zG;function Xoe(){if(zG)return qk;zG=1;function t(e,n){return function(r){return e(n(r))}}return qk=t,qk}var Xk,VG;function dIe(){if(VG)return Xk;VG=1;var t=Xoe(),e=t(Object.keys,Object);return Xk=e,Xk}var Yk,$G;function fIe(){if($G)return Yk;$G=1;var t=uIe(),e=dIe(),n=Object.prototype,r=n.hasOwnProperty;function i(s){if(!t(s))return e(s);var a=[];for(var o in Object(s))r.call(s,o)&&o!="constructor"&&a.push(o);return a}return Yk=i,Yk}var Kk,HG;function wE(){if(HG)return Kk;HG=1;var t=Bz(),e=n6();function n(r){return r!=null&&e(r.length)&&!t(r)}return Kk=n,Kk}var Zk,WG;function JN(){if(WG)return Zk;WG=1;var t=cIe(),e=fIe(),n=wE();function r(i){return n(i)?t(i):e(i)}return Zk=r,Zk}var Qk,GG;function hIe(){if(GG)return Qk;GG=1;var t=eIe(),e=rIe(),n=JN();function r(i){return t(i,n,e)}return Qk=r,Qk}var Jk,qG;function pIe(){if(qG)return Jk;qG=1;var t=hIe(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(s,a,o,l,c,d){var f=o&e,h=t(s),m=h.length,v=t(a),b=v.length;if(m!=b&&!f)return!1;for(var y=m;y--;){var w=h[y];if(!(f?w in a:r.call(a,w)))return!1}var S=d.get(s),M=d.get(a);if(S&&M)return S==a&&M==s;var T=!0;d.set(s,a),d.set(a,s);for(var A=f;++y<m;){w=h[y];var C=s[w],j=a[w];if(l)var L=f?l(j,C,w,a,s,d):l(C,j,w,s,a,d);if(!(L===void 0?C===j||c(C,j,o,l,d):L)){T=!1;break}A||(A=w=="constructor")}if(T&&!A){var O=s.constructor,k=a.constructor;O!=k&&"constructor"in s&&"constructor"in a&&!(typeof O=="function"&&O instanceof O&&typeof k=="function"&&k instanceof k)&&(T=!1)}return d.delete(s),d.delete(a),T}return Jk=i,Jk}var e3,XG;function mIe(){if(XG)return e3;XG=1;var t=y0(),e=md(),n=t(e,"DataView");return e3=n,e3}var t3,YG;function gIe(){if(YG)return t3;YG=1;var t=y0(),e=md(),n=t(e,"Promise");return t3=n,t3}var n3,KG;function Yoe(){if(KG)return n3;KG=1;var t=y0(),e=md(),n=t(e,"Set");return n3=n,n3}var r3,ZG;function vIe(){if(ZG)return r3;ZG=1;var t=y0(),e=md(),n=t(e,"WeakMap");return r3=n,r3}var i3,QG;function yIe(){if(QG)return i3;QG=1;var t=mIe(),e=Vz(),n=gIe(),r=Yoe(),i=vIe(),s=Zf(),a=hoe(),o="[object Map]",l="[object Object]",c="[object Promise]",d="[object Set]",f="[object WeakMap]",h="[object DataView]",m=a(t),v=a(e),b=a(n),y=a(r),w=a(i),S=s;return(t&&S(new t(new ArrayBuffer(1)))!=h||e&&S(new e)!=o||n&&S(n.resolve())!=c||r&&S(new r)!=d||i&&S(new i)!=f)&&(S=function(M){var T=s(M),A=T==l?M.constructor:void 0,C=A?a(A):"";if(C)switch(C){case m:return h;case v:return o;case b:return c;case y:return d;case w:return f}return T}),i3=S,i3}var s3,JG;function xIe(){if(JG)return s3;JG=1;var t=Uoe(),e=$oe(),n=Jje(),r=pIe(),i=yIe(),s=Io(),a=Woe(),o=qoe(),l=1,c="[object Arguments]",d="[object Array]",f="[object Object]",h=Object.prototype,m=h.hasOwnProperty;function v(b,y,w,S,M,T){var A=s(b),C=s(y),j=A?d:i(b),L=C?d:i(y);j=j==c?f:j,L=L==c?f:L;var O=j==f,k=L==f,F=j==L;if(F&&a(b)){if(!a(y))return!1;A=!0,O=!1}if(F&&!O)return T||(T=new t),A||o(b)?e(b,y,w,S,M,T):n(b,y,j,w,S,M,T);if(!(w&l)){var G=O&&m.call(b,"__wrapped__"),Y=k&&m.call(y,"__wrapped__");if(G||Y){var U=G?b.value():b,W=Y?y.value():y;return T||(T=new t),M(U,W,w,S,T)}}return F?(T||(T=new t),r(b,y,w,S,M,T)):!1}return s3=v,s3}var a3,eq;function r6(){if(eq)return a3;eq=1;var t=xIe(),e=Qf();function n(r,i,s,a,o){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,s,a,n,o)}return a3=n,a3}var o3,tq;function bIe(){if(tq)return o3;tq=1;var t=Uoe(),e=r6(),n=1,r=2;function i(s,a,o,l){var c=o.length,d=c,f=!l;if(s==null)return!d;for(s=Object(s);c--;){var h=o[c];if(f&&h[2]?h[1]!==s[h[0]]:!(h[0]in s))return!1}for(;++c<d;){h=o[c];var m=h[0],v=s[m],b=h[1];if(f&&h[2]){if(v===void 0&&!(m in s))return!1}else{var y=new t;if(l)var w=l(v,b,m,s,a,y);if(!(w===void 0?e(b,v,n|r,l,y):w))return!1}}return!0}return o3=i,o3}var l3,nq;function Koe(){if(nq)return l3;nq=1;var t=Up();function e(n){return n===n&&!t(n)}return l3=e,l3}var c3,rq;function wIe(){if(rq)return c3;rq=1;var t=Koe(),e=JN();function n(r){for(var i=e(r),s=i.length;s--;){var a=i[s],o=r[a];i[s]=[a,o,t(o)]}return i}return c3=n,c3}var u3,iq;function Zoe(){if(iq)return u3;iq=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return u3=t,u3}var d3,sq;function _Ie(){if(sq)return d3;sq=1;var t=bIe(),e=wIe(),n=Zoe();function r(i){var s=e(i);return s.length==1&&s[0][2]?n(s[0][0],s[0][1]):function(a){return a===i||t(a,i,s)}}return d3=r,d3}var f3,aq;function SIe(){if(aq)return f3;aq=1;function t(e,n){return e!=null&&n in Object(e)}return f3=t,f3}var h3,oq;function EIe(){if(oq)return h3;oq=1;var t=goe(),e=e6(),n=Io(),r=t6(),i=n6(),s=qN();function a(o,l,c){l=t(l,o);for(var d=-1,f=l.length,h=!1;++d<f;){var m=s(l[d]);if(!(h=o!=null&&c(o,m)))break;o=o[m]}return h||++d!=f?h:(f=o==null?0:o.length,!!f&&i(f)&&r(m,f)&&(n(o)||e(o)))}return h3=a,h3}var p3,lq;function MIe(){if(lq)return p3;lq=1;var t=SIe(),e=EIe();function n(r,i){return r!=null&&e(r,i,t)}return p3=n,p3}var m3,cq;function TIe(){if(cq)return m3;cq=1;var t=r6(),e=voe(),n=MIe(),r=Uz(),i=Koe(),s=Zoe(),a=qN(),o=1,l=2;function c(d,f){return r(d)&&i(f)?s(a(d),f):function(h){var m=e(h,d);return m===void 0&&m===f?n(h,d):t(f,m,o|l)}}return m3=c,m3}var g3,uq;function xb(){if(uq)return g3;uq=1;function t(e){return e}return g3=t,g3}var v3,dq;function AIe(){if(dq)return v3;dq=1;function t(e){return function(n){return n?.[e]}}return v3=t,v3}var y3,fq;function CIe(){if(fq)return y3;fq=1;var t=Wz();function e(n){return function(r){return t(r,n)}}return y3=e,y3}var x3,hq;function PIe(){if(hq)return x3;hq=1;var t=AIe(),e=CIe(),n=Uz(),r=qN();function i(s){return n(s)?t(r(s)):e(s)}return x3=i,x3}var b3,pq;function Bp(){if(pq)return b3;pq=1;var t=_Ie(),e=TIe(),n=xb(),r=Io(),i=PIe();function s(a){return typeof a=="function"?a:a==null?n:typeof a=="object"?r(a)?e(a[0],a[1]):t(a):i(a)}return b3=s,b3}var w3,mq;function Qoe(){if(mq)return w3;mq=1;function t(e,n,r,i){for(var s=e.length,a=r+(i?1:-1);i?a--:++a<s;)if(n(e[a],a,e))return a;return-1}return w3=t,w3}var _3,gq;function NIe(){if(gq)return _3;gq=1;function t(e){return e!==e}return _3=t,_3}var S3,vq;function RIe(){if(vq)return S3;vq=1;function t(e,n,r){for(var i=r-1,s=e.length;++i<s;)if(e[i]===n)return i;return-1}return S3=t,S3}var E3,yq;function OIe(){if(yq)return E3;yq=1;var t=Qoe(),e=NIe(),n=RIe();function r(i,s,a){return s===s?n(i,s,a):t(i,e,a)}return E3=r,E3}var M3,xq;function jIe(){if(xq)return M3;xq=1;var t=OIe();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return M3=e,M3}var T3,bq;function IIe(){if(bq)return T3;bq=1;function t(e,n,r){for(var i=-1,s=e==null?0:e.length;++i<s;)if(r(n,e[i]))return!0;return!1}return T3=t,T3}var A3,wq;function kIe(){if(wq)return A3;wq=1;function t(){}return A3=t,A3}var C3,_q;function DIe(){if(_q)return C3;_q=1;var t=Yoe(),e=kIe(),n=Jz(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(s){return new t(s)}:e;return C3=i,C3}var P3,Sq;function LIe(){if(Sq)return P3;Sq=1;var t=Boe(),e=jIe(),n=IIe(),r=Voe(),i=DIe(),s=Jz(),a=200;function o(l,c,d){var f=-1,h=e,m=l.length,v=!0,b=[],y=b;if(d)v=!1,h=n;else if(m>=a){var w=c?null:i(l);if(w)return s(w);v=!1,h=r,y=new t}else y=c?[]:b;e:for(;++f<m;){var S=l[f],M=c?c(S):S;if(S=d||S!==0?S:0,v&&M===M){for(var T=y.length;T--;)if(y[T]===M)continue e;c&&y.push(M),b.push(S)}else h(y,M,d)||(y!==b&&y.push(M),b.push(S))}return b}return P3=o,P3}var N3,Eq;function FIe(){if(Eq)return N3;Eq=1;var t=Bp(),e=LIe();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return N3=n,N3}var UIe=FIe();const Mq=pr(UIe);function Joe(t,e,n){return e===!0?Mq(t,n):rr(e)?Mq(t,e):t}function xx(t){"@babel/helpers - typeof";return xx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xx(t)}var BIe=["ref"];function Tq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tq(Object(n),!0).forEach(function(r){eR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Aq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tle(r.key),r)}}function VIe(t,e,n){return e&&Aq(t.prototype,e),n&&Aq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function $Ie(t,e,n){return e=HA(e),HIe(t,ele()?Reflect.construct(e,n||[],HA(t).constructor):e.apply(t,n))}function HIe(t,e){if(e&&(xx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WIe(t)}function WIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ele(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ele=function(){return!!t})()}function HA(t){return HA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},HA(t)}function GIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IF(t,e)}function IF(t,e){return IF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},IF(t,e)}function eR(t,e,n){return e=tle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tle(t){var e=qIe(t,"string");return xx(e)=="symbol"?e:e+""}function qIe(t,e){if(xx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function XIe(t,e){if(t==null)return{};var n=YIe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function YIe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function KIe(t){return t.value}function ZIe(t,e){if(se.isValidElement(t))return se.cloneElement(t,e);if(typeof t=="function")return se.createElement(t,e);e.ref;var n=XIe(e,BIe);return se.createElement(Qz,n)}var Cq=1,Og=(function(t){function e(){var n;zIe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=$Ie(this,e,[].concat(i)),eR(n,"lastBoundingBox",{width:-1,height:-1}),n}return GIe(e,t),VIe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>Cq||Math.abs(i.height-this.lastBoundingBox.height)>Cq)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?sf({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,a=i.align,o=i.verticalAlign,l=i.margin,c=i.chartWidth,d=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&s==="vertical"){var m=this.getBBoxSnapshot();f={left:((c||0)-m.width)/2}}else f=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(o==="middle"){var v=this.getBBoxSnapshot();h={top:((d||0)-v.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return sf(sf({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,a=i.width,o=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,d=i.payload,f=sf(sf({position:"absolute",width:a||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return se.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){r.wrapperNode=m}},ZIe(s,sf(sf({},this.props),{},{payload:Joe(d,c,KIe)})))}}],[{key:"getWithHeight",value:function(r,i){var s=sf(sf({},this.defaultProps),r.props),a=s.layout;return a==="vertical"&&St(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])})(N.PureComponent);eR(Og,"displayName","Legend");eR(Og,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var R3,Pq;function QIe(){if(Pq)return R3;Pq=1;var t=xE(),e=e6(),n=Io(),r=t?t.isConcatSpreadable:void 0;function i(s){return n(s)||e(s)||!!(r&&s&&s[r])}return R3=i,R3}var O3,Nq;function nle(){if(Nq)return O3;Nq=1;var t=Hoe(),e=QIe();function n(r,i,s,a,o){var l=-1,c=r.length;for(s||(s=e),o||(o=[]);++l<c;){var d=r[l];i>0&&s(d)?i>1?n(d,i-1,s,a,o):t(o,d):a||(o[o.length]=d)}return o}return O3=n,O3}var j3,Rq;function JIe(){if(Rq)return j3;Rq=1;function t(e){return function(n,r,i){for(var s=-1,a=Object(n),o=i(n),l=o.length;l--;){var c=o[e?l:++s];if(r(a[c],c,a)===!1)break}return n}}return j3=t,j3}var I3,Oq;function eke(){if(Oq)return I3;Oq=1;var t=JIe(),e=t();return I3=e,I3}var k3,jq;function rle(){if(jq)return k3;jq=1;var t=eke(),e=JN();function n(r,i){return r&&t(r,i,e)}return k3=n,k3}var D3,Iq;function tke(){if(Iq)return D3;Iq=1;var t=wE();function e(n,r){return function(i,s){if(i==null)return i;if(!t(i))return n(i,s);for(var a=i.length,o=r?a:-1,l=Object(i);(r?o--:++o<a)&&s(l[o],o,l)!==!1;);return i}}return D3=e,D3}var L3,kq;function i6(){if(kq)return L3;kq=1;var t=rle(),e=tke(),n=e(t);return L3=n,L3}var F3,Dq;function ile(){if(Dq)return F3;Dq=1;var t=i6(),e=wE();function n(r,i){var s=-1,a=e(r)?Array(r.length):[];return t(r,function(o,l,c){a[++s]=i(o,l,c)}),a}return F3=n,F3}var U3,Lq;function nke(){if(Lq)return U3;Lq=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return U3=t,U3}var B3,Fq;function rke(){if(Fq)return B3;Fq=1;var t=vb();function e(n,r){if(n!==r){var i=n!==void 0,s=n===null,a=n===n,o=t(n),l=r!==void 0,c=r===null,d=r===r,f=t(r);if(!c&&!f&&!o&&n>r||o&&l&&d&&!c&&!f||s&&l&&d||!i&&d||!a)return 1;if(!s&&!o&&!f&&n<r||f&&i&&a&&!s&&!o||c&&i&&a||!l&&a||!d)return-1}return 0}return B3=e,B3}var z3,Uq;function ike(){if(Uq)return z3;Uq=1;var t=rke();function e(n,r,i){for(var s=-1,a=n.criteria,o=r.criteria,l=a.length,c=i.length;++s<l;){var d=t(a[s],o[s]);if(d){if(s>=c)return d;var f=i[s];return d*(f=="desc"?-1:1)}}return n.index-r.index}return z3=e,z3}var V3,Bq;function ske(){if(Bq)return V3;Bq=1;var t=Hz(),e=Wz(),n=Bp(),r=ile(),i=nke(),s=Goe(),a=ike(),o=xb(),l=Io();function c(d,f,h){f.length?f=t(f,function(b){return l(b)?function(y){return e(y,b.length===1?b[0]:b)}:b}):f=[o];var m=-1;f=t(f,s(n));var v=r(d,function(b,y,w){var S=t(f,function(M){return M(b)});return{criteria:S,index:++m,value:b}});return i(v,function(b,y){return a(b,y,h)})}return V3=c,V3}var $3,zq;function ake(){if(zq)return $3;zq=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return $3=t,$3}var H3,Vq;function oke(){if(Vq)return H3;Vq=1;var t=ake(),e=Math.max;function n(r,i,s){return i=e(i===void 0?r.length-1:i,0),function(){for(var a=arguments,o=-1,l=e(a.length-i,0),c=Array(l);++o<l;)c[o]=a[i+o];o=-1;for(var d=Array(i+1);++o<i;)d[o]=a[o];return d[i]=s(c),t(r,this,d)}}return H3=n,H3}var W3,$q;function lke(){if($q)return W3;$q=1;function t(e){return function(){return e}}return W3=t,W3}var G3,Hq;function sle(){if(Hq)return G3;Hq=1;var t=y0(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return G3=e,G3}var q3,Wq;function cke(){if(Wq)return q3;Wq=1;var t=lke(),e=sle(),n=xb(),r=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:n;return q3=r,q3}var X3,Gq;function uke(){if(Gq)return X3;Gq=1;var t=800,e=16,n=Date.now;function r(i){var s=0,a=0;return function(){var o=n(),l=e-(o-a);if(a=o,l>0){if(++s>=t)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return X3=r,X3}var Y3,qq;function dke(){if(qq)return Y3;qq=1;var t=cke(),e=uke(),n=e(t);return Y3=n,Y3}var K3,Xq;function fke(){if(Xq)return K3;Xq=1;var t=xb(),e=oke(),n=dke();function r(i,s){return n(e(i,s,t),i+"")}return K3=r,K3}var Z3,Yq;function tR(){if(Yq)return Z3;Yq=1;var t=zz(),e=wE(),n=t6(),r=Up();function i(s,a,o){if(!r(o))return!1;var l=typeof a;return(l=="number"?e(o)&&n(a,o.length):l=="string"&&a in o)?t(o[a],s):!1}return Z3=i,Z3}var Q3,Kq;function hke(){if(Kq)return Q3;Kq=1;var t=nle(),e=ske(),n=fke(),r=tR(),i=n(function(s,a){if(s==null)return[];var o=a.length;return o>1&&r(s,a[0],a[1])?a=[]:o>2&&r(a[0],a[1],a[2])&&(a=[a[0]]),e(s,t(a,1),[])});return Q3=i,Q3}var pke=hke();const s6=pr(pke);function H_(t){"@babel/helpers - typeof";return H_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H_(t)}function kF(){return kF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kF.apply(this,arguments)}function mke(t,e){return xke(t)||yke(t,e)||vke(t,e)||gke()}function gke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vke(t,e){if(t){if(typeof t=="string")return Zq(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zq(t,e)}}function Zq(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yke(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function xke(t){if(Array.isArray(t))return t}function Qq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function J3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qq(Object(n),!0).forEach(function(r){bke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bke(t,e,n){return e=wke(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wke(t){var e=_ke(t,"string");return H_(e)=="symbol"?e:e+""}function _ke(t,e){if(H_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(H_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ske(t){return Array.isArray(t)&&bs(t[0])&&bs(t[1])?t.join(" ~ "):t}var Eke=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,s=i===void 0?{}:i,a=e.itemStyle,o=a===void 0?{}:a,l=e.labelStyle,c=l===void 0?{}:l,d=e.payload,f=e.formatter,h=e.itemSorter,m=e.wrapperClassName,v=e.labelClassName,b=e.label,y=e.labelFormatter,w=e.accessibilityLayer,S=w===void 0?!1:w,M=function(){if(d&&d.length){var G={padding:0,margin:0},Y=(h?s6(d,h):d).map(function(U,W){if(U.type==="none")return null;var q=J3({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},o),Z=U.formatter||f||Ske,V=U.value,Q=U.name,ee=V,$=Q;if(Z&&ee!=null&&$!=null){var J=Z(V,Q,U,W,d);if(Array.isArray(J)){var de=mke(J,2);ee=de[0],$=de[1]}else ee=J}return se.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(W),style:q},bs($)?se.createElement("span",{className:"recharts-tooltip-item-name"},$):null,bs($)?se.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,se.createElement("span",{className:"recharts-tooltip-item-value"},ee),se.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return se.createElement("ul",{className:"recharts-tooltip-item-list",style:G},Y)}return null},T=J3({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),A=J3({margin:0},c),C=!Er(b),j=C?b:"",L=yr("recharts-default-tooltip",m),O=yr("recharts-tooltip-label",v);C&&y&&d!==void 0&&d!==null&&(j=y(b,d));var k=S?{role:"status","aria-live":"assertive"}:{};return se.createElement("div",kF({className:L,style:T},k),se.createElement("p",{className:O,style:A},se.isValidElement(j)?j:"".concat(j)),M())};function W_(t){"@babel/helpers - typeof";return W_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W_(t)}function hT(t,e,n){return e=Mke(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mke(t){var e=Tke(t,"string");return W_(e)=="symbol"?e:e+""}function Tke(t,e){if(W_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(W_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jw="recharts-tooltip-wrapper",Ake={visibility:"hidden"};function Cke(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return yr(jw,hT(hT(hT(hT({},"".concat(jw,"-right"),St(n)&&e&&St(e.x)&&n>=e.x),"".concat(jw,"-left"),St(n)&&e&&St(e.x)&&n<e.x),"".concat(jw,"-bottom"),St(r)&&e&&St(e.y)&&r>=e.y),"".concat(jw,"-top"),St(r)&&e&&St(e.y)&&r<e.y))}function Jq(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,s=t.position,a=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(s&&St(s[r]))return s[r];var d=n[r]-o-i,f=n[r]+i;if(e[r])return a[r]?d:f;if(a[r]){var h=d,m=l[r];return h<m?Math.max(f,l[r]):Math.max(d,l[r])}var v=f+o,b=l[r]+c;return v>b?Math.max(d,l[r]):Math.max(f,l[r])}function Pke(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Nke(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,s=t.reverseDirection,a=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,c,d,f;return a.height>0&&a.width>0&&n?(d=Jq({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=Jq({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),c=Pke({translateX:d,translateY:f,useTranslate3d:o})):c=Ake,{cssProperties:c,cssClasses:Cke({translateX:d,translateY:f,coordinate:n})}}function bx(t){"@babel/helpers - typeof";return bx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bx(t)}function eX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eX(Object(n),!0).forEach(function(r){LF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ole(r.key),r)}}function jke(t,e,n){return e&&Oke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ike(t,e,n){return e=WA(e),kke(t,ale()?Reflect.construct(e,n||[],WA(t).constructor):e.apply(t,n))}function kke(t,e){if(e&&(bx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dke(t)}function Dke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ale(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ale=function(){return!!t})()}function WA(t){return WA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},WA(t)}function Lke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DF(t,e)}function DF(t,e){return DF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},DF(t,e)}function LF(t,e,n){return e=ole(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ole(t){var e=Fke(t,"string");return bx(e)=="symbol"?e:e+""}function Fke(t,e){if(bx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nX=1,Uke=(function(t){function e(){var n;Rke(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Ike(this,e,[].concat(i)),LF(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),LF(n,"handleKeyDown",function(a){if(a.key==="Escape"){var o,l,c,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&c!==void 0?c:0}})}}),n}return Lke(e,t),jke(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>nX||Math.abs(r.height-this.state.lastBoundingBox.height)>nX)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,m=i.offset,v=i.position,b=i.reverseDirection,y=i.useTranslate3d,w=i.viewBox,S=i.wrapperStyle,M=Nke({allowEscapeViewBox:a,coordinate:d,offsetTopLeft:m,position:v,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:w}),T=M.cssClasses,A=M.cssProperties,C=tX(tX({transition:h&&s?"transform ".concat(o,"ms ").concat(l):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},S);return se.createElement("div",{tabIndex:-1,className:T,style:C,ref:function(L){r.wrapperNode=L}},c)}}])})(N.PureComponent),Bke=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},_E={isSsr:Bke()};function wx(t){"@babel/helpers - typeof";return wx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wx(t)}function rX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rX(Object(n),!0).forEach(function(r){a6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cle(r.key),r)}}function $ke(t,e,n){return e&&Vke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hke(t,e,n){return e=GA(e),Wke(t,lle()?Reflect.construct(e,n||[],GA(t).constructor):e.apply(t,n))}function Wke(t,e){if(e&&(wx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gke(t)}function Gke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lle(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lle=function(){return!!t})()}function GA(t){return GA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},GA(t)}function qke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FF(t,e)}function FF(t,e){return FF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},FF(t,e)}function a6(t,e,n){return e=cle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cle(t){var e=Xke(t,"string");return wx(e)=="symbol"?e:e+""}function Xke(t,e){if(wx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Yke(t){return t.dataKey}function Kke(t,e){return se.isValidElement(t)?se.cloneElement(t,e):typeof t=="function"?se.createElement(t,e):se.createElement(Eke,e)}var Cu=(function(t){function e(){return zke(this,e),Hke(this,e,arguments)}return qke(e,t),$ke(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,m=i.offset,v=i.payload,b=i.payloadUniqBy,y=i.position,w=i.reverseDirection,S=i.useTranslate3d,M=i.viewBox,T=i.wrapperStyle,A=v??[];f&&A.length&&(A=Joe(v.filter(function(j){return j.value!=null&&(j.hide!==!0||r.props.includeHidden)}),b,Yke));var C=A.length>0;return se.createElement(Uke,{allowEscapeViewBox:a,animationDuration:o,animationEasing:l,isAnimationActive:h,active:s,coordinate:d,hasPayload:C,offset:m,position:y,reverseDirection:w,useTranslate3d:S,viewBox:M,wrapperStyle:T},Kke(c,iX(iX({},this.props),{},{payload:A})))}}])})(N.PureComponent);a6(Cu,"displayName","Tooltip");a6(Cu,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!_E.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var eD,sX;function Zke(){if(sX)return eD;sX=1;var t=md(),e=function(){return t.Date.now()};return eD=e,eD}var tD,aX;function Qke(){if(aX)return tD;aX=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return tD=e,tD}var nD,oX;function Jke(){if(oX)return nD;oX=1;var t=Qke(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return nD=n,nD}var rD,lX;function ule(){if(lX)return rD;lX=1;var t=Jke(),e=Up(),n=vb(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,o=parseInt;function l(c){if(typeof c=="number")return c;if(n(c))return r;if(e(c)){var d=typeof c.valueOf=="function"?c.valueOf():c;c=e(d)?d+"":d}if(typeof c!="string")return c===0?c:+c;c=t(c);var f=s.test(c);return f||a.test(c)?o(c.slice(2),f?2:8):i.test(c)?r:+c}return rD=l,rD}var iD,cX;function e3e(){if(cX)return iD;cX=1;var t=Up(),e=Zke(),n=ule(),r="Expected a function",i=Math.max,s=Math.min;function a(o,l,c){var d,f,h,m,v,b,y=0,w=!1,S=!1,M=!0;if(typeof o!="function")throw new TypeError(r);l=n(l)||0,t(c)&&(w=!!c.leading,S="maxWait"in c,h=S?i(n(c.maxWait)||0,l):h,M="trailing"in c?!!c.trailing:M);function T(Y){var U=d,W=f;return d=f=void 0,y=Y,m=o.apply(W,U),m}function A(Y){return y=Y,v=setTimeout(L,l),w?T(Y):m}function C(Y){var U=Y-b,W=Y-y,q=l-U;return S?s(q,h-W):q}function j(Y){var U=Y-b,W=Y-y;return b===void 0||U>=l||U<0||S&&W>=h}function L(){var Y=e();if(j(Y))return O(Y);v=setTimeout(L,C(Y))}function O(Y){return v=void 0,M&&d?T(Y):(d=f=void 0,m)}function k(){v!==void 0&&clearTimeout(v),y=0,d=b=f=v=void 0}function F(){return v===void 0?m:O(e())}function G(){var Y=e(),U=j(Y);if(d=arguments,f=this,b=Y,U){if(v===void 0)return A(b);if(S)return clearTimeout(v),v=setTimeout(L,l),T(b)}return v===void 0&&(v=setTimeout(L,l)),m}return G.cancel=k,G.flush=F,G}return iD=a,iD}var sD,uX;function t3e(){if(uX)return sD;uX=1;var t=e3e(),e=Up(),n="Expected a function";function r(i,s,a){var o=!0,l=!0;if(typeof i!="function")throw new TypeError(n);return e(a)&&(o="leading"in a?!!a.leading:o,l="trailing"in a?!!a.trailing:l),t(i,s,{leading:o,maxWait:s,trailing:l})}return sD=r,sD}var n3e=t3e();const dle=pr(n3e);function G_(t){"@babel/helpers - typeof";return G_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G_(t)}function dX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dX(Object(n),!0).forEach(function(r){r3e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function r3e(t,e,n){return e=i3e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i3e(t){var e=s3e(t,"string");return G_(e)=="symbol"?e:e+""}function s3e(t,e){if(G_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(G_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function a3e(t,e){return u3e(t)||c3e(t,e)||l3e(t,e)||o3e()}function o3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l3e(t,e){if(t){if(typeof t=="string")return fX(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fX(t,e)}}function fX(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c3e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function u3e(t){if(Array.isArray(t))return t}var d3e=N.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=t.width,a=s===void 0?"100%":s,o=t.height,l=o===void 0?"100%":o,c=t.minWidth,d=c===void 0?0:c,f=t.minHeight,h=t.maxHeight,m=t.children,v=t.debounce,b=v===void 0?0:v,y=t.id,w=t.className,S=t.onResize,M=t.style,T=M===void 0?{}:M,A=N.useRef(null),C=N.useRef();C.current=S,N.useImperativeHandle(e,function(){return Object.defineProperty(A.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),A.current},configurable:!0})});var j=N.useState({containerWidth:i.width,containerHeight:i.height}),L=a3e(j,2),O=L[0],k=L[1],F=N.useCallback(function(Y,U){k(function(W){var q=Math.round(Y),Z=Math.round(U);return W.containerWidth===q&&W.containerHeight===Z?W:{containerWidth:q,containerHeight:Z}})},[]);N.useEffect(function(){var Y=function(Q){var ee,$=Q[0].contentRect,J=$.width,de=$.height;F(J,de),(ee=C.current)===null||ee===void 0||ee.call(C,J,de)};b>0&&(Y=dle(Y,b,{trailing:!0,leading:!1}));var U=new ResizeObserver(Y),W=A.current.getBoundingClientRect(),q=W.width,Z=W.height;return F(q,Z),U.observe(A.current),function(){U.disconnect()}},[F,b]);var G=N.useMemo(function(){var Y=O.containerWidth,U=O.containerHeight;if(Y<0||U<0)return null;kf(yg(a)||yg(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),kf(!n||n>0,"The aspect(%s) must be greater than zero.",n);var W=yg(a)?Y:a,q=yg(l)?U:l;n&&n>0&&(W?q=W/n:q&&(W=q*n),h&&q>h&&(q=h)),kf(W>0||q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,W,q,a,l,d,f,n);var Z=!Array.isArray(m)&&If(m.type).endsWith("Chart");return se.Children.map(m,function(V){return se.isValidElement(V)?N.cloneElement(V,pT({width:W,height:q},Z?{style:pT({height:"100%",width:"100%",maxHeight:q,maxWidth:W},V.props.style)}:{})):V})},[n,m,l,h,f,d,O,a]);return se.createElement("div",{id:y?"".concat(y):void 0,className:yr("recharts-responsive-container",w),style:pT(pT({},T),{},{width:a,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:A},G)}),fle=function(e){return null};fle.displayName="Cell";function q_(t){"@babel/helpers - typeof";return q_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q_(t)}function hX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hX(Object(n),!0).forEach(function(r){f3e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function f3e(t,e,n){return e=h3e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h3e(t){var e=p3e(t,"string");return q_(e)=="symbol"?e:e+""}function p3e(t,e){if(q_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(q_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uv={widthCache:{},cacheCount:0},m3e=2e3,g3e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},pX="recharts_measurement_span";function v3e(t){var e=UF({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var W1=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||_E.isSsr)return{width:0,height:0};var r=v3e(n),i=JSON.stringify({text:e,copyStyle:r});if(Uv.widthCache[i])return Uv.widthCache[i];try{var s=document.getElementById(pX);s||(s=document.createElement("span"),s.setAttribute("id",pX),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var a=UF(UF({},g3e),r);Object.assign(s.style,a),s.textContent="".concat(e);var o=s.getBoundingClientRect(),l={width:o.width,height:o.height};return Uv.widthCache[i]=l,++Uv.cacheCount>m3e&&(Uv.cacheCount=0,Uv.widthCache={}),l}catch{return{width:0,height:0}}},y3e=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function X_(t){"@babel/helpers - typeof";return X_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X_(t)}function qA(t,e){return _3e(t)||w3e(t,e)||b3e(t,e)||x3e()}function x3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b3e(t,e){if(t){if(typeof t=="string")return mX(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mX(t,e)}}function mX(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function w3e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function _3e(t){if(Array.isArray(t))return t}function S3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,M3e(r.key),r)}}function E3e(t,e,n){return e&&gX(t.prototype,e),n&&gX(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function M3e(t){var e=T3e(t,"string");return X_(e)=="symbol"?e:e+""}function T3e(t,e){if(X_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(X_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,yX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,A3e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,C3e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,hle={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},P3e=Object.keys(hle),Py="NaN";function N3e(t,e){return t*hle[e]}var mT=(function(){function t(e,n){S3e(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!A3e.test(n)&&(this.num=NaN,this.unit=""),P3e.includes(n)&&(this.num=N3e(e,n),this.unit="px")}return E3e(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=C3e.exec(n))!==null&&r!==void 0?r:[],s=qA(i,3),a=s[1],o=s[2];return new t(parseFloat(a),o??"")}}])})();function ple(t){if(t.includes(Py))return Py;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=vX.exec(e))!==null&&n!==void 0?n:[],i=qA(r,4),s=i[1],a=i[2],o=i[3],l=mT.parse(s??""),c=mT.parse(o??""),d=a==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return Py;e=e.replace(vX,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=yX.exec(e))!==null&&f!==void 0?f:[],m=qA(h,4),v=m[1],b=m[2],y=m[3],w=mT.parse(v??""),S=mT.parse(y??""),M=b==="+"?w.add(S):w.subtract(S);if(M.isNaN())return Py;e=e.replace(yX,M.toString())}return e}var xX=/\(([^()]*)\)/;function R3e(t){for(var e=t;e.includes("(");){var n=xX.exec(e),r=qA(n,2),i=r[1];e=e.replace(xX,ple(i))}return e}function O3e(t){var e=t.replace(/\s+/g,"");return e=R3e(e),e=ple(e),e}function j3e(t){try{return O3e(t)}catch{return Py}}function aD(t){var e=j3e(t.slice(5,-1));return e===Py?"":e}var I3e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],k3e=["dx","dy","angle","className","breakAll"];function BF(){return BF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BF.apply(this,arguments)}function bX(t,e){if(t==null)return{};var n=D3e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function D3e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wX(t,e){return B3e(t)||U3e(t,e)||F3e(t,e)||L3e()}function L3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F3e(t,e){if(t){if(typeof t=="string")return _X(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _X(t,e)}}function _X(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function U3e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function B3e(t){if(Array.isArray(t))return t}var mle=/[ \f\n\r\t\v\u2028\u2029]+/,gle=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var s=[];Er(n)||(r?s=n.toString().split(""):s=n.toString().split(mle));var a=s.map(function(l){return{word:l,width:W1(l,i).width}}),o=r?0:W1("",i).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},z3e=function(e,n,r,i,s){var a=e.maxLines,o=e.children,l=e.style,c=e.breakAll,d=St(a),f=o,h=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return W.reduce(function(q,Z){var V=Z.word,Q=Z.width,ee=q[q.length-1];if(ee&&(i==null||s||ee.width+Q+r<Number(i)))ee.words.push(V),ee.width+=Q+r;else{var $={words:[V],width:Q};q.push($)}return q},[])},m=h(n),v=function(W){return W.reduce(function(q,Z){return q.width>Z.width?q:Z})};if(!d)return m;for(var b="",y=function(W){var q=f.slice(0,W),Z=gle({breakAll:c,style:l,children:q+b}).wordsWithComputedWidth,V=h(Z),Q=V.length>a||v(V).width>Number(i);return[Q,V]},w=0,S=f.length-1,M=0,T;w<=S&&M<=f.length-1;){var A=Math.floor((w+S)/2),C=A-1,j=y(C),L=wX(j,2),O=L[0],k=L[1],F=y(A),G=wX(F,1),Y=G[0];if(!O&&!Y&&(w=A+1),O&&Y&&(S=A-1),!O&&Y){T=k;break}M++}return T||m},SX=function(e){var n=Er(e)?[]:e.toString().split(mle);return[{words:n}]},V3e=function(e){var n=e.width,r=e.scaleToFit,i=e.children,s=e.style,a=e.breakAll,o=e.maxLines;if((n||r)&&!_E.isSsr){var l,c,d=gle({breakAll:a,children:i,style:s});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,c=h}else return SX(i);return z3e({breakAll:a,children:i,maxLines:o,style:s},l,c,n,r)}return SX(i)},EX="#808080",XA=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,a=e.lineHeight,o=a===void 0?"1em":a,l=e.capHeight,c=l===void 0?"0.71em":l,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,m=h===void 0?"start":h,v=e.verticalAnchor,b=v===void 0?"end":v,y=e.fill,w=y===void 0?EX:y,S=bX(e,I3e),M=N.useMemo(function(){return V3e({breakAll:S.breakAll,children:S.children,maxLines:S.maxLines,scaleToFit:f,style:S.style,width:S.width})},[S.breakAll,S.children,S.maxLines,f,S.style,S.width]),T=S.dx,A=S.dy,C=S.angle,j=S.className,L=S.breakAll,O=bX(S,k3e);if(!bs(r)||!bs(s))return null;var k=r+(St(T)?T:0),F=s+(St(A)?A:0),G;switch(b){case"start":G=aD("calc(".concat(c,")"));break;case"middle":G=aD("calc(".concat((M.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:G=aD("calc(".concat(M.length-1," * -").concat(o,")"));break}var Y=[];if(f){var U=M[0].width,W=S.width;Y.push("scale(".concat((St(W)?W/U:1)/U,")"))}return C&&Y.push("rotate(".concat(C,", ").concat(k,", ").concat(F,")")),Y.length&&(O.transform=Y.join(" ")),se.createElement("text",BF({},Sr(O,!0),{x:k,y:F,className:yr("recharts-text",j),textAnchor:m,fill:w.includes("url")?EX:w}),M.map(function(q,Z){var V=q.words.join(L?"":" ");return se.createElement("tspan",{x:k,dy:Z===0?G:o,key:"".concat(V,"-").concat(Z)},V)}))};function hp(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function $3e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function o6(t){let e,n,r;t.length!==2?(e=hp,n=(o,l)=>hp(t(o),l),r=(o,l)=>t(o)-l):(e=t===hp||t===$3e?t:H3e,n=t,r=t);function i(o,l,c=0,d=o.length){if(c<d){if(e(l,l)!==0)return d;do{const f=c+d>>>1;n(o[f],l)<0?c=f+1:d=f}while(c<d)}return c}function s(o,l,c=0,d=o.length){if(c<d){if(e(l,l)!==0)return d;do{const f=c+d>>>1;n(o[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function a(o,l,c=0,d=o.length){const f=i(o,l,c,d-1);return f>c&&r(o[f-1],l)>-r(o[f],l)?f-1:f}return{left:i,center:a,right:s}}function H3e(){return 0}function vle(t){return t===null?NaN:+t}function*W3e(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const G3e=o6(hp),SE=G3e.right;o6(vle).center;class MX extends Map{constructor(e,n=Y3e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(TX(this,e))}has(e){return super.has(TX(this,e))}set(e,n){return super.set(q3e(this,e),n)}delete(e){return super.delete(X3e(this,e))}}function TX({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function q3e({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function X3e({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Y3e(t){return t!==null&&typeof t=="object"?t.valueOf():t}function K3e(t=hp){if(t===hp)return yle;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function yle(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Z3e=Math.sqrt(50),Q3e=Math.sqrt(10),J3e=Math.sqrt(2);function YA(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=Z3e?10:s>=Q3e?5:s>=J3e?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/a,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=n&&n<2?YA(t,e,n*2):[o,l,c]}function zF(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,a]=r?YA(e,t,n):YA(t,e,n);if(!(s>=i))return[];const o=s-i+1,l=new Array(o);if(r)if(a<0)for(let c=0;c<o;++c)l[c]=(s-c)/-a;else for(let c=0;c<o;++c)l[c]=(s-c)*a;else if(a<0)for(let c=0;c<o;++c)l[c]=(i+c)/-a;else for(let c=0;c<o;++c)l[c]=(i+c)*a;return l}function VF(t,e,n){return e=+e,t=+t,n=+n,YA(t,e,n)[2]}function $F(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?VF(e,t,n):VF(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function AX(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function CX(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function xle(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?yle:K3e(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),m=Math.max(n,Math.floor(e-c*f/l+h)),v=Math.min(r,Math.floor(e+(l-c)*f/l+h));xle(t,e,m,v,i)}const s=t[e];let a=n,o=r;for(Iw(t,n,e),i(t[r],s)>0&&Iw(t,n,r);a<o;){for(Iw(t,a,o),++a,--o;i(t[a],s)<0;)++a;for(;i(t[o],s)>0;)--o}i(t[n],s)===0?Iw(t,n,o):(++o,Iw(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function Iw(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function eDe(t,e,n){if(t=Float64Array.from(W3e(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return CX(t);if(e>=1)return AX(t);var r,i=(r-1)*e,s=Math.floor(i),a=AX(xle(t,s).subarray(0,s+1)),o=CX(t.subarray(s+1));return a+(o-a)*(i-s)}}function tDe(t,e,n=vle){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),a=+n(t[s],s,t),o=+n(t[s+1],s+1,t);return a+(o-a)*(i-s)}}function nDe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Zl(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Jf(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const HF=Symbol("implicit");function l6(){var t=new MX,e=[],n=[],r=HF;function i(s){let a=t.get(s);if(a===void 0){if(r!==HF)return r;t.set(s,a=e.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new MX;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return l6(e,n).unknown(r)},Zl.apply(i,arguments),i}function Y_(){var t=l6().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,a,o=!1,l=0,c=0,d=.5;delete t.unknown;function f(){var h=e().length,m=i<r,v=m?i:r,b=m?r:i;s=(b-v)/Math.max(1,h-l+c*2),o&&(s=Math.floor(s)),v+=(b-v-s*(h-l))*d,a=s*(1-l),o&&(v=Math.round(v),a=Math.round(a));var y=nDe(h).map(function(w){return v+s*w});return n(m?y.reverse():y)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,f()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(h){return arguments.length?(o=!!h,f()):o},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return Y_(e(),[r,i]).round(o).paddingInner(l).paddingOuter(c).align(d)},Zl.apply(f(),arguments)}function ble(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return ble(e())},t}function G1(){return ble(Y_.apply(null,arguments).paddingInner(1))}function c6(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function wle(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function EE(){}var K_=.7,KA=1/K_,Yy="\\s*([+-]?\\d+)\\s*",Z_="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",rDe=/^#([0-9a-f]{3,8})$/,iDe=new RegExp(`^rgb\\(${Yy},${Yy},${Yy}\\)$`),sDe=new RegExp(`^rgb\\(${Qu},${Qu},${Qu}\\)$`),aDe=new RegExp(`^rgba\\(${Yy},${Yy},${Yy},${Z_}\\)$`),oDe=new RegExp(`^rgba\\(${Qu},${Qu},${Qu},${Z_}\\)$`),lDe=new RegExp(`^hsl\\(${Z_},${Qu},${Qu}\\)$`),cDe=new RegExp(`^hsla\\(${Z_},${Qu},${Qu},${Z_}\\)$`),PX={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};c6(EE,Q_,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:NX,formatHex:NX,formatHex8:uDe,formatHsl:dDe,formatRgb:RX,toString:RX});function NX(){return this.rgb().formatHex()}function uDe(){return this.rgb().formatHex8()}function dDe(){return _le(this).formatHsl()}function RX(){return this.rgb().formatRgb()}function Q_(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=rDe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?OX(e):n===3?new Ao(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?gT(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?gT(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=iDe.exec(t))?new Ao(e[1],e[2],e[3],1):(e=sDe.exec(t))?new Ao(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=aDe.exec(t))?gT(e[1],e[2],e[3],e[4]):(e=oDe.exec(t))?gT(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=lDe.exec(t))?kX(e[1],e[2]/100,e[3]/100,1):(e=cDe.exec(t))?kX(e[1],e[2]/100,e[3]/100,e[4]):PX.hasOwnProperty(t)?OX(PX[t]):t==="transparent"?new Ao(NaN,NaN,NaN,0):null}function OX(t){return new Ao(t>>16&255,t>>8&255,t&255,1)}function gT(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ao(t,e,n,r)}function fDe(t){return t instanceof EE||(t=Q_(t)),t?(t=t.rgb(),new Ao(t.r,t.g,t.b,t.opacity)):new Ao}function WF(t,e,n,r){return arguments.length===1?fDe(t):new Ao(t,e,n,r??1)}function Ao(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}c6(Ao,WF,wle(EE,{brighter(t){return t=t==null?KA:Math.pow(KA,t),new Ao(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?K_:Math.pow(K_,t),new Ao(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ao(jg(this.r),jg(this.g),jg(this.b),ZA(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:jX,formatHex:jX,formatHex8:hDe,formatRgb:IX,toString:IX}));function jX(){return`#${xg(this.r)}${xg(this.g)}${xg(this.b)}`}function hDe(){return`#${xg(this.r)}${xg(this.g)}${xg(this.b)}${xg((isNaN(this.opacity)?1:this.opacity)*255)}`}function IX(){const t=ZA(this.opacity);return`${t===1?"rgb(":"rgba("}${jg(this.r)}, ${jg(this.g)}, ${jg(this.b)}${t===1?")":`, ${t})`}`}function ZA(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function jg(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function xg(t){return t=jg(t),(t<16?"0":"")+t.toString(16)}function kX(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Lc(t,e,n,r)}function _le(t){if(t instanceof Lc)return new Lc(t.h,t.s,t.l,t.opacity);if(t instanceof EE||(t=Q_(t)),!t)return new Lc;if(t instanceof Lc)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,o=s-i,l=(s+i)/2;return o?(e===s?a=(n-r)/o+(n<r)*6:n===s?a=(r-e)/o+2:a=(e-n)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new Lc(a,o,l,t.opacity)}function pDe(t,e,n,r){return arguments.length===1?_le(t):new Lc(t,e,n,r??1)}function Lc(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}c6(Lc,pDe,wle(EE,{brighter(t){return t=t==null?KA:Math.pow(KA,t),new Lc(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?K_:Math.pow(K_,t),new Lc(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Ao(oD(t>=240?t-240:t+120,i,r),oD(t,i,r),oD(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Lc(DX(this.h),vT(this.s),vT(this.l),ZA(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ZA(this.opacity);return`${t===1?"hsl(":"hsla("}${DX(this.h)}, ${vT(this.s)*100}%, ${vT(this.l)*100}%${t===1?")":`, ${t})`}`}}));function DX(t){return t=(t||0)%360,t<0?t+360:t}function vT(t){return Math.max(0,Math.min(1,t||0))}function oD(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const u6=t=>()=>t;function mDe(t,e){return function(n){return t+n*e}}function gDe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function vDe(t){return(t=+t)==1?Sle:function(e,n){return n-e?gDe(e,n,t):u6(isNaN(e)?n:e)}}function Sle(t,e){var n=e-t;return n?mDe(t,n):u6(isNaN(t)?e:t)}const LX=(function t(e){var n=vDe(e);function r(i,s){var a=n((i=WF(i)).r,(s=WF(s)).r),o=n(i.g,s.g),l=n(i.b,s.b),c=Sle(i.opacity,s.opacity);return function(d){return i.r=a(d),i.g=o(d),i.b=l(d),i.opacity=c(d),i+""}}return r.gamma=t,r})(1);function yDe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function xDe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function bDe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=bb(t[a],e[a]);for(;a<n;++a)s[a]=e[a];return function(o){for(a=0;a<r;++a)s[a]=i[a](o);return s}}function wDe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function QA(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function _De(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=bb(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var GF=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lD=new RegExp(GF.source,"g");function SDe(t){return function(){return t}}function EDe(t){return function(e){return t(e)+""}}function MDe(t,e){var n=GF.lastIndex=lD.lastIndex=0,r,i,s,a=-1,o=[],l=[];for(t=t+"",e=e+"";(r=GF.exec(t))&&(i=lD.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),o[a]?o[a]+=s:o[++a]=s),(r=r[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:QA(r,i)})),n=lD.lastIndex;return n<e.length&&(s=e.slice(n),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?EDe(l[0].x):SDe(e):(e=l.length,function(c){for(var d=0,f;d<e;++d)o[(f=l[d]).i]=f.x(c);return o.join("")})}function bb(t,e){var n=typeof e,r;return e==null||n==="boolean"?u6(e):(n==="number"?QA:n==="string"?(r=Q_(e))?(e=r,LX):MDe:e instanceof Q_?LX:e instanceof Date?wDe:xDe(e)?yDe:Array.isArray(e)?bDe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?_De:QA)(t,e)}function d6(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function TDe(t,e){e===void 0&&(e=t,t=bb);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(a){var o=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[o](a-o)}}function ADe(t){return function(){return t}}function JA(t){return+t}var FX=[0,1];function Ka(t){return t}function qF(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:ADe(isNaN(e)?NaN:.5)}function CDe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function PDe(t,e,n){var r=t[0],i=t[1],s=e[0],a=e[1];return i<r?(r=qF(i,r),s=n(a,s)):(r=qF(r,i),s=n(s,a)),function(o){return s(r(o))}}function NDe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=qF(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(o){var l=SE(t,o,1,r)-1;return s[l](i[l](o))}}function ME(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function nR(){var t=FX,e=FX,n=bb,r,i,s,a=Ka,o,l,c;function d(){var h=Math.min(t.length,e.length);return a!==Ka&&(a=CDe(t[0],t[h-1])),o=h>2?NDe:PDe,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?s:(l||(l=o(t.map(r),e,n)))(r(a(h)))}return f.invert=function(h){return a(i((c||(c=o(e,t.map(r),QA)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,JA),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=d6,d()},f.clamp=function(h){return arguments.length?(a=h?!0:Ka,d()):a!==Ka},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,m){return r=h,i=m,d()}}function f6(){return nR()(Ka,Ka)}function RDe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function eC(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function _x(t){return t=eC(Math.abs(t)),t?t[1]:NaN}function ODe(t,e){return function(n,r){for(var i=n.length,s=[],a=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),s.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[a=(a+1)%t.length];return s.reverse().join(e)}}function jDe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var IDe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function J_(t){if(!(e=IDe.exec(t)))throw new Error("invalid format: "+t);var e;return new h6({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}J_.prototype=h6.prototype;function h6(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}h6.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function kDe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Ele;function DDe(t,e){var n=eC(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(Ele=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+eC(t,Math.max(0,e+s-1))[0]}function UX(t,e){var n=eC(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const BX={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:RDe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>UX(t*100,e),r:UX,s:DDe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function zX(t){return t}var VX=Array.prototype.map,$X=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function LDe(t){var e=t.grouping===void 0||t.thousands===void 0?zX:ODe(VX.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?zX:jDe(VX.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f){f=J_(f);var h=f.fill,m=f.align,v=f.sign,b=f.symbol,y=f.zero,w=f.width,S=f.comma,M=f.precision,T=f.trim,A=f.type;A==="n"?(S=!0,A="g"):BX[A]||(M===void 0&&(M=12),T=!0,A="g"),(y||h==="0"&&m==="=")&&(y=!0,h="0",m="=");var C=b==="$"?n:b==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",j=b==="$"?r:/[%p]/.test(A)?a:"",L=BX[A],O=/[defgprs%]/.test(A);M=M===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function k(F){var G=C,Y=j,U,W,q;if(A==="c")Y=L(F)+Y,F="";else{F=+F;var Z=F<0||1/F<0;if(F=isNaN(F)?l:L(Math.abs(F),M),T&&(F=kDe(F)),Z&&+F==0&&v!=="+"&&(Z=!1),G=(Z?v==="("?v:o:v==="-"||v==="("?"":v)+G,Y=(A==="s"?$X[8+Ele/3]:"")+Y+(Z&&v==="("?")":""),O){for(U=-1,W=F.length;++U<W;)if(q=F.charCodeAt(U),48>q||q>57){Y=(q===46?i+F.slice(U+1):F.slice(U))+Y,F=F.slice(0,U);break}}}S&&!y&&(F=e(F,1/0));var V=G.length+F.length+Y.length,Q=V<w?new Array(w-V+1).join(h):"";switch(S&&y&&(F=e(Q+F,Q.length?w-Y.length:1/0),Q=""),m){case"<":F=G+F+Y+Q;break;case"=":F=G+Q+F+Y;break;case"^":F=Q.slice(0,V=Q.length>>1)+G+F+Y+Q.slice(V);break;default:F=Q+G+F+Y;break}return s(F)}return k.toString=function(){return f+""},k}function d(f,h){var m=c((f=J_(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(_x(h)/3)))*3,b=Math.pow(10,-v),y=$X[8+v/3];return function(w){return m(b*w)+y}}return{format:c,formatPrefix:d}}var yT,p6,Mle;FDe({thousands:",",grouping:[3],currency:["$",""]});function FDe(t){return yT=LDe(t),p6=yT.format,Mle=yT.formatPrefix,yT}function UDe(t){return Math.max(0,-_x(Math.abs(t)))}function BDe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_x(e)/3)))*3-_x(Math.abs(t)))}function zDe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,_x(e)-_x(t))+1}function Tle(t,e,n,r){var i=$F(t,e,n),s;switch(r=J_(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=BDe(i,a))&&(r.precision=s),Mle(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=zDe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=UDe(i))&&(r.precision=s-(r.type==="%")*2);break}}return p6(r)}function zp(t){var e=t.domain;return t.ticks=function(n){var r=e();return zF(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Tle(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,a=r[i],o=r[s],l,c,d=10;for(o<a&&(c=a,a=o,o=c,c=i,i=s,s=c);d-- >0;){if(c=VF(a,o,n),c===l)return r[i]=a,r[s]=o,e(r);if(c>0)a=Math.floor(a/c)*c,o=Math.ceil(o/c)*c;else if(c<0)a=Math.ceil(a*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function tC(){var t=f6();return t.copy=function(){return ME(t,tC())},Zl.apply(t,arguments),zp(t)}function Ale(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,JA),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Ale(t).unknown(e)},t=arguments.length?Array.from(t,JA):[0,1],zp(n)}function Cle(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),t[n]=e.floor(i),t[r]=e.ceil(s),t}function HX(t){return Math.log(t)}function WX(t){return Math.exp(t)}function VDe(t){return-Math.log(-t)}function $De(t){return-Math.exp(-t)}function HDe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function WDe(t){return t===10?HDe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function GDe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function GX(t){return(e,n)=>-t(-e,n)}function m6(t){const e=t(HX,WX),n=e.domain;let r=10,i,s;function a(){return i=GDe(r),s=WDe(r),n()[0]<0?(i=GX(i),s=GX(s),t(VDe,$De)):t(HX,WX),e}return e.base=function(o){return arguments.length?(r=+o,a()):r},e.domain=function(o){return arguments.length?(n(o),a()):n()},e.ticks=o=>{const l=n();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let h=i(c),m=i(d),v,b;const y=o==null?10:+o;let w=[];if(!(r%1)&&m-h<y){if(h=Math.floor(h),m=Math.ceil(m),c>0){for(;h<=m;++h)for(v=1;v<r;++v)if(b=h<0?v/s(-h):v*s(h),!(b<c)){if(b>d)break;w.push(b)}}else for(;h<=m;++h)for(v=r-1;v>=1;--v)if(b=h>0?v/s(-h):v*s(h),!(b<c)){if(b>d)break;w.push(b)}w.length*2<y&&(w=zF(c,d,y))}else w=zF(h,m,Math.min(m-h,y)).map(s);return f?w.reverse():w},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=J_(l)).precision==null&&(l.trim=!0),l=p6(l)),o===1/0)return l;const c=Math.max(1,r*o/e.ticks().length);return d=>{let f=d/s(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=c?l(d):""}},e.nice=()=>n(Cle(n(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function Ple(){const t=m6(nR()).domain([1,10]);return t.copy=()=>ME(t,Ple()).base(t.base()),Zl.apply(t,arguments),t}function qX(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function XX(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function g6(t){var e=1,n=t(qX(e),XX(e));return n.constant=function(r){return arguments.length?t(qX(e=+r),XX(e)):e},zp(n)}function Nle(){var t=g6(nR());return t.copy=function(){return ME(t,Nle()).constant(t.constant())},Zl.apply(t,arguments)}function YX(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function qDe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function XDe(t){return t<0?-t*t:t*t}function v6(t){var e=t(Ka,Ka),n=1;function r(){return n===1?t(Ka,Ka):n===.5?t(qDe,XDe):t(YX(n),YX(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},zp(e)}function y6(){var t=v6(nR());return t.copy=function(){return ME(t,y6()).exponent(t.exponent())},Zl.apply(t,arguments),t}function YDe(){return y6.apply(null,arguments).exponent(.5)}function KX(t){return Math.sign(t)*t*t}function KDe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Rle(){var t=f6(),e=[0,1],n=!1,r;function i(s){var a=KDe(t(s));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(s){return t.invert(KX(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,JA)).map(KX)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Rle(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Zl.apply(i,arguments),zp(i)}function Ole(){var t=[],e=[],n=[],r;function i(){var a=0,o=Math.max(1,e.length);for(n=new Array(o-1);++a<o;)n[a-1]=tDe(t,a/o);return s}function s(a){return a==null||isNaN(a=+a)?r:e[SE(n,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let o of a)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(hp),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return Ole().domain(t).range(e).unknown(r)},Zl.apply(s,arguments)}function jle(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function a(l){return l!=null&&l<=l?i[SE(r,l,0,n)]:s}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},a.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},a.unknown=function(l){return arguments.length&&(s=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return jle().domain([t,e]).range(i).unknown(s)},Zl.apply(zp(a),arguments)}function Ile(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[SE(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return Ile().domain(t).range(e).unknown(n)},Zl.apply(i,arguments)}const cD=new Date,uD=new Date;function Es(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const l=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let c;do l.push(c=new Date(+s)),e(s,o),t(s);while(c<s&&s<a);return l},i.filter=s=>Es(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),n&&(i.count=(s,a)=>(cD.setTime(+s),uD.setTime(+a),t(cD),t(uD),Math.floor(n(cD,uD))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const nC=Es(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);nC.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Es(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):nC);nC.range;const Tf=1e3,zl=Tf*60,Af=zl*60,$f=Af*24,x6=$f*7,ZX=$f*30,dD=$f*365,bg=Es(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Tf)},(t,e)=>(e-t)/Tf,t=>t.getUTCSeconds());bg.range;const b6=Es(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Tf)},(t,e)=>{t.setTime(+t+e*zl)},(t,e)=>(e-t)/zl,t=>t.getMinutes());b6.range;const w6=Es(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*zl)},(t,e)=>(e-t)/zl,t=>t.getUTCMinutes());w6.range;const _6=Es(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Tf-t.getMinutes()*zl)},(t,e)=>{t.setTime(+t+e*Af)},(t,e)=>(e-t)/Af,t=>t.getHours());_6.range;const S6=Es(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Af)},(t,e)=>(e-t)/Af,t=>t.getUTCHours());S6.range;const TE=Es(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*zl)/$f,t=>t.getDate()-1);TE.range;const rR=Es(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/$f,t=>t.getUTCDate()-1);rR.range;const kle=Es(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/$f,t=>Math.floor(t/$f));kle.range;function x0(t){return Es(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*zl)/x6)}const iR=x0(0),rC=x0(1),ZDe=x0(2),QDe=x0(3),Sx=x0(4),JDe=x0(5),eLe=x0(6);iR.range;rC.range;ZDe.range;QDe.range;Sx.range;JDe.range;eLe.range;function b0(t){return Es(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/x6)}const sR=b0(0),iC=b0(1),tLe=b0(2),nLe=b0(3),Ex=b0(4),rLe=b0(5),iLe=b0(6);sR.range;iC.range;tLe.range;nLe.range;Ex.range;rLe.range;iLe.range;const E6=Es(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());E6.range;const M6=Es(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());M6.range;const Hf=Es(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Hf.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Es(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Hf.range;const Wf=Es(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Wf.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Es(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Wf.range;function Dle(t,e,n,r,i,s){const a=[[bg,1,Tf],[bg,5,5*Tf],[bg,15,15*Tf],[bg,30,30*Tf],[s,1,zl],[s,5,5*zl],[s,15,15*zl],[s,30,30*zl],[i,1,Af],[i,3,3*Af],[i,6,6*Af],[i,12,12*Af],[r,1,$f],[r,2,2*$f],[n,1,x6],[e,1,ZX],[e,3,3*ZX],[t,1,dD]];function o(c,d,f){const h=d<c;h&&([c,d]=[d,c]);const m=f&&typeof f.range=="function"?f:l(c,d,f),v=m?m.range(c,+d+1):[];return h?v.reverse():v}function l(c,d,f){const h=Math.abs(d-c)/f,m=o6(([,,y])=>y).right(a,h);if(m===a.length)return t.every($F(c/dD,d/dD,f));if(m===0)return nC.every(Math.max($F(c,d,f),1));const[v,b]=a[h/a[m-1][2]<a[m][2]/h?m-1:m];return v.every(b)}return[o,l]}const[sLe,aLe]=Dle(Wf,M6,sR,kle,S6,w6),[oLe,lLe]=Dle(Hf,E6,iR,TE,_6,b6);function fD(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function hD(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function kw(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function cLe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,a=t.shortDays,o=t.months,l=t.shortMonths,c=Dw(i),d=Lw(i),f=Dw(s),h=Lw(s),m=Dw(a),v=Lw(a),b=Dw(o),y=Lw(o),w=Dw(l),S=Lw(l),M={a:Z,A:V,b:Q,B:ee,c:null,d:rY,e:rY,f:OLe,g:VLe,G:HLe,H:PLe,I:NLe,j:RLe,L:Lle,m:jLe,M:ILe,p:$,q:J,Q:aY,s:oY,S:kLe,u:DLe,U:LLe,V:FLe,w:ULe,W:BLe,x:null,X:null,y:zLe,Y:$Le,Z:WLe,"%":sY},T={a:de,A:Ae,b:Ue,B:ge,c:null,d:iY,e:iY,f:YLe,g:s4e,G:o4e,H:GLe,I:qLe,j:XLe,L:Ule,m:KLe,M:ZLe,p:pe,q:Oe,Q:aY,s:oY,S:QLe,u:JLe,U:e4e,V:t4e,w:n4e,W:r4e,x:null,X:null,y:i4e,Y:a4e,Z:l4e,"%":sY},A={a:k,A:F,b:G,B:Y,c:U,d:tY,e:tY,f:MLe,g:eY,G:JX,H:nY,I:nY,j:wLe,L:ELe,m:bLe,M:_Le,p:O,q:xLe,Q:ALe,s:CLe,S:SLe,u:pLe,U:mLe,V:gLe,w:hLe,W:vLe,x:W,X:q,y:eY,Y:JX,Z:yLe,"%":TLe};M.x=C(n,M),M.X=C(r,M),M.c=C(e,M),T.x=C(n,T),T.X=C(r,T),T.c=C(e,T);function C(xe,Me){return function(Ie){var Te=[],Xe=-1,Ce=0,$e=xe.length,Be,Ye,ae;for(Ie instanceof Date||(Ie=new Date(+Ie));++Xe<$e;)xe.charCodeAt(Xe)===37&&(Te.push(xe.slice(Ce,Xe)),(Ye=QX[Be=xe.charAt(++Xe)])!=null?Be=xe.charAt(++Xe):Ye=Be==="e"?" ":"0",(ae=Me[Be])&&(Be=ae(Ie,Ye)),Te.push(Be),Ce=Xe+1);return Te.push(xe.slice(Ce,Xe)),Te.join("")}}function j(xe,Me){return function(Ie){var Te=kw(1900,void 0,1),Xe=L(Te,xe,Ie+="",0),Ce,$e;if(Xe!=Ie.length)return null;if("Q"in Te)return new Date(Te.Q);if("s"in Te)return new Date(Te.s*1e3+("L"in Te?Te.L:0));if(Me&&!("Z"in Te)&&(Te.Z=0),"p"in Te&&(Te.H=Te.H%12+Te.p*12),Te.m===void 0&&(Te.m="q"in Te?Te.q:0),"V"in Te){if(Te.V<1||Te.V>53)return null;"w"in Te||(Te.w=1),"Z"in Te?(Ce=hD(kw(Te.y,0,1)),$e=Ce.getUTCDay(),Ce=$e>4||$e===0?iC.ceil(Ce):iC(Ce),Ce=rR.offset(Ce,(Te.V-1)*7),Te.y=Ce.getUTCFullYear(),Te.m=Ce.getUTCMonth(),Te.d=Ce.getUTCDate()+(Te.w+6)%7):(Ce=fD(kw(Te.y,0,1)),$e=Ce.getDay(),Ce=$e>4||$e===0?rC.ceil(Ce):rC(Ce),Ce=TE.offset(Ce,(Te.V-1)*7),Te.y=Ce.getFullYear(),Te.m=Ce.getMonth(),Te.d=Ce.getDate()+(Te.w+6)%7)}else("W"in Te||"U"in Te)&&("w"in Te||(Te.w="u"in Te?Te.u%7:"W"in Te?1:0),$e="Z"in Te?hD(kw(Te.y,0,1)).getUTCDay():fD(kw(Te.y,0,1)).getDay(),Te.m=0,Te.d="W"in Te?(Te.w+6)%7+Te.W*7-($e+5)%7:Te.w+Te.U*7-($e+6)%7);return"Z"in Te?(Te.H+=Te.Z/100|0,Te.M+=Te.Z%100,hD(Te)):fD(Te)}}function L(xe,Me,Ie,Te){for(var Xe=0,Ce=Me.length,$e=Ie.length,Be,Ye;Xe<Ce;){if(Te>=$e)return-1;if(Be=Me.charCodeAt(Xe++),Be===37){if(Be=Me.charAt(Xe++),Ye=A[Be in QX?Me.charAt(Xe++):Be],!Ye||(Te=Ye(xe,Ie,Te))<0)return-1}else if(Be!=Ie.charCodeAt(Te++))return-1}return Te}function O(xe,Me,Ie){var Te=c.exec(Me.slice(Ie));return Te?(xe.p=d.get(Te[0].toLowerCase()),Ie+Te[0].length):-1}function k(xe,Me,Ie){var Te=m.exec(Me.slice(Ie));return Te?(xe.w=v.get(Te[0].toLowerCase()),Ie+Te[0].length):-1}function F(xe,Me,Ie){var Te=f.exec(Me.slice(Ie));return Te?(xe.w=h.get(Te[0].toLowerCase()),Ie+Te[0].length):-1}function G(xe,Me,Ie){var Te=w.exec(Me.slice(Ie));return Te?(xe.m=S.get(Te[0].toLowerCase()),Ie+Te[0].length):-1}function Y(xe,Me,Ie){var Te=b.exec(Me.slice(Ie));return Te?(xe.m=y.get(Te[0].toLowerCase()),Ie+Te[0].length):-1}function U(xe,Me,Ie){return L(xe,e,Me,Ie)}function W(xe,Me,Ie){return L(xe,n,Me,Ie)}function q(xe,Me,Ie){return L(xe,r,Me,Ie)}function Z(xe){return a[xe.getDay()]}function V(xe){return s[xe.getDay()]}function Q(xe){return l[xe.getMonth()]}function ee(xe){return o[xe.getMonth()]}function $(xe){return i[+(xe.getHours()>=12)]}function J(xe){return 1+~~(xe.getMonth()/3)}function de(xe){return a[xe.getUTCDay()]}function Ae(xe){return s[xe.getUTCDay()]}function Ue(xe){return l[xe.getUTCMonth()]}function ge(xe){return o[xe.getUTCMonth()]}function pe(xe){return i[+(xe.getUTCHours()>=12)]}function Oe(xe){return 1+~~(xe.getUTCMonth()/3)}return{format:function(xe){var Me=C(xe+="",M);return Me.toString=function(){return xe},Me},parse:function(xe){var Me=j(xe+="",!1);return Me.toString=function(){return xe},Me},utcFormat:function(xe){var Me=C(xe+="",T);return Me.toString=function(){return xe},Me},utcParse:function(xe){var Me=j(xe+="",!0);return Me.toString=function(){return xe},Me}}}var QX={"-":"",_:" ",0:"0"},Vs=/^\s*\d+/,uLe=/^%/,dLe=/[\\^$*+?|[\]().{}]/g;function _r(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function fLe(t){return t.replace(dLe,"\\$&")}function Dw(t){return new RegExp("^(?:"+t.map(fLe).join("|")+")","i")}function Lw(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function hLe(t,e,n){var r=Vs.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function pLe(t,e,n){var r=Vs.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function mLe(t,e,n){var r=Vs.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function gLe(t,e,n){var r=Vs.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function vLe(t,e,n){var r=Vs.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function JX(t,e,n){var r=Vs.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function eY(t,e,n){var r=Vs.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function yLe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function xLe(t,e,n){var r=Vs.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function bLe(t,e,n){var r=Vs.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function tY(t,e,n){var r=Vs.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function wLe(t,e,n){var r=Vs.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function nY(t,e,n){var r=Vs.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function _Le(t,e,n){var r=Vs.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function SLe(t,e,n){var r=Vs.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function ELe(t,e,n){var r=Vs.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function MLe(t,e,n){var r=Vs.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function TLe(t,e,n){var r=uLe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function ALe(t,e,n){var r=Vs.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function CLe(t,e,n){var r=Vs.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function rY(t,e){return _r(t.getDate(),e,2)}function PLe(t,e){return _r(t.getHours(),e,2)}function NLe(t,e){return _r(t.getHours()%12||12,e,2)}function RLe(t,e){return _r(1+TE.count(Hf(t),t),e,3)}function Lle(t,e){return _r(t.getMilliseconds(),e,3)}function OLe(t,e){return Lle(t,e)+"000"}function jLe(t,e){return _r(t.getMonth()+1,e,2)}function ILe(t,e){return _r(t.getMinutes(),e,2)}function kLe(t,e){return _r(t.getSeconds(),e,2)}function DLe(t){var e=t.getDay();return e===0?7:e}function LLe(t,e){return _r(iR.count(Hf(t)-1,t),e,2)}function Fle(t){var e=t.getDay();return e>=4||e===0?Sx(t):Sx.ceil(t)}function FLe(t,e){return t=Fle(t),_r(Sx.count(Hf(t),t)+(Hf(t).getDay()===4),e,2)}function ULe(t){return t.getDay()}function BLe(t,e){return _r(rC.count(Hf(t)-1,t),e,2)}function zLe(t,e){return _r(t.getFullYear()%100,e,2)}function VLe(t,e){return t=Fle(t),_r(t.getFullYear()%100,e,2)}function $Le(t,e){return _r(t.getFullYear()%1e4,e,4)}function HLe(t,e){var n=t.getDay();return t=n>=4||n===0?Sx(t):Sx.ceil(t),_r(t.getFullYear()%1e4,e,4)}function WLe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+_r(e/60|0,"0",2)+_r(e%60,"0",2)}function iY(t,e){return _r(t.getUTCDate(),e,2)}function GLe(t,e){return _r(t.getUTCHours(),e,2)}function qLe(t,e){return _r(t.getUTCHours()%12||12,e,2)}function XLe(t,e){return _r(1+rR.count(Wf(t),t),e,3)}function Ule(t,e){return _r(t.getUTCMilliseconds(),e,3)}function YLe(t,e){return Ule(t,e)+"000"}function KLe(t,e){return _r(t.getUTCMonth()+1,e,2)}function ZLe(t,e){return _r(t.getUTCMinutes(),e,2)}function QLe(t,e){return _r(t.getUTCSeconds(),e,2)}function JLe(t){var e=t.getUTCDay();return e===0?7:e}function e4e(t,e){return _r(sR.count(Wf(t)-1,t),e,2)}function Ble(t){var e=t.getUTCDay();return e>=4||e===0?Ex(t):Ex.ceil(t)}function t4e(t,e){return t=Ble(t),_r(Ex.count(Wf(t),t)+(Wf(t).getUTCDay()===4),e,2)}function n4e(t){return t.getUTCDay()}function r4e(t,e){return _r(iC.count(Wf(t)-1,t),e,2)}function i4e(t,e){return _r(t.getUTCFullYear()%100,e,2)}function s4e(t,e){return t=Ble(t),_r(t.getUTCFullYear()%100,e,2)}function a4e(t,e){return _r(t.getUTCFullYear()%1e4,e,4)}function o4e(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ex(t):Ex.ceil(t),_r(t.getUTCFullYear()%1e4,e,4)}function l4e(){return"+0000"}function sY(){return"%"}function aY(t){return+t}function oY(t){return Math.floor(+t/1e3)}var Bv,zle,Vle;c4e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function c4e(t){return Bv=cLe(t),zle=Bv.format,Bv.parse,Vle=Bv.utcFormat,Bv.utcParse,Bv}function u4e(t){return new Date(t)}function d4e(t){return t instanceof Date?+t:+new Date(+t)}function T6(t,e,n,r,i,s,a,o,l,c){var d=f6(),f=d.invert,h=d.domain,m=c(".%L"),v=c(":%S"),b=c("%I:%M"),y=c("%I %p"),w=c("%a %d"),S=c("%b %d"),M=c("%B"),T=c("%Y");function A(C){return(l(C)<C?m:o(C)<C?v:a(C)<C?b:s(C)<C?y:r(C)<C?i(C)<C?w:S:n(C)<C?M:T)(C)}return d.invert=function(C){return new Date(f(C))},d.domain=function(C){return arguments.length?h(Array.from(C,d4e)):h().map(u4e)},d.ticks=function(C){var j=h();return t(j[0],j[j.length-1],C??10)},d.tickFormat=function(C,j){return j==null?A:c(j)},d.nice=function(C){var j=h();return(!C||typeof C.range!="function")&&(C=e(j[0],j[j.length-1],C??10)),C?h(Cle(j,C)):d},d.copy=function(){return ME(d,T6(t,e,n,r,i,s,a,o,l,c))},d}function f4e(){return Zl.apply(T6(oLe,lLe,Hf,E6,iR,TE,_6,b6,bg,zle).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function h4e(){return Zl.apply(T6(sLe,aLe,Wf,M6,sR,rR,S6,w6,bg,Vle).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function aR(){var t=0,e=1,n,r,i,s,a=Ka,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(s(f)-n)*i,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(a=f,c):a};function d(f){return function(h){var m,v;return arguments.length?([m,v]=h,a=f(m,v),c):[a(0),a(1)]}}return c.range=d(bb),c.rangeRound=d(d6),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return s=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),c}}function Vp(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function $le(){var t=zp(aR()(Ka));return t.copy=function(){return Vp(t,$le())},Jf.apply(t,arguments)}function Hle(){var t=m6(aR()).domain([1,10]);return t.copy=function(){return Vp(t,Hle()).base(t.base())},Jf.apply(t,arguments)}function Wle(){var t=g6(aR());return t.copy=function(){return Vp(t,Wle()).constant(t.constant())},Jf.apply(t,arguments)}function A6(){var t=v6(aR());return t.copy=function(){return Vp(t,A6()).exponent(t.exponent())},Jf.apply(t,arguments)}function p4e(){return A6.apply(null,arguments).exponent(.5)}function Gle(){var t=[],e=Ka;function n(r){if(r!=null&&!isNaN(r=+r))return e((SE(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(hp),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>eDe(t,s/r))},n.copy=function(){return Gle(e).domain(t)},Jf.apply(n,arguments)}function oR(){var t=0,e=.5,n=1,r=1,i,s,a,o,l,c=Ka,d,f=!1,h;function m(b){return isNaN(b=+b)?h:(b=.5+((b=+d(b))-s)*(r*b<r*s?o:l),c(f?Math.max(0,Math.min(1,b)):b))}m.domain=function(b){return arguments.length?([t,e,n]=b,i=d(t=+t),s=d(e=+e),a=d(n=+n),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,m):[t,e,n]},m.clamp=function(b){return arguments.length?(f=!!b,m):f},m.interpolator=function(b){return arguments.length?(c=b,m):c};function v(b){return function(y){var w,S,M;return arguments.length?([w,S,M]=y,c=TDe(b,[w,S,M]),m):[c(0),c(.5),c(1)]}}return m.range=v(bb),m.rangeRound=v(d6),m.unknown=function(b){return arguments.length?(h=b,m):h},function(b){return d=b,i=b(t),s=b(e),a=b(n),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,m}}function qle(){var t=zp(oR()(Ka));return t.copy=function(){return Vp(t,qle())},Jf.apply(t,arguments)}function Xle(){var t=m6(oR()).domain([.1,1,10]);return t.copy=function(){return Vp(t,Xle()).base(t.base())},Jf.apply(t,arguments)}function Yle(){var t=g6(oR());return t.copy=function(){return Vp(t,Yle()).constant(t.constant())},Jf.apply(t,arguments)}function C6(){var t=v6(oR());return t.copy=function(){return Vp(t,C6()).exponent(t.exponent())},Jf.apply(t,arguments)}function m4e(){return C6.apply(null,arguments).exponent(.5)}const lY=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Y_,scaleDiverging:qle,scaleDivergingLog:Xle,scaleDivergingPow:C6,scaleDivergingSqrt:m4e,scaleDivergingSymlog:Yle,scaleIdentity:Ale,scaleImplicit:HF,scaleLinear:tC,scaleLog:Ple,scaleOrdinal:l6,scalePoint:G1,scalePow:y6,scaleQuantile:Ole,scaleQuantize:jle,scaleRadial:Rle,scaleSequential:$le,scaleSequentialLog:Hle,scaleSequentialPow:A6,scaleSequentialQuantile:Gle,scaleSequentialSqrt:p4e,scaleSequentialSymlog:Wle,scaleSqrt:YDe,scaleSymlog:Nle,scaleThreshold:Ile,scaleTime:f4e,scaleUtc:h4e,tickFormat:Tle},Symbol.toStringTag,{value:"Module"}));var pD,cY;function Kle(){if(cY)return pD;cY=1;var t=vb();function e(n,r,i){for(var s=-1,a=n.length;++s<a;){var o=n[s],l=r(o);if(l!=null&&(c===void 0?l===l&&!t(l):i(l,c)))var c=l,d=o}return d}return pD=e,pD}var mD,uY;function g4e(){if(uY)return mD;uY=1;function t(e,n){return e>n}return mD=t,mD}var gD,dY;function v4e(){if(dY)return gD;dY=1;var t=Kle(),e=g4e(),n=xb();function r(i){return i&&i.length?t(i,n,e):void 0}return gD=r,gD}var y4e=v4e();const lR=pr(y4e);var vD,fY;function x4e(){if(fY)return vD;fY=1;function t(e,n){return e<n}return vD=t,vD}var yD,hY;function b4e(){if(hY)return yD;hY=1;var t=Kle(),e=x4e(),n=xb();function r(i){return i&&i.length?t(i,n,e):void 0}return yD=r,yD}var w4e=b4e();const cR=pr(w4e);var xD,pY;function _4e(){if(pY)return xD;pY=1;var t=Hz(),e=Bp(),n=ile(),r=Io();function i(s,a){var o=r(s)?t:n;return o(s,e(a,3))}return xD=i,xD}var bD,mY;function S4e(){if(mY)return bD;mY=1;var t=nle(),e=_4e();function n(r,i){return t(e(r,i),1)}return bD=n,bD}var E4e=S4e();const M4e=pr(E4e);var wD,gY;function T4e(){if(gY)return wD;gY=1;var t=r6();function e(n,r){return t(n,r)}return wD=e,wD}var A4e=T4e();const P6=pr(A4e);var wb=1e9,C4e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},R6,di=!0,ql="[DecimalError] ",Ig=ql+"Invalid argument: ",N6=ql+"Exponent out of range: ",_b=Math.floor,lg=Math.pow,P4e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,sl,ks=1e7,ri=7,Zle=9007199254740991,sC=_b(Zle/ri),qt={};qt.absoluteValue=qt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};qt.comparedTo=qt.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};qt.decimalPlaces=qt.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*ri;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};qt.dividedBy=qt.div=function(t){return Df(this,new this.constructor(t))};qt.dividedToIntegerBy=qt.idiv=function(t){var e=this,n=e.constructor;return qr(Df(e,new n(t),0,1),n.precision)};qt.equals=qt.eq=function(t){return!this.cmp(t)};qt.exponent=function(){return os(this)};qt.greaterThan=qt.gt=function(t){return this.cmp(t)>0};qt.greaterThanOrEqualTo=qt.gte=function(t){return this.cmp(t)>=0};qt.isInteger=qt.isint=function(){return this.e>this.d.length-2};qt.isNegative=qt.isneg=function(){return this.s<0};qt.isPositive=qt.ispos=function(){return this.s>0};qt.isZero=function(){return this.s===0};qt.lessThan=qt.lt=function(t){return this.cmp(t)<0};qt.lessThanOrEqualTo=qt.lte=function(t){return this.cmp(t)<1};qt.logarithm=qt.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(sl))throw Error(ql+"NaN");if(n.s<1)throw Error(ql+(n.s?"NaN":"-Infinity"));return n.eq(sl)?new r(0):(di=!1,e=Df(eS(n,s),eS(t,s),s),di=!0,qr(e,i))};qt.minus=qt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?ece(e,t):Qle(e,(t.s=-t.s,t))};qt.modulo=qt.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ql+"NaN");return n.s?(di=!1,e=Df(n,t,0,1).times(t),di=!0,n.minus(e)):qr(new r(n),i)};qt.naturalExponential=qt.exp=function(){return Jle(this)};qt.naturalLogarithm=qt.ln=function(){return eS(this)};qt.negated=qt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};qt.plus=qt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Qle(e,t):ece(e,(t.s=-t.s,t))};qt.precision=qt.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ig+t);if(e=os(i)+1,r=i.d.length-1,n=r*ri+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};qt.squareRoot=qt.sqrt=function(){var t,e,n,r,i,s,a,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(ql+"NaN")}for(t=os(o),di=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Uu(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=_b((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(s=r,r=s.plus(Df(o,s,a+2)).times(.5),Uu(s.d).slice(0,a)===(e=Uu(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(qr(s,n+1,0),s.times(s).eq(o)){r=s;break}}else if(e!="9999")break;a+=4}return di=!0,qr(r,n)};qt.times=qt.mul=function(t){var e,n,r,i,s,a,o,l,c,d=this,f=d.constructor,h=d.d,m=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,l=h.length,c=m.length,l<c&&(s=h,h=m,m=s,a=l,l=c,c=a),s=[],a=l+c,r=a;r--;)s.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)o=s[i]+m[r]*h[i-r-1]+e,s[i--]=o%ks|0,e=o/ks|0;s[i]=(s[i]+e)%ks|0}for(;!s[--a];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,di?qr(t,f.precision):t};qt.toDecimalPlaces=qt.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ad(t,0,wb),e===void 0?e=r.rounding:ad(e,0,8),qr(n,t+os(n)+1,e))};qt.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=t0(r,!0):(ad(t,0,wb),e===void 0?e=i.rounding:ad(e,0,8),r=qr(new i(r),t+1,e),n=t0(r,!0,t+1)),n};qt.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?t0(i):(ad(t,0,wb),e===void 0?e=s.rounding:ad(e,0,8),r=qr(new s(i),t+os(i)+1,e),n=t0(r.abs(),!1,t+os(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};qt.toInteger=qt.toint=function(){var t=this,e=t.constructor;return qr(new e(t),os(t)+1,e.rounding)};qt.toNumber=function(){return+this};qt.toPower=qt.pow=function(t){var e,n,r,i,s,a,o=this,l=o.constructor,c=12,d=+(t=new l(t));if(!t.s)return new l(sl);if(o=new l(o),!o.s){if(t.s<1)throw Error(ql+"Infinity");return o}if(o.eq(sl))return o;if(r=l.precision,t.eq(sl))return qr(o,r);if(e=t.e,n=t.d.length-1,a=e>=n,s=o.s,a){if((n=d<0?-d:d)<=Zle){for(i=new l(sl),e=Math.ceil(r/ri+4),di=!1;n%2&&(i=i.times(o),yY(i.d,e)),n=_b(n/2),n!==0;)o=o.times(o),yY(o.d,e);return di=!0,t.s<0?new l(sl).div(i):qr(i,r)}}else if(s<0)throw Error(ql+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,di=!1,i=t.times(eS(o,r+c)),di=!0,i=Jle(i),i.s=s,i};qt.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=os(i),r=t0(i,n<=s.toExpNeg||n>=s.toExpPos)):(ad(t,1,wb),e===void 0?e=s.rounding:ad(e,0,8),i=qr(new s(i),t,e),n=os(i),r=t0(i,t<=n||n<=s.toExpNeg,t)),r};qt.toSignificantDigits=qt.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ad(t,1,wb),e===void 0?e=r.rounding:ad(e,0,8)),qr(new r(n),t,e)};qt.toString=qt.valueOf=qt.val=qt.toJSON=qt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=os(t),n=t.constructor;return t0(t,e<=n.toExpNeg||e>=n.toExpPos)};function Qle(t,e){var n,r,i,s,a,o,l,c,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),di?qr(e,f):e;if(l=t.d,c=e.d,a=t.e,i=e.e,l=l.slice(),s=a-i,s){for(s<0?(r=l,s=-s,o=c.length):(r=c,i=a,o=l.length),a=Math.ceil(f/ri),o=a>o?a+1:o+1,s>o&&(s=o,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(o=l.length,s=c.length,o-s<0&&(s=o,r=c,c=l,l=r),n=0;s;)n=(l[--s]=l[s]+c[s]+n)/ks|0,l[s]%=ks;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,di?qr(e,f):e}function ad(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Ig+t)}function Uu(t){var e,n,r,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)r=t[e]+"",n=ri-r.length,n&&(s+=Kh(n)),s+=r;a=t[e],r=a+"",n=ri-r.length,n&&(s+=Kh(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var Df=(function(){function t(r,i){var s,a=0,o=r.length;for(r=r.slice();o--;)s=r[o]*i+a,r[o]=s%ks|0,a=s/ks|0;return a&&r.unshift(a),r}function e(r,i,s,a){var o,l;if(s!=a)l=s>a?1:-1;else for(o=l=0;o<s;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*ks+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var o,l,c,d,f,h,m,v,b,y,w,S,M,T,A,C,j,L,O=r.constructor,k=r.s==i.s?1:-1,F=r.d,G=i.d;if(!r.s)return new O(r);if(!i.s)throw Error(ql+"Division by zero");for(l=r.e-i.e,j=G.length,A=F.length,m=new O(k),v=m.d=[],c=0;G[c]==(F[c]||0);)++c;if(G[c]>(F[c]||0)&&--l,s==null?S=s=O.precision:a?S=s+(os(r)-os(i))+1:S=s,S<0)return new O(0);if(S=S/ri+2|0,c=0,j==1)for(d=0,G=G[0],S++;(c<A||d)&&S--;c++)M=d*ks+(F[c]||0),v[c]=M/G|0,d=M%G|0;else{for(d=ks/(G[0]+1)|0,d>1&&(G=t(G,d),F=t(F,d),j=G.length,A=F.length),T=j,b=F.slice(0,j),y=b.length;y<j;)b[y++]=0;L=G.slice(),L.unshift(0),C=G[0],G[1]>=ks/2&&++C;do d=0,o=e(G,b,j,y),o<0?(w=b[0],j!=y&&(w=w*ks+(b[1]||0)),d=w/C|0,d>1?(d>=ks&&(d=ks-1),f=t(G,d),h=f.length,y=b.length,o=e(f,b,h,y),o==1&&(d--,n(f,j<h?L:G,h))):(d==0&&(o=d=1),f=G.slice()),h=f.length,h<y&&f.unshift(0),n(b,f,y),o==-1&&(y=b.length,o=e(G,b,j,y),o<1&&(d++,n(b,j<y?L:G,y))),y=b.length):o===0&&(d++,b=[0]),v[c++]=d,o&&b[0]?b[y++]=F[T]||0:(b=[F[T]],y=1);while((T++<A||b[0]!==void 0)&&S--)}return v[0]||v.shift(),m.e=l,qr(m,a?s+os(m)+1:s)}})();function Jle(t,e){var n,r,i,s,a,o,l=0,c=0,d=t.constructor,f=d.precision;if(os(t)>16)throw Error(N6+os(t));if(!t.s)return new d(sl);for(di=!1,o=f,a=new d(.03125);t.abs().gte(.1);)t=t.times(a),c+=5;for(r=Math.log(lg(2,c))/Math.LN10*2+5|0,o+=r,n=i=s=new d(sl),d.precision=o;;){if(i=qr(i.times(t),o),n=n.times(++l),a=s.plus(Df(i,n,o)),Uu(a.d).slice(0,o)===Uu(s.d).slice(0,o)){for(;c--;)s=qr(s.times(s),o);return d.precision=f,e==null?(di=!0,qr(s,f)):s}s=a}}function os(t){for(var e=t.e*ri,n=t.d[0];n>=10;n/=10)e++;return e}function _D(t,e,n){if(e>t.LN10.sd())throw di=!0,n&&(t.precision=n),Error(ql+"LN10 precision limit exceeded");return qr(new t(t.LN10),e)}function Kh(t){for(var e="";t--;)e+="0";return e}function eS(t,e){var n,r,i,s,a,o,l,c,d,f=1,h=10,m=t,v=m.d,b=m.constructor,y=b.precision;if(m.s<1)throw Error(ql+(m.s?"NaN":"-Infinity"));if(m.eq(sl))return new b(0);if(e==null?(di=!1,c=y):c=e,m.eq(10))return e==null&&(di=!0),_D(b,c);if(c+=h,b.precision=c,n=Uu(v),r=n.charAt(0),s=os(m),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=Uu(m.d),r=n.charAt(0),f++;s=os(m),r>1?(m=new b("0."+n),s++):m=new b(r+"."+n.slice(1))}else return l=_D(b,c+2,y).times(s+""),m=eS(new b(r+"."+n.slice(1)),c-h).plus(l),b.precision=y,e==null?(di=!0,qr(m,y)):m;for(o=a=m=Df(m.minus(sl),m.plus(sl),c),d=qr(m.times(m),c),i=3;;){if(a=qr(a.times(d),c),l=o.plus(Df(a,new b(i),c)),Uu(l.d).slice(0,c)===Uu(o.d).slice(0,c))return o=o.times(2),s!==0&&(o=o.plus(_D(b,c+2,y).times(s+""))),o=Df(o,new b(f),c),b.precision=y,e==null?(di=!0,qr(o,y)):o;o=l,i+=2}}function vY(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=_b(n/ri),t.d=[],r=(n+1)%ri,n<0&&(r+=ri),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=ri;r<i;)t.d.push(+e.slice(r,r+=ri));e=e.slice(r),r=ri-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),di&&(t.e>sC||t.e<-sC))throw Error(N6+n)}else t.s=0,t.e=0,t.d=[0];return t}function qr(t,e,n){var r,i,s,a,o,l,c,d,f=t.d;for(a=1,s=f[0];s>=10;s/=10)a++;if(r=e-a,r<0)r+=ri,i=e,c=f[d=0];else{if(d=Math.ceil((r+1)/ri),s=f.length,d>=s)return t;for(c=s=f[d],a=1;s>=10;s/=10)a++;r%=ri,i=r-ri+a}if(n!==void 0&&(s=lg(10,a-i-1),o=c/s%10|0,l=e<0||f[d+1]!==void 0||c%s,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?c/lg(10,a-i):0:f[d-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(s=os(t),f.length=1,e=e-s-1,f[0]=lg(10,(ri-e%ri)%ri),t.e=_b(-e/ri)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=d,s=1,d--):(f.length=d+1,s=lg(10,ri-r),f[d]=i>0?(c/lg(10,a-i)%lg(10,i)|0)*s:0),l)for(;;)if(d==0){(f[0]+=s)==ks&&(f[0]=1,++t.e);break}else{if(f[d]+=s,f[d]!=ks)break;f[d--]=0,s=1}for(r=f.length;f[--r]===0;)f.pop();if(di&&(t.e>sC||t.e<-sC))throw Error(N6+os(t));return t}function ece(t,e){var n,r,i,s,a,o,l,c,d,f,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),di?qr(e,m):e;if(l=t.d,f=e.d,r=e.e,c=t.e,l=l.slice(),a=c-r,a){for(d=a<0,d?(n=l,a=-a,o=f.length):(n=f,r=c,o=l.length),i=Math.max(Math.ceil(m/ri),o)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=f.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}a=0}for(d&&(n=l,l=f,f=n,e.s=-e.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(s=i;s&&l[--s]===0;)l[s]=ks-1;--l[s],l[i]+=ks}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,di?qr(e,m):e):new h(0)}function t0(t,e,n){var r,i=os(t),s=Uu(t.d),a=s.length;return e?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+Kh(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Kh(-i-1)+s,n&&(r=n-a)>0&&(s+=Kh(r))):i>=a?(s+=Kh(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+Kh(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=Kh(r))),t.s<0?"-"+s:s}function yY(t,e){if(t.length>e)return t.length=e,!0}function tce(t){var e,n,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Ig+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return vY(a,s.toString())}else if(typeof s!="string")throw Error(Ig+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,P4e.test(s))vY(a,s);else throw Error(Ig+s)}if(i.prototype=qt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=tce,i.config=i.set=N4e,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function N4e(t){if(!t||typeof t!="object")throw Error(ql+"Object expected");var e,n,r,i=["precision",1,wb,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(_b(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Ig+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ig+n+": "+r);return this}var R6=tce(C4e);sl=new R6(1);const Br=R6;function R4e(t){return k4e(t)||I4e(t)||j4e(t)||O4e()}function O4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j4e(t,e){if(t){if(typeof t=="string")return XF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XF(t,e)}}function I4e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function k4e(t){if(Array.isArray(t))return XF(t)}function XF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var D4e=function(e){return e},nce={},rce=function(e){return e===nce},xY=function(e){return function n(){return arguments.length===0||arguments.length===1&&rce(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},L4e=function t(e,n){return e===1?n:xY(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var a=i.filter(function(o){return o!==nce}).length;return a>=e?n.apply(void 0,i):t(e-a,xY(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var d=i.map(function(f){return rce(f)?l.shift():f});return n.apply(void 0,R4e(d).concat(l))}))})},uR=function(e){return L4e(e.length,e)},YF=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},F4e=uR(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),U4e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return D4e;var i=n.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce(function(o,l){return l(o)},s.apply(void 0,arguments))}},KF=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},ice=function(e){var n=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n&&s.every(function(o,l){return o===n[l]})||(n=s,r=e.apply(void 0,s)),r}};function B4e(t){var e;return t===0?e=1:e=Math.floor(new Br(t).abs().log(10).toNumber())+1,e}function z4e(t,e,n){for(var r=new Br(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var V4e=uR(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),$4e=uR(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),H4e=uR(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const dR={rangeStep:z4e,getDigitCount:B4e,interpolateNumber:V4e,uninterpolateNumber:$4e,uninterpolateTruncation:H4e};function ZF(t){return q4e(t)||G4e(t)||sce(t)||W4e()}function W4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G4e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function q4e(t){if(Array.isArray(t))return QF(t)}function tS(t,e){return K4e(t)||Y4e(t,e)||sce(t,e)||X4e()}function X4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sce(t,e){if(t){if(typeof t=="string")return QF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QF(t,e)}}function QF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Y4e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var a=t[Symbol.iterator](),o;!(r=(o=a.next()).done)&&(n.push(o.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,s=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw s}}return n}}function K4e(t){if(Array.isArray(t))return t}function ace(t){var e=tS(t,2),n=e[0],r=e[1],i=n,s=r;return n>r&&(i=r,s=n),[i,s]}function oce(t,e,n){if(t.lte(0))return new Br(0);var r=dR.getDigitCount(t.toNumber()),i=new Br(10).pow(r),s=t.div(i),a=r!==1?.05:.1,o=new Br(Math.ceil(s.div(a).toNumber())).add(n).mul(a),l=o.mul(i);return e?l:new Br(Math.ceil(l))}function Z4e(t,e,n){var r=1,i=new Br(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new Br(10).pow(dR.getDigitCount(t)-1),i=new Br(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Br(Math.floor(t)))}else t===0?i=new Br(Math.floor((e-1)/2)):n||(i=new Br(Math.floor(t)));var a=Math.floor((e-1)/2),o=U4e(F4e(function(l){return i.add(new Br(l-a).mul(r)).toNumber()}),YF);return o(0,e)}function lce(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Br(0),tickMin:new Br(0),tickMax:new Br(0)};var s=oce(new Br(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new Br(0):(a=new Br(t).add(e).div(2),a=a.sub(new Br(a).mod(s)));var o=Math.ceil(a.sub(t).div(s).toNumber()),l=Math.ceil(new Br(e).sub(a).div(s).toNumber()),c=o+l+1;return c>n?lce(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,o=e>0?o:o+(n-c)),{step:s,tickMin:a.sub(new Br(o).mul(s)),tickMax:a.add(new Br(l).mul(s))})}function Q4e(t){var e=tS(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),o=ace([n,r]),l=tS(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0){var f=d===1/0?[c].concat(ZF(YF(0,i-1).map(function(){return 1/0}))):[].concat(ZF(YF(0,i-1).map(function(){return-1/0})),[d]);return n>r?KF(f):f}if(c===d)return Z4e(c,i,s);var h=lce(c,d,a,s),m=h.step,v=h.tickMin,b=h.tickMax,y=dR.rangeStep(v,b.add(new Br(.1).mul(m)),m);return n>r?KF(y):y}function J4e(t,e){var n=tS(t,2),r=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=ace([r,i]),o=tS(a,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var d=Math.max(e,2),f=oce(new Br(c).sub(l).div(d-1),s,0),h=[].concat(ZF(dR.rangeStep(new Br(l),new Br(c).sub(new Br(.99).mul(f)),f)),[c]);return r>i?KF(h):h}var eFe=ice(Q4e),tFe=ice(J4e),nFe="Invariant failed";function n0(t,e){throw new Error(nFe)}var rFe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Mx(t){"@babel/helpers - typeof";return Mx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mx(t)}function aC(){return aC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aC.apply(this,arguments)}function iFe(t,e){return lFe(t)||oFe(t,e)||aFe(t,e)||sFe()}function sFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aFe(t,e){if(t){if(typeof t=="string")return bY(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bY(t,e)}}function bY(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oFe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function lFe(t){if(Array.isArray(t))return t}function cFe(t,e){if(t==null)return{};var n=uFe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uFe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fFe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dce(r.key),r)}}function hFe(t,e,n){return e&&fFe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pFe(t,e,n){return e=oC(e),mFe(t,cce()?Reflect.construct(e,n||[],oC(t).constructor):e.apply(t,n))}function mFe(t,e){if(e&&(Mx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gFe(t)}function gFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cce(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cce=function(){return!!t})()}function oC(t){return oC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},oC(t)}function vFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JF(t,e)}function JF(t,e){return JF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},JF(t,e)}function uce(t,e,n){return e=dce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dce(t){var e=yFe(t,"string");return Mx(e)=="symbol"?e:e+""}function yFe(t,e){if(Mx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fR=(function(t){function e(){return dFe(this,e),pFe(this,e,arguments)}return vFe(e,t),hFe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,a=r.width,o=r.dataKey,l=r.data,c=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,h=cFe(r,rFe),m=Sr(h,!1);this.props.direction==="x"&&d.type!=="number"&&n0();var v=l.map(function(b){var y=c(b,o),w=y.x,S=y.y,M=y.value,T=y.errorVal;if(!T)return null;var A=[],C,j;if(Array.isArray(T)){var L=iFe(T,2);C=L[0],j=L[1]}else C=j=T;if(s==="vertical"){var O=d.scale,k=S+i,F=k+a,G=k-a,Y=O(M-C),U=O(M+j);A.push({x1:U,y1:F,x2:U,y2:G}),A.push({x1:Y,y1:k,x2:U,y2:k}),A.push({x1:Y,y1:F,x2:Y,y2:G})}else if(s==="horizontal"){var W=f.scale,q=w+i,Z=q-a,V=q+a,Q=W(M-C),ee=W(M+j);A.push({x1:Z,y1:ee,x2:V,y2:ee}),A.push({x1:q,y1:Q,x2:q,y2:ee}),A.push({x1:Z,y1:Q,x2:V,y2:Q})}return se.createElement(Ls,aC({className:"recharts-errorBar",key:"bar-".concat(A.map(function($){return"".concat($.x1,"-").concat($.x2,"-").concat($.y1,"-").concat($.y2)}))},m),A.map(function($){return se.createElement("line",aC({},$,{key:"line-".concat($.x1,"-").concat($.x2,"-").concat($.y1,"-").concat($.y2)}))}))});return se.createElement(Ls,{className:"recharts-errorBars"},v)}}])})(se.Component);uce(fR,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});uce(fR,"displayName","ErrorBar");function nS(t){"@babel/helpers - typeof";return nS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nS(t)}function wY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wY(Object(n),!0).forEach(function(r){xFe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xFe(t,e,n){return e=bFe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bFe(t){var e=wFe(t,"string");return nS(e)=="symbol"?e:e+""}function wFe(t,e){if(nS(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fce=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,a=Zo(n,Og);if(!a)return null;var o=Og.defaultProps,l=o!==void 0?Bm(Bm({},o),a.props):{},c;return a.props&&a.props.payload?c=a.props&&a.props.payload:s==="children"?c=(r||[]).reduce(function(d,f){var h=f.item,m=f.props,v=m.sectors||m.data||[];return d.concat(v.map(function(b){return{type:a.props.iconType||h.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):c=(r||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?Bm(Bm({},h),f.props):{},v=m.dataKey,b=m.name,y=m.legendType,w=m.hide;return{inactive:w,dataKey:v,type:l.iconType||y||"square",color:O6(f),value:b||v,payload:m}}),Bm(Bm(Bm({},l),Og.getWithHeight(a,i)),{},{payload:c,item:a})};function rS(t){"@babel/helpers - typeof";return rS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rS(t)}function _Y(t){return MFe(t)||EFe(t)||SFe(t)||_Fe()}function _Fe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SFe(t,e){if(t){if(typeof t=="string")return e5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e5(t,e)}}function EFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function MFe(t){if(Array.isArray(t))return e5(t)}function e5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function SY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SY(Object(n),!0).forEach(function(r){Ky(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ky(t,e,n){return e=TFe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TFe(t){var e=AFe(t,"string");return rS(e)=="symbol"?e:e+""}function AFe(t,e){if(rS(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function od(t,e,n){return Er(t)||Er(e)?n:bs(e)?Wl(t,e,n):rr(e)?e(t):n}function q1(t,e,n,r){var i=M4e(t,function(o){return od(o,e)});if(n==="number"){var s=i.filter(function(o){return St(o)||parseFloat(o)});return s.length?[cR(s),lR(s)]:[1/0,-1/0]}var a=r?i.filter(function(o){return!Er(o)}):i;return a.map(function(o){return bs(o)||o instanceof Date?o:""})}var CFe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,a=-1,o=(n=r?.length)!==null&&n!==void 0?n:0;if(o<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var l=s.range,c=0;c<o;c++){var d=c>0?i[c-1].coordinate:i[o-1].coordinate,f=i[c].coordinate,h=c>=o-1?i[0].coordinate:i[c+1].coordinate,m=void 0;if(Vc(f-d)!==Vc(h-f)){var v=[];if(Vc(h-f)===Vc(l[1]-l[0])){m=h;var b=f+l[1]-l[0];v[0]=Math.min(b,(b+d)/2),v[1]=Math.max(b,(b+d)/2)}else{m=d;var y=h+l[1]-l[0];v[0]=Math.min(f,(y+f)/2),v[1]=Math.max(f,(y+f)/2)}var w=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(e>w[0]&&e<=w[1]||e>=v[0]&&e<=v[1]){a=i[c].index;break}}else{var S=Math.min(d,h),M=Math.max(d,h);if(e>(S+f)/2&&e<=(M+f)/2){a=i[c].index;break}}}else for(var T=0;T<o;T++)if(T===0&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T>0&&T<o-1&&e>(r[T].coordinate+r[T-1].coordinate)/2&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T===o-1&&e>(r[T].coordinate+r[T-1].coordinate)/2){a=r[T].index;break}return a},O6=function(e){var n,r=e,i=r.type.displayName,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Oi(Oi({},e.type.defaultProps),e.props):e.props,a=s.stroke,o=s.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:o;break;default:l=o;break}return l},PFe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var a={},o=Object.keys(s),l=0,c=o.length;l<c;l++)for(var d=s[o[l]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var v=d[f[h]],b=v.items,y=v.cateAxisId,w=b.filter(function(j){return If(j.type).indexOf("Bar")>=0});if(w&&w.length){var S=w[0].type.defaultProps,M=S!==void 0?Oi(Oi({},S),w[0].props):w[0].props,T=M.barSize,A=M[y];a[A]||(a[A]=[]);var C=Er(T)?n:T;a[A].push({item:w[0],stackList:w.slice(1),barSize:Er(C)?void 0:e0(C,r,0)})}}return a},NFe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,s=e.sizeList,a=s===void 0?[]:s,o=e.maxBarSize,l=a.length;if(l<1)return null;var c=e0(n,i,0,!0),d,f=[];if(a[0].barSize===+a[0].barSize){var h=!1,m=i/l,v=a.reduce(function(T,A){return T+A.barSize||0},0);v+=(l-1)*c,v>=i&&(v-=(l-1)*c,c=0),v>=i&&m>0&&(h=!0,m*=.9,v=l*m);var b=(i-v)/2>>0,y={offset:b-c,size:0};d=a.reduce(function(T,A){var C={item:A.item,position:{offset:y.offset+y.size+c,size:h?m:A.barSize}},j=[].concat(_Y(T),[C]);return y=j[j.length-1].position,A.stackList&&A.stackList.length&&A.stackList.forEach(function(L){j.push({item:L,position:y})}),j},f)}else{var w=e0(r,i,0,!0);i-2*w-(l-1)*c<=0&&(c=0);var S=(i-2*w-(l-1)*c)/l;S>1&&(S>>=0);var M=o===+o?Math.min(S,o):S;d=a.reduce(function(T,A,C){var j=[].concat(_Y(T),[{item:A.item,position:{offset:w+(S+c)*C+(S-M)/2,size:M}}]);return A.stackList&&A.stackList.length&&A.stackList.forEach(function(L){j.push({item:L,position:j[j.length-1].position})}),j},f)}return d},RFe=function(e,n,r,i){var s=r.children,a=r.width,o=r.margin,l=a-(o.left||0)-(o.right||0),c=fce({children:s,legendWidth:l});if(c){var d=i||{},f=d.width,h=d.height,m=c.align,v=c.verticalAlign,b=c.layout;if((b==="vertical"||b==="horizontal"&&v==="middle")&&m!=="center"&&St(e[m]))return Oi(Oi({},e),{},Ky({},m,e[m]+(f||0)));if((b==="horizontal"||b==="vertical"&&m==="center")&&v!=="middle"&&St(e[v]))return Oi(Oi({},e),{},Ky({},v,e[v]+(h||0)))}return e},OFe=function(e,n,r){return Er(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},hce=function(e,n,r,i,s){var a=n.props.children,o=Yc(a,fR).filter(function(c){return OFe(i,s,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return e.reduce(function(c,d){var f=od(d,r);if(Er(f))return c;var h=Array.isArray(f)?[cR(f),lR(f)]:[f,f],m=l.reduce(function(v,b){var y=od(d,b,0),w=h[0]-Math.abs(Array.isArray(y)?y[0]:y),S=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(w,v[0]),Math.max(S,v[1])]},[1/0,-1/0]);return[Math.min(m[0],c[0]),Math.max(m[1],c[1])]},[1/0,-1/0])}return null},jFe=function(e,n,r,i,s){var a=n.map(function(o){return hce(e,o,r,s,i)}).filter(function(o){return!Er(o)});return a&&a.length?a.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},pce=function(e,n,r,i,s){var a=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&hce(e,l,c,i)||q1(e,c,r,s)});if(r==="number")return a.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return a.reduce(function(l,c){for(var d=0,f=c.length;d<f;d++)o[c[d]]||(o[c[d]]=!0,l.push(c[d]));return l},[])},mce=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},gce=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var s,a,o=e.map(function(l){return l.coordinate===n&&(s=!0),l.coordinate===r&&(a=!0),l.coordinate});return s||o.push(n),a||o.push(r),o},Cf=function(e,n,r){if(!e)return null;var i=e.scale,s=e.duplicateDomain,a=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&o?.length>=2?Vc(o[0]-o[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=s?s.indexOf(f):f;return{coordinate:i(h)+c,value:f,offset:c}});return d.filter(function(f){return!bE(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+c,value:f,index:h,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,h){return{coordinate:i(f)+c,value:s?s[f]:f,index:h,offset:c}})},SD=new WeakMap,xT=function(e,n){if(typeof n!="function")return e;SD.has(e)||SD.set(e,new WeakMap);var r=SD.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},IFe=function(e,n,r){var i=e.scale,s=e.type,a=e.layout,o=e.axisType;if(i==="auto")return a==="radial"&&o==="radiusAxis"?{scale:Y_(),realScaleType:"band"}:a==="radial"&&o==="angleAxis"?{scale:tC(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:G1(),realScaleType:"point"}:s==="category"?{scale:Y_(),realScaleType:"band"}:{scale:tC(),realScaleType:"linear"};if(Jg(i)){var l="scale".concat(YN(i));return{scale:(lY[l]||G1)(),realScaleType:lY[l]?l:"point"}}return rr(i)?{scale:i}:{scale:G1(),realScaleType:"point"}},EY=1e-4,kFe=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),s=Math.min(i[0],i[1])-EY,a=Math.max(i[0],i[1])+EY,o=e(n[0]),l=e(n[r-1]);(o<s||o>a||l<s||l>a)&&e.domain([n[0],n[r-1]])}},DFe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},LFe=function(e,n){if(!n||n.length!==2||!St(n[0])||!St(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),s=[e[0],e[1]];return(!St(e[0])||e[0]<r)&&(s[0]=r),(!St(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<r&&(s[1]=r),s},FFe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,a=0,o=0;o<n;++o){var l=bE(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1]):(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1])}},UFe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,a=0;a<n;++a){var o=bE(e[a][r][1])?e[a][r][0]:e[a][r][1];o>=0?(e[a][r][0]=s,e[a][r][1]=s+o,s=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},BFe={sign:FFe,expand:_je,none:vx,silhouette:Sje,wiggle:Eje,positive:UFe},zFe=function(e,n,r){var i=n.map(function(o){return o.props.dataKey}),s=BFe[r],a=wje().keys(i).value(function(o,l){return+od(o,l,0)}).order(NF).offset(s);return a(e)},VFe=function(e,n,r,i,s,a){if(!e)return null;var o=a?n.reverse():n,l={},c=o.reduce(function(f,h){var m,v=(m=h.type)!==null&&m!==void 0&&m.defaultProps?Oi(Oi({},h.type.defaultProps),h.props):h.props,b=v.stackId,y=v.hide;if(y)return f;var w=v[r],S=f[w]||{hasStack:!1,stackGroups:{}};if(bs(b)){var M=S.stackGroups[b]||{numericAxisId:r,cateAxisId:i,items:[]};M.items.push(h),S.hasStack=!0,S.stackGroups[b]=M}else S.stackGroups[XN("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return Oi(Oi({},f),{},Ky({},w,S))},l),d={};return Object.keys(c).reduce(function(f,h){var m=c[h];if(m.hasStack){var v={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(b,y){var w=m.stackGroups[y];return Oi(Oi({},b),{},Ky({},y,{numericAxisId:r,cateAxisId:i,items:w.items,stackedData:zFe(e,w.items,s)}))},v)}return Oi(Oi({},f),{},Ky({},h,m))},d)},$Fe=function(e,n){var r=n.realScaleType,i=n.type,s=n.tickCount,a=n.originalDomain,o=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(s&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var c=e.domain();if(!c.length)return null;var d=eFe(c,s,o);return e.domain([cR(d),lR(d)]),{niceTicks:d}}if(s&&i==="number"){var f=e.domain(),h=tFe(f,s,o);return{niceTicks:h}}return null},MY=function(e){var n=e.axis,r=e.ticks,i=e.offset,s=e.bandSize,a=e.entry,o=e.index;if(n.type==="category")return r[o]?r[o].coordinate+i:null;var l=od(a,n.dataKey,n.domain[o]);return Er(l)?null:n.scale(l)-s/2+i},HFe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return i<=0&&s>=0?0:s<0?s:i}return r[0]},WFe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Oi(Oi({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(bs(s)){var a=n[s];if(a){var o=a.items.indexOf(e);return o>=0?a.stackedData[o]:null}}return null},GFe=function(e){return e.reduce(function(n,r){return[cR(r.concat([n[0]]).filter(St)),lR(r.concat([n[1]]).filter(St))]},[1/0,-1/0])},vce=function(e,n,r){return Object.keys(e).reduce(function(i,s){var a=e[s],o=a.stackedData,l=o.reduce(function(c,d){var f=GFe(d.slice(n,r+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},TY=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,AY=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,t5=function(e,n,r){if(rr(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(St(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(TY.test(e[0])){var s=+TY.exec(e[0])[1];i[0]=n[0]-s}else rr(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(St(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(AY.test(e[1])){var a=+AY.exec(e[1])[1];i[1]=n[1]+a}else rr(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},lC=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var s=s6(n,function(f){return f.coordinate}),a=1/0,o=1,l=s.length;o<l;o++){var c=s[o],d=s[o-1];a=Math.min((c.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},CY=function(e,n,r){return!e||!e.length||P6(e,Wl(r,"type.defaultProps.domain"))?n:e},yce=function(e,n){var r=e.type.defaultProps?Oi(Oi({},e.type.defaultProps),e.props):e.props,i=r.dataKey,s=r.name,a=r.unit,o=r.formatter,l=r.tooltipType,c=r.chartType,d=r.hide;return Oi(Oi({},Sr(e,!1)),{},{dataKey:i,unit:a,formatter:o,name:s||i,color:O6(e),value:od(n,i),type:l,payload:n,chartType:c,hide:d})};function iS(t){"@babel/helpers - typeof";return iS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iS(t)}function PY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PY(Object(n),!0).forEach(function(r){qFe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qFe(t,e,n){return e=XFe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XFe(t){var e=YFe(t,"string");return iS(e)=="symbol"?e:e+""}function YFe(t,e){if(iS(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(iS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cC=Math.PI/180,KFe=function(e){return e*180/Math.PI},sa=function(e,n,r,i){return{x:e+Math.cos(-cC*i)*r,y:n+Math.sin(-cC*i)*r}},ZFe=function(e,n){var r=e.x,i=e.y,s=n.x,a=n.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-a,2))},QFe=function(e,n){var r=e.x,i=e.y,s=n.cx,a=n.cy,o=ZFe({x:r,y:i},{x:s,y:a});if(o<=0)return{radius:o};var l=(r-s)/o,c=Math.acos(l);return i>a&&(c=2*Math.PI-c),{radius:o,angle:KFe(c),angleInRadian:c}},JFe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),s=Math.floor(r/360),a=Math.min(i,s);return{startAngle:n-a*360,endAngle:r-a*360}},e5e=function(e,n){var r=n.startAngle,i=n.endAngle,s=Math.floor(r/360),a=Math.floor(i/360),o=Math.min(s,a);return e+o*360},RY=function(e,n){var r=e.x,i=e.y,s=QFe({x:r,y:i},n),a=s.radius,o=s.angle,l=n.innerRadius,c=n.outerRadius;if(a<l||a>c)return!1;if(a===0)return!0;var d=JFe(n),f=d.startAngle,h=d.endAngle,m=o,v;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;v=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;v=m>=h&&m<=f}return v?NY(NY({},n),{},{radius:a,angle:e5e(m,n)}):null};function sS(t){"@babel/helpers - typeof";return sS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sS(t)}var t5e=["offset"];function n5e(t){return a5e(t)||s5e(t)||i5e(t)||r5e()}function r5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i5e(t,e){if(t){if(typeof t=="string")return n5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return n5(t,e)}}function s5e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function a5e(t){if(Array.isArray(t))return n5(t)}function n5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o5e(t,e){if(t==null)return{};var n=l5e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function l5e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function OY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OY(Object(n),!0).forEach(function(r){c5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function c5e(t,e,n){return e=u5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u5e(t){var e=d5e(t,"string");return sS(e)=="symbol"?e:e+""}function d5e(t,e){if(sS(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aS(){return aS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aS.apply(this,arguments)}var f5e=function(e){var n=e.value,r=e.formatter,i=Er(e.children)?n:e.children;return rr(r)?r(i):i},h5e=function(e,n){var r=Vc(n-e),i=Math.min(Math.abs(n-e),360);return r*i},p5e=function(e,n,r){var i=e.position,s=e.viewBox,a=e.offset,o=e.className,l=s,c=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,m=l.startAngle,v=l.endAngle,b=l.clockWise,y=(f+h)/2,w=h5e(m,v),S=w>=0?1:-1,M,T;i==="insideStart"?(M=m+S*a,T=b):i==="insideEnd"?(M=v-S*a,T=!b):i==="end"&&(M=v+S*a,T=b),T=w<=0?T:!T;var A=sa(c,d,y,M),C=sa(c,d,y,M+(T?1:-1)*359),j="M".concat(A.x,",").concat(A.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(T?0:1,`,
    `).concat(C.x,",").concat(C.y),L=Er(e.id)?XN("recharts-radial-line-"):e.id;return se.createElement("text",aS({},r,{dominantBaseline:"central",className:yr("recharts-radial-bar-label",o)}),se.createElement("defs",null,se.createElement("path",{id:L,d:j})),se.createElement("textPath",{xlinkHref:"#".concat(L)},n))},m5e=function(e){var n=e.viewBox,r=e.offset,i=e.position,s=n,a=s.cx,o=s.cy,l=s.innerRadius,c=s.outerRadius,d=s.startAngle,f=s.endAngle,h=(d+f)/2;if(i==="outside"){var m=sa(a,o,c+r,h),v=m.x,b=m.y;return{x:v,y:b,textAnchor:v>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"end"};var y=(l+c)/2,w=sa(a,o,y,h),S=w.x,M=w.y;return{x:S,y:M,textAnchor:"middle",verticalAnchor:"middle"}},g5e=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,s=e.position,a=n,o=a.x,l=a.y,c=a.width,d=a.height,f=d>=0?1:-1,h=f*i,m=f>0?"end":"start",v=f>0?"start":"end",b=c>=0?1:-1,y=b*i,w=b>0?"end":"start",S=b>0?"start":"end";if(s==="top"){var M={x:o+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:m};return gs(gs({},M),r?{height:Math.max(l-r.y,0),width:c}:{})}if(s==="bottom"){var T={x:o+c/2,y:l+d+h,textAnchor:"middle",verticalAnchor:v};return gs(gs({},T),r?{height:Math.max(r.y+r.height-(l+d),0),width:c}:{})}if(s==="left"){var A={x:o-y,y:l+d/2,textAnchor:w,verticalAnchor:"middle"};return gs(gs({},A),r?{width:Math.max(A.x-r.x,0),height:d}:{})}if(s==="right"){var C={x:o+c+y,y:l+d/2,textAnchor:S,verticalAnchor:"middle"};return gs(gs({},C),r?{width:Math.max(r.x+r.width-C.x,0),height:d}:{})}var j=r?{width:c,height:d}:{};return s==="insideLeft"?gs({x:o+y,y:l+d/2,textAnchor:S,verticalAnchor:"middle"},j):s==="insideRight"?gs({x:o+c-y,y:l+d/2,textAnchor:w,verticalAnchor:"middle"},j):s==="insideTop"?gs({x:o+c/2,y:l+h,textAnchor:"middle",verticalAnchor:v},j):s==="insideBottom"?gs({x:o+c/2,y:l+d-h,textAnchor:"middle",verticalAnchor:m},j):s==="insideTopLeft"?gs({x:o+y,y:l+h,textAnchor:S,verticalAnchor:v},j):s==="insideTopRight"?gs({x:o+c-y,y:l+h,textAnchor:w,verticalAnchor:v},j):s==="insideBottomLeft"?gs({x:o+y,y:l+d-h,textAnchor:S,verticalAnchor:m},j):s==="insideBottomRight"?gs({x:o+c-y,y:l+d-h,textAnchor:w,verticalAnchor:m},j):yb(s)&&(St(s.x)||yg(s.x))&&(St(s.y)||yg(s.y))?gs({x:o+e0(s.x,c),y:l+e0(s.y,d),textAnchor:"end",verticalAnchor:"end"},j):gs({x:o+c/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},j)},v5e=function(e){return"cx"in e&&St(e.cx)};function _a(t){var e=t.offset,n=e===void 0?5:e,r=o5e(t,t5e),i=gs({offset:n},r),s=i.viewBox,a=i.position,o=i.value,l=i.children,c=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!s||Er(o)&&Er(l)&&!N.isValidElement(c)&&!rr(c))return null;if(N.isValidElement(c))return N.cloneElement(c,i);var m;if(rr(c)){if(m=N.createElement(c,i),N.isValidElement(m))return m}else m=f5e(i);var v=v5e(s),b=Sr(i,!0);if(v&&(a==="insideStart"||a==="insideEnd"||a==="end"))return p5e(i,m,b);var y=v?m5e(i):g5e(i);return se.createElement(XA,aS({className:yr("recharts-label",f)},b,y,{breakAll:h}),m)}_a.displayName="Label";var xce=function(e){var n=e.cx,r=e.cy,i=e.angle,s=e.startAngle,a=e.endAngle,o=e.r,l=e.radius,c=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,m=e.top,v=e.left,b=e.width,y=e.height,w=e.clockWise,S=e.labelViewBox;if(S)return S;if(St(b)&&St(y)){if(St(f)&&St(h))return{x:f,y:h,width:b,height:y};if(St(m)&&St(v))return{x:m,y:v,width:b,height:y}}return St(f)&&St(h)?{x:f,y:h,width:0,height:0}:St(n)&&St(r)?{cx:n,cy:r,startAngle:s||i||0,endAngle:a||i||0,innerRadius:c||0,outerRadius:d||l||o||0,clockWise:w}:e.viewBox?e.viewBox:{}},y5e=function(e,n){return e?e===!0?se.createElement(_a,{key:"label-implicit",viewBox:n}):bs(e)?se.createElement(_a,{key:"label-implicit",viewBox:n,value:e}):N.isValidElement(e)?e.type===_a?N.cloneElement(e,{key:"label-implicit",viewBox:n}):se.createElement(_a,{key:"label-implicit",content:e,viewBox:n}):rr(e)?se.createElement(_a,{key:"label-implicit",content:e,viewBox:n}):yb(e)?se.createElement(_a,aS({viewBox:n},e,{key:"label-implicit"})):null:null},x5e=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,s=xce(e),a=Yc(i,_a).map(function(l,c){return N.cloneElement(l,{viewBox:n||s,key:"label-".concat(c)})});if(!r)return a;var o=y5e(e.label,n||s);return[o].concat(n5e(a))};_a.parseViewBox=xce;_a.renderCallByParent=x5e;var ED,jY;function b5e(){if(jY)return ED;jY=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return ED=t,ED}var w5e=b5e();const _5e=pr(w5e);function oS(t){"@babel/helpers - typeof";return oS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oS(t)}var S5e=["valueAccessor"],E5e=["data","dataKey","clockWise","id","textBreakAll"];function M5e(t){return P5e(t)||C5e(t)||A5e(t)||T5e()}function T5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A5e(t,e){if(t){if(typeof t=="string")return r5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r5(t,e)}}function C5e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function P5e(t){if(Array.isArray(t))return r5(t)}function r5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uC(){return uC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uC.apply(this,arguments)}function IY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IY(Object(n),!0).forEach(function(r){N5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function N5e(t,e,n){return e=R5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R5e(t){var e=O5e(t,"string");return oS(e)=="symbol"?e:e+""}function O5e(t,e){if(oS(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(oS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DY(t,e){if(t==null)return{};var n=j5e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function j5e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var I5e=function(e){return Array.isArray(e.value)?_5e(e.value):e.value};function kg(t){var e=t.valueAccessor,n=e===void 0?I5e:e,r=DY(t,S5e),i=r.data,s=r.dataKey,a=r.clockWise,o=r.id,l=r.textBreakAll,c=DY(r,E5e);return!i||!i.length?null:se.createElement(Ls,{className:"recharts-label-list"},i.map(function(d,f){var h=Er(s)?n(d,f):od(d&&d.payload,s),m=Er(o)?{}:{id:"".concat(o,"-").concat(f)};return se.createElement(_a,uC({},Sr(d,!0),c,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:_a.parseViewBox(Er(a)?d:kY(kY({},d),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}kg.displayName="LabelList";function k5e(t,e){return t?t===!0?se.createElement(kg,{key:"labelList-implicit",data:e}):se.isValidElement(t)||rr(t)?se.createElement(kg,{key:"labelList-implicit",data:e,content:t}):yb(t)?se.createElement(kg,uC({data:e},t,{key:"labelList-implicit"})):null:null}function D5e(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Yc(r,kg).map(function(a,o){return N.cloneElement(a,{data:e,key:"labelList-".concat(o)})});if(!n)return i;var s=k5e(t.label,e);return[s].concat(M5e(i))}kg.renderCallByParent=D5e;function lS(t){"@babel/helpers - typeof";return lS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lS(t)}function i5(){return i5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i5.apply(this,arguments)}function LY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LY(Object(n),!0).forEach(function(r){L5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function L5e(t,e,n){return e=F5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F5e(t){var e=U5e(t,"string");return lS(e)=="symbol"?e:e+""}function U5e(t,e){if(lS(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var B5e=function(e,n){var r=Vc(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},bT=function(e){var n=e.cx,r=e.cy,i=e.radius,s=e.angle,a=e.sign,o=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,d=l*(o?1:-1)+i,f=Math.asin(l/d)/cC,h=c?s:s+a*f,m=sa(n,r,d,h),v=sa(n,r,i,h),b=c?s-a*f:s,y=sa(n,r,d*Math.cos(f*cC),b);return{center:m,circleTangency:v,lineTangency:y,theta:f}},bce=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.startAngle,o=e.endAngle,l=B5e(a,o),c=a+l,d=sa(n,r,s,a),f=sa(n,r,s,c),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var m=sa(n,r,i,a),v=sa(n,r,i,c);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},z5e=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,d=e.endAngle,f=Vc(d-c),h=bT({cx:n,cy:r,radius:s,angle:c,sign:f,cornerRadius:a,cornerIsExternal:l}),m=h.circleTangency,v=h.lineTangency,b=h.theta,y=bT({cx:n,cy:r,radius:s,angle:d,sign:-f,cornerRadius:a,cornerIsExternal:l}),w=y.circleTangency,S=y.lineTangency,M=y.theta,T=l?Math.abs(c-d):Math.abs(c-d)-b-M;if(T<0)return o?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):bce({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:c,endAngle:d});var A="M ".concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(T>180),",").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(S.x,",").concat(S.y,`
  `);if(i>0){var C=bT({cx:n,cy:r,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),j=C.circleTangency,L=C.lineTangency,O=C.theta,k=bT({cx:n,cy:r,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),F=k.circleTangency,G=k.lineTangency,Y=k.theta,U=l?Math.abs(c-d):Math.abs(c-d)-O-Y;if(U<0&&a===0)return"".concat(A,"L").concat(n,",").concat(r,"Z");A+="L".concat(G.x,",").concat(G.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(F.x,",").concat(F.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(U>180),",").concat(+(f>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(L.x,",").concat(L.y,"Z")}else A+="L".concat(n,",").concat(r,"Z");return A},V5e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},wce=function(e){var n=FY(FY({},V5e),e),r=n.cx,i=n.cy,s=n.innerRadius,a=n.outerRadius,o=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(a<s||d===f)return null;var m=yr("recharts-sector",h),v=a-s,b=e0(o,v,0,!0),y;return b>0&&Math.abs(d-f)<360?y=z5e({cx:r,cy:i,innerRadius:s,outerRadius:a,cornerRadius:Math.min(b,v/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}):y=bce({cx:r,cy:i,innerRadius:s,outerRadius:a,startAngle:d,endAngle:f}),se.createElement("path",i5({},Sr(n,!0),{className:m,d:y,role:"img"}))};function cS(t){"@babel/helpers - typeof";return cS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cS(t)}function s5(){return s5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s5.apply(this,arguments)}function UY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UY(Object(n),!0).forEach(function(r){$5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $5e(t,e,n){return e=H5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H5e(t){var e=W5e(t,"string");return cS(e)=="symbol"?e:e+""}function W5e(t,e){if(cS(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zY={curveBasisClosed:uje,curveBasisOpen:dje,curveBasis:cje,curveBumpX:YOe,curveBumpY:KOe,curveLinearClosed:fje,curveLinear:ZN,curveMonotoneX:hje,curveMonotoneY:pje,curveNatural:mje,curveStep:gje,curveStepAfter:yje,curveStepBefore:vje},wT=function(e){return e.x===+e.x&&e.y===+e.y},Fw=function(e){return e.x},Uw=function(e){return e.y},G5e=function(e,n){if(rr(e))return e;var r="curve".concat(YN(e));return(r==="curveMonotone"||r==="curveBump")&&n?zY["".concat(r).concat(n==="vertical"?"Y":"X")]:zY[r]||ZN},q5e=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,s=i===void 0?[]:i,a=e.baseLine,o=e.layout,l=e.connectNulls,c=l===void 0?!1:l,d=G5e(r,o),f=c?s.filter(function(b){return wT(b)}):s,h;if(Array.isArray(a)){var m=c?a.filter(function(b){return wT(b)}):a,v=f.map(function(b,y){return BY(BY({},b),{},{base:m[y]})});return o==="vertical"?h=fT().y(Uw).x1(Fw).x0(function(b){return b.base.x}):h=fT().x(Fw).y1(Uw).y0(function(b){return b.base.y}),h.defined(wT).curve(d),h(v)}return o==="vertical"&&St(a)?h=fT().y(Uw).x1(Fw).x0(a):St(a)?h=fT().x(Fw).y1(Uw).y0(a):h=Moe().x(Fw).y(Uw),h.defined(wT).curve(d),h(f)},VY=function(e){var n=e.className,r=e.points,i=e.path,s=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?q5e(e):i;return N.createElement("path",s5({},Sr(e,!1),DA(e),{className:yr("recharts-curve",n),d:a,ref:s}))},MD={exports:{}},TD,$Y;function X5e(){if($Y)return TD;$Y=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return TD=t,TD}var AD,HY;function Y5e(){if(HY)return AD;HY=1;var t=X5e();function e(){}function n(){}return n.resetWarningCache=e,AD=function(){function r(a,o,l,c,d,f){if(f!==t){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},AD}var WY;function K5e(){return WY||(WY=1,MD.exports=Y5e()()),MD.exports}var Z5e=K5e();const be=pr(Z5e);var Q5e=Object.getOwnPropertyNames,J5e=Object.getOwnPropertySymbols,eUe=Object.prototype.hasOwnProperty;function GY(t,e){return function(r,i,s){return t(r,i,s)&&e(r,i,s)}}function _T(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var s=i.cache,a=s.get(n),o=s.get(r);if(a&&o)return a===r&&o===n;s.set(n,r),s.set(r,n);var l=t(n,r,i);return s.delete(n),s.delete(r),l}}function qY(t){return Q5e(t).concat(J5e(t))}var tUe=Object.hasOwn||(function(t,e){return eUe.call(t,e)});function w0(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var nUe="__v",rUe="__o",iUe="_owner",XY=Object.getOwnPropertyDescriptor,YY=Object.keys;function sUe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function aUe(t,e){return w0(t.getTime(),e.getTime())}function oUe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function lUe(t,e){return t===e}function KY(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.entries(),a,o,l=0;(a=s.next())&&!a.done;){for(var c=e.entries(),d=!1,f=0;(o=c.next())&&!o.done;){if(i[f]){f++;continue}var h=a.value,m=o.value;if(n.equals(h[0],m[0],l,f,t,e,n)&&n.equals(h[1],m[1],h[0],m[0],t,e,n)){d=i[f]=!0;break}f++}if(!d)return!1;l++}return!0}var cUe=w0;function uUe(t,e,n){var r=YY(t),i=r.length;if(YY(e).length!==i)return!1;for(;i-- >0;)if(!_ce(t,e,n,r[i]))return!1;return!0}function Bw(t,e,n){var r=qY(t),i=r.length;if(qY(e).length!==i)return!1;for(var s,a,o;i-- >0;)if(s=r[i],!_ce(t,e,n,s)||(a=XY(t,s),o=XY(e,s),(a||o)&&(!a||!o||a.configurable!==o.configurable||a.enumerable!==o.enumerable||a.writable!==o.writable)))return!1;return!0}function dUe(t,e){return w0(t.valueOf(),e.valueOf())}function fUe(t,e){return t.source===e.source&&t.flags===e.flags}function ZY(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.values(),a,o;(a=s.next())&&!a.done;){for(var l=e.values(),c=!1,d=0;(o=l.next())&&!o.done;){if(!i[d]&&n.equals(a.value,o.value,a.value,o.value,t,e,n)){c=i[d]=!0;break}d++}if(!c)return!1}return!0}function hUe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function pUe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function _ce(t,e,n,r){return(r===iUe||r===rUe||r===nUe)&&(t.$$typeof||e.$$typeof)?!0:tUe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var mUe="[object Arguments]",gUe="[object Boolean]",vUe="[object Date]",yUe="[object Error]",xUe="[object Map]",bUe="[object Number]",wUe="[object Object]",_Ue="[object RegExp]",SUe="[object Set]",EUe="[object String]",MUe="[object URL]",TUe=Array.isArray,QY=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,JY=Object.assign,AUe=Object.prototype.toString.call.bind(Object.prototype.toString);function CUe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,a=t.areNumbersEqual,o=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,c=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(v,b,y){if(v===b)return!0;if(v==null||b==null)return!1;var w=typeof v;if(w!==typeof b)return!1;if(w!=="object")return w==="number"?a(v,b,y):w==="function"?i(v,b,y):!1;var S=v.constructor;if(S!==b.constructor)return!1;if(S===Object)return o(v,b,y);if(TUe(v))return e(v,b,y);if(QY!=null&&QY(v))return f(v,b,y);if(S===Date)return n(v,b,y);if(S===RegExp)return c(v,b,y);if(S===Map)return s(v,b,y);if(S===Set)return d(v,b,y);var M=AUe(v);return M===vUe?n(v,b,y):M===_Ue?c(v,b,y):M===xUe?s(v,b,y):M===SUe?d(v,b,y):M===wUe?typeof v.then!="function"&&typeof b.then!="function"&&o(v,b,y):M===MUe?h(v,b,y):M===yUe?r(v,b,y):M===mUe?o(v,b,y):M===gUe||M===bUe||M===EUe?l(v,b,y):!1}}function PUe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Bw:sUe,areDatesEqual:aUe,areErrorsEqual:oUe,areFunctionsEqual:lUe,areMapsEqual:r?GY(KY,Bw):KY,areNumbersEqual:cUe,areObjectsEqual:r?Bw:uUe,arePrimitiveWrappersEqual:dUe,areRegExpsEqual:fUe,areSetsEqual:r?GY(ZY,Bw):ZY,areTypedArraysEqual:r?Bw:hUe,areUrlsEqual:pUe};if(n&&(i=JY({},i,n(i))),e){var s=_T(i.areArraysEqual),a=_T(i.areMapsEqual),o=_T(i.areObjectsEqual),l=_T(i.areSetsEqual);i=JY({},i,{areArraysEqual:s,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:l})}return i}function NUe(t){return function(e,n,r,i,s,a,o){return t(e,n,o)}}function RUe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,s=t.strict;if(r)return function(l,c){var d=r(),f=d.cache,h=f===void 0?e?new WeakMap:void 0:f,m=d.meta;return n(l,c,{cache:h,equals:i,meta:m,strict:s})};if(e)return function(l,c){return n(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var a={cache:void 0,equals:i,meta:void 0,strict:s};return function(l,c){return n(l,c,a)}}var OUe=$p();$p({strict:!0});$p({circular:!0});$p({circular:!0,strict:!0});$p({createInternalComparator:function(){return w0}});$p({strict:!0,createInternalComparator:function(){return w0}});$p({circular:!0,createInternalComparator:function(){return w0}});$p({circular:!0,createInternalComparator:function(){return w0},strict:!0});function $p(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,s=t.strict,a=s===void 0?!1:s,o=PUe(t),l=CUe(o),c=r?r(l):NUe(l);return RUe({circular:n,comparator:l,createState:i,equals:c,strict:a})}function jUe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function eK(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(s){n<0&&(n=s),s-n>e?(t(s),n=-1):jUe(i)};requestAnimationFrame(r)}function a5(t){"@babel/helpers - typeof";return a5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a5(t)}function IUe(t){return FUe(t)||LUe(t)||DUe(t)||kUe()}function kUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DUe(t,e){if(t){if(typeof t=="string")return tK(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tK(t,e)}}function tK(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function LUe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function FUe(t){if(Array.isArray(t))return t}function UUe(){var t={},e=function(){return null},n=!1,r=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var a=s,o=IUe(a),l=o[0],c=o.slice(1);if(typeof l=="number"){eK(i.bind(null,c),l);return}i(l),eK(i.bind(null,c));return}a5(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,r(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function uS(t){"@babel/helpers - typeof";return uS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uS(t)}function nK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nK(Object(n),!0).forEach(function(r){Sce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sce(t,e,n){return e=BUe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BUe(t){var e=zUe(t,"string");return uS(e)==="symbol"?e:String(e)}function zUe(t,e){if(uS(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uS(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VUe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},$Ue=function(e){return e},HUe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},X1=function(e,n){return Object.keys(n).reduce(function(r,i){return rK(rK({},r),{},Sce({},i,e(i,n[i])))},{})},iK=function(e,n,r){return e.map(function(i){return"".concat(HUe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function WUe(t,e){return XUe(t)||qUe(t,e)||Ece(t,e)||GUe()}function GUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qUe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function XUe(t){if(Array.isArray(t))return t}function YUe(t){return QUe(t)||ZUe(t)||Ece(t)||KUe()}function KUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ece(t,e){if(t){if(typeof t=="string")return o5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o5(t,e)}}function ZUe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function QUe(t){if(Array.isArray(t))return o5(t)}function o5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var dC=1e-4,Mce=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},Tce=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},sK=function(e,n){return function(r){var i=Mce(e,n);return Tce(i,r)}},JUe=function(e,n){return function(r){var i=Mce(e,n),s=[].concat(YUe(i.map(function(a,o){return a*o}).slice(1)),[0]);return Tce(s,r)}},aK=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],s=n[1],a=n[2],o=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,a=1,o=1;break;case"ease":i=.25,s=.1,a=.25,o=1;break;case"ease-in":i=.42,s=0,a=1,o=1;break;case"ease-out":i=.42,s=0,a=.58,o=1;break;case"ease-in-out":i=0,s=0,a=.58,o=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),d=WUe(c,4);i=d[0],s=d[1],a=d[2],o=d[3]}}}var f=sK(i,a),h=sK(s,o),m=JUe(i,a),v=function(w){return w>1?1:w<0?0:w},b=function(w){for(var S=w>1?1:w,M=S,T=0;T<8;++T){var A=f(M)-S,C=m(M);if(Math.abs(A-S)<dC||C<dC)return h(M);M=v(M-A/C)}return h(M)};return b.isStepper=!1,b},eBe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,s=i===void 0?8:i,a=e.dt,o=a===void 0?17:a,l=function(d,f,h){var m=-(d-f)*r,v=h*s,b=h+(m-v)*o/1e3,y=h*o/1e3+d;return Math.abs(y-f)<dC&&Math.abs(b)<dC?[f,0]:[y,b]};return l.isStepper=!0,l.dt=o,l},tBe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return aK(i);case"spring":return eBe();default:if(i.split("(")[0]==="cubic-bezier")return aK(i)}return typeof i=="function"?i:null};function dS(t){"@babel/helpers - typeof";return dS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dS(t)}function oK(t){return iBe(t)||rBe(t)||Ace(t)||nBe()}function nBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function iBe(t){if(Array.isArray(t))return c5(t)}function lK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function na(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lK(Object(n),!0).forEach(function(r){l5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function l5(t,e,n){return e=sBe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sBe(t){var e=aBe(t,"string");return dS(e)==="symbol"?e:String(e)}function aBe(t,e){if(dS(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dS(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oBe(t,e){return uBe(t)||cBe(t,e)||Ace(t,e)||lBe()}function lBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ace(t,e){if(t){if(typeof t=="string")return c5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c5(t,e)}}function c5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cBe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function uBe(t){if(Array.isArray(t))return t}var fC=function(e,n,r){return e+(n-e)*r},u5=function(e){var n=e.from,r=e.to;return n!==r},dBe=function t(e,n,r){var i=X1(function(s,a){if(u5(a)){var o=e(a.from,a.to,a.velocity),l=oBe(o,2),c=l[0],d=l[1];return na(na({},a),{},{from:c,velocity:d})}return a},n);return r<1?X1(function(s,a){return u5(a)?na(na({},a),{},{velocity:fC(a.velocity,i[s].velocity,r),from:fC(a.from,i[s].from,r)}):a},n):t(e,i,r-1)};const fBe=(function(t,e,n,r,i){var s=VUe(t,e),a=s.reduce(function(y,w){return na(na({},y),{},l5({},w,[t[w],e[w]]))},{}),o=s.reduce(function(y,w){return na(na({},y),{},l5({},w,{from:t[w],velocity:0,to:e[w]}))},{}),l=-1,c,d,f=function(){return null},h=function(){return X1(function(w,S){return S.from},o)},m=function(){return!Object.values(o).filter(u5).length},v=function(w){c||(c=w);var S=w-c,M=S/n.dt;o=dBe(n,o,M),i(na(na(na({},t),e),h())),c=w,m()||(l=requestAnimationFrame(f))},b=function(w){d||(d=w);var S=(w-d)/r,M=X1(function(A,C){return fC.apply(void 0,oK(C).concat([n(S)]))},a);if(i(na(na(na({},t),e),M)),S<1)l=requestAnimationFrame(f);else{var T=X1(function(A,C){return fC.apply(void 0,oK(C).concat([n(1)]))},a);i(na(na(na({},t),e),T))}};return f=n.isStepper?v:b,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}});function Tx(t){"@babel/helpers - typeof";return Tx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tx(t)}var hBe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function pBe(t,e){if(t==null)return{};var n=mBe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mBe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function CD(t){return xBe(t)||yBe(t)||vBe(t)||gBe()}function gBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vBe(t,e){if(t){if(typeof t=="string")return d5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d5(t,e)}}function yBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xBe(t){if(Array.isArray(t))return d5(t)}function d5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cK(Object(n),!0).forEach(function(r){w1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function w1(t,e,n){return e=Cce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wBe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Cce(r.key),r)}}function _Be(t,e,n){return e&&wBe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cce(t){var e=SBe(t,"string");return Tx(e)==="symbol"?e:String(e)}function SBe(t,e){if(Tx(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tx(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f5(t,e)}function f5(t,e){return f5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},f5(t,e)}function MBe(t){var e=TBe();return function(){var r=hC(t),i;if(e){var s=hC(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return h5(this,i)}}function h5(t,e){if(e&&(Tx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p5(t)}function p5(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TBe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function hC(t){return hC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hC(t)}var Np=(function(t){EBe(n,t);var e=MBe(n);function n(r,i){var s;bBe(this,n),s=e.call(this,r,i);var a=s.props,o=a.isActive,l=a.attributeName,c=a.from,d=a.to,f=a.steps,h=a.children,m=a.duration;if(s.handleStyleChange=s.handleStyleChange.bind(p5(s)),s.changeStyle=s.changeStyle.bind(p5(s)),!o||m<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:d}),h5(s);if(f&&f.length)s.state={style:f[0].style};else if(c){if(typeof h=="function")return s.state={style:c},h5(s);s.state={style:l?w1({},l,c):c}}else s.state={style:{}};return s}return _Be(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,a=i.canBegin;this.mounted=!0,!(!s||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,a=s.isActive,o=s.canBegin,l=s.attributeName,c=s.shouldReAnimate,d=s.to,f=s.from,h=this.state.style;if(o){if(!a){var m={style:l?w1({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(m);return}if(!(OUe(i.to,d)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=v||c?f:i.to;if(this.state&&h){var y={style:l?w1({},l,b):b};(l&&h[l]!==b||!l&&h!==b)&&this.setState(y)}this.runAnimation(Mc(Mc({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,a=i.from,o=i.to,l=i.duration,c=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,m=fBe(a,o,tBe(c),l,this.changeStyle),v=function(){s.stopJSAnimation=m()};this.manager.start([h,d,v,l,f])}},{key:"runStepAnimation",value:function(i){var s=this,a=i.steps,o=i.begin,l=i.onAnimationStart,c=a[0],d=c.style,f=c.duration,h=f===void 0?0:f,m=function(b,y,w){if(w===0)return b;var S=y.duration,M=y.easing,T=M===void 0?"ease":M,A=y.style,C=y.properties,j=y.onAnimationEnd,L=w>0?a[w-1]:y,O=C||Object.keys(A);if(typeof T=="function"||T==="spring")return[].concat(CD(b),[s.runJSAnimation.bind(s,{from:L.style,to:A,duration:S,easing:T}),S]);var k=iK(O,S,T),F=Mc(Mc(Mc({},L.style),A),{},{transition:k});return[].concat(CD(b),[F,S,j]).filter($Ue)};return this.manager.start([l].concat(CD(a.reduce(m,[d,Math.max(h,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=UUe());var s=i.begin,a=i.duration,o=i.attributeName,l=i.to,c=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,m=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof c=="function"||typeof m=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var b=o?w1({},o,l):l,y=iK(Object.keys(b),a,c);v.start([d,s,Mc(Mc({},b),{},{transition:y}),a,f])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=pBe(i,hBe),c=N.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!o||c===0||a<=0)return s;var f=function(m){var v=m.props,b=v.style,y=b===void 0?{}:b,w=v.className,S=N.cloneElement(m,Mc(Mc({},l),{},{style:Mc(Mc({},y),d),className:w}));return S};return c===1?f(N.Children.only(s)):se.createElement("div",null,N.Children.map(s,function(h){return f(h)}))}}]),n})(N.PureComponent);Np.displayName="Animate";Np.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Np.propTypes={from:be.oneOfType([be.object,be.string]),to:be.oneOfType([be.object,be.string]),attributeName:be.string,duration:be.number,begin:be.number,easing:be.oneOfType([be.string,be.func]),steps:be.arrayOf(be.shape({duration:be.number.isRequired,style:be.object.isRequired,easing:be.oneOfType([be.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),be.func]),properties:be.arrayOf("string"),onAnimationEnd:be.func})),children:be.oneOfType([be.node,be.func]),isActive:be.bool,canBegin:be.bool,onAnimationEnd:be.func,shouldReAnimate:be.bool,onAnimationStart:be.func,onAnimationReStart:be.func};function r0(){return r0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r0.apply(null,arguments)}function fS(t){"@babel/helpers - typeof";return fS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fS(t)}function pC(){return pC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pC.apply(this,arguments)}function ABe(t,e){return RBe(t)||NBe(t,e)||PBe(t,e)||CBe()}function CBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PBe(t,e){if(t){if(typeof t=="string")return uK(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uK(t,e)}}function uK(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function NBe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function RBe(t){if(Array.isArray(t))return t}function dK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dK(Object(n),!0).forEach(function(r){OBe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OBe(t,e,n){return e=jBe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jBe(t){var e=IBe(t,"string");return fS(e)=="symbol"?e:e+""}function IBe(t,e){if(fS(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hK=function(e,n,r,i,s){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),o=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,d;if(a>0&&s instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=s[h]>a?a:s[h];d="M".concat(e,",").concat(n+o*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+l*f[0],",").concat(n)),d+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+o*f[1])),d+="L ".concat(e+r,",").concat(n+i-o*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),d+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-o*f[3])),d+="Z"}else if(a>0&&s===+s&&s>0){var v=Math.min(a,s);d="M ".concat(e,",").concat(n+o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+l*v,",").concat(n,`
            L `).concat(e+r-l*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+r,",").concat(n+o*v,`
            L `).concat(e+r,",").concat(n+i-o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+r-l*v,",").concat(n+i,`
            L `).concat(e+l*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e,",").concat(n+i-o*v," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},kBe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,s=n.x,a=n.y,o=n.width,l=n.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(s,s+o),d=Math.max(s,s+o),f=Math.min(a,a+l),h=Math.max(a,a+l);return r>=c&&r<=d&&i>=f&&i<=h}return!1},DBe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},j6=function(e){var n=fK(fK({},DBe),e),r=N.useRef(),i=N.useState(-1),s=ABe(i,2),a=s[0],o=s[1];N.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&o(T)}catch{}},[]);var l=n.x,c=n.y,d=n.width,f=n.height,h=n.radius,m=n.className,v=n.animationEasing,b=n.animationDuration,y=n.animationBegin,w=n.isAnimationActive,S=n.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||d===0||f===0)return null;var M=yr("recharts-rectangle",m);return S?se.createElement(Np,{canBegin:a>0,from:{width:d,height:f,x:l,y:c},to:{width:d,height:f,x:l,y:c},duration:b,animationEasing:v,isActive:S},function(T){var A=T.width,C=T.height,j=T.x,L=T.y;return se.createElement(Np,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:b,isActive:w,easing:v},se.createElement("path",pC({},Sr(n,!0),{className:M,d:hK(j,L,A,C,h),ref:r})))}):se.createElement("path",pC({},Sr(n,!0),{className:M,d:hK(l,c,d,f,h)}))};function m5(){return m5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},m5.apply(this,arguments)}var Pce=function(e){var n=e.cx,r=e.cy,i=e.r,s=e.className,a=yr("recharts-dot",s);return n===+n&&r===+r&&i===+i?N.createElement("circle",m5({},Sr(e,!1),DA(e),{className:a,cx:n,cy:r,r:i})):null};function hS(t){"@babel/helpers - typeof";return hS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hS(t)}var LBe=["x","y","top","left","width","height","className"];function g5(){return g5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g5.apply(this,arguments)}function pK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FBe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pK(Object(n),!0).forEach(function(r){UBe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UBe(t,e,n){return e=BBe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BBe(t){var e=zBe(t,"string");return hS(e)=="symbol"?e:e+""}function zBe(t,e){if(hS(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VBe(t,e){if(t==null)return{};var n=$Be(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $Be(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var HBe=function(e,n,r,i,s,a){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},WBe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,a=e.top,o=a===void 0?0:a,l=e.left,c=l===void 0?0:l,d=e.width,f=d===void 0?0:d,h=e.height,m=h===void 0?0:h,v=e.className,b=VBe(e,LBe),y=FBe({x:r,y:s,top:o,left:c,width:f,height:m},b);return!St(r)||!St(s)||!St(f)||!St(m)||!St(o)||!St(c)?null:se.createElement("path",g5({},Sr(y,!0),{className:yr("recharts-cross",v),d:HBe(r,s,f,m,o,c)}))},PD,mK;function GBe(){if(mK)return PD;mK=1;var t=Xoe(),e=t(Object.getPrototypeOf,Object);return PD=e,PD}var ND,gK;function qBe(){if(gK)return ND;gK=1;var t=Zf(),e=GBe(),n=Qf(),r="[object Object]",i=Function.prototype,s=Object.prototype,a=i.toString,o=s.hasOwnProperty,l=a.call(Object);function c(d){if(!n(d)||t(d)!=r)return!1;var f=e(d);if(f===null)return!0;var h=o.call(f,"constructor")&&f.constructor;return typeof h=="function"&&h instanceof h&&a.call(h)==l}return ND=c,ND}var XBe=qBe();const YBe=pr(XBe);var RD,vK;function KBe(){if(vK)return RD;vK=1;var t=Zf(),e=Qf(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return RD=r,RD}var ZBe=KBe();const QBe=pr(ZBe);function pS(t){"@babel/helpers - typeof";return pS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pS(t)}function mC(){return mC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mC.apply(this,arguments)}function JBe(t,e){return rze(t)||nze(t,e)||tze(t,e)||eze()}function eze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tze(t,e){if(t){if(typeof t=="string")return yK(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yK(t,e)}}function yK(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nze(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function rze(t){if(Array.isArray(t))return t}function xK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xK(Object(n),!0).forEach(function(r){ize(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ize(t,e,n){return e=sze(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sze(t){var e=aze(t,"string");return pS(e)=="symbol"?e:e+""}function aze(t,e){if(pS(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wK=function(e,n,r,i,s){var a=r-i,o;return o="M ".concat(e,",").concat(n),o+="L ".concat(e+r,",").concat(n),o+="L ".concat(e+r-a/2,",").concat(n+s),o+="L ".concat(e+r-a/2-i,",").concat(n+s),o+="L ".concat(e,",").concat(n," Z"),o},oze={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},lze=function(e){var n=bK(bK({},oze),e),r=N.useRef(),i=N.useState(-1),s=JBe(i,2),a=s[0],o=s[1];N.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var M=r.current.getTotalLength();M&&o(M)}catch{}},[]);var l=n.x,c=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,m=n.className,v=n.animationEasing,b=n.animationDuration,y=n.animationBegin,w=n.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var S=yr("recharts-trapezoid",m);return w?se.createElement(Np,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:c},duration:b,animationEasing:v,isActive:w},function(M){var T=M.upperWidth,A=M.lowerWidth,C=M.height,j=M.x,L=M.y;return se.createElement(Np,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:b,easing:v},se.createElement("path",mC({},Sr(n,!0),{className:S,d:wK(j,L,T,A,C),ref:r})))}):se.createElement("g",null,se.createElement("path",mC({},Sr(n,!0),{className:S,d:wK(l,c,d,f,h)})))},cze=["option","shapeType","propTransformer","activeClassName","isActive"];function mS(t){"@babel/helpers - typeof";return mS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mS(t)}function uze(t,e){if(t==null)return{};var n=dze(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dze(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _K(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_K(Object(n),!0).forEach(function(r){fze(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_K(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fze(t,e,n){return e=hze(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hze(t){var e=pze(t,"string");return mS(e)=="symbol"?e:e+""}function pze(t,e){if(mS(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mze(t,e){return gC(gC({},e),t)}function gze(t,e){return t==="symbols"}function SK(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return se.createElement(j6,n);case"trapezoid":return se.createElement(lze,n);case"sector":return se.createElement(wce,n);case"symbols":if(gze(e))return se.createElement(Zz,n);break;default:return null}}function vze(t){return N.isValidElement(t)?t.props:t}function yze(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?mze:r,s=t.activeClassName,a=s===void 0?"recharts-active-shape":s,o=t.isActive,l=uze(t,cze),c;if(N.isValidElement(e))c=N.cloneElement(e,gC(gC({},l),vze(e)));else if(rr(e))c=e(l);else if(YBe(e)&&!QBe(e)){var d=i(e,l);c=se.createElement(SK,{shapeType:n,elementProps:d})}else{var f=l;c=se.createElement(SK,{shapeType:n,elementProps:f})}return o?se.createElement(Ls,{className:a},c):c}function hR(t,e){return e!=null&&"trapezoids"in t.props}function pR(t,e){return e!=null&&"sectors"in t.props}function gS(t,e){return e!=null&&"points"in t.props}function xze(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,s=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&s}function bze(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function wze(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function _ze(t,e){var n;return hR(t,e)?n=xze:pR(t,e)?n=bze:gS(t,e)&&(n=wze),n}function Sze(t,e){var n;return hR(t,e)?n="trapezoids":pR(t,e)?n="sectors":gS(t,e)&&(n="points"),n}function Eze(t,e){if(hR(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(pR(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return gS(t,e)?e.payload:{}}function Mze(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Sze(n,e),s=Eze(n,e),a=r.filter(function(l,c){var d=P6(s,l),f=n.props[i].filter(function(v){var b=_ze(n,e);return b(v,e)}),h=n.props[i].indexOf(f[f.length-1]),m=c===h;return d&&m}),o=r.indexOf(a[a.length-1]);return o}var OD,EK;function Tze(){if(EK)return OD;EK=1;var t=Math.ceil,e=Math.max;function n(r,i,s,a){for(var o=-1,l=e(t((i-r)/(s||1)),0),c=Array(l);l--;)c[a?l:++o]=r,r+=s;return c}return OD=n,OD}var jD,MK;function Nce(){if(MK)return jD;MK=1;var t=ule(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var s=i<0?-1:1;return s*n}return i===i?i:0}return jD=r,jD}var ID,TK;function Aze(){if(TK)return ID;TK=1;var t=Tze(),e=tR(),n=Nce();function r(i){return function(s,a,o){return o&&typeof o!="number"&&e(s,a,o)&&(a=o=void 0),s=n(s),a===void 0?(a=s,s=0):a=n(a),o=o===void 0?s<a?1:-1:n(o),t(s,a,o,i)}}return ID=r,ID}var kD,AK;function Cze(){if(AK)return kD;AK=1;var t=Aze(),e=t();return kD=e,kD}var Pze=Cze();const vC=pr(Pze);function vS(t){"@babel/helpers - typeof";return vS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vS(t)}function CK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CK(Object(n),!0).forEach(function(r){Rce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rce(t,e,n){return e=Nze(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nze(t){var e=Rze(t,"string");return vS(e)=="symbol"?e:e+""}function Rze(t,e){if(vS(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Oze=["Webkit","Moz","O","ms"],jze=function(e,n){var r=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=Oze.reduce(function(s,a){return PK(PK({},s),{},Rce({},a+r,n))},{});return i[e]=n,i};function Ax(t){"@babel/helpers - typeof";return Ax=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ax(t)}function yC(){return yC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yC.apply(this,arguments)}function NK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NK(Object(n),!0).forEach(function(r){Ko(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ize(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jce(r.key),r)}}function kze(t,e,n){return e&&RK(t.prototype,e),n&&RK(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dze(t,e,n){return e=xC(e),Lze(t,Oce()?Reflect.construct(e,n||[],xC(t).constructor):e.apply(t,n))}function Lze(t,e){if(e&&(Ax(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fze(t)}function Fze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Oce(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Oce=function(){return!!t})()}function xC(t){return xC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xC(t)}function Uze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v5(t,e)}function v5(t,e){return v5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},v5(t,e)}function Ko(t,e,n){return e=jce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jce(t){var e=Bze(t,"string");return Ax(e)=="symbol"?e:e+""}function Bze(t,e){if(Ax(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ax(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zze=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,s=e.x,a=e.width,o=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=G1().domain(vC(0,l)).range([s,s+a-o]),d=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:d}},OK=function(e){return e.changedTouches&&!!e.changedTouches.length},Cx=(function(t){function e(n){var r;return Ize(this,e),r=Dze(this,e,[n]),Ko(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Ko(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Ko(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,a=i.onDragEnd,o=i.startIndex;a?.({endIndex:s,startIndex:o})}),r.detachDragEndListener()}),Ko(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Ko(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Ko(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Ko(r,"handleSlideDragStart",function(i){var s=OK(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Uze(e,t),kze(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,a=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,d=c.length-1,f=Math.min(i,s),h=Math.max(i,s),m=e.getIndexInRange(a,f),v=e.getIndexInRange(a,h);return{startIndex:m-m%l,endIndex:v===d?d:v-v%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,a=i.tickFormatter,o=i.dataKey,l=od(s[r],o,r);return rr(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,a=i.startX,o=i.endX,l=this.props,c=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,m=l.endIndex,v=l.onChange,b=r.pageX-s;b>0?b=Math.min(b,c+d-f-o,c+d-f-a):b<0&&(b=Math.max(b,c-a,c-o));var y=this.getIndex({startX:a+b,endX:o+b});(y.startIndex!==h||y.endIndex!==m)&&v&&v(y),this.setState({startX:a+b,endX:o+b,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=OK(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,a=i.movingTravellerId,o=i.endX,l=i.startX,c=this.state[a],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,v=d.onChange,b=d.gap,y=d.data,w={startX:this.state.startX,endX:this.state.endX},S=r.pageX-s;S>0?S=Math.min(S,f+h-m-c):S<0&&(S=Math.max(S,f-c)),w[a]=c+S;var M=this.getIndex(w),T=M.startIndex,A=M.endIndex,C=function(){var L=y.length-1;return a==="startX"&&(o>l?T%b===0:A%b===0)||o<l&&A===L||a==="endX"&&(o>l?A%b===0:T%b===0)||o>l&&A===L};this.setState(Ko(Ko({},a,c+S),"brushMoveStartX",r.pageX),function(){v&&C()&&v(M)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,a=this.state,o=a.scaleValues,l=a.startX,c=a.endX,d=this.state[i],f=o.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=o.length)){var m=o[h];i==="startX"&&m>=c||i==="endX"&&m<=l||this.setState(Ko({},i,m),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,l=r.fill,c=r.stroke;return se.createElement("rect",{stroke:c,fill:l,x:i,y:s,width:a,height:o})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,l=r.data,c=r.children,d=r.padding,f=N.Children.only(c);return f?se.cloneElement(f,{x:i,y:s,width:a,height:o,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,a,o=this,l=this.props,c=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,m=l.ariaLabel,v=l.data,b=l.startIndex,y=l.endIndex,w=Math.max(r,this.props.x),S=DD(DD({},Sr(this.props,!1)),{},{x:w,y:c,width:d,height:f}),M=m||"Min value: ".concat((s=v[b])===null||s===void 0?void 0:s.name,", Max value: ").concat((a=v[y])===null||a===void 0?void 0:a.name);return se.createElement(Ls,{tabIndex:0,role:"slider","aria-label":M,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(A){["ArrowLeft","ArrowRight"].includes(A.key)&&(A.preventDefault(),A.stopPropagation(),o.handleTravellerMoveKeyboard(A.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,S))}},{key:"renderSlide",value:function(r,i){var s=this.props,a=s.y,o=s.height,l=s.stroke,c=s.travellerWidth,d=Math.min(r,i)+c,f=Math.max(Math.abs(i-r)-c,0);return se.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:a,width:f,height:o})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,a=r.y,o=r.height,l=r.travellerWidth,c=r.stroke,d=this.state,f=d.startX,h=d.endX,m=5,v={pointerEvents:"none",fill:c};return se.createElement(Ls,{className:"recharts-brush-texts"},se.createElement(XA,yC({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:a+o/2},v),this.getTextOfTick(i)),se.createElement(XA,yC({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+m,y:a+o/2},v),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,a=r.children,o=r.x,l=r.y,c=r.width,d=r.height,f=r.alwaysShowText,h=this.state,m=h.startX,v=h.endX,b=h.isTextActive,y=h.isSlideMoving,w=h.isTravellerMoving,S=h.isTravellerFocused;if(!i||!i.length||!St(o)||!St(l)||!St(c)||!St(d)||c<=0||d<=0)return null;var M=yr("recharts-brush",s),T=se.Children.count(a)===1,A=jze("userSelect","none");return se.createElement(Ls,{className:M,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:A},this.renderBackground(),T&&this.renderPanorama(),this.renderSlide(m,v),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(v,"endX"),(b||y||w||S||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,a=r.width,o=r.height,l=r.stroke,c=Math.floor(s+o/2)-1;return se.createElement(se.Fragment,null,se.createElement("rect",{x:i,y:s,width:a,height:o,fill:l,stroke:"none"}),se.createElement("line",{x1:i+1,y1:c,x2:i+a-1,y2:c,fill:"none",stroke:"#fff"}),se.createElement("line",{x1:i+1,y1:c+2,x2:i+a-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return se.isValidElement(r)?s=se.cloneElement(r,i):rr(r)?s=r(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,a=r.width,o=r.x,l=r.travellerWidth,c=r.updateId,d=r.startIndex,f=r.endIndex;if(s!==i.prevData||c!==i.prevUpdateId)return DD({prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:a},s&&s.length?zze({data:s,width:a,x:o,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+a-l]);var h=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,a=0,o=s-1;o-a>1;){var l=Math.floor((a+o)/2);r[l]>i?o=l:a=l}return i>=r[o]?o:a}}])})(N.PureComponent);Ko(Cx,"displayName","Brush");Ko(Cx,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var LD,jK;function Vze(){if(jK)return LD;jK=1;var t=i6();function e(n,r){var i;return t(n,function(s,a,o){return i=r(s,a,o),!i}),!!i}return LD=e,LD}var FD,IK;function $ze(){if(IK)return FD;IK=1;var t=zoe(),e=Bp(),n=Vze(),r=Io(),i=tR();function s(a,o,l){var c=r(a)?t:n;return l&&i(a,o,l)&&(o=void 0),c(a,e(o,3))}return FD=s,FD}var Hze=$ze();const Wze=pr(Hze);var Ju=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},UD,kK;function Gze(){if(kK)return UD;kK=1;var t=sle();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return UD=e,UD}var BD,DK;function qze(){if(DK)return BD;DK=1;var t=Gze(),e=rle(),n=Bp();function r(i,s){var a={};return s=n(s,3),e(i,function(o,l,c){t(a,l,s(o,l,c))}),a}return BD=r,BD}var Xze=qze();const Yze=pr(Xze);var zD,LK;function Kze(){if(LK)return zD;LK=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return zD=t,zD}var VD,FK;function Zze(){if(FK)return VD;FK=1;var t=i6();function e(n,r){var i=!0;return t(n,function(s,a,o){return i=!!r(s,a,o),i}),i}return VD=e,VD}var $D,UK;function Qze(){if(UK)return $D;UK=1;var t=Kze(),e=Zze(),n=Bp(),r=Io(),i=tR();function s(a,o,l){var c=r(a)?t:e;return l&&i(a,o,l)&&(o=void 0),c(a,n(o,3))}return $D=s,$D}var Jze=Qze();const Ice=pr(Jze);var e6e=["x","y"];function yS(t){"@babel/helpers - typeof";return yS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yS(t)}function y5(){return y5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y5.apply(this,arguments)}function BK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BK(Object(n),!0).forEach(function(r){t6e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function t6e(t,e,n){return e=n6e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n6e(t){var e=r6e(t,"string");return yS(e)=="symbol"?e:e+""}function r6e(t,e){if(yS(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function i6e(t,e){if(t==null)return{};var n=s6e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function s6e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function a6e(t,e){var n=t.x,r=t.y,i=i6e(t,e6e),s="".concat(n),a=parseInt(s,10),o="".concat(r),l=parseInt(o,10),c="".concat(e.height||i.height),d=parseInt(c,10),f="".concat(e.width||i.width),h=parseInt(f,10);return zw(zw(zw(zw(zw({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function zK(t){return se.createElement(yze,y5({shapeType:"rectangle",propTransformer:a6e,activeClassName:"recharts-active-bar"},t))}var o6e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var s=St(r)||vOe(r);return s?e(r,i):(s||n0(),n)}},l6e=["value","background"],kce;function Px(t){"@babel/helpers - typeof";return Px=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Px(t)}function c6e(t,e){if(t==null)return{};var n=u6e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function u6e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function bC(){return bC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bC.apply(this,arguments)}function VK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function is(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VK(Object(n),!0).forEach(function(r){rp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $K(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Lce(r.key),r)}}function f6e(t,e,n){return e&&$K(t.prototype,e),n&&$K(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function h6e(t,e,n){return e=wC(e),p6e(t,Dce()?Reflect.construct(e,n||[],wC(t).constructor):e.apply(t,n))}function p6e(t,e){if(e&&(Px(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m6e(t)}function m6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dce(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Dce=function(){return!!t})()}function wC(t){return wC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wC(t)}function g6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x5(t,e)}function x5(t,e){return x5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},x5(t,e)}function rp(t,e,n){return e=Lce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lce(t){var e=v6e(t,"string");return Px(e)=="symbol"?e:e+""}function v6e(t,e){if(Px(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Px(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Rp=(function(t){function e(){var n;d6e(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=h6e(this,e,[].concat(i)),rp(n,"state",{isAnimationFinished:!1}),rp(n,"id",XN("recharts-bar-")),rp(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),rp(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return g6e(e,t),f6e(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,s=this.props,a=s.shape,o=s.dataKey,l=s.activeIndex,c=s.activeBar,d=Sr(this.props,!1);return r&&r.map(function(f,h){var m=h===l,v=m?c:a,b=is(is(is({},d),f),{},{isActive:m,option:v,index:h,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return se.createElement(Ls,bC({className:"recharts-bar-rectangle"},LA(i.props,f,h),{key:"rectangle-".concat(f?.x,"-").concat(f?.y,"-").concat(f?.value,"-").concat(h)}),se.createElement(zK,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,s=i.data,a=i.layout,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return se.createElement(Np,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var v=m.t,b=s.map(function(y,w){var S=h&&h[w];if(S){var M=Fv(S.x,y.x),T=Fv(S.y,y.y),A=Fv(S.width,y.width),C=Fv(S.height,y.height);return is(is({},y),{},{x:M(v),y:T(v),width:A(v),height:C(v)})}if(a==="horizontal"){var j=Fv(0,y.height),L=j(v);return is(is({},y),{},{y:y.y+y.height-L,height:L})}var O=Fv(0,y.width),k=O(v);return is(is({},y),{},{width:k})});return se.createElement(Ls,null,r.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,s=r.isAnimationActive,a=this.state.prevData;return s&&i&&i.length&&(!a||!P6(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,s=i.data,a=i.dataKey,o=i.activeIndex,l=Sr(this.props.background,!1);return s.map(function(c,d){c.value;var f=c.background,h=c6e(c,l6e);if(!f)return null;var m=is(is(is(is(is({},h),{},{fill:"#eee"},f),l),LA(r.props,c,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:d,className:"recharts-bar-background-rectangle"});return se.createElement(zK,bC({key:"background-bar-".concat(d),option:r.props.background,isActive:d===o},m))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.data,o=s.xAxis,l=s.yAxis,c=s.layout,d=s.children,f=Yc(d,fR);if(!f)return null;var h=c==="vertical"?a[0].height/2:a[0].width/2,m=function(y,w){var S=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:S,errorVal:od(y,w)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return se.createElement(Ls,v,f.map(function(b){return se.cloneElement(b,{key:"error-bar-".concat(i,"-").concat(b.props.dataKey),data:a,xAxis:o,yAxis:l,layout:c,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.data,a=r.className,o=r.xAxis,l=r.yAxis,c=r.left,d=r.top,f=r.width,h=r.height,m=r.isAnimationActive,v=r.background,b=r.id;if(i||!s||!s.length)return null;var y=this.state.isAnimationFinished,w=yr("recharts-bar",a),S=o&&o.allowDataOverflow,M=l&&l.allowDataOverflow,T=S||M,A=Er(b)?this.id:b;return se.createElement(Ls,{className:w},S||M?se.createElement("defs",null,se.createElement("clipPath",{id:"clipPath-".concat(A)},se.createElement("rect",{x:S?c:c-f/2,y:M?d:d-h/2,width:S?f:f*2,height:M?h:h*2}))):null,se.createElement(Ls,{className:"recharts-bar-rectangles",clipPath:T?"url(#clipPath-".concat(A,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(T,A),(!m||y)&&kg.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])})(N.PureComponent);kce=Rp;rp(Rp,"displayName","Bar");rp(Rp,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!_E.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});rp(Rp,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,s=t.xAxis,a=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,m=DFe(r,n);if(!m)return null;var v=e.layout,b=n.type.defaultProps,y=b!==void 0?is(is({},b),n.props):n.props,w=y.dataKey,S=y.children,M=y.minPointSize,T=v==="horizontal"?a:s,A=c?T.scale.domain():null,C=HFe({numericAxis:T}),j=Yc(S,fle),L=f.map(function(O,k){var F,G,Y,U,W,q;c?F=LFe(c[d+k],A):(F=od(O,w),Array.isArray(F)||(F=[C,F]));var Z=o6e(M,kce.defaultProps.minPointSize)(F[1],k);if(v==="horizontal"){var V,Q=[a.scale(F[0]),a.scale(F[1])],ee=Q[0],$=Q[1];G=MY({axis:s,ticks:o,bandSize:i,offset:m.offset,entry:O,index:k}),Y=(V=$??ee)!==null&&V!==void 0?V:void 0,U=m.size;var J=ee-$;if(W=Number.isNaN(J)?0:J,q={x:G,y:a.y,width:U,height:a.height},Math.abs(Z)>0&&Math.abs(W)<Math.abs(Z)){var de=Vc(W||Z)*(Math.abs(Z)-Math.abs(W));Y-=de,W+=de}}else{var Ae=[s.scale(F[0]),s.scale(F[1])],Ue=Ae[0],ge=Ae[1];if(G=Ue,Y=MY({axis:a,ticks:l,bandSize:i,offset:m.offset,entry:O,index:k}),U=ge-Ue,W=m.size,q={x:s.x,y:Y,width:s.width,height:W},Math.abs(Z)>0&&Math.abs(U)<Math.abs(Z)){var pe=Vc(U||Z)*(Math.abs(Z)-Math.abs(U));U+=pe}}return is(is(is({},O),{},{x:G,y:Y,width:U,height:W,value:c?F:F[1],payload:O,background:q},j&&j[k]&&j[k].props),{},{tooltipPayload:[yce(n,O)],tooltipPosition:{x:G+U/2,y:Y+W/2}})});return is({data:L,layout:v},h)});function xS(t){"@babel/helpers - typeof";return xS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xS(t)}function y6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Fce(r.key),r)}}function x6e(t,e,n){return e&&HK(t.prototype,e),n&&HK(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function WK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WK(Object(n),!0).forEach(function(r){mR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mR(t,e,n){return e=Fce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fce(t){var e=b6e(t,"string");return xS(e)=="symbol"?e:e+""}function b6e(t,e){if(xS(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var w6e=function(e,n,r,i,s){var a=e.width,o=e.height,l=e.layout,c=e.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},h=!!Zo(c,Rp);return d.reduce(function(m,v){var b=n[v],y=b.orientation,w=b.domain,S=b.padding,M=S===void 0?{}:S,T=b.mirror,A=b.reversed,C="".concat(y).concat(T?"Mirror":""),j,L,O,k,F;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var G=w[1]-w[0],Y=1/0,U=b.categoricalDomain.sort(bOe);if(U.forEach(function(Ae,Ue){Ue>0&&(Y=Math.min((Ae||0)-(U[Ue-1]||0),Y))}),Number.isFinite(Y)){var W=Y/G,q=b.layout==="vertical"?r.height:r.width;if(b.padding==="gap"&&(j=W*q/2),b.padding==="no-gap"){var Z=e0(e.barCategoryGap,W*q),V=W*q/2;j=V-Z-(V-Z)/q*Z}}}i==="xAxis"?L=[r.left+(M.left||0)+(j||0),r.left+r.width-(M.right||0)-(j||0)]:i==="yAxis"?L=l==="horizontal"?[r.top+r.height-(M.bottom||0),r.top+(M.top||0)]:[r.top+(M.top||0)+(j||0),r.top+r.height-(M.bottom||0)-(j||0)]:L=b.range,A&&(L=[L[1],L[0]]);var Q=IFe(b,s,h),ee=Q.scale,$=Q.realScaleType;ee.domain(w).range(L),kFe(ee);var J=$Fe(ee,Oc(Oc({},b),{},{realScaleType:$}));i==="xAxis"?(F=y==="top"&&!T||y==="bottom"&&T,O=r.left,k=f[C]-F*b.height):i==="yAxis"&&(F=y==="left"&&!T||y==="right"&&T,O=f[C]-F*b.width,k=r.top);var de=Oc(Oc(Oc({},b),J),{},{realScaleType:$,x:O,y:k,scale:ee,width:i==="xAxis"?r.width:b.width,height:i==="yAxis"?r.height:b.height});return de.bandSize=lC(de,J),!b.hide&&i==="xAxis"?f[C]+=(F?-1:1)*de.height:b.hide||(f[C]+=(F?-1:1)*de.width),Oc(Oc({},m),{},mR({},v,de))},{})},Uce=function(e,n){var r=e.x,i=e.y,s=n.x,a=n.y;return{x:Math.min(r,s),y:Math.min(i,a),width:Math.abs(s-r),height:Math.abs(a-i)}},_6e=function(e){var n=e.x1,r=e.y1,i=e.x2,s=e.y2;return Uce({x:n,y:r},{x:i,y:s})},Bce=(function(){function t(e){y6e(this,t),this.scale=e}return x6e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(n)+o}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])})();mR(Bce,"EPS",1e-4);var I6=function(e){var n=Object.keys(e).reduce(function(r,i){return Oc(Oc({},r),{},mR({},i,Bce.create(e[i])))},{});return Oc(Oc({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,o=s.position;return Yze(i,function(l,c){return n[c].apply(l,{bandAware:a,position:o})})},isInRange:function(i){return Ice(i,function(s,a){return n[a].isInRange(s)})}})};function S6e(t){return(t%180+180)%180}var E6e=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=S6e(i),a=s*Math.PI/180,o=Math.atan(r/n),l=a>o&&a<Math.PI-o?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},HD,GK;function M6e(){if(GK)return HD;GK=1;var t=Bp(),e=wE(),n=JN();function r(i){return function(s,a,o){var l=Object(s);if(!e(s)){var c=t(a,3);s=n(s),a=function(f){return c(l[f],f,l)}}var d=i(s,a,o);return d>-1?l[c?s[d]:d]:void 0}}return HD=r,HD}var WD,qK;function T6e(){if(qK)return WD;qK=1;var t=Nce();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return WD=e,WD}var GD,XK;function A6e(){if(XK)return GD;XK=1;var t=Qoe(),e=Bp(),n=T6e(),r=Math.max;function i(s,a,o){var l=s==null?0:s.length;if(!l)return-1;var c=o==null?0:n(o);return c<0&&(c=r(l+c,0)),t(s,e(a,3),c)}return GD=i,GD}var qD,YK;function C6e(){if(YK)return qD;YK=1;var t=M6e(),e=A6e(),n=t(e);return qD=n,qD}var P6e=C6e();const N6e=pr(P6e);var R6e=poe();const O6e=pr(R6e);var j6e=O6e(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),k6=N.createContext(void 0),D6=N.createContext(void 0),zce=N.createContext(void 0),Vce=N.createContext({}),$ce=N.createContext(void 0),Hce=N.createContext(0),Wce=N.createContext(0),KK=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,s=n.offset,a=e.clipPathId,o=e.children,l=e.width,c=e.height,d=j6e(s);return se.createElement(k6.Provider,{value:r},se.createElement(D6.Provider,{value:i},se.createElement(Vce.Provider,{value:s},se.createElement(zce.Provider,{value:d},se.createElement($ce.Provider,{value:a},se.createElement(Hce.Provider,{value:c},se.createElement(Wce.Provider,{value:l},o)))))))},I6e=function(){return N.useContext($ce)},Gce=function(e){var n=N.useContext(k6);n==null&&n0();var r=n[e];return r==null&&n0(),r},k6e=function(){var e=N.useContext(k6);return Jh(e)},D6e=function(){var e=N.useContext(D6),n=N6e(e,function(r){return Ice(r.domain,Number.isFinite)});return n||Jh(e)},qce=function(e){var n=N.useContext(D6);n==null&&n0();var r=n[e];return r==null&&n0(),r},L6e=function(){var e=N.useContext(zce);return e},F6e=function(){return N.useContext(Vce)},L6=function(){return N.useContext(Wce)},F6=function(){return N.useContext(Hce)};function Nx(t){"@babel/helpers - typeof";return Nx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nx(t)}function U6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B6e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Yce(r.key),r)}}function z6e(t,e,n){return e&&B6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function V6e(t,e,n){return e=_C(e),$6e(t,Xce()?Reflect.construct(e,n||[],_C(t).constructor):e.apply(t,n))}function $6e(t,e){if(e&&(Nx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H6e(t)}function H6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xce(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xce=function(){return!!t})()}function _C(t){return _C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_C(t)}function W6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b5(t,e)}function b5(t,e){return b5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},b5(t,e)}function ZK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZK(Object(n),!0).forEach(function(r){U6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function U6(t,e,n){return e=Yce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yce(t){var e=G6e(t,"string");return Nx(e)=="symbol"?e:e+""}function G6e(t,e){if(Nx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function q6e(t,e){return Z6e(t)||K6e(t,e)||Y6e(t,e)||X6e()}function X6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y6e(t,e){if(t){if(typeof t=="string")return JK(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JK(t,e)}}function JK(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function K6e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function Z6e(t){if(Array.isArray(t))return t}function w5(){return w5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w5.apply(this,arguments)}var Q6e=function(e,n){var r;return se.isValidElement(e)?r=se.cloneElement(e,n):rr(e)?r=e(n):r=se.createElement("line",w5({},n,{className:"recharts-reference-line-line"})),r},J6e=function(e,n,r,i,s,a,o,l,c){var d=s.x,f=s.y,h=s.width,m=s.height;if(r){var v=c.y,b=e.y.apply(v,{position:a});if(Ju(c,"discard")&&!e.y.isInRange(b))return null;var y=[{x:d+h,y:b},{x:d,y:b}];return l==="left"?y.reverse():y}if(n){var w=c.x,S=e.x.apply(w,{position:a});if(Ju(c,"discard")&&!e.x.isInRange(S))return null;var M=[{x:S,y:f+m},{x:S,y:f}];return o==="top"?M.reverse():M}if(i){var T=c.segment,A=T.map(function(C){return e.apply(C,{position:a})});return Ju(c,"discard")&&Wze(A,function(C){return!e.isInRange(C)})?null:A}return null};function e8e(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,s=t.yAxisId,a=t.shape,o=t.className,l=t.alwaysShow,c=I6e(),d=Gce(i),f=qce(s),h=L6e();if(!c||!h)return null;kf(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=I6({x:d.scale,y:f.scale}),v=bs(e),b=bs(n),y=r&&r.length===2,w=J6e(m,v,b,y,h,t.position,d.orientation,f.orientation,t);if(!w)return null;var S=q6e(w,2),M=S[0],T=M.x,A=M.y,C=S[1],j=C.x,L=C.y,O=Ju(t,"hidden")?"url(#".concat(c,")"):void 0,k=QK(QK({clipPath:O},Sr(t,!0)),{},{x1:T,y1:A,x2:j,y2:L});return se.createElement(Ls,{className:yr("recharts-reference-line",o)},Q6e(a,k),_a.renderCallByParent(t,_6e({x1:T,y1:A,x2:j,y2:L})))}var B6=(function(t){function e(){return U6e(this,e),V6e(this,e,arguments)}return W6e(e,t),z6e(e,[{key:"render",value:function(){return se.createElement(e8e,this.props)}}])})(se.Component);U6(B6,"displayName","ReferenceLine");U6(B6,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function _5(){return _5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_5.apply(this,arguments)}function Rx(t){"@babel/helpers - typeof";return Rx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rx(t)}function eZ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eZ(Object(n),!0).forEach(function(r){gR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eZ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function t8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n8e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Zce(r.key),r)}}function r8e(t,e,n){return e&&n8e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function i8e(t,e,n){return e=SC(e),s8e(t,Kce()?Reflect.construct(e,n||[],SC(t).constructor):e.apply(t,n))}function s8e(t,e){if(e&&(Rx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a8e(t)}function a8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kce(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kce=function(){return!!t})()}function SC(t){return SC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},SC(t)}function o8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S5(t,e)}function S5(t,e){return S5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},S5(t,e)}function gR(t,e,n){return e=Zce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zce(t){var e=l8e(t,"string");return Rx(e)=="symbol"?e:e+""}function l8e(t,e){if(Rx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var c8e=function(e){var n=e.x,r=e.y,i=e.xAxis,s=e.yAxis,a=I6({x:i.scale,y:s.scale}),o=a.apply({x:n,y:r},{bandAware:!0});return Ju(e,"discard")&&!a.isInRange(o)?null:o},vR=(function(t){function e(){return t8e(this,e),i8e(this,e,arguments)}return o8e(e,t),r8e(e,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,a=r.r,o=r.alwaysShow,l=r.clipPathId,c=bs(i),d=bs(s);if(kf(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!d)return null;var f=c8e(this.props);if(!f)return null;var h=f.x,m=f.y,v=this.props,b=v.shape,y=v.className,w=Ju(this.props,"hidden")?"url(#".concat(l,")"):void 0,S=tZ(tZ({clipPath:w},Sr(this.props,!0)),{},{cx:h,cy:m});return se.createElement(Ls,{className:yr("recharts-reference-dot",y)},e.renderDot(b,S),_a.renderCallByParent(this.props,{x:h-a,y:m-a,width:2*a,height:2*a}))}}])})(se.Component);gR(vR,"displayName","ReferenceDot");gR(vR,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});gR(vR,"renderDot",function(t,e){var n;return se.isValidElement(t)?n=se.cloneElement(t,e):rr(t)?n=t(e):n=se.createElement(Pce,_5({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function E5(){return E5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E5.apply(this,arguments)}function Ox(t){"@babel/helpers - typeof";return Ox=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ox(t)}function nZ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nZ(Object(n),!0).forEach(function(r){yR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nZ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d8e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Jce(r.key),r)}}function f8e(t,e,n){return e&&d8e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function h8e(t,e,n){return e=EC(e),p8e(t,Qce()?Reflect.construct(e,n||[],EC(t).constructor):e.apply(t,n))}function p8e(t,e){if(e&&(Ox(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m8e(t)}function m8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qce(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qce=function(){return!!t})()}function EC(t){return EC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},EC(t)}function g8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M5(t,e)}function M5(t,e){return M5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},M5(t,e)}function yR(t,e,n){return e=Jce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jce(t){var e=v8e(t,"string");return Ox(e)=="symbol"?e:e+""}function v8e(t,e){if(Ox(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ox(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var y8e=function(e,n,r,i,s){var a=s.x1,o=s.x2,l=s.y1,c=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var h=I6({x:d.scale,y:f.scale}),m={x:e?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},v={x:n?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return Ju(s,"discard")&&(!h.isInRange(m)||!h.isInRange(v))?null:Uce(m,v)},xR=(function(t){function e(){return u8e(this,e),h8e(this,e,arguments)}return g8e(e,t),f8e(e,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,a=r.y1,o=r.y2,l=r.className,c=r.alwaysShow,d=r.clipPathId;kf(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=bs(i),h=bs(s),m=bs(a),v=bs(o),b=this.props.shape;if(!f&&!h&&!m&&!v&&!b)return null;var y=y8e(f,h,m,v,this.props);if(!y&&!b)return null;var w=Ju(this.props,"hidden")?"url(#".concat(d,")"):void 0;return se.createElement(Ls,{className:yr("recharts-reference-area",l)},e.renderRect(b,rZ(rZ({clipPath:w},Sr(this.props,!0)),y)),_a.renderCallByParent(this.props,y))}}])})(se.Component);yR(xR,"displayName","ReferenceArea");yR(xR,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});yR(xR,"renderRect",function(t,e){var n;return se.isValidElement(t)?n=se.cloneElement(t,e):rr(t)?n=t(e):n=se.createElement(j6,E5({},e,{className:"recharts-reference-area-rect"})),n});function eue(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function x8e(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return E6e(r,n)}function b8e(t,e,n){var r=n==="width",i=t.x,s=t.y,a=t.width,o=t.height;return e===1?{start:r?i:s,end:r?i+a:s+o}:{start:r?i+a:s+o,end:r?i:s}}function MC(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function w8e(t,e){return eue(t,e+1)}function _8e(t,e,n,r,i){for(var s=(r||[]).slice(),a=e.start,o=e.end,l=0,c=1,d=a,f=function(){var v=r?.[l];if(v===void 0)return{v:eue(r,c)};var b=l,y,w=function(){return y===void 0&&(y=n(v,b)),y},S=v.coordinate,M=l===0||MC(t,S,w,d,o);M||(l=0,d=a,c+=1),M&&(d=S+t*(w()/2+i),l+=c)},h;c<=s.length;)if(h=f(),h)return h.v;return[]}function bS(t){"@babel/helpers - typeof";return bS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bS(t)}function iZ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ba(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iZ(Object(n),!0).forEach(function(r){S8e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iZ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function S8e(t,e,n){return e=E8e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E8e(t){var e=M8e(t,"string");return bS(e)=="symbol"?e:e+""}function M8e(t,e){if(bS(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function T8e(t,e,n,r,i){for(var s=(r||[]).slice(),a=s.length,o=e.start,l=e.end,c=function(h){var m=s[h],v,b=function(){return v===void 0&&(v=n(m,h)),v};if(h===a-1){var y=t*(m.coordinate+t*b()/2-l);s[h]=m=ba(ba({},m),{},{tickCoord:y>0?m.coordinate-y*t:m.coordinate})}else s[h]=m=ba(ba({},m),{},{tickCoord:m.coordinate});var w=MC(t,m.tickCoord,b,o,l);w&&(l=m.tickCoord-t*(b()/2+i),s[h]=ba(ba({},m),{},{isShow:!0}))},d=a-1;d>=0;d--)c(d);return s}function A8e(t,e,n,r,i,s){var a=(r||[]).slice(),o=a.length,l=e.start,c=e.end;if(s){var d=r[o-1],f=n(d,o-1),h=t*(d.coordinate+t*f/2-c);a[o-1]=d=ba(ba({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var m=MC(t,d.tickCoord,function(){return f},l,c);m&&(c=d.tickCoord-t*(f/2+i),a[o-1]=ba(ba({},d),{},{isShow:!0}))}for(var v=s?o-1:o,b=function(S){var M=a[S],T,A=function(){return T===void 0&&(T=n(M,S)),T};if(S===0){var C=t*(M.coordinate-t*A()/2-l);a[S]=M=ba(ba({},M),{},{tickCoord:C<0?M.coordinate-C*t:M.coordinate})}else a[S]=M=ba(ba({},M),{},{tickCoord:M.coordinate});var j=MC(t,M.tickCoord,A,l,c);j&&(l=M.tickCoord+t*(A()/2+i),a[S]=ba(ba({},M),{},{isShow:!0}))},y=0;y<v;y++)b(y);return a}function z6(t,e,n){var r=t.tick,i=t.ticks,s=t.viewBox,a=t.minTickGap,o=t.orientation,l=t.interval,c=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(St(l)||_E.isSsr)return w8e(i,typeof l=="number"&&St(l)?l:0);var h=[],m=o==="top"||o==="bottom"?"width":"height",v=d&&m==="width"?W1(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},b=function(M,T){var A=rr(c)?c(M.value,T):M.value;return m==="width"?x8e(W1(A,{fontSize:e,letterSpacing:n}),v,f):W1(A,{fontSize:e,letterSpacing:n})[m]},y=i.length>=2?Vc(i[1].coordinate-i[0].coordinate):1,w=b8e(s,y,m);return l==="equidistantPreserveStart"?_8e(y,w,b,i,a):(l==="preserveStart"||l==="preserveStartEnd"?h=A8e(y,w,b,i,a,l==="preserveStartEnd"):h=T8e(y,w,b,i,a),h.filter(function(S){return S.isShow}))}var C8e=["viewBox"],P8e=["viewBox"],N8e=["ticks"];function jx(t){"@babel/helpers - typeof";return jx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jx(t)}function Ny(){return Ny=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ny.apply(this,arguments)}function sZ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ms(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sZ(Object(n),!0).forEach(function(r){V6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sZ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XD(t,e){if(t==null)return{};var n=R8e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function R8e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function O8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nue(r.key),r)}}function j8e(t,e,n){return e&&aZ(t.prototype,e),n&&aZ(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function I8e(t,e,n){return e=TC(e),k8e(t,tue()?Reflect.construct(e,n||[],TC(t).constructor):e.apply(t,n))}function k8e(t,e){if(e&&(jx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D8e(t)}function D8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tue(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tue=function(){return!!t})()}function TC(t){return TC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},TC(t)}function L8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T5(t,e)}function T5(t,e){return T5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},T5(t,e)}function V6(t,e,n){return e=nue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nue(t){var e=F8e(t,"string");return jx(e)=="symbol"?e:e+""}function F8e(t,e){if(jx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Sb=(function(t){function e(n){var r;return O8e(this,e),r=I8e(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return L8e(e,t),j8e(e,[{key:"shouldComponentUpdate",value:function(r,i){var s=r.viewBox,a=XD(r,C8e),o=this.props,l=o.viewBox,c=XD(o,P8e);return!Xy(s,l)||!Xy(a,c)||!Xy(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.x,a=i.y,o=i.width,l=i.height,c=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,m,v,b,y,w,S,M=f?-1:1,T=r.tickSize||d,A=St(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":m=v=r.coordinate,y=a+ +!f*l,b=y-M*T,S=b-M*h,w=A;break;case"left":b=y=r.coordinate,v=s+ +!f*o,m=v-M*T,w=m-M*h,S=A;break;case"right":b=y=r.coordinate,v=s+ +f*o,m=v+M*T,w=m+M*h,S=A;break;default:m=v=r.coordinate,y=a+ +f*l,b=y+M*T,S=b+M*h,w=A;break}return{line:{x1:m,y1:b,x2:v,y2:y},tick:{x:w,y:S}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,a;switch(i){case"left":a=s?"start":"end";break;case"right":a=s?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=s?"start":"end";break;default:a=s?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,l=r.orientation,c=r.mirror,d=r.axisLine,f=ms(ms(ms({},Sr(this.props,!1)),Sr(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=ms(ms({},f),{},{x1:i,y1:s+h*o,x2:i+a,y2:s+h*o})}else{var m=+(l==="left"&&!c||l==="right"&&c);f=ms(ms({},f),{},{x1:i+m*a,y1:s,x2:i+m*a,y2:s+o})}return se.createElement("line",Ny({},f,{className:yr("recharts-cartesian-axis-line",Wl(d,"className"))}))}},{key:"renderTicks",value:function(r,i,s){var a=this,o=this.props,l=o.tickLine,c=o.stroke,d=o.tick,f=o.tickFormatter,h=o.unit,m=z6(ms(ms({},this.props),{},{ticks:r}),i,s),v=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),y=Sr(this.props,!1),w=Sr(d,!1),S=ms(ms({},y),{},{fill:"none"},Sr(l,!1)),M=m.map(function(T,A){var C=a.getTickLineCoord(T),j=C.line,L=C.tick,O=ms(ms(ms(ms({textAnchor:v,verticalAnchor:b},y),{},{stroke:"none",fill:c},w),L),{},{index:A,payload:T,visibleTicksCount:m.length,tickFormatter:f});return se.createElement(Ls,Ny({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},LA(a.props,T,A)),l&&se.createElement("line",Ny({},S,j,{className:yr("recharts-cartesian-axis-tick-line",Wl(l,"className"))})),d&&e.renderTickItem(d,O,"".concat(rr(f)?f(T.value,A):T.value).concat(h||"")))});return se.createElement("g",{className:"recharts-cartesian-axis-ticks"},M)}},{key:"render",value:function(){var r=this,i=this.props,s=i.axisLine,a=i.width,o=i.height,l=i.ticksGenerator,c=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,m=XD(f,N8e),v=h;return rr(l)&&(v=h&&h.length>0?l(this.props):l(m)),a<=0||o<=0||!v||!v.length?null:se.createElement(Ls,{className:yr("recharts-cartesian-axis",c),ref:function(y){r.layerReference=y}},s&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),_a.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,s){var a,o=yr(i.className,"recharts-cartesian-axis-tick-value");return se.isValidElement(r)?a=se.cloneElement(r,ms(ms({},i),{},{className:o})):rr(r)?a=r(ms(ms({},i),{},{className:o})):a=se.createElement(XA,Ny({},i,{className:"recharts-cartesian-axis-tick-value"}),s),a}}])})(N.Component);V6(Sb,"displayName","CartesianAxis");V6(Sb,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var U8e=["x1","y1","x2","y2","key"],B8e=["offset"];function i0(t){"@babel/helpers - typeof";return i0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i0(t)}function oZ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oZ(Object(n),!0).forEach(function(r){z8e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oZ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function z8e(t,e,n){return e=V8e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V8e(t){var e=$8e(t,"string");return i0(e)=="symbol"?e:e+""}function $8e(t,e){if(i0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(i0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wg(){return wg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wg.apply(this,arguments)}function lZ(t,e){if(t==null)return{};var n=H8e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function H8e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var W8e=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,s=e.y,a=e.width,o=e.height,l=e.ry;return se.createElement("rect",{x:i,y:s,ry:l,width:a,height:o,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function rue(t,e){var n;if(se.isValidElement(t))n=se.cloneElement(t,e);else if(rr(t))n=t(e);else{var r=e.x1,i=e.y1,s=e.x2,a=e.y2,o=e.key,l=lZ(e,U8e),c=Sr(l,!1);c.offset;var d=lZ(c,B8e);n=se.createElement("line",wg({},d,{x1:r,y1:i,x2:s,y2:a,fill:"none",key:o}))}return n}function G8e(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(o,l){var c=Sa(Sa({},t),{},{x1:e,y1:o,x2:e+n,y2:o,key:"line-".concat(l),index:l});return rue(i,c)});return se.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function q8e(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,s=t.verticalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(o,l){var c=Sa(Sa({},t),{},{x1:o,y1:e,x2:o,y2:e+n,key:"line-".concat(l),index:l});return rue(i,c)});return se.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function X8e(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,s=t.width,a=t.height,o=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var d=o.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var v=!d[m+1],b=v?i+a-h:d[m+1]-h;if(b<=0)return null;var y=m%e.length;return se.createElement("rect",{key:"react-".concat(m),y:h,x:r,height:b,width:s,stroke:"none",fill:e[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return se.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Y8e(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,s=t.x,a=t.y,o=t.width,l=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var d=c.map(function(h){return Math.round(h+s-s)}).sort(function(h,m){return h-m});s!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var v=!d[m+1],b=v?s+o-h:d[m+1]-h;if(b<=0)return null;var y=m%r.length;return se.createElement("rect",{key:"react-".concat(m),x:h,y:a,width:b,height:l,stroke:"none",fill:r[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return se.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var K8e=function(e,n){var r=e.xAxis,i=e.width,s=e.height,a=e.offset;return gce(z6(Sa(Sa(Sa({},Sb.defaultProps),r),{},{ticks:Cf(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.left,a.left+a.width,n)},Z8e=function(e,n){var r=e.yAxis,i=e.width,s=e.height,a=e.offset;return gce(z6(Sa(Sa(Sa({},Sb.defaultProps),r),{},{ticks:Cf(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.top,a.top+a.height,n)},zv={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function iue(t){var e,n,r,i,s,a,o=L6(),l=F6(),c=F6e(),d=Sa(Sa({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:zv.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:zv.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:zv.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:zv.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:zv.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:zv.verticalFill,x:St(t.x)?t.x:c.left,y:St(t.y)?t.y:c.top,width:St(t.width)?t.width:c.width,height:St(t.height)?t.height:c.height}),f=d.x,h=d.y,m=d.width,v=d.height,b=d.syncWithTicks,y=d.horizontalValues,w=d.verticalValues,S=k6e(),M=D6e();if(!St(m)||m<=0||!St(v)||v<=0||!St(f)||f!==+f||!St(h)||h!==+h)return null;var T=d.verticalCoordinatesGenerator||K8e,A=d.horizontalCoordinatesGenerator||Z8e,C=d.horizontalPoints,j=d.verticalPoints;if((!C||!C.length)&&rr(A)){var L=y&&y.length,O=A({yAxis:M?Sa(Sa({},M),{},{ticks:L?y:M.ticks}):void 0,width:o,height:l,offset:c},L?!0:b);kf(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(i0(O),"]")),Array.isArray(O)&&(C=O)}if((!j||!j.length)&&rr(T)){var k=w&&w.length,F=T({xAxis:S?Sa(Sa({},S),{},{ticks:k?w:S.ticks}):void 0,width:o,height:l,offset:c},k?!0:b);kf(Array.isArray(F),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(i0(F),"]")),Array.isArray(F)&&(j=F)}return se.createElement("g",{className:"recharts-cartesian-grid"},se.createElement(W8e,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),se.createElement(G8e,wg({},d,{offset:c,horizontalPoints:C,xAxis:S,yAxis:M})),se.createElement(q8e,wg({},d,{offset:c,verticalPoints:j,xAxis:S,yAxis:M})),se.createElement(X8e,wg({},d,{horizontalPoints:C})),se.createElement(Y8e,wg({},d,{verticalPoints:j})))}iue.displayName="CartesianGrid";function Ix(t){"@babel/helpers - typeof";return Ix=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ix(t)}function Q8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J8e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oue(r.key),r)}}function eVe(t,e,n){return e&&J8e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tVe(t,e,n){return e=AC(e),nVe(t,sue()?Reflect.construct(e,n||[],AC(t).constructor):e.apply(t,n))}function nVe(t,e){if(e&&(Ix(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rVe(t)}function rVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sue(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sue=function(){return!!t})()}function AC(t){return AC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},AC(t)}function iVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A5(t,e)}function A5(t,e){return A5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},A5(t,e)}function aue(t,e,n){return e=oue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oue(t){var e=sVe(t,"string");return Ix(e)=="symbol"?e:e+""}function sVe(t,e){if(Ix(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ix(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function C5(){return C5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C5.apply(this,arguments)}function aVe(t){var e=t.xAxisId,n=L6(),r=F6(),i=Gce(e);return i==null?null:N.createElement(Sb,C5({},i,{className:yr("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return Cf(a,!0)}}))}var bR=(function(t){function e(){return Q8e(this,e),tVe(this,e,arguments)}return iVe(e,t),eVe(e,[{key:"render",value:function(){return N.createElement(aVe,this.props)}}])})(N.Component);aue(bR,"displayName","XAxis");aue(bR,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function kx(t){"@babel/helpers - typeof";return kx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kx(t)}function oVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lVe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uue(r.key),r)}}function cVe(t,e,n){return e&&lVe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uVe(t,e,n){return e=CC(e),dVe(t,lue()?Reflect.construct(e,n||[],CC(t).constructor):e.apply(t,n))}function dVe(t,e){if(e&&(kx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fVe(t)}function fVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lue(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lue=function(){return!!t})()}function CC(t){return CC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},CC(t)}function hVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P5(t,e)}function P5(t,e){return P5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},P5(t,e)}function cue(t,e,n){return e=uue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uue(t){var e=pVe(t,"string");return kx(e)=="symbol"?e:e+""}function pVe(t,e){if(kx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function N5(){return N5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N5.apply(this,arguments)}var mVe=function(e){var n=e.yAxisId,r=L6(),i=F6(),s=qce(n);return s==null?null:N.createElement(Sb,N5({},s,{className:yr("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(o){return Cf(o,!0)}}))},wR=(function(t){function e(){return oVe(this,e),uVe(this,e,arguments)}return hVe(e,t),cVe(e,[{key:"render",value:function(){return N.createElement(mVe,this.props)}}])})(N.Component);cue(wR,"displayName","YAxis");cue(wR,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function cZ(t){return xVe(t)||yVe(t)||vVe(t)||gVe()}function gVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vVe(t,e){if(t){if(typeof t=="string")return R5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R5(t,e)}}function yVe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xVe(t){if(Array.isArray(t))return R5(t)}function R5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var O5=function(e,n,r,i,s){var a=Yc(e,B6),o=Yc(e,vR),l=[].concat(cZ(a),cZ(o)),c=Yc(e,xR),d="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(b,y){if(y.props[d]===r&&Ju(y.props,"extendDomain")&&St(y.props[f])){var w=y.props[f];return[Math.min(b[0],w),Math.max(b[1],w)]}return b},h)),c.length){var m="".concat(f,"1"),v="".concat(f,"2");h=c.reduce(function(b,y){if(y.props[d]===r&&Ju(y.props,"extendDomain")&&St(y.props[m])&&St(y.props[v])){var w=y.props[m],S=y.props[v];return[Math.min(b[0],w,S),Math.max(b[1],w,S)]}return b},h)}return s&&s.length&&(h=s.reduce(function(b,y){return St(y)?[Math.min(b[0],y),Math.max(b[1],y)]:b},h)),h},YD={exports:{}},uZ;function bVe(){return uZ||(uZ=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function s(l,c,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||l,h),v=n?n+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],m]:l._events[v].push(m):(l._events[v]=m,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)e.call(d,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},o.prototype.listeners=function(c){var d=n?n+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,v=new Array(m);h<m;h++)v[h]=f[h].fn;return v},o.prototype.listenerCount=function(c){var d=n?n+c:c,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,d,f,h,m,v){var b=n?n+c:c;if(!this._events[b])return!1;var y=this._events[b],w=arguments.length,S,M;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),w){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,m),!0;case 6:return y.fn.call(y.context,d,f,h,m,v),!0}for(M=1,S=new Array(w-1);M<w;M++)S[M-1]=arguments[M];y.fn.apply(y.context,S)}else{var T=y.length,A;for(M=0;M<T;M++)switch(y[M].once&&this.removeListener(c,y[M].fn,void 0,!0),w){case 1:y[M].fn.call(y[M].context);break;case 2:y[M].fn.call(y[M].context,d);break;case 3:y[M].fn.call(y[M].context,d,f);break;case 4:y[M].fn.call(y[M].context,d,f,h);break;default:if(!S)for(A=1,S=new Array(w-1);A<w;A++)S[A-1]=arguments[A];y[M].fn.apply(y[M].context,S)}}return!0},o.prototype.on=function(c,d,f){return s(this,c,d,f,!1)},o.prototype.once=function(c,d,f){return s(this,c,d,f,!0)},o.prototype.removeListener=function(c,d,f,h){var m=n?n+c:c;if(!this._events[m])return this;if(!d)return a(this,m),this;var v=this._events[m];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&a(this,m);else{for(var b=0,y=[],w=v.length;b<w;b++)(v[b].fn!==d||h&&!v[b].once||f&&v[b].context!==f)&&y.push(v[b]);y.length?this._events[m]=y.length===1?y[0]:y:a(this,m)}return this},o.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&a(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(YD)),YD.exports}var wVe=bVe();const _Ve=pr(wVe);var KD=new _Ve,ZD="recharts.syncMouseEvents";function wS(t){"@babel/helpers - typeof";return wS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wS(t)}function SVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EVe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,due(r.key),r)}}function MVe(t,e,n){return e&&EVe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function QD(t,e,n){return e=due(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function due(t){var e=TVe(t,"string");return wS(e)=="symbol"?e:e+""}function TVe(t,e){if(wS(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var AVe=(function(){function t(){SVe(this,t),QD(this,"activeIndex",0),QD(this,"coordinateList",[]),QD(this,"layout","horizontal")}return MVe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,s=i===void 0?null:i,a=n.container,o=a===void 0?null:a,l=n.layout,c=l===void 0?null:l,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,a=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=s+l+c,h=a+this.offset.top+o/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])})();function CVe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t?.[0],i=t?.[1];if(r&&i&&St(r)&&St(i))return!0}return!1}function PVe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function fue(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,s=t.endAngle,a=sa(e,n,r,i),o=sa(e,n,r,s);return{points:[a,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function NVe(t,e,n){var r,i,s,a;if(t==="horizontal")r=e.x,s=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,c=e.innerRadius,d=e.outerRadius,f=e.angle,h=sa(o,l,c,f),m=sa(o,l,d,f);r=h.x,i=h.y,s=m.x,a=m.y}else return fue(e);return[{x:r,y:i},{x:s,y:a}]}function _S(t){"@babel/helpers - typeof";return _S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_S(t)}function dZ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ST(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dZ(Object(n),!0).forEach(function(r){RVe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dZ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RVe(t,e,n){return e=OVe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OVe(t){var e=jVe(t,"string");return _S(e)=="symbol"?e:e+""}function jVe(t,e){if(_S(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_S(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IVe(t){var e,n,r=t.element,i=t.tooltipEventType,s=t.isActive,a=t.activeCoordinate,o=t.activePayload,l=t.offset,c=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,m=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!s||!a||h!=="ScatterChart"&&i!=="axis")return null;var v,b=VY;if(h==="ScatterChart")v=a,b=WBe;else if(h==="BarChart")v=PVe(f,a,l,d),b=j6;else if(f==="radial"){var y=fue(a),w=y.cx,S=y.cy,M=y.radius,T=y.startAngle,A=y.endAngle;v={cx:w,cy:S,startAngle:T,endAngle:A,innerRadius:M,outerRadius:M},b=wce}else v={points:NVe(f,a,l)},b=VY;var C=ST(ST(ST(ST({stroke:"#ccc",pointerEvents:"none"},l),v),Sr(m,!1)),{},{payload:o,payloadIndex:c,className:yr("recharts-tooltip-cursor",m.className)});return N.isValidElement(m)?N.cloneElement(m,C):N.createElement(b,C)}var kVe=["item"],DVe=["children","className","width","height","style","compact","title","desc"];function Dx(t){"@babel/helpers - typeof";return Dx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dx(t)}function Ry(){return Ry=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ry.apply(this,arguments)}function fZ(t,e){return UVe(t)||FVe(t,e)||pue(t,e)||LVe()}function LVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FVe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function UVe(t){if(Array.isArray(t))return t}function hZ(t,e){if(t==null)return{};var n=BVe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function BVe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function zVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VVe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mue(r.key),r)}}function $Ve(t,e,n){return e&&VVe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function HVe(t,e,n){return e=PC(e),WVe(t,hue()?Reflect.construct(e,n||[],PC(t).constructor):e.apply(t,n))}function WVe(t,e){if(e&&(Dx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GVe(t)}function GVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hue(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hue=function(){return!!t})()}function PC(t){return PC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},PC(t)}function qVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j5(t,e)}function j5(t,e){return j5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},j5(t,e)}function Lx(t){return KVe(t)||YVe(t)||pue(t)||XVe()}function XVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pue(t,e){if(t){if(typeof t=="string")return I5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I5(t,e)}}function YVe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function KVe(t){if(Array.isArray(t))return I5(t)}function I5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pZ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function We(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pZ(Object(n),!0).forEach(function(r){bn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pZ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bn(t,e,n){return e=mue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mue(t){var e=ZVe(t,"string");return Dx(e)=="symbol"?e:e+""}function ZVe(t,e){if(Dx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QVe={xAxis:["bottom","top"],yAxis:["left","right"]},JVe={width:"100%",height:"100%"},gue={x:0,y:0};function ET(t){return t}var e9e=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},t9e=function(e,n,r,i){var s=n.find(function(d){return d&&d.index===r});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var a=s.coordinate,o=i.radius;return We(We(We({},i),sa(i.cx,i.cy,o,a)),{},{angle:a,radius:o})}var l=s.coordinate,c=i.angle;return We(We(We({},i),sa(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return gue},_R=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,a=(r??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(Lx(o),Lx(c)):o},[]);return a.length>0?a:e&&e.length&&St(i)&&St(s)?e.slice(i,s+1):[]};function vue(t){return t==="number"?[0,"auto"]:void 0}var k5=function(e,n,r,i){var s=e.graphicalItems,a=e.tooltipAxis,o=_R(n,e);return r<0||!s||!s.length||r>=o.length?null:s.reduce(function(l,c){var d,f=(d=c.props.data)!==null&&d!==void 0?d:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(a.dataKey&&!a.allowDuplicatedCategory){var m=f===void 0?o:f;h=wF(m,a.dataKey,i)}else h=f&&f[r]||o[r];return h?[].concat(Lx(l),[yce(c,h)]):l},[])},mZ=function(e,n,r,i){var s=i||{x:e.chartX,y:e.chartY},a=e9e(s,r),o=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,d=CFe(a,o,c,l);if(d>=0&&c){var f=c[d]&&c[d].value,h=k5(e,n,d,f),m=t9e(r,o,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},n9e=function(e,n){var r=n.axes,i=n.graphicalItems,s=n.axisType,a=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,m=mce(d,s);return r.reduce(function(v,b){var y,w=b.type.defaultProps!==void 0?We(We({},b.type.defaultProps),b.props):b.props,S=w.type,M=w.dataKey,T=w.allowDataOverflow,A=w.allowDuplicatedCategory,C=w.scale,j=w.ticks,L=w.includeHidden,O=w[a];if(v[O])return v;var k=_R(e.data,{graphicalItems:i.filter(function(J){var de,Ae=a in J.props?J.props[a]:(de=J.type.defaultProps)===null||de===void 0?void 0:de[a];return Ae===O}),dataStartIndex:l,dataEndIndex:c}),F=k.length,G,Y,U;CVe(w.domain,T,S)&&(G=t5(w.domain,null,T),m&&(S==="number"||C!=="auto")&&(U=q1(k,M,"category")));var W=vue(S);if(!G||G.length===0){var q,Z=(q=w.domain)!==null&&q!==void 0?q:W;if(M){if(G=q1(k,M,S),S==="category"&&m){var V=xOe(G);A&&V?(Y=G,G=vC(0,F)):A||(G=CY(Z,G,b).reduce(function(J,de){return J.indexOf(de)>=0?J:[].concat(Lx(J),[de])},[]))}else if(S==="category")A?G=G.filter(function(J){return J!==""&&!Er(J)}):G=CY(Z,G,b).reduce(function(J,de){return J.indexOf(de)>=0||de===""||Er(de)?J:[].concat(Lx(J),[de])},[]);else if(S==="number"){var Q=jFe(k,i.filter(function(J){var de,Ae,Ue=a in J.props?J.props[a]:(de=J.type.defaultProps)===null||de===void 0?void 0:de[a],ge="hide"in J.props?J.props.hide:(Ae=J.type.defaultProps)===null||Ae===void 0?void 0:Ae.hide;return Ue===O&&(L||!ge)}),M,s,d);Q&&(G=Q)}m&&(S==="number"||C!=="auto")&&(U=q1(k,M,"category"))}else m?G=vC(0,F):o&&o[O]&&o[O].hasStack&&S==="number"?G=h==="expand"?[0,1]:vce(o[O].stackGroups,l,c):G=pce(k,i.filter(function(J){var de=a in J.props?J.props[a]:J.type.defaultProps[a],Ae="hide"in J.props?J.props.hide:J.type.defaultProps.hide;return de===O&&(L||!Ae)}),S,d,!0);if(S==="number")G=O5(f,G,O,s,j),Z&&(G=t5(Z,G,T));else if(S==="category"&&Z){var ee=Z,$=G.every(function(J){return ee.indexOf(J)>=0});$&&(G=ee)}}return We(We({},v),{},bn({},O,We(We({},w),{},{axisType:s,domain:G,categoricalDomain:U,duplicateDomain:Y,originalDomain:(y=w.domain)!==null&&y!==void 0?y:W,isCategorical:m,layout:d})))},{})},r9e=function(e,n){var r=n.graphicalItems,i=n.Axis,s=n.axisType,a=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.layout,f=e.children,h=_R(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),m=h.length,v=mce(d,s),b=-1;return r.reduce(function(y,w){var S=w.type.defaultProps!==void 0?We(We({},w.type.defaultProps),w.props):w.props,M=S[a],T=vue("number");if(!y[M]){b++;var A;return v?A=vC(0,m):o&&o[M]&&o[M].hasStack?(A=vce(o[M].stackGroups,l,c),A=O5(f,A,M,s)):(A=t5(T,pce(h,r.filter(function(C){var j,L,O=a in C.props?C.props[a]:(j=C.type.defaultProps)===null||j===void 0?void 0:j[a],k="hide"in C.props?C.props.hide:(L=C.type.defaultProps)===null||L===void 0?void 0:L.hide;return O===M&&!k}),"number",d),i.defaultProps.allowDataOverflow),A=O5(f,A,M,s)),We(We({},y),{},bn({},M,We(We({axisType:s},i.defaultProps),{},{hide:!0,orientation:Wl(QVe,"".concat(s,".").concat(b%2),null),domain:A,originalDomain:T,isCategorical:v,layout:d})))}return y},{})},i9e=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,s=n.AxisComp,a=n.graphicalItems,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=Yc(d,s),m={};return h&&h.length?m=n9e(e,{axes:h,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):a&&a.length&&(m=r9e(e,{Axis:s,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),m},s9e=function(e){var n=Jh(e),r=Cf(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:s6(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:lC(n,r)}},gZ=function(e){var n=e.children,r=e.defaultShowTooltip,i=Zo(n,Cx),s=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},a9e=function(e){return!e||!e.length?!1:e.some(function(n){var r=If(n&&n.type);return r&&r.indexOf("Bar")>=0})},vZ=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},o9e=function(e,n){var r=e.props,i=e.graphicalItems,s=e.xAxisMap,a=s===void 0?{}:s,o=e.yAxisMap,l=o===void 0?{}:o,c=r.width,d=r.height,f=r.children,h=r.margin||{},m=Zo(f,Cx),v=Zo(f,Og),b=Object.keys(l).reduce(function(A,C){var j=l[C],L=j.orientation;return!j.mirror&&!j.hide?We(We({},A),{},bn({},L,A[L]+j.width)):A},{left:h.left||0,right:h.right||0}),y=Object.keys(a).reduce(function(A,C){var j=a[C],L=j.orientation;return!j.mirror&&!j.hide?We(We({},A),{},bn({},L,Wl(A,"".concat(L))+j.height)):A},{top:h.top||0,bottom:h.bottom||0}),w=We(We({},y),b),S=w.bottom;m&&(w.bottom+=m.props.height||Cx.defaultProps.height),v&&n&&(w=RFe(w,i,r,n));var M=c-w.left-w.right,T=d-w.top-w.bottom;return We(We({brushBottom:S},w),{},{width:Math.max(M,0),height:Math.max(T,0)})},l9e=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},c9e=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,a=e.validateTooltipEventTypes,o=a===void 0?["axis"]:a,l=e.axisComponents,c=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(w,S){var M=S.graphicalItems,T=S.stackGroups,A=S.offset,C=S.updateId,j=S.dataStartIndex,L=S.dataEndIndex,O=w.barSize,k=w.layout,F=w.barGap,G=w.barCategoryGap,Y=w.maxBarSize,U=vZ(k),W=U.numericAxisName,q=U.cateAxisName,Z=a9e(M),V=[];return M.forEach(function(Q,ee){var $=_R(w.data,{graphicalItems:[Q],dataStartIndex:j,dataEndIndex:L}),J=Q.type.defaultProps!==void 0?We(We({},Q.type.defaultProps),Q.props):Q.props,de=J.dataKey,Ae=J.maxBarSize,Ue=J["".concat(W,"Id")],ge=J["".concat(q,"Id")],pe={},Oe=l.reduce(function(jt,re){var K=S["".concat(re.axisType,"Map")],H=J["".concat(re.axisType,"Id")];K&&K[H]||re.axisType==="zAxis"||n0();var oe=K[H];return We(We({},jt),{},bn(bn({},re.axisType,oe),"".concat(re.axisType,"Ticks"),Cf(oe)))},pe),xe=Oe[q],Me=Oe["".concat(q,"Ticks")],Ie=T&&T[Ue]&&T[Ue].hasStack&&WFe(Q,T[Ue].stackGroups),Te=If(Q.type).indexOf("Bar")>=0,Xe=lC(xe,Me),Ce=[],$e=Z&&PFe({barSize:O,stackGroups:T,totalSize:l9e(Oe,q)});if(Te){var Be,Ye,ae=Er(Ae)?Y:Ae,Ot=(Be=(Ye=lC(xe,Me,!0))!==null&&Ye!==void 0?Ye:ae)!==null&&Be!==void 0?Be:0;Ce=NFe({barGap:F,barCategoryGap:G,bandSize:Ot!==Xe?Ot:Xe,sizeList:$e[ge],maxBarSize:ae}),Ot!==Xe&&(Ce=Ce.map(function(jt){return We(We({},jt),{},{position:We(We({},jt.position),{},{offset:jt.position.offset-Ot/2})})}))}var dt=Q&&Q.type&&Q.type.getComposedData;dt&&V.push({props:We(We({},dt(We(We({},Oe),{},{displayedData:$,props:w,dataKey:de,item:Q,bandSize:Xe,barPosition:Ce,offset:A,stackedData:Ie,layout:k,dataStartIndex:j,dataEndIndex:L}))),{},bn(bn(bn({key:Q.key||"item-".concat(ee)},W,Oe[W]),q,Oe[q]),"animationId",C)),childIndex:ROe(Q,w.children),item:Q})}),V},m=function(w,S){var M=w.props,T=w.dataStartIndex,A=w.dataEndIndex,C=w.updateId;if(!$7({props:M}))return null;var j=M.children,L=M.layout,O=M.stackOffset,k=M.data,F=M.reverseStackOrder,G=vZ(L),Y=G.numericAxisName,U=G.cateAxisName,W=Yc(j,r),q=VFe(k,W,"".concat(Y,"Id"),"".concat(U,"Id"),O,F),Z=l.reduce(function(J,de){var Ae="".concat(de.axisType,"Map");return We(We({},J),{},bn({},Ae,i9e(M,We(We({},de),{},{graphicalItems:W,stackGroups:de.axisType===Y&&q,dataStartIndex:T,dataEndIndex:A}))))},{}),V=o9e(We(We({},Z),{},{props:M,graphicalItems:W}),S?.legendBBox);Object.keys(Z).forEach(function(J){Z[J]=d(M,Z[J],V,J.replace("Map",""),n)});var Q=Z["".concat(U,"Map")],ee=s9e(Q),$=h(M,We(We({},Z),{},{dataStartIndex:T,dataEndIndex:A,updateId:C,graphicalItems:W,stackGroups:q,offset:V}));return We(We({formattedGraphicalItems:$,graphicalItems:W,offset:V,stackGroups:q},ee),Z)},v=(function(y){function w(S){var M,T,A;return zVe(this,w),A=HVe(this,w,[S]),bn(A,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),bn(A,"accessibilityManager",new AVe),bn(A,"handleLegendBBoxUpdate",function(C){if(C){var j=A.state,L=j.dataStartIndex,O=j.dataEndIndex,k=j.updateId;A.setState(We({legendBBox:C},m({props:A.props,dataStartIndex:L,dataEndIndex:O,updateId:k},We(We({},A.state),{},{legendBBox:C}))))}}),bn(A,"handleReceiveSyncEvent",function(C,j,L){if(A.props.syncId===C){if(L===A.eventEmitterSymbol&&typeof A.props.syncMethod!="function")return;A.applySyncEvent(j)}}),bn(A,"handleBrushChange",function(C){var j=C.startIndex,L=C.endIndex;if(j!==A.state.dataStartIndex||L!==A.state.dataEndIndex){var O=A.state.updateId;A.setState(function(){return We({dataStartIndex:j,dataEndIndex:L},m({props:A.props,dataStartIndex:j,dataEndIndex:L,updateId:O},A.state))}),A.triggerSyncEvent({dataStartIndex:j,dataEndIndex:L})}}),bn(A,"handleMouseEnter",function(C){var j=A.getMouseInfo(C);if(j){var L=We(We({},j),{},{isTooltipActive:!0});A.setState(L),A.triggerSyncEvent(L);var O=A.props.onMouseEnter;rr(O)&&O(L,C)}}),bn(A,"triggeredAfterMouseMove",function(C){var j=A.getMouseInfo(C),L=j?We(We({},j),{},{isTooltipActive:!0}):{isTooltipActive:!1};A.setState(L),A.triggerSyncEvent(L);var O=A.props.onMouseMove;rr(O)&&O(L,C)}),bn(A,"handleItemMouseEnter",function(C){A.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),bn(A,"handleItemMouseLeave",function(){A.setState(function(){return{isTooltipActive:!1}})}),bn(A,"handleMouseMove",function(C){C.persist(),A.throttleTriggeredAfterMouseMove(C)}),bn(A,"handleMouseLeave",function(C){A.throttleTriggeredAfterMouseMove.cancel();var j={isTooltipActive:!1};A.setState(j),A.triggerSyncEvent(j);var L=A.props.onMouseLeave;rr(L)&&L(j,C)}),bn(A,"handleOuterEvent",function(C){var j=NOe(C),L=Wl(A.props,"".concat(j));if(j&&rr(L)){var O,k;/.*touch.*/i.test(j)?k=A.getMouseInfo(C.changedTouches[0]):k=A.getMouseInfo(C),L((O=k)!==null&&O!==void 0?O:{},C)}}),bn(A,"handleClick",function(C){var j=A.getMouseInfo(C);if(j){var L=We(We({},j),{},{isTooltipActive:!0});A.setState(L),A.triggerSyncEvent(L);var O=A.props.onClick;rr(O)&&O(L,C)}}),bn(A,"handleMouseDown",function(C){var j=A.props.onMouseDown;if(rr(j)){var L=A.getMouseInfo(C);j(L,C)}}),bn(A,"handleMouseUp",function(C){var j=A.props.onMouseUp;if(rr(j)){var L=A.getMouseInfo(C);j(L,C)}}),bn(A,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&A.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),bn(A,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&A.handleMouseDown(C.changedTouches[0])}),bn(A,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&A.handleMouseUp(C.changedTouches[0])}),bn(A,"handleDoubleClick",function(C){var j=A.props.onDoubleClick;if(rr(j)){var L=A.getMouseInfo(C);j(L,C)}}),bn(A,"handleContextMenu",function(C){var j=A.props.onContextMenu;if(rr(j)){var L=A.getMouseInfo(C);j(L,C)}}),bn(A,"triggerSyncEvent",function(C){A.props.syncId!==void 0&&KD.emit(ZD,A.props.syncId,C,A.eventEmitterSymbol)}),bn(A,"applySyncEvent",function(C){var j=A.props,L=j.layout,O=j.syncMethod,k=A.state.updateId,F=C.dataStartIndex,G=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)A.setState(We({dataStartIndex:F,dataEndIndex:G},m({props:A.props,dataStartIndex:F,dataEndIndex:G,updateId:k},A.state)));else if(C.activeTooltipIndex!==void 0){var Y=C.chartX,U=C.chartY,W=C.activeTooltipIndex,q=A.state,Z=q.offset,V=q.tooltipTicks;if(!Z)return;if(typeof O=="function")W=O(V,C);else if(O==="value"){W=-1;for(var Q=0;Q<V.length;Q++)if(V[Q].value===C.activeLabel){W=Q;break}}var ee=We(We({},Z),{},{x:Z.left,y:Z.top}),$=Math.min(Y,ee.x+ee.width),J=Math.min(U,ee.y+ee.height),de=V[W]&&V[W].value,Ae=k5(A.state,A.props.data,W),Ue=V[W]?{x:L==="horizontal"?V[W].coordinate:$,y:L==="horizontal"?J:V[W].coordinate}:gue;A.setState(We(We({},C),{},{activeLabel:de,activeCoordinate:Ue,activePayload:Ae,activeTooltipIndex:W}))}else A.setState(C)}),bn(A,"renderCursor",function(C){var j,L=A.state,O=L.isTooltipActive,k=L.activeCoordinate,F=L.activePayload,G=L.offset,Y=L.activeTooltipIndex,U=L.tooltipAxisBandSize,W=A.getTooltipEventType(),q=(j=C.props.active)!==null&&j!==void 0?j:O,Z=A.props.layout,V=C.key||"_recharts-cursor";return se.createElement(IVe,{key:V,activeCoordinate:k,activePayload:F,activeTooltipIndex:Y,chartName:n,element:C,isActive:q,layout:Z,offset:G,tooltipAxisBandSize:U,tooltipEventType:W})}),bn(A,"renderPolarAxis",function(C,j,L){var O=Wl(C,"type.axisType"),k=Wl(A.state,"".concat(O,"Map")),F=C.type.defaultProps,G=F!==void 0?We(We({},F),C.props):C.props,Y=k&&k[G["".concat(O,"Id")]];return N.cloneElement(C,We(We({},Y),{},{className:yr(O,Y.className),key:C.key||"".concat(j,"-").concat(L),ticks:Cf(Y,!0)}))}),bn(A,"renderPolarGrid",function(C){var j=C.props,L=j.radialLines,O=j.polarAngles,k=j.polarRadius,F=A.state,G=F.radiusAxisMap,Y=F.angleAxisMap,U=Jh(G),W=Jh(Y),q=W.cx,Z=W.cy,V=W.innerRadius,Q=W.outerRadius;return N.cloneElement(C,{polarAngles:Array.isArray(O)?O:Cf(W,!0).map(function(ee){return ee.coordinate}),polarRadius:Array.isArray(k)?k:Cf(U,!0).map(function(ee){return ee.coordinate}),cx:q,cy:Z,innerRadius:V,outerRadius:Q,key:C.key||"polar-grid",radialLines:L})}),bn(A,"renderLegend",function(){var C=A.state.formattedGraphicalItems,j=A.props,L=j.children,O=j.width,k=j.height,F=A.props.margin||{},G=O-(F.left||0)-(F.right||0),Y=fce({children:L,formattedGraphicalItems:C,legendWidth:G,legendContent:c});if(!Y)return null;var U=Y.item,W=hZ(Y,kVe);return N.cloneElement(U,We(We({},W),{},{chartWidth:O,chartHeight:k,margin:F,onBBoxUpdate:A.handleLegendBBoxUpdate}))}),bn(A,"renderTooltip",function(){var C,j=A.props,L=j.children,O=j.accessibilityLayer,k=Zo(L,Cu);if(!k)return null;var F=A.state,G=F.isTooltipActive,Y=F.activeCoordinate,U=F.activePayload,W=F.activeLabel,q=F.offset,Z=(C=k.props.active)!==null&&C!==void 0?C:G;return N.cloneElement(k,{viewBox:We(We({},q),{},{x:q.left,y:q.top}),active:Z,label:W,payload:Z?U:[],coordinate:Y,accessibilityLayer:O})}),bn(A,"renderBrush",function(C){var j=A.props,L=j.margin,O=j.data,k=A.state,F=k.offset,G=k.dataStartIndex,Y=k.dataEndIndex,U=k.updateId;return N.cloneElement(C,{key:C.key||"_recharts-brush",onChange:xT(A.handleBrushChange,C.props.onChange),data:O,x:St(C.props.x)?C.props.x:F.left,y:St(C.props.y)?C.props.y:F.top+F.height+F.brushBottom-(L.bottom||0),width:St(C.props.width)?C.props.width:F.width,startIndex:G,endIndex:Y,updateId:"brush-".concat(U)})}),bn(A,"renderReferenceElement",function(C,j,L){if(!C)return null;var O=A,k=O.clipPathId,F=A.state,G=F.xAxisMap,Y=F.yAxisMap,U=F.offset,W=C.type.defaultProps||{},q=C.props,Z=q.xAxisId,V=Z===void 0?W.xAxisId:Z,Q=q.yAxisId,ee=Q===void 0?W.yAxisId:Q;return N.cloneElement(C,{key:C.key||"".concat(j,"-").concat(L),xAxis:G[V],yAxis:Y[ee],viewBox:{x:U.left,y:U.top,width:U.width,height:U.height},clipPathId:k})}),bn(A,"renderActivePoints",function(C){var j=C.item,L=C.activePoint,O=C.basePoint,k=C.childIndex,F=C.isRange,G=[],Y=j.props.key,U=j.item.type.defaultProps!==void 0?We(We({},j.item.type.defaultProps),j.item.props):j.item.props,W=U.activeDot,q=U.dataKey,Z=We(We({index:k,dataKey:q,cx:L.x,cy:L.y,r:4,fill:O6(j.item),strokeWidth:2,stroke:"#fff",payload:L.payload,value:L.value},Sr(W,!1)),DA(W));return G.push(w.renderActiveDot(W,Z,"".concat(Y,"-activePoint-").concat(k))),O?G.push(w.renderActiveDot(W,We(We({},Z),{},{cx:O.x,cy:O.y}),"".concat(Y,"-basePoint-").concat(k))):F&&G.push(null),G}),bn(A,"renderGraphicChild",function(C,j,L){var O=A.filterFormatItem(C,j,L);if(!O)return null;var k=A.getTooltipEventType(),F=A.state,G=F.isTooltipActive,Y=F.tooltipAxis,U=F.activeTooltipIndex,W=F.activeLabel,q=A.props.children,Z=Zo(q,Cu),V=O.props,Q=V.points,ee=V.isRange,$=V.baseLine,J=O.item.type.defaultProps!==void 0?We(We({},O.item.type.defaultProps),O.item.props):O.item.props,de=J.activeDot,Ae=J.hide,Ue=J.activeBar,ge=J.activeShape,pe=!!(!Ae&&G&&Z&&(de||Ue||ge)),Oe={};k!=="axis"&&Z&&Z.props.trigger==="click"?Oe={onClick:xT(A.handleItemMouseEnter,C.props.onClick)}:k!=="axis"&&(Oe={onMouseLeave:xT(A.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:xT(A.handleItemMouseEnter,C.props.onMouseEnter)});var xe=N.cloneElement(C,We(We({},O.props),Oe));function Me(re){return typeof Y.dataKey=="function"?Y.dataKey(re.payload):null}if(pe)if(U>=0){var Ie,Te;if(Y.dataKey&&!Y.allowDuplicatedCategory){var Xe=typeof Y.dataKey=="function"?Me:"payload.".concat(Y.dataKey.toString());Ie=wF(Q,Xe,W),Te=ee&&$&&wF($,Xe,W)}else Ie=Q?.[U],Te=ee&&$&&$[U];if(ge||Ue){var Ce=C.props.activeIndex!==void 0?C.props.activeIndex:U;return[N.cloneElement(C,We(We(We({},O.props),Oe),{},{activeIndex:Ce})),null,null]}if(!Er(Ie))return[xe].concat(Lx(A.renderActivePoints({item:O,activePoint:Ie,basePoint:Te,childIndex:U,isRange:ee})))}else{var $e,Be=($e=A.getItemByXY(A.state.activeCoordinate))!==null&&$e!==void 0?$e:{graphicalItem:xe},Ye=Be.graphicalItem,ae=Ye.item,Ot=ae===void 0?C:ae,dt=Ye.childIndex,jt=We(We(We({},O.props),Oe),{},{activeIndex:dt});return[N.cloneElement(Ot,jt),null,null]}return ee?[xe,null,null]:[xe,null]}),bn(A,"renderCustomized",function(C,j,L){return N.cloneElement(C,We(We({key:"recharts-customized-".concat(L)},A.props),A.state))}),bn(A,"renderMap",{CartesianGrid:{handler:ET,once:!0},ReferenceArea:{handler:A.renderReferenceElement},ReferenceLine:{handler:ET},ReferenceDot:{handler:A.renderReferenceElement},XAxis:{handler:ET},YAxis:{handler:ET},Brush:{handler:A.renderBrush,once:!0},Bar:{handler:A.renderGraphicChild},Line:{handler:A.renderGraphicChild},Area:{handler:A.renderGraphicChild},Radar:{handler:A.renderGraphicChild},RadialBar:{handler:A.renderGraphicChild},Scatter:{handler:A.renderGraphicChild},Pie:{handler:A.renderGraphicChild},Funnel:{handler:A.renderGraphicChild},Tooltip:{handler:A.renderCursor,once:!0},PolarGrid:{handler:A.renderPolarGrid,once:!0},PolarAngleAxis:{handler:A.renderPolarAxis},PolarRadiusAxis:{handler:A.renderPolarAxis},Customized:{handler:A.renderCustomized}}),A.clipPathId="".concat((M=S.id)!==null&&M!==void 0?M:XN("recharts"),"-clip"),A.throttleTriggeredAfterMouseMove=dle(A.triggeredAfterMouseMove,(T=S.throttleDelay)!==null&&T!==void 0?T:1e3/60),A.state={},A}return qVe(w,y),$Ve(w,[{key:"componentDidMount",value:function(){var M,T;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(M=this.props.margin.left)!==null&&M!==void 0?M:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var M=this.props,T=M.children,A=M.data,C=M.height,j=M.layout,L=Zo(T,Cu);if(L){var O=L.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var k=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,F=k5(this.state,A,O,k),G=this.state.tooltipTicks[O].coordinate,Y=(this.state.offset.top+C)/2,U=j==="horizontal",W=U?{x:G,y:Y}:{y:G,x:Y},q=this.state.formattedGraphicalItems.find(function(V){var Q=V.item;return Q.type.name==="Scatter"});q&&(W=We(We({},W),q.props.points[O].tooltipPosition),F=q.props.points[O].tooltipPayload);var Z={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:k,activePayload:F,activeCoordinate:W};this.setState(Z),this.renderCursor(L),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(M,T){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==T.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==M.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==M.margin){var A,C;this.accessibilityManager.setDetails({offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(M){SF([Zo(M.children,Cu)],[Zo(this.props.children,Cu)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var M=Zo(this.props.children,Cu);if(M&&typeof M.props.shared=="boolean"){var T=M.props.shared?"axis":"item";return o.indexOf(T)>=0?T:s}return s}},{key:"getMouseInfo",value:function(M){if(!this.container)return null;var T=this.container,A=T.getBoundingClientRect(),C=y3e(A),j={chartX:Math.round(M.pageX-C.left),chartY:Math.round(M.pageY-C.top)},L=A.width/T.offsetWidth||1,O=this.inRange(j.chartX,j.chartY,L);if(!O)return null;var k=this.state,F=k.xAxisMap,G=k.yAxisMap,Y=this.getTooltipEventType(),U=mZ(this.state,this.props.data,this.props.layout,O);if(Y!=="axis"&&F&&G){var W=Jh(F).scale,q=Jh(G).scale,Z=W&&W.invert?W.invert(j.chartX):null,V=q&&q.invert?q.invert(j.chartY):null;return We(We({},j),{},{xValue:Z,yValue:V},U)}return U?We(We({},j),U):null}},{key:"inRange",value:function(M,T){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,j=M/A,L=T/A;if(C==="horizontal"||C==="vertical"){var O=this.state.offset,k=j>=O.left&&j<=O.left+O.width&&L>=O.top&&L<=O.top+O.height;return k?{x:j,y:L}:null}var F=this.state,G=F.angleAxisMap,Y=F.radiusAxisMap;if(G&&Y){var U=Jh(G);return RY({x:j,y:L},U)}return null}},{key:"parseEventsOfWrapper",value:function(){var M=this.props.children,T=this.getTooltipEventType(),A=Zo(M,Cu),C={};A&&T==="axis"&&(A.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var j=DA(this.props,this.handleOuterEvent);return We(We({},j),C)}},{key:"addListener",value:function(){KD.on(ZD,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){KD.removeListener(ZD,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(M,T,A){for(var C=this.state.formattedGraphicalItems,j=0,L=C.length;j<L;j++){var O=C[j];if(O.item===M||O.props.key===M.key||T===If(O.item.type)&&A===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var M=this.clipPathId,T=this.state.offset,A=T.left,C=T.top,j=T.height,L=T.width;return se.createElement("defs",null,se.createElement("clipPath",{id:M},se.createElement("rect",{x:A,y:C,height:j,width:L})))}},{key:"getXScales",value:function(){var M=this.state.xAxisMap;return M?Object.entries(M).reduce(function(T,A){var C=fZ(A,2),j=C[0],L=C[1];return We(We({},T),{},bn({},j,L.scale))},{}):null}},{key:"getYScales",value:function(){var M=this.state.yAxisMap;return M?Object.entries(M).reduce(function(T,A){var C=fZ(A,2),j=C[0],L=C[1];return We(We({},T),{},bn({},j,L.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(M){var T;return(T=this.state.xAxisMap)===null||T===void 0||(T=T[M])===null||T===void 0?void 0:T.scale}},{key:"getYScaleByAxisId",value:function(M){var T;return(T=this.state.yAxisMap)===null||T===void 0||(T=T[M])===null||T===void 0?void 0:T.scale}},{key:"getItemByXY",value:function(M){var T=this.state,A=T.formattedGraphicalItems,C=T.activeItem;if(A&&A.length)for(var j=0,L=A.length;j<L;j++){var O=A[j],k=O.props,F=O.item,G=F.type.defaultProps!==void 0?We(We({},F.type.defaultProps),F.props):F.props,Y=If(F.type);if(Y==="Bar"){var U=(k.data||[]).find(function(V){return kBe(M,V)});if(U)return{graphicalItem:O,payload:U}}else if(Y==="RadialBar"){var W=(k.data||[]).find(function(V){return RY(M,V)});if(W)return{graphicalItem:O,payload:W}}else if(hR(O,C)||pR(O,C)||gS(O,C)){var q=Mze({graphicalItem:O,activeTooltipItem:C,itemData:G.data}),Z=G.activeIndex===void 0?q:G.activeIndex;return{graphicalItem:We(We({},O),{},{childIndex:Z}),payload:gS(O,C)?G.data[q]:O.props.data[q]}}}return null}},{key:"render",value:function(){var M=this;if(!$7(this))return null;var T=this.props,A=T.children,C=T.className,j=T.width,L=T.height,O=T.style,k=T.compact,F=T.title,G=T.desc,Y=hZ(T,DVe),U=Sr(Y,!1);if(k)return se.createElement(KK,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},se.createElement(MF,Ry({},U,{width:j,height:L,title:F,desc:G}),this.renderClipPath(),W7(A,this.renderMap)));if(this.props.accessibilityLayer){var W,q;U.tabIndex=(W=this.props.tabIndex)!==null&&W!==void 0?W:0,U.role=(q=this.props.role)!==null&&q!==void 0?q:"application",U.onKeyDown=function(V){M.accessibilityManager.keyboardEvent(V)},U.onFocus=function(){M.accessibilityManager.focus()}}var Z=this.parseEventsOfWrapper();return se.createElement(KK,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},se.createElement("div",Ry({className:yr("recharts-wrapper",C),style:We({position:"relative",cursor:"default",width:j,height:L},O)},Z,{ref:function(Q){M.container=Q}}),se.createElement(MF,Ry({},U,{width:j,height:L,title:F,desc:G,style:JVe}),this.renderClipPath(),W7(A,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(N.Component);bn(v,"displayName",n),bn(v,"defaultProps",We({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),bn(v,"getDerivedStateFromProps",function(y,w){var S=y.dataKey,M=y.data,T=y.children,A=y.width,C=y.height,j=y.layout,L=y.stackOffset,O=y.margin,k=w.dataStartIndex,F=w.dataEndIndex;if(w.updateId===void 0){var G=gZ(y);return We(We(We({},G),{},{updateId:0},m(We(We({props:y},G),{},{updateId:0}),w)),{},{prevDataKey:S,prevData:M,prevWidth:A,prevHeight:C,prevLayout:j,prevStackOffset:L,prevMargin:O,prevChildren:T})}if(S!==w.prevDataKey||M!==w.prevData||A!==w.prevWidth||C!==w.prevHeight||j!==w.prevLayout||L!==w.prevStackOffset||!Xy(O,w.prevMargin)){var Y=gZ(y),U={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},W=We(We({},mZ(w,M,j)),{},{updateId:w.updateId+1}),q=We(We(We({},Y),U),W);return We(We(We({},q),m(We({props:y},q),w)),{},{prevDataKey:S,prevData:M,prevWidth:A,prevHeight:C,prevLayout:j,prevStackOffset:L,prevMargin:O,prevChildren:T})}if(!SF(T,w.prevChildren)){var Z,V,Q,ee,$=Zo(T,Cx),J=$&&(Z=(V=$.props)===null||V===void 0?void 0:V.startIndex)!==null&&Z!==void 0?Z:k,de=$&&(Q=(ee=$.props)===null||ee===void 0?void 0:ee.endIndex)!==null&&Q!==void 0?Q:F,Ae=J!==k||de!==F,Ue=!Er(M),ge=Ue&&!Ae?w.updateId:w.updateId+1;return We(We({updateId:ge},m(We(We({props:y},w),{},{updateId:ge,dataStartIndex:J,dataEndIndex:de}),w)),{},{prevChildren:T,dataStartIndex:J,dataEndIndex:de})}return null}),bn(v,"renderActiveDot",function(y,w,S){var M;return N.isValidElement(y)?M=N.cloneElement(y,w):rr(y)?M=y(w):M=se.createElement(Pce,w),se.createElement(Ls,{className:"recharts-active-dot",key:S},M)});var b=N.forwardRef(function(w,S){return se.createElement(v,Ry({},w,{ref:S}))});return b.displayName=v.displayName,b},u9e=c9e({chartName:"BarChart",GraphicalChild:Rp,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:bR},{axisType:"yAxis",AxisComp:wR}],formatAxisMap:w6e});function d9e(){return u.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden z-0",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#F8FAFC] via-[#F8FAFC] to-[#22C55E]/5"}),u.jsxs("div",{className:"absolute bottom-0 left-0 w-full h-64 opacity-20 pointer-events-none",children:[u.jsx("style",{children:`
          @keyframes nileWaves {
            0%, 100% { clip-path: polygon(0% 45%, 15% 44%, 32% 50%, 54% 45%, 75% 52%, 100% 45%, 100% 100%, 0% 100%); }
            50% { clip-path: polygon(0% 60%, 18% 55%, 33% 65%, 51% 58%, 70% 65%, 100% 60%, 100% 100%, 0% 100%); }
          }
          .nile-flow-layer {
            animation: nileWaves 10s ease-in-out infinite;
          }
        `}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#1E293B] to-[#0F172A] nile-flow-layer"})]}),u.jsx(Ku.div,{className:"absolute top-20 right-20 w-96 h-96 opacity-[0.03]",animate:{rotate:360},transition:{duration:120,repeat:1/0,ease:"linear"},children:u.jsxs("svg",{viewBox:"0 0 200 200",className:"w-full h-full",children:[u.jsx("circle",{cx:"100",cy:"100",r:"80",fill:"none",stroke:"#22C55E",strokeWidth:"0.5"}),u.jsx("circle",{cx:"100",cy:"100",r:"60",fill:"none",stroke:"#1E293B",strokeWidth:"0.3"}),u.jsx("circle",{cx:"100",cy:"100",r:"40",fill:"none",stroke:"#22C55E",strokeWidth:"0.5"}),u.jsx("path",{d:"M100,20 L100,180 M20,100 L180,100",stroke:"#1E293B",strokeWidth:"0.3"})]})})]})}function f9e(){return u.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden z-0",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#1E293B] via-[#1E293B] to-[#22C55E]/10"}),u.jsx("div",{className:"absolute bottom-0 left-0 w-full h-[400px] opacity-[0.15]",children:u.jsxs("svg",{viewBox:"0 0 1400 400",preserveAspectRatio:"xMidYMax slice",className:"w-full h-full",children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:"barkalGradient",x1:"0%",y1:"100%",x2:"0%",y2:"0%",children:[u.jsx("stop",{offset:"0%",stopColor:"#22C55E",stopOpacity:"0.6"}),u.jsx("stop",{offset:"50%",stopColor:"#F8FAFC",stopOpacity:"0.3"}),u.jsx("stop",{offset:"100%",stopColor:"#F8FAFC",stopOpacity:"0.1"})]})}),u.jsx("path",{d:"M0,400 L0,350 Q50,300 100,350 Q150,250 250,300 Q300,200 400,280 Q500,350 600,320 Q700,280 800,340 Q900,300 1000,360 Q1100,320 1200,350 Q1300,300 1400,340 L1400,400 Z",fill:"url(#barkalGradient)"}),u.jsxs("g",{fill:"#F8FAFC",fillOpacity:"0.25",children:[u.jsx("polygon",{points:"500,400 560,220 620,400"}),u.jsx("polygon",{points:"580,400 650,180 720,400"}),u.jsx("polygon",{points:"670,400 750,140 830,400"}),u.jsx("polygon",{points:"760,400 830,200 900,400"})]}),u.jsxs("g",{fill:"#F8FAFC",fillOpacity:"0.15",children:[u.jsx("path",{d:"M100,400 L100,300 Q130,280 160,300 L160,400 Z"}),u.jsx("rect",{x:"115",y:"320",width:"30",height:"40",rx:"15"}),u.jsx("rect",{x:"122",y:"335",width:"16",height:"65"}),u.jsx("path",{d:"M1200,400 L1200,280 Q1240,260 1280,280 L1280,400 Z"}),u.jsx("rect",{x:"1220",y:"300",width:"40",height:"50",rx:"20"}),u.jsx("rect",{x:"1230",y:"320",width:"20",height:"80"})]}),u.jsxs("g",{fill:"none",stroke:"#22C55E",strokeWidth:"1",strokeOpacity:"0.3",children:[u.jsx("path",{d:"M200,400 Q250,380 300,390 Q350,370 400,385 Q450,365 500,380"}),u.jsx("path",{d:"M900,400 Q950,375 1000,388 Q1050,360 1100,378"})]})]})}),u.jsx("div",{className:"absolute top-10 left-10 w-64 h-64 opacity-[0.06]",children:u.jsxs("svg",{viewBox:"0 0 200 200",className:"w-full h-full",children:[u.jsxs("g",{fill:"none",stroke:"#22C55E",strokeWidth:"0.8",children:[u.jsx("circle",{cx:"100",cy:"100",r:"90"}),u.jsx("circle",{cx:"100",cy:"100",r:"70"}),u.jsx("path",{d:"M100,10 L100,190 M10,100 L190,100",strokeDasharray:"4,4"}),u.jsx("path",{d:"M30,30 L170,170 M170,30 L30,170",strokeDasharray:"2,6"})]}),u.jsx("circle",{cx:"100",cy:"100",r:"20",fill:"#22C55E",fillOpacity:"0.2"})]})}),u.jsx(Ku.div,{className:"absolute top-1/4 right-10 opacity-[0.04]",animate:{y:[0,-10,0]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},children:u.jsxs("svg",{width:"120",height:"200",viewBox:"0 0 120 200",children:[u.jsx("path",{d:"M60,0 L70,20 L90,25 L75,45 L80,70 L60,55 L40,70 L45,45 L30,25 L50,20 Z",fill:"#22C55E",fillOpacity:"0.5"}),u.jsx("rect",{x:"55",y:"70",width:"10",height:"130",fill:"#F8FAFC",fillOpacity:"0.3"})]})})]})}function h9e(){return u.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden z-0",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#F8FAFC] via-[#F8FAFC] to-[#22C55E]/8"}),u.jsx("div",{className:"absolute bottom-0 left-0 w-full h-[350px] opacity-[0.08]",children:u.jsxs("svg",{viewBox:"0 0 1400 350",preserveAspectRatio:"xMidYMax slice",className:"w-full h-full",children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:"amanireGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:"#1E293B",stopOpacity:"0.8"}),u.jsx("stop",{offset:"100%",stopColor:"#22C55E",stopOpacity:"0.3"})]})}),u.jsxs("g",{fill:"url(#amanireGradient)",children:[u.jsx("ellipse",{cx:"200",cy:"320",rx:"150",ry:"30",fillOpacity:"0.3"}),u.jsx("path",{d:"M200,80 C140,80 100,180 100,280 C100,300 120,320 200,320 C280,320 300,300 300,280 C300,180 260,80 200,80"}),u.jsx("ellipse",{cx:"200",cy:"60",rx:"40",ry:"50"}),u.jsx("path",{d:"M140,40 L120,10 M160,30 L140,0 M240,30 L260,0 M260,40 L280,10",stroke:"#1E293B",strokeWidth:"3"}),u.jsx("circle",{cx:"185",cy:"55",r:"6",fill:"#F8FAFC",fillOpacity:"0.5"}),u.jsx("circle",{cx:"215",cy:"55",r:"6",fill:"#F8FAFC",fillOpacity:"0.5"}),u.jsx("ellipse",{cx:"200",cy:"180",rx:"25",ry:"35",fill:"#22C55E",fillOpacity:"0.15"}),u.jsx("rect",{x:"175",y:"130",width:"50",height:"8",rx:"4",fill:"#F8FAFC",fillOpacity:"0.3"}),u.jsx("rect",{x:"180",y:"142",width:"40",height:"6",rx:"3",fill:"#F8FAFC",fillOpacity:"0.2"})]}),u.jsxs("g",{fill:"#1E293B",fillOpacity:"0.1",children:[u.jsx("path",{d:"M1100,350 L1100,200 L1150,170 L1200,200 L1200,350 Z"}),u.jsx("circle",{cx:"1150",cy:"140",r:"30"}),u.jsx("path",{d:"M1120,130 L1100,100 M1180,130 L1200,100",stroke:"#1E293B",strokeWidth:"2"})]}),u.jsx("g",{fill:"none",stroke:"#22C55E",strokeWidth:"1",strokeOpacity:"0.2",children:u.jsx("path",{d:"M400,350 Q500,320 600,340 Q700,300 800,330 Q900,310 1000,340"})}),u.jsxs("g",{fill:"#22C55E",fillOpacity:"0.15",children:[u.jsx("path",{d:"M600,350 L600,300 Q620,280 640,300 Q660,280 680,300 Q700,280 720,300 L720,350 Z"}),u.jsx("ellipse",{cx:"660",cy:"290",rx:"50",ry:"20"})]})]})}),u.jsx(Ku.div,{className:"absolute top-20 right-20 w-40 h-40 opacity-[0.04]",animate:{rotate:[-5,5,-5]},transition:{duration:6,repeat:1/0,ease:"easeInOut"},children:u.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[u.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"#22C55E",strokeWidth:"2"}),u.jsx("path",{d:"M50,5 L50,95 M5,50 L95,50",stroke:"#1E293B",strokeWidth:"1"}),u.jsx("circle",{cx:"50",cy:"50",r:"15",fill:"#22C55E",fillOpacity:"0.3"})]})})]})}function Eb(){return u.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden z-0",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#F8FAFC] via-[#F8FAFC] to-[#22C55E]/10"}),u.jsx("div",{className:"absolute bottom-0 right-0 w-[600px] h-[500px] opacity-[0.08]",children:u.jsxs("svg",{viewBox:"0 0 400 500",preserveAspectRatio:"xMaxYMax slice",className:"w-full h-full",children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:"towerGradient",x1:"0%",y1:"100%",x2:"0%",y2:"0%",children:[u.jsx("stop",{offset:"0%",stopColor:"#1E293B",stopOpacity:"1"}),u.jsx("stop",{offset:"100%",stopColor:"#22C55E",stopOpacity:"0.5"})]})}),u.jsxs("g",{fill:"url(#towerGradient)",children:[u.jsx("polygon",{points:"180,500 195,50 205,50 220,500"}),u.jsx("polygon",{points:"160,500 195,200 205,200 240,500",fillOpacity:"0.5"}),u.jsx("rect",{x:"185",y:"30",width:"30",height:"40",rx:"5"}),u.jsx("circle",{cx:"200",cy:"20",r:"15",fill:"#22C55E",fillOpacity:"0.4"}),u.jsxs("g",{stroke:"#1E293B",strokeWidth:"2",fill:"none",children:[u.jsx("line",{x1:"195",y1:"100",x2:"160",y2:"120"}),u.jsx("line",{x1:"205",y1:"100",x2:"240",y2:"120"}),u.jsx("line",{x1:"195",y1:"180",x2:"150",y2:"210"}),u.jsx("line",{x1:"205",y1:"180",x2:"250",y2:"210"}),u.jsx("line",{x1:"195",y1:"280",x2:"140",y2:"320"}),u.jsx("line",{x1:"205",y1:"280",x2:"260",y2:"320"})]})]}),u.jsxs(Ku.g,{animate:{opacity:[.3,.8,.3]},transition:{duration:2,repeat:1/0},children:[u.jsx("circle",{cx:"200",cy:"100",r:"40",fill:"none",stroke:"#22C55E",strokeWidth:"1",strokeOpacity:"0.3"}),u.jsx("circle",{cx:"200",cy:"100",r:"60",fill:"none",stroke:"#22C55E",strokeWidth:"0.5",strokeOpacity:"0.2"}),u.jsx("circle",{cx:"200",cy:"100",r:"80",fill:"none",stroke:"#22C55E",strokeWidth:"0.3",strokeOpacity:"0.1"})]})]})}),u.jsx("div",{className:"absolute bottom-0 left-0 w-[500px] h-[400px] opacity-[0.06]",children:u.jsxs("svg",{viewBox:"0 0 400 400",preserveAspectRatio:"xMinYMax slice",className:"w-full h-full",children:[u.jsxs("g",{fill:"#22C55E",children:[u.jsx("path",{d:"M50,400 L80,300 L110,400 Z",fillOpacity:"0.4"}),u.jsx("rect",{x:"77",y:"300",width:"6",height:"100",fillOpacity:"0.3"}),u.jsx("ellipse",{cx:"80",cy:"300",rx:"40",ry:"15",fillOpacity:"0.2"}),u.jsx("path",{d:"M120,400 L160,280 L200,400 Z",fillOpacity:"0.35"}),u.jsx("rect",{x:"157",y:"280",width:"6",height:"120",fillOpacity:"0.25"}),u.jsx("ellipse",{cx:"160",cy:"280",rx:"50",ry:"18",fillOpacity:"0.18"}),u.jsx("path",{d:"M200,400 L250,250 L300,400 Z",fillOpacity:"0.3"}),u.jsx("rect",{x:"247",y:"250",width:"6",height:"150",fillOpacity:"0.2"}),u.jsx("ellipse",{cx:"250",cy:"250",rx:"60",ry:"20",fillOpacity:"0.15"})]}),u.jsxs("g",{fill:"none",stroke:"#1E293B",strokeWidth:"0.5",strokeOpacity:"0.2",children:[u.jsx("rect",{x:"300",y:"350",width:"80",height:"50",rx:"5"}),u.jsx("rect",{x:"310",y:"320",width:"60",height:"30",rx:"3"}),u.jsx("rect",{x:"315",y:"360",width:"20",height:"35",rx:"2"}),u.jsx("rect",{x:"345",y:"365",width:"25",height:"30",rx:"2"})]})]})}),u.jsx(Ku.div,{className:"absolute top-40 left-1/3 opacity-[0.03]",animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"},children:u.jsxs("svg",{width:"200",height:"200",viewBox:"0 0 200 200",children:[u.jsx("circle",{cx:"100",cy:"100",r:"90",fill:"none",stroke:"#22C55E",strokeWidth:"2",strokeDasharray:"10,5"}),u.jsx("path",{d:"M100,10 L100,190",stroke:"#1E293B",strokeWidth:"1"}),u.jsx("path",{d:"M10,100 L190,100",stroke:"#1E293B",strokeWidth:"1"}),u.jsx("circle",{cx:"100",cy:"100",r:"30",fill:"#22C55E",fillOpacity:"0.2"})]})}),u.jsx("div",{className:"absolute top-10 right-10 w-32 h-32 opacity-[0.05]",children:u.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[u.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"#22C55E",strokeWidth:"2"}),u.jsx("path",{d:"M50,15 L50,85",stroke:"#22C55E",strokeWidth:"2"}),u.jsx("path",{d:"M25,35 L50,15 L75,35",fill:"none",stroke:"#22C55E",strokeWidth:"2"}),u.jsx("circle",{cx:"50",cy:"50",r:"10",fill:"#22C55E",fillOpacity:"0.4"})]})})]})}const p9e="/assets/video-6616f47d-73ac-49ee-b6fe-81559cb9696d_1767685922840-Bey_va_D.mp4";function m9e(){const{language:t}=Na(),[e,n]=N.useState("initial"),[r,i]=N.useState(!1),[s,a]=N.useState("hidden");N.useEffect(()=>{const l=[];return l.push(setTimeout(()=>n("dive"),1e3)),l.push(setTimeout(()=>{n("impact"),a("center"),i(!0),setTimeout(()=>i(!1),150)},2200)),l.push(setTimeout(()=>a("fade"),2600)),l.push(setTimeout(()=>{n("transform"),a("side")},2800)),l.push(setTimeout(()=>a("hidden"),3200)),()=>l.forEach(clearTimeout)},[]);const o={fcpms:"FC-PMS",title:t==="ar"?" :  ":"Fuel Cells: A Sustainable Horizon",tagline:t==="ar"?"FCPMS        .":"FCPMS represents the perfect synergy between technological precision and environmental harmony.",slogan:t==="ar"?"  .  .":"Rooted in the Nile. Powered by Hydrogen."};return u.jsxs("div",{className:"absolute inset-0 z-10 overflow-hidden pointer-events-none",children:[r&&u.jsx("div",{className:"absolute inset-0 bg-white z-50 animate-flash"}),u.jsx("div",{className:`absolute inset-0 transition-all duration-1000 ${e==="initial"||e==="dive"?"bg-slate-900/60":"bg-transparent"}`,children:u.jsx("div",{className:`absolute inset-0 storm-clouds transition-opacity duration-1000 ${e==="transform"?"opacity-0":"opacity-100"}`})}),u.jsxs("svg",{className:`absolute left-1/2 -translate-x-1/2 top-0 h-full w-64 z-20 pointer-events-none transition-opacity duration-300 ${s==="center"?"opacity-100":"opacity-0"}`,viewBox:"0 0 100 400",preserveAspectRatio:"none",children:[u.jsx("defs",{children:u.jsxs("filter",{id:"lightning-glow",x:"-100%",y:"-100%",width:"300%",height:"300%",children:[u.jsx("feGaussianBlur",{stdDeviation:"4",result:"blur"}),u.jsxs("feMerge",{children:[u.jsx("feMergeNode",{in:"blur"}),u.jsx("feMergeNode",{in:"blur"}),u.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),u.jsx("path",{d:"M50 0 L45 60 L55 65 L42 130 L58 140 L35 200 L60 210 L40 280 L55 290 L50 400",fill:"none",stroke:"white",strokeWidth:"3",filter:"url(#lightning-glow)",className:`lightning-path ${s==="center"?"animate-lightning":""}`}),u.jsx("path",{d:"M50 0 L45 60 L55 65 L42 130 L58 140 L35 200 L60 210 L40 280 L55 290 L50 400",fill:"none",stroke:"rgba(100, 200, 255, 0.8)",strokeWidth:"6",filter:"url(#lightning-glow)",className:`${s==="center"?"animate-lightning":"opacity-0"}`})]}),u.jsxs("svg",{className:`absolute right-4 top-0 h-full w-48 z-20 pointer-events-none transition-opacity duration-200 ${s==="side"?"opacity-100":"opacity-0"}`,viewBox:"0 0 100 400",preserveAspectRatio:"none",children:[u.jsx("path",{d:"M80 0 L75 50 L85 55 L70 100 L88 110 L65 160 L82 170 L60 220 L78 230 L55 300 L75 320 L50 400",fill:"none",stroke:"white",strokeWidth:"2",filter:"url(#lightning-glow)",className:`${s==="side"?"animate-lightning-side":""}`}),u.jsx("path",{d:"M80 0 L75 50 L85 55 L70 100 L88 110 L65 160 L82 170 L60 220 L78 230 L55 300 L75 320 L50 400",fill:"none",stroke:"rgba(100, 200, 255, 0.6)",strokeWidth:"4",filter:"url(#lightning-glow)",className:`${s==="side"?"animate-lightning-side":"opacity-0"}`})]}),u.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-auto px-4",children:[u.jsxs("div",{className:`relative mb-4 sm:mb-6 transition-all duration-1000 ${e==="initial"?"opacity-60 -translate-y-8 scale-95":e==="dive"?"opacity-100 translate-y-0 scale-105":"opacity-100 translate-y-0 scale-100"}`,children:[u.jsx("div",{className:`absolute -inset-4 sm:-inset-6 lg:-inset-8 bg-emerald-500/40 blur-3xl rounded-full transition-all duration-500 ${e==="impact"||e==="transform"?"opacity-100 animate-pulse scale-110":"opacity-20"}`}),u.jsx("div",{className:`relative w-40 h-40 sm:w-52 sm:h-52 lg:w-72 lg:h-72 overflow-hidden rounded-2xl sm:rounded-3xl border-2 border-emerald-500/30 transition-all duration-500 ${e==="impact"?"animate-shake border-emerald-400/60":""}`,style:{boxShadow:e==="impact"||e==="transform"?"0 0 40px rgba(34, 197, 94, 0.4), 0 0 80px rgba(34, 197, 94, 0.2)":"0 0 20px rgba(34, 197, 94, 0.2)"},children:u.jsx("video",{src:p9e,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:`w-full h-full object-cover transition-all duration-500 ${e==="dive"?"scale-110":e==="impact"?"scale-115":"scale-100"}`})})]}),u.jsx(Sn,{className:"focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate whitespace-nowrap inline-flex items-center rounded-full border transition-all duration-500 shadow-lg mb-3 sm:mb-4 bg-[#22C55E]/20 border-[#22C55E]/40 px-4 sm:px-6 py-1.5 sm:py-2 tracking-widest uppercase sm:text-lg lg:text-xl backdrop-blur-sm ml-[0px] mr-[0px] pl-[6px] pr-[6px] text-[51px] font-extrabold text-[#007cf8]",children:o.fcpms}),u.jsx("h1",{className:`text-xl sm:text-3xl lg:text-5xl tracking-tight leading-tight text-center px-2 sm:px-4 py-1 sm:py-2 font-bold transition-all duration-500 mb-2 sm:mb-3 ${e==="initial"||e==="dive"?"text-white/80":"text-white neon-glow"} ${e==="impact"?"animate-shake":""}`,children:o.title}),u.jsxs("p",{className:`text-sm sm:text-base lg:text-xl leading-relaxed font-light max-w-3xl mx-auto italic text-center transition-all duration-700 mb-2 sm:mb-3 ${e==="transform"?"text-slate-200 opacity-100":"text-slate-300/70 opacity-70"}`,children:['"',o.tagline,'"']}),u.jsxs("div",{className:`flex items-center justify-center gap-2 sm:gap-3 font-bold text-xs tracking-[0.15em] sm:tracking-[0.2em] uppercase transition-all duration-700 ${e==="transform"?"text-[#22C55E] opacity-100":"text-[#22C55E]/70 opacity-70"}`,children:[u.jsx("span",{className:`h-px w-8 sm:w-12 lg:w-16 transition-all duration-700 ${e==="transform"?"bg-[#22C55E]":"bg-[#22C55E]/40"}`}),o.slogan,u.jsx("span",{className:`h-px w-8 sm:w-12 lg:w-16 transition-all duration-700 ${e==="transform"?"bg-[#22C55E]":"bg-[#22C55E]/40"}`})]})]}),e==="transform"&&u.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 overflow-hidden",children:[...Array(20)].map((l,c)=>u.jsx("div",{className:"absolute w-2 h-2 bg-emerald-400/60 rounded-full animate-rise",style:{left:`${5+c*5}%`,animationDelay:`${c*.1}s`,animationDuration:`${2+Math.random()}s`}},c))}),u.jsx("style",{children:`
        @keyframes flash {
          0% { opacity: 1; }
          100% { opacity: 0; }
        }
        .animate-flash {
          animation: flash 0.15s ease-out forwards;
        }
        
        @keyframes shake {
          0%, 100% { transform: translateY(0) translateX(0); }
          10% { transform: translateX(-5px) translateY(-2px); }
          20% { transform: translateX(5px) translateY(2px); }
          30% { transform: translateX(-4px) translateY(-1px); }
          40% { transform: translateX(4px) translateY(1px); }
          50% { transform: translateX(-3px); }
          60% { transform: translateX(3px); }
          70% { transform: translateX(-2px); }
          80% { transform: translateX(2px); }
          90% { transform: translateX(-1px); }
        }
        .animate-shake {
          animation: shake 0.5s ease-in-out;
        }
        
        @keyframes lightning {
          0%, 100% { opacity: 0; stroke-dashoffset: 1000; }
          10%, 30%, 50%, 70% { opacity: 1; }
          20%, 40%, 60%, 80% { opacity: 0.3; }
          90% { opacity: 1; stroke-dashoffset: 0; }
        }
        .animate-lightning {
          stroke-dasharray: 1000;
          animation: lightning 0.4s ease-out forwards;
        }
        
        @keyframes lightning-side {
          0% { opacity: 0; stroke-dashoffset: 800; }
          15%, 35%, 55% { opacity: 1; }
          25%, 45% { opacity: 0.4; }
          100% { opacity: 0; stroke-dashoffset: 0; }
        }
        .animate-lightning-side {
          stroke-dasharray: 800;
          animation: lightning-side 0.35s ease-out forwards;
        }
        
        .neon-glow {
          text-shadow: 
            0 0 10px rgba(34, 197, 94, 0.8),
            0 0 20px rgba(34, 197, 94, 0.6),
            0 0 40px rgba(34, 197, 94, 0.4),
            0 0 80px rgba(100, 200, 255, 0.3);
        }
        
        .storm-clouds {
          background: 
            radial-gradient(ellipse at 20% 20%, rgba(30, 41, 59, 0.4) 0%, transparent 50%),
            radial-gradient(ellipse at 80% 10%, rgba(30, 41, 59, 0.3) 0%, transparent 40%),
            radial-gradient(ellipse at 50% 30%, rgba(30, 41, 59, 0.2) 0%, transparent 60%);
          animation: clouds 20s ease-in-out infinite;
        }
        
        @keyframes clouds {
          0%, 100% { transform: translateX(0); }
          50% { transform: translateX(-20px); }
        }
        
        @keyframes rise {
          0% { 
            opacity: 0;
            transform: translateY(0);
          }
          20% {
            opacity: 1;
          }
          100% { 
            opacity: 0;
            transform: translateY(-120px);
          }
        }
        .animate-rise {
          animation: rise 2s ease-out forwards;
        }
      `})]})}const g9e="/assets/hero-cover-CP5Inkw4.jpg",v9e=[{year:"2015",fuelCell:8500,diesel:1200,battery:1500},{year:"2018",fuelCell:5200,diesel:1300,battery:1100},{year:"2021",fuelCell:3100,diesel:1400,battery:800},{year:"2024",fuelCell:1800,diesel:1500,battery:600},{year:"2027",fuelCell:1100,diesel:1600,battery:500}],JD={description:"As diesel costs escalate, the financial burden of our geographically distributed network is no longer sustainable. Beyond the economic drain, this fossil fuel dependency directly impacts Sudan's biodiversity and land health. We must stop following outdated energy models and start building upon modern global transitions. By converting operational waste into capital assets for hydrogen production, we transform from the nation's largest diesel consumer into an integrated Energy & Telecom InfraCo within 10 years.",descriptionAr:"           .                    .               .                         10 .",architect:"Eng. Mohamed Abbas"};function y9e(){const{data:t,isLoading:e}=ARe();lb();const{t:n,language:r,isRTL:i}=Na(),a={en:{fcpms:"FCPMS",title:"Fuel Cells :  A Sustainable Horizon",tagline:"FCPMS represents the perfect synergy between technological precision and environmental harmony.",slogan:"Rooted in the Nile. Powered by Hydrogen.",strategicVision:"Strategic Vision",executiveSummary:"Executive Summary",operationalGoals:"Operational Goals",marketDynamics:"Market Dynamics & Local Opportunity",dieselHydrogen:"The Diesel-Hydrogen Divergence",economicRisk:"Economic risk vs. Future-proof investment",fossilFuel:"Fossil Fuel Vulnerability",greenHydrogen:"Green Hydrogen Opportunity",greenH2Matrix:"Green H2 Investment Matrix",tcoProjection:"TCO Projection & Local Ecosystem Growth",exploreStrategy:"Explore Global Strategy",globalTracker:"Global H2 Project Tracker",liveData:"Live 2025 Data",openTracker:"Open Tracker Map",localInvestment:"Local Investment",marketDependency:"Market Dependency",retainedValue:"100% Retained Value",capitalFlight:"90% Capital Flight",blueprintEnergySovereignty:"The Blueprint for Energy Sovereignty",exploreFullStrategy:"Explore Full Strategy",platformMessage:"Platform Message",strategicInfrastructureMandate:"Strategic Infrastructure Mandate",inclusivityFutureGovernance:"Inclusivity & Future Governance (Amanirenas Doctrine)",executiveQuote:"Gentlemen, we are the largest diesel consumer in Sudan, and we own the largest geographically distributed asset network. If we invest part of the OpEx budget wasted on diesel and transform it into CapEx for hydrogen production units, we will become an Energy and Telecom company (InfraCo) within 10 years.",economicSovereignty:"Economic Sovereignty",economicSovereigntyDesc:"Direct impact on the bottom line by identifying hidden losses in fuel logistics and thermal inefficiencies.",infrastructureScalability:"Infrastructure Scalability",infrastructureScalabilityDesc:"Designed with modular logic that allows seamless adaptation across all geographic regions in Sudan.",bioRegenerativeEcosystem:"Bio-Regenerative Energy Ecosystem",bioRegenerativeEcosystemDesc:"Accelerating the shift to pure hydrogen ecosystems while protecting local biodiversity through non-invasive energy infrastructure.",modernizationRoadmap:"Modernization Roadmap",modernizationRoadmapDesc:"Integrated execution framework including site assessment, procurement timelines, and staff technical training.",precisionFuelAnalytics:"Precision Fuel Analytics",precisionFuelAnalyticsDesc:"Utilizing non-linear load profile mapping to resolve discrepancies in fuel consumption. This module replaces heuristic estimations with Data-Driven Quantitative Analysis.",sustainableEnergyTransition:"Sustainable Energy Transition (SET)",sustainableEnergyTransitionDesc:"A sophisticated feasibility engine designed to assess the integration of Zero-Emission Fuel Cells. Specifically engineered for remote, low-load infrastructure.",predictiveAIDiagnostics:"Predictive AI Diagnostics",predictiveAIDiagnosticsDesc:"Leveraging Machine Learning to provide diagnostic insights for high-capacity power units, ensuring grid stability and asset longevity.",strategicDeliverables:"Strategic Deliverables",strategicDeliverablesDesc:"Automated generation of boardroom-ready insights, bridging the gap between field engineering and executive decision-making.",fossilFuelVulnerabilityDesc:"The diesel market is characterized by extreme volatility and supply chain insecurity. Each liter consumed represents a permanent operational loss and an irreversible carbon tax on Sudan's fragile ecosystems.",greenHydrogenOpportunityDesc:"Local H2 production transforms recurring OpEx into durable capital assets. By leveraging Sudan's solar abundance, we move from being price-takers in the global oil market to becoming energy self-sufficient producers.",netZeroQuote:"The world is accelerating toward Net-Zero. Following outdated diesel paths leaves us isolated; building local hydrogen infrastructure puts us at the forefront of the new energy economy.",interactiveGlobalMap:"Interactive Global Map: 1,200+ Projects Tracked in IEA 2025 Review",hydrogenCapex:"Hydrogen (CapEx View)",dieselOpex:"Diesel (OpEx Drain)",greenH2:"Green H2",globalOil:"Global Oil",energySystemsStrategist:"Energy Systems Strategist & Senior Maintenance Engineer"},ar:{fcpms:"FCPMS",title:" :  ",tagline:"FCPMS        .",slogan:"  .  .",strategicVision:" ",executiveSummary:" ",operationalGoals:" ",marketDynamics:"   ",dieselHydrogen:"  ",economicRisk:"    ",fossilFuel:"  ",greenHydrogen:"  ",greenH2Matrix:"   ",tcoProjection:"      ",exploreStrategy:"  ",globalTracker:"   ",liveData:" 2025 ",openTracker:"  ",localInvestment:" ",marketDependency:"  ",retainedValue:"100%   ",capitalFlight:"90%   ",blueprintEnergySovereignty:"   ",exploreFullStrategy:"  ",platformMessage:" ",strategicInfrastructureMandate:"   ",inclusivityFutureGovernance:"   ( )",executiveQuote:"           .                      10 .",economicSovereignty:" ",economicSovereigntyDesc:"               .",infrastructureScalability:"   ",infrastructureScalabilityDesc:"           .",bioRegenerativeEcosystem:"   ",bioRegenerativeEcosystemDesc:"                 .",modernizationRoadmap:"  ",modernizationRoadmapDesc:"           .",precisionFuelAnalytics:"  ",precisionFuelAnalyticsDesc:"           .          .",sustainableEnergyTransition:"  ",sustainableEnergyTransitionDesc:"         .        .",predictiveAIDiagnostics:"   ",predictiveAIDiagnosticsDesc:"                .",strategicDeliverables:" ",strategicDeliverablesDesc:"             .",fossilFuelVulnerabilityDesc:"        .                  .",greenHydrogenOpportunityDesc:"          .                      .",netZeroQuote:"    .                 .",interactiveGlobalMap:"  :   1,200        2025",hydrogenCapex:" (  )",dieselOpex:" ( )",greenH2:" ",globalOil:" ",energySystemsStrategist:"     "}}[r],o=[{title:a.economicSovereignty,description:a.economicSovereigntyDesc},{title:a.infrastructureScalability,description:a.infrastructureScalabilityDesc},{title:a.bioRegenerativeEcosystem,description:a.bioRegenerativeEcosystemDesc},{title:a.modernizationRoadmap,description:a.modernizationRoadmapDesc}],l=[{title:a.precisionFuelAnalytics,titleAr:"  ",description:a.precisionFuelAnalyticsDesc,icon:sA},{title:a.sustainableEnergyTransition,titleAr:"  ",description:a.sustainableEnergyTransitionDesc,icon:sx},{title:a.predictiveAIDiagnostics,titleAr:"  ",description:a.predictiveAIDiagnosticsDesc,icon:EB},{title:a.strategicDeliverables,titleAr:" ",description:a.strategicDeliverablesDesc,icon:nd}];return u.jsxs("div",{className:"min-h-screen bg-[#F8FAFC] flex relative overflow-hidden",dir:i?"rtl":"ltr",children:[u.jsx(d9e,{}),u.jsx(No,{}),u.jsxs("main",{className:"flex-1 overflow-y-auto relative z-10 lg:ml-20",children:[u.jsxs("header",{className:"text-white p-6 sm:p-10 lg:p-16 border-b border-[#22C55E]/30 relative overflow-hidden min-h-[350px] sm:min-h-[400px] lg:min-h-[500px]",children:[u.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${g9e})`}}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#1E293B]/70 via-[#1E293B]/50 to-[#1E293B]/90"}),u.jsx(m9e,{})]}),u.jsx("div",{className:"p-4 sm:p-6 lg:p-8 space-y-8 sm:space-y-10 lg:space-y-12",children:u.jsxs("div",{className:"max-w-7xl mx-auto space-y-10 sm:space-y-12 lg:space-y-16",children:[u.jsxs("section",{id:"vision",className:"scroll-mt-8",children:[u.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 mb-4 sm:mb-6 lg:mb-8",children:[u.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-xl sm:rounded-2xl bg-emerald-500/10 flex items-center justify-center",children:u.jsx(up,{className:"w-5 h-5 sm:w-6 sm:h-6 text-emerald-500"})}),u.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-black text-slate-900 drop-shadow-sm",children:a.strategicVision})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 lg:gap-8",children:[u.jsxs(vt,{className:"border-none shadow-2xl bg-slate-900 text-white overflow-hidden relative min-h-[300px] sm:min-h-[350px] lg:min-h-[400px] flex flex-col justify-center rounded-2xl sm:rounded-3xl group",children:[u.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1451187580459-43490279c0fa?q=80&w=2072')] bg-cover bg-center opacity-20 transition-transform duration-700 group-hover:scale-110"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900 via-slate-900/60 to-transparent"}),u.jsxs("div",{className:"relative z-10 p-10",children:[u.jsx("div",{className:"w-16 h-1 bg-emerald-500 mb-6"}),u.jsx("h3",{className:"text-3xl font-bold mb-4",children:a.blueprintEnergySovereignty}),u.jsxs("p",{className:"text-lg leading-relaxed text-slate-300 italic mb-8",children:['"',r==="ar"?JD.descriptionAr:JD.description,'"']}),u.jsx(D1,{href:"/remote-monitoring",children:u.jsxs(bt,{variant:"outline",className:"border-emerald-500/50 hover:bg-emerald-500/10 text-emerald-400 hover:text-emerald-300 px-8 h-12 rounded-full",children:[a.exploreFullStrategy," ",u.jsx(F4,{className:`${i?"ml-2 rotate-180":"mr-2"} w-4 h-4`})]})})]})]}),u.jsx("div",{className:"space-y-4",children:o.map((c,d)=>u.jsx(vt,{className:"border-none shadow-lg bg-white/80 backdrop-blur-sm ring-1 ring-slate-100 hover:shadow-xl transition-all rounded-2xl",children:u.jsxs(Ct,{className:"p-6 flex gap-6 items-center",children:[u.jsx("div",{className:"w-14 h-14 rounded-2xl bg-emerald-50 flex items-center justify-center shrink-0",children:u.jsx(Pg,{className:"w-7 h-7 text-emerald-500"})}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-lg text-slate-900 mb-1",children:c.title}),u.jsx("p",{className:"text-sm text-slate-600 leading-relaxed font-medium",children:c.description})]})]})},d))})]})]}),u.jsxs("section",{id:"message",className:"scroll-mt-8",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[u.jsx("div",{className:"w-12 h-12 rounded-2xl bg-emerald-500/10 flex items-center justify-center",children:u.jsx(A$,{className:"w-6 h-6 text-emerald-500"})}),u.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-black text-slate-900 drop-shadow-sm",children:a.platformMessage})]}),u.jsxs(vt,{className:"border-none shadow-2xl bg-white/95 backdrop-blur-md ring-1 ring-slate-100 overflow-hidden rounded-3xl",children:[u.jsx("div",{className:"h-2 bg-gradient-to-l from-[#22C55E] to-blue-500"}),u.jsxs(pn,{className:"p-10 pb-4",children:[u.jsxs(_n,{className:"text-3xl font-bold flex items-center gap-3",children:[u.jsx(A$,{className:"w-8 h-8 text-[#22C55E]"}),a.strategicInfrastructureMandate]}),u.jsx(Zr,{className:"text-slate-500 font-medium",children:a.inclusivityFutureGovernance})]}),u.jsxs(Ct,{className:"p-10 pt-0 space-y-8 relative",children:[u.jsx("div",{className:`absolute top-0 ${i?"left-10":"right-10"} w-48 h-48 opacity-[0.03] pointer-events-none`,children:u.jsx("svg",{viewBox:"0 0 100 100",className:"w-full h-full fill-[#1E293B]",children:u.jsx("path",{d:"M50,10 C30,10 20,40 20,60 C20,80 40,90 50,90 C60,90 80,80 80,60 C80,40 70,10 50,10 Z"})})}),u.jsx("div",{className:"space-y-6",children:u.jsx("p",{className:`text-2xl font-semibold text-slate-800 leading-relaxed ${i?"border-l-4 pl-6":"border-r-4 pr-6"} border-emerald-500`,children:a.executiveQuote})}),u.jsxs("div",{className:"pt-10 border-t border-slate-100 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-5",children:[u.jsx("img",{src:"/mohamed-abbas.jpg",alt:"Mohamed Abbas",className:"w-16 h-16 rounded-2xl object-cover shadow-lg"}),u.jsxs("div",{children:[u.jsx("p",{className:"font-bold text-xl text-slate-900",children:JD.architect}),u.jsx("p",{className:"text-sm font-medium text-emerald-600 uppercase tracking-wider",children:a.energySystemsStrategist})]})]}),u.jsx("div",{className:"hidden md:block",children:u.jsx("div",{className:"text-[40px] font-serif text-slate-200 select-none",children:"Mohamed Abbas"})})]})]})]})]}),u.jsxs("section",{id:"goals",className:"scroll-mt-8",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[u.jsx("div",{className:"w-12 h-12 rounded-2xl bg-emerald-500/10 flex items-center justify-center",children:u.jsx(lA,{className:"w-6 h-6 text-emerald-500"})}),u.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-black text-slate-900 drop-shadow-sm",children:a.operationalGoals})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:l.map((c,d)=>{const f=c.icon;return u.jsxs(vt,{className:"border-none shadow-xl bg-white/80 backdrop-blur-sm ring-1 ring-slate-100 hover:-translate-y-2 transition-all duration-500 group rounded-2xl",children:[u.jsxs(pn,{className:"pb-4",children:[u.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-emerald-50 to-slate-50 flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:u.jsx(f,{className:"w-8 h-8 text-emerald-600"})}),u.jsx(_n,{className:"text-xl font-bold text-slate-900 mb-2",children:c.title}),!i&&u.jsx(Sn,{variant:"outline",className:"text-[10px] font-bold border-emerald-200 text-emerald-700 bg-emerald-50/50",children:c.titleAr})]}),u.jsx(Ct,{children:u.jsx("p",{className:"text-sm text-slate-600 leading-relaxed font-medium",children:c.description})})]},d)})})]}),u.jsxs("section",{id:"analytics",className:"scroll-mt-8",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[u.jsx("div",{className:"w-12 h-12 rounded-2xl bg-emerald-500/10 flex items-center justify-center",children:u.jsx(sA,{className:"w-6 h-6 text-emerald-500"})}),u.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-black text-slate-900 drop-shadow-sm",children:a.marketDynamics})]}),u.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 mb-8",children:[u.jsxs(vt,{className:"border-none shadow-2xl bg-white/90 backdrop-blur-sm ring-1 ring-slate-100 rounded-3xl overflow-hidden",children:[u.jsxs(pn,{className:"p-8",children:[u.jsx(_n,{className:"text-2xl font-black text-slate-900",children:a.dieselHydrogen}),u.jsx(Zr,{children:a.economicRisk})]}),u.jsxs(Ct,{className:"p-8 pt-0 space-y-6",children:[u.jsxs("div",{className:"bg-red-50 p-6 rounded-2xl border border-red-100",children:[u.jsxs("h4",{className:"font-bold text-red-900 flex items-center gap-2 mb-2",children:[u.jsx(ax,{className:"w-4 h-4"})," ",a.fossilFuel]}),u.jsx("p",{className:"text-sm text-red-700 leading-relaxed",children:a.fossilFuelVulnerabilityDesc})]}),u.jsxs("div",{className:"bg-emerald-50 p-6 rounded-2xl border border-emerald-100",children:[u.jsxs("h4",{className:"font-bold text-emerald-900 flex items-center gap-2 mb-2",children:[u.jsx(aa,{className:"w-4 h-4"})," ",a.greenHydrogen]}),u.jsx("p",{className:"text-sm text-emerald-700 leading-relaxed mb-4",children:a.greenHydrogenOpportunityDesc}),u.jsxs("div",{className:"text-[10px] text-emerald-800/60 space-y-1",children:[u.jsxs("p",{children:[""," ",u.jsx("a",{href:"https://www.irena.org/publications/2024/Jan/World-Energy-Transitions-Outlook-2024",target:"_blank",rel:"noopener noreferrer",className:"hover:text-emerald-500 underline",children:"IRENA (2024)"}),": Solar-to-H2 costs projected to reach $1.5/kg by 2030."]}),u.jsxs("p",{children:[""," ",u.jsx("a",{href:"https://global-solar-atlas.info/map?c=15.584,32.533,6",target:"_blank",rel:"noopener noreferrer",className:"hover:text-emerald-500 underline",children:"World Bank"}),": Sudan's GHI (Global Horizontal Irradiance) exceeds 2400 kWh/m."]}),u.jsxs("p",{children:[""," ",u.jsx("a",{href:"https://www.iea.org/reports/world-energy-outlook-2024",target:"_blank",rel:"noopener noreferrer",className:"hover:text-emerald-500 underline",children:"IEA World Energy Outlook"}),": Fossil fuel volatility risk index increased by 40%."]})]})]}),u.jsx("div",{className:"pt-4",children:u.jsxs("p",{className:"text-sm text-slate-500 italic",children:['"',a.netZeroQuote,'"']})})]})]}),u.jsxs(vt,{className:"border-none shadow-2xl bg-white/90 backdrop-blur-sm ring-1 ring-slate-100 rounded-3xl overflow-hidden group",children:[u.jsxs(pn,{className:"p-8 pb-4 flex flex-row items-start justify-between",children:[u.jsxs("div",{children:[u.jsx(_n,{className:"text-2xl font-black text-slate-900",children:a.greenH2Matrix}),u.jsx(Zr,{children:a.tcoProjection})]}),u.jsxs(bt,{variant:"outline",size:"sm",className:"border-emerald-200 text-emerald-700 hover:bg-emerald-50 relative z-50",onClick:c=>{c.stopPropagation(),window.location.href="/h2-strategy"},children:[u.jsx(aa,{className:`w-4 h-4 ${i?"ml-2":"mr-2"}`}),a.exploreStrategy]})]}),u.jsxs(Ct,{className:"p-8 pt-0",children:[u.jsxs("div",{className:"mb-6 p-4 bg-slate-900 rounded-2xl border border-slate-800 relative overflow-hidden group/map",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3 relative z-10",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(aa,{className:"w-4 h-4 text-emerald-400"}),u.jsx("span",{className:"text-xs font-bold text-slate-200 tracking-wider uppercase",children:a.globalTracker})]}),u.jsx(Sn,{variant:"outline",className:"text-[10px] bg-emerald-500/10 text-emerald-400 border-emerald-500/20",children:a.liveData})]}),u.jsxs("div",{className:"h-48 bg-slate-950 rounded-xl relative overflow-hidden flex items-center justify-center border border-slate-800/50",children:[u.jsx("div",{className:"absolute inset-0 opacity-20 bg-[url('https://www.transparenttextures.com/patterns/grid-me.png')]"}),u.jsxs("div",{className:"relative z-10 text-center px-6",children:[u.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-500/20 flex items-center justify-center mx-auto mb-3 animate-pulse",children:u.jsx(lA,{className:"w-6 h-6 text-emerald-500"})}),u.jsx("p",{className:"text-[11px] text-slate-400 font-medium max-w-[200px] mx-auto",children:a.interactiveGlobalMap}),u.jsxs(bt,{variant:"ghost",size:"sm",className:"mt-4 text-[10px] text-emerald-400 hover:text-emerald-300 hover:bg-emerald-500/5 h-8 relative z-50",onClick:c=>{c.stopPropagation(),window.open("https://www.iea.org/data-and-statistics/data-tools/hydrogen-tracker","_blank")},children:[a.openTracker," ",u.jsx(F4,{className:`${i?"mr-1 rotate-180":"ml-1"} w-3 h-3`})]})]}),u.jsx("div",{className:"absolute top-1/4 left-1/3 w-2 h-2 bg-emerald-500 rounded-full blur-[2px] animate-ping"}),u.jsx("div",{className:"absolute top-1/2 right-1/4 w-1.5 h-1.5 bg-blue-500 rounded-full blur-[1px]"}),u.jsx("div",{className:"absolute bottom-1/3 left-1/2 w-2 h-2 bg-emerald-500 rounded-full blur-[2px] animate-pulse"})]})]}),u.jsx("div",{className:"h-48 mb-6",children:u.jsx(d3e,{width:"100%",height:"100%",children:u.jsxs(u9e,{data:v9e,children:[u.jsx(iue,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0"}),u.jsx(bR,{dataKey:"year",axisLine:!1,tickLine:!1}),u.jsx(wR,{axisLine:!1,tickLine:!1}),u.jsx(Cu,{cursor:{fill:"#f8fafc"},contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)"}}),u.jsx(Og,{}),u.jsx(Rp,{dataKey:"fuelCell",fill:"#10b981",name:a.hydrogenCapex,radius:[4,4,0,0]}),u.jsx(Rp,{dataKey:"diesel",fill:"#ef4444",name:a.dieselOpex,radius:[4,4,0,0]})]})})}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"p-4 rounded-xl bg-slate-50 border border-slate-100",children:[u.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold mb-1",children:a.localInvestment}),u.jsx("p",{className:"text-lg font-black text-slate-900",children:a.greenH2}),u.jsx("p",{className:"text-[10px] text-emerald-600 font-medium",children:a.retainedValue})]}),u.jsxs("div",{className:"p-4 rounded-xl bg-slate-50 border border-slate-100",children:[u.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold mb-1",children:a.marketDependency}),u.jsx("p",{className:"text-lg font-black text-slate-900",children:a.globalOil}),u.jsx("p",{className:"text-[10px] text-red-600 font-medium",children:a.capitalFlight})]})]})]})]})]})]})]})})]}),u.jsx(BN,{})]})}function SS(t,[e,n]){return Math.min(n,Math.max(e,t))}function $6(t){const e=N.useRef({value:t,previous:t});return N.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var x9e=[" ","Enter","ArrowUp","ArrowDown"],b9e=[" ","Enter"],AE="Select",[SR,ER,w9e]=oE(AE),[Mb]=Pa(AE,[w9e,AN]),MR=AN(),[_9e,Hp]=Mb(AE),[S9e,E9e]=Mb(AE),yue=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:a,defaultValue:o,onValueChange:l,dir:c,name:d,autoComplete:f,disabled:h,required:m,form:v}=t,b=MR(e),[y,w]=N.useState(null),[S,M]=N.useState(null),[T,A]=N.useState(!1),C=pb(c),[j=!1,L]=Qc({prop:r,defaultProp:i,onChange:s}),[O,k]=Qc({prop:a,defaultProp:o,onChange:l}),F=N.useRef(null),G=y?v||!!y.closest("form"):!0,[Y,U]=N.useState(new Set),W=Array.from(Y).map(q=>q.props.value).join(";");return u.jsx(c1e,{...b,children:u.jsxs(_9e,{required:m,scope:e,trigger:y,onTriggerChange:w,valueNode:S,onValueNodeChange:M,valueNodeHasChildren:T,onValueNodeHasChildrenChange:A,contentId:Gu(),value:O,onValueChange:k,open:j,onOpenChange:L,dir:C,triggerPointerDownPosRef:F,disabled:h,children:[u.jsx(SR.Provider,{scope:e,children:u.jsx(S9e,{scope:t.__scopeSelect,onNativeOptionAdd:N.useCallback(q=>{U(Z=>new Set(Z).add(q))},[]),onNativeOptionRemove:N.useCallback(q=>{U(Z=>{const V=new Set(Z);return V.delete(q),V})},[]),children:n})}),G?u.jsxs($ue,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:O,onChange:q=>k(q.target.value),disabled:h,form:v,children:[O===void 0?u.jsx("option",{value:""}):null,Array.from(Y)]},W):null]})})};yue.displayName=AE;var xue="SelectTrigger",bue=N.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=MR(n),a=Hp(xue,n),o=a.disabled||r,l=Hn(e,a.onTriggerChange),c=ER(n),d=N.useRef("touch"),[f,h,m]=Hue(b=>{const y=c().filter(M=>!M.disabled),w=y.find(M=>M.value===a.value),S=Wue(y,b,w);S!==void 0&&a.onValueChange(S.value)}),v=b=>{o||(a.onOpenChange(!0),m()),b&&(a.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return u.jsx(Gre,{asChild:!0,...s,children:u.jsx(tn.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":Vue(a.value)?"":void 0,...i,ref:l,onClick:Ht(i.onClick,b=>{b.currentTarget.focus(),d.current!=="mouse"&&v(b)}),onPointerDown:Ht(i.onPointerDown,b=>{d.current=b.pointerType;const y=b.target;y.hasPointerCapture(b.pointerId)&&y.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(v(b),b.preventDefault())}),onKeyDown:Ht(i.onKeyDown,b=>{const y=f.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&h(b.key),!(y&&b.key===" ")&&x9e.includes(b.key)&&(v(),b.preventDefault())})})})});bue.displayName=xue;var wue="SelectValue",_ue=N.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:a="",...o}=t,l=Hp(wue,n),{onValueNodeHasChildrenChange:c}=l,d=s!==void 0,f=Hn(e,l.onValueNodeChange);return Xi(()=>{c(d)},[c,d]),u.jsx(tn.span,{...o,ref:f,style:{pointerEvents:"none"},children:Vue(l.value)?u.jsx(u.Fragment,{children:a}):s})});_ue.displayName=wue;var M9e="SelectIcon",Sue=N.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return u.jsx(tn.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});Sue.displayName=M9e;var T9e="SelectPortal",Eue=t=>u.jsx(xN,{asChild:!0,...t});Eue.displayName=T9e;var s0="SelectContent",Mue=N.forwardRef((t,e)=>{const n=Hp(s0,t.__scopeSelect),[r,i]=N.useState();if(Xi(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Wu.createPortal(u.jsx(Tue,{scope:t.__scopeSelect,children:u.jsx(SR.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),s):null}return u.jsx(Aue,{...t,ref:e})});Mue.displayName=s0;var Nc=10,[Tue,Wp]=Mb(s0),A9e="SelectContentImpl",C9e=ix("SelectContent.RemoveScroll"),Aue=N.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:o,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:b,avoidCollisions:y,...w}=t,S=Hp(s0,n),[M,T]=N.useState(null),[A,C]=N.useState(null),j=Hn(e,pe=>T(pe)),[L,O]=N.useState(null),[k,F]=N.useState(null),G=ER(n),[Y,U]=N.useState(!1),W=N.useRef(!1);N.useEffect(()=>{if(M)return hae(M)},[M]),iae();const q=N.useCallback(pe=>{const[Oe,...xe]=G().map(Te=>Te.ref.current),[Me]=xe.slice(-1),Ie=document.activeElement;for(const Te of pe)if(Te===Ie||(Te?.scrollIntoView({block:"nearest"}),Te===Oe&&A&&(A.scrollTop=0),Te===Me&&A&&(A.scrollTop=A.scrollHeight),Te?.focus(),document.activeElement!==Ie))return},[G,A]),Z=N.useCallback(()=>q([L,M]),[q,L,M]);N.useEffect(()=>{Y&&Z()},[Y,Z]);const{onOpenChange:V,triggerPointerDownPosRef:Q}=S;N.useEffect(()=>{if(M){let pe={x:0,y:0};const Oe=Me=>{pe={x:Math.abs(Math.round(Me.pageX)-(Q.current?.x??0)),y:Math.abs(Math.round(Me.pageY)-(Q.current?.y??0))}},xe=Me=>{pe.x<=10&&pe.y<=10?Me.preventDefault():M.contains(Me.target)||V(!1),document.removeEventListener("pointermove",Oe),Q.current=null};return Q.current!==null&&(document.addEventListener("pointermove",Oe),document.addEventListener("pointerup",xe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Oe),document.removeEventListener("pointerup",xe,{capture:!0})}}},[M,V,Q]),N.useEffect(()=>{const pe=()=>V(!1);return window.addEventListener("blur",pe),window.addEventListener("resize",pe),()=>{window.removeEventListener("blur",pe),window.removeEventListener("resize",pe)}},[V]);const[ee,$]=Hue(pe=>{const Oe=G().filter(Ie=>!Ie.disabled),xe=Oe.find(Ie=>Ie.ref.current===document.activeElement),Me=Wue(Oe,pe,xe);Me&&setTimeout(()=>Me.ref.current.focus())}),J=N.useCallback((pe,Oe,xe)=>{const Me=!W.current&&!xe;(S.value!==void 0&&S.value===Oe||Me)&&(O(pe),Me&&(W.current=!0))},[S.value]),de=N.useCallback(()=>M?.focus(),[M]),Ae=N.useCallback((pe,Oe,xe)=>{const Me=!W.current&&!xe;(S.value!==void 0&&S.value===Oe||Me)&&F(pe)},[S.value]),Ue=r==="popper"?D5:Cue,ge=Ue===D5?{side:o,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:b,avoidCollisions:y}:{};return u.jsx(Tue,{scope:n,content:M,viewport:A,onViewportChange:C,itemRefCallback:J,selectedItem:L,onItemLeave:de,itemTextRefCallback:Ae,focusSelectedItem:Z,selectedItemText:k,position:r,isPositioned:Y,searchRef:ee,children:u.jsx(Sz,{as:C9e,allowPinchZoom:!0,children:u.jsx(_z,{asChild:!0,trapped:S.open,onMountAutoFocus:pe=>{pe.preventDefault()},onUnmountAutoFocus:Ht(i,pe=>{S.trigger?.focus({preventScroll:!0}),pe.preventDefault()}),children:u.jsx(lE,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:pe=>pe.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:u.jsx(Ue,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:pe=>pe.preventDefault(),...w,...ge,onPlaced:()=>U(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:Ht(w.onKeyDown,pe=>{const Oe=pe.ctrlKey||pe.altKey||pe.metaKey;if(pe.key==="Tab"&&pe.preventDefault(),!Oe&&pe.key.length===1&&$(pe.key),["ArrowUp","ArrowDown","Home","End"].includes(pe.key)){let Me=G().filter(Ie=>!Ie.disabled).map(Ie=>Ie.ref.current);if(["ArrowUp","End"].includes(pe.key)&&(Me=Me.slice().reverse()),["ArrowUp","ArrowDown"].includes(pe.key)){const Ie=pe.target,Te=Me.indexOf(Ie);Me=Me.slice(Te+1)}setTimeout(()=>q(Me)),pe.preventDefault()}})})})})})})});Aue.displayName=A9e;var P9e="SelectItemAlignedPosition",Cue=N.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=Hp(s0,n),a=Wp(s0,n),[o,l]=N.useState(null),[c,d]=N.useState(null),f=Hn(e,j=>d(j)),h=ER(n),m=N.useRef(!1),v=N.useRef(!0),{viewport:b,selectedItem:y,selectedItemText:w,focusSelectedItem:S}=a,M=N.useCallback(()=>{if(s.trigger&&s.valueNode&&o&&c&&b&&y&&w){const j=s.trigger.getBoundingClientRect(),L=c.getBoundingClientRect(),O=s.valueNode.getBoundingClientRect(),k=w.getBoundingClientRect();if(s.dir!=="rtl"){const Ie=k.left-L.left,Te=O.left-Ie,Xe=j.left-Te,Ce=j.width+Xe,$e=Math.max(Ce,L.width),Be=window.innerWidth-Nc,Ye=SS(Te,[Nc,Math.max(Nc,Be-$e)]);o.style.minWidth=Ce+"px",o.style.left=Ye+"px"}else{const Ie=L.right-k.right,Te=window.innerWidth-O.right-Ie,Xe=window.innerWidth-j.right-Te,Ce=j.width+Xe,$e=Math.max(Ce,L.width),Be=window.innerWidth-Nc,Ye=SS(Te,[Nc,Math.max(Nc,Be-$e)]);o.style.minWidth=Ce+"px",o.style.right=Ye+"px"}const F=h(),G=window.innerHeight-Nc*2,Y=b.scrollHeight,U=window.getComputedStyle(c),W=parseInt(U.borderTopWidth,10),q=parseInt(U.paddingTop,10),Z=parseInt(U.borderBottomWidth,10),V=parseInt(U.paddingBottom,10),Q=W+q+Y+V+Z,ee=Math.min(y.offsetHeight*5,Q),$=window.getComputedStyle(b),J=parseInt($.paddingTop,10),de=parseInt($.paddingBottom,10),Ae=j.top+j.height/2-Nc,Ue=G-Ae,ge=y.offsetHeight/2,pe=y.offsetTop+ge,Oe=W+q+pe,xe=Q-Oe;if(Oe<=Ae){const Ie=F.length>0&&y===F[F.length-1].ref.current;o.style.bottom="0px";const Te=c.clientHeight-b.offsetTop-b.offsetHeight,Xe=Math.max(Ue,ge+(Ie?de:0)+Te+Z),Ce=Oe+Xe;o.style.height=Ce+"px"}else{const Ie=F.length>0&&y===F[0].ref.current;o.style.top="0px";const Xe=Math.max(Ae,W+b.offsetTop+(Ie?J:0)+ge)+xe;o.style.height=Xe+"px",b.scrollTop=Oe-Ae+b.offsetTop}o.style.margin=`${Nc}px 0`,o.style.minHeight=ee+"px",o.style.maxHeight=G+"px",r?.(),requestAnimationFrame(()=>m.current=!0)}},[h,s.trigger,s.valueNode,o,c,b,y,w,s.dir,r]);Xi(()=>M(),[M]);const[T,A]=N.useState();Xi(()=>{c&&A(window.getComputedStyle(c).zIndex)},[c]);const C=N.useCallback(j=>{j&&v.current===!0&&(M(),S?.(),v.current=!1)},[M,S]);return u.jsx(R9e,{scope:n,contentWrapper:o,shouldExpandOnScrollRef:m,onScrollButtonChange:C,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:u.jsx(tn.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Cue.displayName=P9e;var N9e="SelectPopperPosition",D5=N.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Nc,...s}=t,a=MR(n);return u.jsx(qre,{...a,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});D5.displayName=N9e;var[R9e,H6]=Mb(s0,{}),L5="SelectViewport",Pue=N.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=Wp(L5,n),a=H6(L5,n),o=Hn(e,s.onViewportChange),l=N.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(SR.Slot,{scope:n,children:u.jsx(tn.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ht(i.onScroll,c=>{const d=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=a;if(h?.current&&f){const m=Math.abs(l.current-d.scrollTop);if(m>0){const v=window.innerHeight-Nc*2,b=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),w=Math.max(b,y);if(w<v){const S=w+m,M=Math.min(v,S),T=S-M;f.style.height=M+"px",f.style.bottom==="0px"&&(d.scrollTop=T>0?T:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});Pue.displayName=L5;var Nue="SelectGroup",[O9e,j9e]=Mb(Nue),I9e=N.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Gu();return u.jsx(O9e,{scope:n,id:i,children:u.jsx(tn.div,{role:"group","aria-labelledby":i,...r,ref:e})})});I9e.displayName=Nue;var Rue="SelectLabel",Oue=N.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=j9e(Rue,n);return u.jsx(tn.div,{id:i.id,...r,ref:e})});Oue.displayName=Rue;var NC="SelectItem",[k9e,jue]=Mb(NC),Iue=N.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...a}=t,o=Hp(NC,n),l=Wp(NC,n),c=o.value===r,[d,f]=N.useState(s??""),[h,m]=N.useState(!1),v=Hn(e,S=>l.itemRefCallback?.(S,r,i)),b=Gu(),y=N.useRef("touch"),w=()=>{i||(o.onValueChange(r),o.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(k9e,{scope:n,value:r,disabled:i,textId:b,isSelected:c,onItemTextChange:N.useCallback(S=>{f(M=>M||(S?.textContent??"").trim())},[]),children:u.jsx(SR.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:u.jsx(tn.div,{role:"option","aria-labelledby":b,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:v,onFocus:Ht(a.onFocus,()=>m(!0)),onBlur:Ht(a.onBlur,()=>m(!1)),onClick:Ht(a.onClick,()=>{y.current!=="mouse"&&w()}),onPointerUp:Ht(a.onPointerUp,()=>{y.current==="mouse"&&w()}),onPointerDown:Ht(a.onPointerDown,S=>{y.current=S.pointerType}),onPointerMove:Ht(a.onPointerMove,S=>{y.current=S.pointerType,i?l.onItemLeave?.():y.current==="mouse"&&S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ht(a.onPointerLeave,S=>{S.currentTarget===document.activeElement&&l.onItemLeave?.()}),onKeyDown:Ht(a.onKeyDown,S=>{l.searchRef?.current!==""&&S.key===" "||(b9e.includes(S.key)&&w(),S.key===" "&&S.preventDefault())})})})})});Iue.displayName=NC;var _1="SelectItemText",kue=N.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,a=Hp(_1,n),o=Wp(_1,n),l=jue(_1,n),c=E9e(_1,n),[d,f]=N.useState(null),h=Hn(e,w=>f(w),l.onItemTextChange,w=>o.itemTextRefCallback?.(w,l.value,l.disabled)),m=d?.textContent,v=N.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:b,onNativeOptionRemove:y}=c;return Xi(()=>(b(v),()=>y(v)),[b,y,v]),u.jsxs(u.Fragment,{children:[u.jsx(tn.span,{id:l.textId,...s,ref:h}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Wu.createPortal(s.children,a.valueNode):null]})});kue.displayName=_1;var Due="SelectItemIndicator",Lue=N.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return jue(Due,n).isSelected?u.jsx(tn.span,{"aria-hidden":!0,...r,ref:e}):null});Lue.displayName=Due;var F5="SelectScrollUpButton",Fue=N.forwardRef((t,e)=>{const n=Wp(F5,t.__scopeSelect),r=H6(F5,t.__scopeSelect),[i,s]=N.useState(!1),a=Hn(e,r.onScrollButtonChange);return Xi(()=>{if(n.viewport&&n.isPositioned){let o=function(){const c=l.scrollTop>0;s(c)};const l=n.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?u.jsx(Bue,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=n;o&&l&&(o.scrollTop=o.scrollTop-l.offsetHeight)}}):null});Fue.displayName=F5;var U5="SelectScrollDownButton",Uue=N.forwardRef((t,e)=>{const n=Wp(U5,t.__scopeSelect),r=H6(U5,t.__scopeSelect),[i,s]=N.useState(!1),a=Hn(e,r.onScrollButtonChange);return Xi(()=>{if(n.viewport&&n.isPositioned){let o=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;s(d)};const l=n.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?u.jsx(Bue,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=n;o&&l&&(o.scrollTop=o.scrollTop+l.offsetHeight)}}):null});Uue.displayName=U5;var Bue=N.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=Wp("SelectScrollButton",n),a=N.useRef(null),o=ER(n),l=N.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return N.useEffect(()=>()=>l(),[l]),Xi(()=>{o().find(d=>d.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[o]),u.jsx(tn.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Ht(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:Ht(i.onPointerMove,()=>{s.onItemLeave?.(),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:Ht(i.onPointerLeave,()=>{l()})})}),D9e="SelectSeparator",zue=N.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return u.jsx(tn.div,{"aria-hidden":!0,...r,ref:e})});zue.displayName=D9e;var B5="SelectArrow",L9e=N.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=MR(n),s=Hp(B5,n),a=Wp(B5,n);return s.open&&a.position==="popper"?u.jsx(Xre,{...i,...r,ref:e}):null});L9e.displayName=B5;function Vue(t){return t===""||t===void 0}var $ue=N.forwardRef((t,e)=>{const{value:n,...r}=t,i=N.useRef(null),s=Hn(e,i),a=$6(n);return N.useEffect(()=>{const o=i.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==n&&d){const f=new Event("change",{bubbles:!0});d.call(o,n),o.dispatchEvent(f)}},[a,n]),u.jsx(cE,{asChild:!0,children:u.jsx("select",{...r,ref:s,defaultValue:n})})});$ue.displayName="BubbleSelect";function Hue(t){const e=ji(t),n=N.useRef(""),r=N.useRef(0),i=N.useCallback(a=>{const o=n.current+a;e(o),(function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))})(o)},[e]),s=N.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return N.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function Wue(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let a=F9e(t,Math.max(s,0));i.length===1&&(a=a.filter(c=>c!==n));const l=a.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function F9e(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var U9e=yue,Gue=bue,B9e=_ue,z9e=Sue,V9e=Eue,que=Mue,$9e=Pue,Xue=Oue,Yue=Iue,H9e=kue,W9e=Lue,Kue=Fue,Zue=Uue,Que=zue;const jl=U9e,Il=B9e,nl=N.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(Gue,{ref:r,className:Et("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,u.jsx(z9e,{asChild:!0,children:u.jsx(Wg,{className:"h-4 w-4 opacity-50"})})]}));nl.displayName=Gue.displayName;const Jue=N.forwardRef(({className:t,...e},n)=>u.jsx(Kue,{ref:n,className:Et("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(aA,{className:"h-4 w-4"})}));Jue.displayName=Kue.displayName;const ede=N.forwardRef(({className:t,...e},n)=>u.jsx(Zue,{ref:n,className:Et("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(Wg,{className:"h-4 w-4"})}));ede.displayName=Zue.displayName;const rl=N.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>u.jsx(V9e,{children:u.jsxs(que,{ref:i,className:Et("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[u.jsx(Jue,{}),u.jsx($9e,{className:Et("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),u.jsx(ede,{})]})}));rl.displayName=que.displayName;const G9e=N.forwardRef(({className:t,...e},n)=>u.jsx(Xue,{ref:n,className:Et("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));G9e.displayName=Xue.displayName;const Ir=N.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(Yue,{ref:r,className:Et("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(W9e,{children:u.jsx(Yxe,{className:"h-4 w-4"})})}),u.jsx(H9e,{children:e})]}));Ir.displayName=Yue.displayName;const q9e=N.forwardRef(({className:t,...e},n)=>u.jsx(Que,{ref:n,className:Et("-mx-1 my-1 h-px bg-muted",t),...e}));q9e.displayName=Que.displayName;function X9e(t,e){return N.useReducer((n,r)=>e[n][r]??n,t)}var W6="ScrollArea",[tde]=Pa(W6),[Y9e,Ql]=tde(W6),nde=N.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...a}=t,[o,l]=N.useState(null),[c,d]=N.useState(null),[f,h]=N.useState(null),[m,v]=N.useState(null),[b,y]=N.useState(null),[w,S]=N.useState(0),[M,T]=N.useState(0),[A,C]=N.useState(!1),[j,L]=N.useState(!1),O=Hn(e,F=>l(F)),k=pb(i);return u.jsx(Y9e,{scope:n,type:r,dir:k,scrollHideDelay:s,scrollArea:o,viewport:c,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:v,scrollbarXEnabled:A,onScrollbarXEnabledChange:C,scrollbarY:b,onScrollbarYChange:y,scrollbarYEnabled:j,onScrollbarYEnabledChange:L,onCornerWidthChange:S,onCornerHeightChange:T,children:u.jsx(tn.div,{dir:k,...a,ref:O,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":M+"px",...t.style}})})});nde.displayName=W6;var rde="ScrollAreaViewport",ide=N.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...s}=t,a=Ql(rde,n),o=N.useRef(null),l=Hn(e,o,a.onViewportChange);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),u.jsx(tn.div,{"data-radix-scroll-area-viewport":"",...s,ref:l,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...t.style},children:u.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});ide.displayName=rde;var gd="ScrollAreaScrollbar",G6=N.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Ql(gd,t.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:a}=i,o=t.orientation==="horizontal";return N.useEffect(()=>(o?s(!0):a(!0),()=>{o?s(!1):a(!1)}),[o,s,a]),i.type==="hover"?u.jsx(K9e,{...r,ref:e,forceMount:n}):i.type==="scroll"?u.jsx(Z9e,{...r,ref:e,forceMount:n}):i.type==="auto"?u.jsx(sde,{...r,ref:e,forceMount:n}):i.type==="always"?u.jsx(q6,{...r,ref:e}):null});G6.displayName=gd;var K9e=N.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Ql(gd,t.__scopeScrollArea),[s,a]=N.useState(!1);return N.useEffect(()=>{const o=i.scrollArea;let l=0;if(o){const c=()=>{window.clearTimeout(l),a(!0)},d=()=>{l=window.setTimeout(()=>a(!1),i.scrollHideDelay)};return o.addEventListener("pointerenter",c),o.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),o.removeEventListener("pointerenter",c),o.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),u.jsx(Yl,{present:n||s,children:u.jsx(sde,{"data-state":s?"visible":"hidden",...r,ref:e})})}),Z9e=N.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Ql(gd,t.__scopeScrollArea),s=t.orientation==="horizontal",a=AR(()=>l("SCROLL_END"),100),[o,l]=X9e("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return N.useEffect(()=>{if(o==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[o,i.scrollHideDelay,l]),N.useEffect(()=>{const c=i.viewport,d=s?"scrollLeft":"scrollTop";if(c){let f=c[d];const h=()=>{const m=c[d];f!==m&&(l("SCROLL"),a()),f=m};return c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[i.viewport,s,l,a]),u.jsx(Yl,{present:n||o!=="hidden",children:u.jsx(q6,{"data-state":o==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Ht(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Ht(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),sde=N.forwardRef((t,e)=>{const n=Ql(gd,t.__scopeScrollArea),{forceMount:r,...i}=t,[s,a]=N.useState(!1),o=t.orientation==="horizontal",l=AR(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;a(o?c:d)}},10);return Fx(n.viewport,l),Fx(n.content,l),u.jsx(Yl,{present:r||s,children:u.jsx(q6,{"data-state":s?"visible":"hidden",...i,ref:e})})}),q6=N.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=Ql(gd,t.__scopeScrollArea),s=N.useRef(null),a=N.useRef(0),[o,l]=N.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=ude(o.viewport,o.content),d={...r,sizes:o,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:h=>a.current=h};function f(h,m){return r$e(h,a.current,o,m)}return n==="horizontal"?u.jsx(Q9e,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const h=i.viewport.scrollLeft,m=yZ(h,o,i.dir);s.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=f(h,i.dir))}}):n==="vertical"?u.jsx(J9e,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const h=i.viewport.scrollTop,m=yZ(h,o);s.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=f(h))}}):null}),Q9e=N.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=Ql(gd,t.__scopeScrollArea),[a,o]=N.useState(),l=N.useRef(null),c=Hn(e,l,s.onScrollbarXChange);return N.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),u.jsx(ode,{"data-orientation":"horizontal",...i,ref:c,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":TR(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollLeft+d.deltaX;t.onWheelScroll(h),fde(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&s.viewport&&a&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:OC(a.paddingLeft),paddingEnd:OC(a.paddingRight)}})}})}),J9e=N.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=Ql(gd,t.__scopeScrollArea),[a,o]=N.useState(),l=N.useRef(null),c=Hn(e,l,s.onScrollbarYChange);return N.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),u.jsx(ode,{"data-orientation":"vertical",...i,ref:c,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":TR(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollTop+d.deltaY;t.onWheelScroll(h),fde(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&s.viewport&&a&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:OC(a.paddingTop),paddingEnd:OC(a.paddingBottom)}})}})}),[e$e,ade]=tde(gd),ode=N.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:a,onThumbPointerDown:o,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:d,onResize:f,...h}=t,m=Ql(gd,n),[v,b]=N.useState(null),y=Hn(e,O=>b(O)),w=N.useRef(null),S=N.useRef(""),M=m.viewport,T=r.content-r.viewport,A=ji(d),C=ji(l),j=AR(f,10);function L(O){if(w.current){const k=O.clientX-w.current.left,F=O.clientY-w.current.top;c({x:k,y:F})}}return N.useEffect(()=>{const O=k=>{const F=k.target;v?.contains(F)&&A(k,T)};return document.addEventListener("wheel",O,{passive:!1}),()=>document.removeEventListener("wheel",O,{passive:!1})},[M,v,T,A]),N.useEffect(C,[r,C]),Fx(v,j),Fx(m.content,j),u.jsx(e$e,{scope:n,scrollbar:v,hasThumb:i,onThumbChange:ji(s),onThumbPointerUp:ji(a),onThumbPositionChange:C,onThumbPointerDown:ji(o),children:u.jsx(tn.div,{...h,ref:y,style:{position:"absolute",...h.style},onPointerDown:Ht(t.onPointerDown,O=>{O.button===0&&(O.target.setPointerCapture(O.pointerId),w.current=v.getBoundingClientRect(),S.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),L(O))}),onPointerMove:Ht(t.onPointerMove,L),onPointerUp:Ht(t.onPointerUp,O=>{const k=O.target;k.hasPointerCapture(O.pointerId)&&k.releasePointerCapture(O.pointerId),document.body.style.webkitUserSelect=S.current,m.viewport&&(m.viewport.style.scrollBehavior=""),w.current=null})})})}),RC="ScrollAreaThumb",lde=N.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=ade(RC,t.__scopeScrollArea);return u.jsx(Yl,{present:n||i.hasThumb,children:u.jsx(t$e,{ref:e,...r})})}),t$e=N.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,s=Ql(RC,n),a=ade(RC,n),{onThumbPositionChange:o}=a,l=Hn(e,f=>a.onThumbChange(f)),c=N.useRef(void 0),d=AR(()=>{c.current&&(c.current(),c.current=void 0)},100);return N.useEffect(()=>{const f=s.viewport;if(f){const h=()=>{if(d(),!c.current){const m=i$e(f,o);c.current=m,o()}};return o(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[s.viewport,d,o]),u.jsx(tn.div,{"data-state":a.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ht(t.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),v=f.clientX-m.left,b=f.clientY-m.top;a.onThumbPointerDown({x:v,y:b})}),onPointerUp:Ht(t.onPointerUp,a.onThumbPointerUp)})});lde.displayName=RC;var X6="ScrollAreaCorner",cde=N.forwardRef((t,e)=>{const n=Ql(X6,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?u.jsx(n$e,{...t,ref:e}):null});cde.displayName=X6;var n$e=N.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=Ql(X6,n),[s,a]=N.useState(0),[o,l]=N.useState(0),c=!!(s&&o);return Fx(i.scrollbarX,()=>{const d=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(d),l(d)}),Fx(i.scrollbarY,()=>{const d=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(d),a(d)}),c?u.jsx(tn.div,{...r,ref:e,style:{width:s,height:o,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function OC(t){return t?parseInt(t,10):0}function ude(t,e){const n=t/e;return isNaN(n)?0:n}function TR(t){const e=ude(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function r$e(t,e,n,r="ltr"){const i=TR(n),s=i/2,a=e||s,o=i-a,l=n.scrollbar.paddingStart+a,c=n.scrollbar.size-n.scrollbar.paddingEnd-o,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return dde([l,c],f)(t)}function yZ(t,e,n="ltr"){const r=TR(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,a=e.content-e.viewport,o=s-r,l=n==="ltr"?[0,a]:[a*-1,0],c=SS(t,l);return dde([0,a],[0,o])(c)}function dde(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function fde(t,e){return t>0&&t<e}var i$e=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return(function i(){const s={left:t.scrollLeft,top:t.scrollTop},a=n.left!==s.left,o=n.top!==s.top;(a||o)&&e(),n=s,r=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(r)};function AR(t,e){const n=ji(t),r=N.useRef(0);return N.useEffect(()=>()=>window.clearTimeout(r.current),[]),N.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Fx(t,e){const n=ji(e);Xi(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var hde=nde,s$e=ide,a$e=cde;const pde=N.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(hde,{ref:r,className:Et("relative overflow-hidden",t),...n,children:[u.jsx(s$e,{className:"h-full w-full rounded-[inherit]",children:e}),u.jsx(mde,{}),u.jsx(a$e,{})]}));pde.displayName=hde.displayName;const mde=N.forwardRef(({className:t,orientation:e="vertical",...n},r)=>u.jsx(G6,{ref:r,orientation:e,className:Et("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:u.jsx(lde,{className:"relative flex-1 rounded-full bg-border"})}));mde.displayName=G6.displayName;var Y6="Avatar",[o$e]=Pa(Y6),[l$e,gde]=o$e(Y6),vde=N.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,s]=N.useState("idle");return u.jsx(l$e,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:u.jsx(tn.span,{...r,ref:e})})});vde.displayName=Y6;var yde="AvatarImage",xde=N.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=t,a=gde(yde,n),o=c$e(r,s),l=ji(c=>{i(c),a.onImageLoadingStatusChange(c)});return Xi(()=>{o!=="idle"&&l(o)},[o,l]),o==="loaded"?u.jsx(tn.img,{...s,ref:e,src:r}):null});xde.displayName=yde;var bde="AvatarFallback",wde=N.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,s=gde(bde,n),[a,o]=N.useState(r===void 0);return N.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>o(!0),r);return()=>window.clearTimeout(l)}},[r]),a&&s.imageLoadingStatus!=="loaded"?u.jsx(tn.span,{...i,ref:e}):null});wde.displayName=bde;function xZ(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function c$e(t,{referrerPolicy:e,crossOrigin:n}){const r=d$e(),i=N.useRef(null),s=r?(i.current||(i.current=new window.Image),i.current):null,[a,o]=N.useState(()=>xZ(s,t));return Xi(()=>{o(xZ(s,t))},[s,t]),Xi(()=>{const l=f=>()=>{o(f)};if(!s)return;const c=l("loaded"),d=l("error");return s.addEventListener("load",c),s.addEventListener("error",d),e&&(s.referrerPolicy=e),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",c),s.removeEventListener("error",d)}},[s,n,e]),a}function u$e(){return()=>{}}function d$e(){return N.useSyncExternalStore(u$e,()=>!0,()=>!1)}var _de=vde,Sde=xde,Ede=wde;const _0=N.forwardRef(({className:t,...e},n)=>u.jsx(_de,{ref:n,className:Et(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,t),...e}));_0.displayName=_de.displayName;const S0=N.forwardRef(({className:t,...e},n)=>u.jsx(Sde,{ref:n,className:Et("aspect-square h-full w-full",t),...e}));S0.displayName=Sde.displayName;const E0=N.forwardRef(({className:t,...e},n)=>u.jsx(Ede,{ref:n,className:Et("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));E0.displayName=Ede.displayName;const f$e={lessThanXSeconds:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xSeconds:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},halfAMinute:" ",lessThanXMinutes:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xMinutes:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXHours:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xHours:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},xDays:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXWeeks:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xWeeks:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXMonths:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xMonths:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXYears:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xYears:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},overXYears:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},almostXYears:{one:"   ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "}},h$e=(t,e,n)=>{const r=f$e[t];let i;return typeof r=="string"?i=r:e===1?i=r.one:e===2?i=r.two:e<=10?i=r.threeToTen.replace("{{count}}",String(e)):i=r.other.replace("{{count}}",String(e)),n?.addSuffix?n.comparison&&n.comparison>0?" "+i:" "+i:i},p$e={full:"EEEE do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"dd/MM/yyyy"},m$e={full:"HH:mm:ss",long:"HH:mm:ss",medium:"HH:mm:ss",short:"HH:mm"},g$e={full:"{{date}} ' ' {{time}}",long:"{{date}} ' ' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},v$e={date:Hy({formats:p$e,defaultWidth:"full"}),time:Hy({formats:m$e,defaultWidth:"full"}),dateTime:Hy({formats:g$e,defaultWidth:"full"})},y$e={lastWeek:"eeee '  ' p",yesterday:"'  ' p",today:"'  ' p",tomorrow:"'  ' p",nextWeek:"eeee '  ' p",other:"P"},x$e=t=>y$e[t],b$e={narrow:["",""],abbreviated:["..",".."],wide:[" "," "]},w$e={narrow:["1","2","3","4"],abbreviated:["1","2","3","4"],wide:[" "," "," "," "]},_$e={narrow:["","","","","","","","","","","",""],abbreviated:["","","","","","","","","","","",""],wide:["","","","","","","","","","","",""]},S$e={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},E$e={narrow:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},abbreviated:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},wide:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "}},M$e={narrow:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},abbreviated:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},wide:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "}},T$e=t=>String(t),A$e={ordinalNumber:T$e,era:Iu({values:b$e,defaultWidth:"wide"}),quarter:Iu({values:w$e,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Iu({values:_$e,defaultWidth:"wide"}),day:Iu({values:S$e,defaultWidth:"wide"}),dayPeriod:Iu({values:E$e,defaultWidth:"wide",formattingValues:M$e,defaultFormattingWidth:"wide"})},C$e=/^(\d+)(th|st|nd|rd)?/i,P$e=/\d+/i,N$e={narrow:/[]/,abbreviated:/[]\.\./,wide:/(|) /},R$e={any:[//,//]},O$e={narrow:/^[1234]/i,abbreviated:/[1234]/,wide:/ (|||)/},j$e={any:[/1/i,/2/i,/3/i,/4/i]},I$e={narrow:/^[]/,abbreviated:/^(|||||||||||)/,wide:/^(|||||||||||)/},k$e={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},D$e={narrow:/^[]/i,short:/^(||||||)/i,abbreviated:/^(||||||)/i,wide:/^(||||||)/i},L$e={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},F$e={narrow:/^(|| || | | | )/,any:/^(|| || | | | )/},U$e={any:{am:/^/,pm:/^/,midnight:/ /,noon://,afternoon:/ /,morning:/ /,evening:/ /,night:/ /}},B$e={ordinalNumber:Lae({matchPattern:C$e,parsePattern:P$e,valueCallback:t=>parseInt(t,10)}),era:ku({matchPatterns:N$e,defaultMatchWidth:"wide",parsePatterns:R$e,defaultParseWidth:"any"}),quarter:ku({matchPatterns:O$e,defaultMatchWidth:"wide",parsePatterns:j$e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ku({matchPatterns:I$e,defaultMatchWidth:"wide",parsePatterns:k$e,defaultParseWidth:"any"}),day:ku({matchPatterns:D$e,defaultMatchWidth:"wide",parsePatterns:L$e,defaultParseWidth:"any"}),dayPeriod:ku({matchPatterns:F$e,defaultMatchWidth:"any",parsePatterns:U$e,defaultParseWidth:"any"})},Ux={code:"ar",formatDistance:h$e,formatLong:v$e,formatRelative:x$e,localize:A$e,match:B$e,options:{weekStartsOn:6,firstWeekContainsDate:1}},bZ={"Strategic Intelligence":"bg-blue-100 text-blue-700 border-blue-200","Operational Excellence":"bg-emerald-100 text-emerald-700 border-emerald-200","Technical Research":"bg-slate-100 text-slate-700 border-slate-200","Policy & Regulation":"bg-purple-100 text-purple-700 border-purple-200",Sustainability:"bg-green-100 text-green-700 border-green-200","Market Analysis":"bg-amber-100 text-amber-700 border-amber-200"},wZ={"Strategic Intelligence":"https://images.unsplash.com/photo-1451187580459-43490279c0fa?w=800&q=80","Operational Excellence":"https://images.unsplash.com/photo-1558494949-ef010cbdcc31?w=800&q=80","Technical Research":"https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?w=800&q=80","Policy & Regulation":"https://images.unsplash.com/photo-1589829545856-d10d557cf95f?w=800&q=80",Sustainability:"https://images.unsplash.com/photo-1473341304170-971dccb5ac1e?w=800&q=80","Market Analysis":"https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?w=800&q=80"};function Mde({post:t,onReadMore:e,onLike:n,onComment:r,onShare:i,onBookmark:s,compact:a=!1}){const{language:o,isRTL:l}=Na(),[c,d]=N.useState(!1),[f,h]=N.useState(!1),[m,v]=N.useState(t.likes||Math.floor(Math.random()*50)+5),b=o==="ar"&&t.titleAr?t.titleAr:t.title,y=t.imageUrl||wZ[t.category]||wZ["Strategic Intelligence"],w=t.publishedAt?SW(new Date(t.publishedAt),{addSuffix:!0,locale:o==="ar"?Ux:void 0}):SW(new Date(t.createdAt),{addSuffix:!0,locale:o==="ar"?Ux:void 0}),S=()=>{d(!c),v(T=>c?T-1:T+1),n?.(t.id)},M=()=>{h(!f),s?.(t.id)};return a?u.jsxs("div",{className:"flex gap-3 p-3 hover:bg-slate-50 rounded-lg cursor-pointer transition-colors group",onClick:()=>e?.(t),dir:l?"rtl":"ltr",children:[u.jsx("img",{src:y,alt:b,className:"w-16 h-16 rounded-lg object-cover flex-shrink-0"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h4",{className:"font-medium text-sm text-slate-900 line-clamp-2 group-hover:text-emerald-600 transition-colors",children:b}),u.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-slate-500",children:[u.jsx("span",{children:t.authorName}),u.jsx("span",{children:""}),u.jsx("span",{children:w})]})]})]}):u.jsxs(vt,{className:"border-none shadow-md hover:shadow-lg transition-all duration-300 bg-white overflow-hidden",dir:l?"rtl":"ltr",children:[u.jsx("div",{className:"p-4 pb-2",children:u.jsxs("div",{className:`flex items-center gap-3 ${l?"flex-row-reverse":""}`,children:[u.jsxs(_0,{className:"w-10 h-10 border-2 border-emerald-100",children:[u.jsx(S0,{src:`https://api.dicebear.com/7.x/initials/svg?seed=${t.authorName}`}),u.jsx(E0,{className:"bg-gradient-to-br from-emerald-500 to-emerald-600 text-white font-bold",children:t.authorName.split(" ").map(T=>T[0]).join("").toUpperCase()})]}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:`flex items-center gap-2 ${l?"flex-row-reverse":""}`,children:[u.jsx("span",{className:"font-semibold text-slate-900",children:t.authorName}),t.authorRole&&u.jsx(Sn,{variant:"outline",className:"text-xs bg-emerald-50 text-emerald-700 border-emerald-200",children:t.authorRole})]}),u.jsxs("div",{className:`flex items-center gap-2 text-xs text-slate-500 ${l?"flex-row-reverse":""}`,children:[u.jsx(m_,{className:"w-3 h-3"}),u.jsx("span",{children:w}),u.jsx(aa,{className:"w-3 h-3"}),u.jsx(Sn,{variant:"outline",className:`text-xs ${bZ[t.category]||bZ["Strategic Intelligence"]}`,children:t.category})]})]}),u.jsx(bt,{variant:"ghost",size:"icon",className:"rounded-full",children:u.jsx(Qxe,{className:"w-5 h-5 text-slate-400"})})]})}),u.jsxs("div",{className:"px-4 pb-3",children:[u.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2 cursor-pointer hover:text-emerald-600 transition-colors",onClick:()=>e?.(t),children:b}),t.subtitle&&u.jsx("p",{className:"text-sm text-slate-600 mb-2",children:t.subtitle}),u.jsx("p",{className:"text-slate-600 text-sm line-clamp-3",children:t.excerpt})]}),u.jsxs("div",{className:"relative cursor-pointer group",onClick:()=>e?.(t),children:[u.jsx("img",{src:y,alt:b,className:"w-full h-64 object-cover"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex items-end justify-center pb-4",children:u.jsxs(bt,{variant:"secondary",className:"bg-white/90 hover:bg-white text-slate-900",children:[u.jsx(v_,{className:`w-4 h-4 ${l?"ml-2":"mr-2"}`}),o==="ar"?" ":"Read More"]})})]}),u.jsx("div",{className:"px-4 py-2 border-t border-slate-100",children:u.jsxs("div",{className:`flex items-center justify-between text-sm text-slate-500 ${l?"flex-row-reverse":""}`,children:[u.jsxs("div",{className:`flex items-center gap-1 ${l?"flex-row-reverse":""}`,children:[u.jsxs("div",{className:"flex -space-x-1",children:[u.jsx("div",{className:"w-5 h-5 rounded-full bg-blue-500 flex items-center justify-center",children:u.jsx(P$,{className:"w-3 h-3 text-white"})}),u.jsx("div",{className:"w-5 h-5 rounded-full bg-red-500 flex items-center justify-center",children:u.jsx(tbe,{className:"w-3 h-3 text-white"})})]}),u.jsx("span",{className:l?"mr-1":"ml-1",children:m})]}),u.jsxs("div",{className:`flex items-center gap-4 ${l?"flex-row-reverse":""}`,children:[u.jsxs("span",{children:[t.comments||Math.floor(Math.random()*20)," ",o==="ar"?"":"comments"]}),u.jsx("span",{children:t.readTime||"5 min read"})]})]})}),u.jsx("div",{className:"px-2 py-1 border-t border-slate-100",children:u.jsxs("div",{className:`flex items-center justify-between ${l?"flex-row-reverse":""}`,children:[u.jsxs(bt,{variant:"ghost",className:`flex-1 gap-2 ${c?"text-blue-600":"text-slate-600"} hover:bg-slate-50`,onClick:S,children:[u.jsx(P$,{className:`w-5 h-5 ${c?"fill-blue-600":""}`}),u.jsx("span",{className:"hidden sm:inline",children:o==="ar"?"":"Like"})]}),u.jsxs(bt,{variant:"ghost",className:"flex-1 gap-2 text-slate-600 hover:bg-slate-50",onClick:()=>r?.(t.id),children:[u.jsx(U1,{className:"w-5 h-5"}),u.jsx("span",{className:"hidden sm:inline",children:o==="ar"?"":"Comment"})]}),u.jsxs(bt,{variant:"ghost",className:"flex-1 gap-2 text-slate-600 hover:bg-slate-50",onClick:()=>i?.(t),children:[u.jsx(hbe,{className:"w-5 h-5"}),u.jsx("span",{className:"hidden sm:inline",children:o==="ar"?"":"Share"})]}),u.jsx(bt,{variant:"ghost",className:`gap-2 ${f?"text-amber-600":"text-slate-600"} hover:bg-slate-50`,onClick:M,children:u.jsx(tre,{className:`w-5 h-5 ${f?"fill-amber-600":""}`})})]})})]})}function z$e(){return u.jsxs(vt,{className:"border-none shadow-md bg-white overflow-hidden animate-pulse",children:[u.jsx("div",{className:"p-4 pb-2",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"h-4 bg-slate-200 rounded w-32 mb-2"}),u.jsx("div",{className:"h-3 bg-slate-200 rounded w-24"})]})]})}),u.jsxs("div",{className:"px-4 pb-3",children:[u.jsx("div",{className:"h-5 bg-slate-200 rounded w-3/4 mb-2"}),u.jsx("div",{className:"h-4 bg-slate-200 rounded w-full mb-1"}),u.jsx("div",{className:"h-4 bg-slate-200 rounded w-2/3"})]}),u.jsx("div",{className:"h-64 bg-slate-200"}),u.jsx("div",{className:"px-4 py-3",children:u.jsx("div",{className:"h-4 bg-slate-200 rounded w-full"})})]})}const V$e=["Strategic Intelligence","Operational Excellence","Technical Research","Policy & Regulation","Sustainability","Market Analysis"],_Z={pending:"bg-amber-100 text-amber-700 border-amber-200",approved:"bg-emerald-100 text-emerald-700 border-emerald-200",rejected:"bg-red-100 text-red-700 border-red-200",draft:"bg-slate-100 text-slate-700 border-slate-200",archived:"bg-gray-100 text-gray-700 border-gray-200"},SZ={en:{adminWorkbench:"Admin Workbench",pendingApproval:"Pending Approval",allPosts:"All Posts",comments:"Comments",analytics:"Analytics",settings:"Settings",approve:"Approve",reject:"Reject",edit:"Edit",delete:"Delete",preview:"Preview",feature:"Feature",pin:"Pin to Top",archive:"Archive",restore:"Restore",noPending:"No articles pending approval",allClear:"All Clear!",rejectionNotes:"Rejection Notes",rejectionNotesPlaceholder:"Explain why the article was rejected...",confirmReject:"Confirm Rejection",cancel:"Cancel",editPost:"Edit Post",saveChanges:"Save Changes",postApproved:"Post approved and published!",postRejected:"Post rejected with feedback",postUpdated:"Post updated successfully",postDeleted:"Post deleted",loading:"Loading...",by:"By",submittedOn:"Submitted on",publishedOn:"Published on",totalPosts:"Total Posts",pendingPosts:"Pending",publishedPosts:"Published",totalViews:"Total Views",status:"Status",category:"Category",author:"Author",actions:"Actions"},ar:{adminWorkbench:"  ",pendingApproval:"  ",allPosts:" ",comments:"",analytics:"",settings:"",approve:"",reject:"",edit:"",delete:"",preview:"",feature:"",pin:"  ",archive:"",restore:"",noPending:"     ",allClear:"  !",rejectionNotes:" ",rejectionNotesPlaceholder:"   ...",confirmReject:" ",cancel:"",editPost:" ",saveChanges:" ",postApproved:"    !",postRejected:"    ",postUpdated:"   ",postDeleted:"  ",loading:" ...",by:"",submittedOn:"  ",publishedOn:"  ",totalPosts:" ",pendingPosts:" ",publishedPosts:"",totalViews:" ",status:"",category:"",author:"",actions:""}};function $$e({onPreview:t}){const{language:e,isRTL:n}=Na(),r=SZ[e]||SZ.en,{toast:i}=hd(),s=fd(),[a,o]=N.useState("pending"),[l,c]=N.useState(!1),[d,f]=N.useState(!1),[h,m]=N.useState(null),[v,b]=N.useState(""),[y,w]=N.useState({}),{data:S=[],isLoading:M}=gp({queryKey:["/api/blog/posts/pending"],queryFn:async()=>(await fetch("/api/blog/posts/pending")).json()}),{data:T=[],isLoading:A}=gp({queryKey:["/api/blog/posts"],queryFn:async()=>(await fetch("/api/blog/posts")).json()}),C=Bl({mutationFn:async U=>{const W=await fetch(`/api/blog/post/${U}/approve`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reviewedBy:"Admin"})});if(!W.ok)throw new Error("Failed to approve");return W.json()},onSuccess:()=>{s.invalidateQueries({queryKey:["/api/blog/posts"]}),s.invalidateQueries({queryKey:["/api/blog/posts/pending"]}),s.invalidateQueries({queryKey:["/api/blog/posts/published"]}),i({title:r.postApproved})}}),j=Bl({mutationFn:async({id:U,notes:W})=>{const q=await fetch(`/api/blog/post/${U}/reject`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reviewedBy:"Admin",notes:W})});if(!q.ok)throw new Error("Failed to reject");return q.json()},onSuccess:()=>{s.invalidateQueries({queryKey:["/api/blog/posts"]}),s.invalidateQueries({queryKey:["/api/blog/posts/pending"]}),i({title:r.postRejected}),c(!1),b("")}}),L=Bl({mutationFn:async({id:U,data:W})=>{const q=await fetch(`/api/blog/post/${U}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(W)});if(!q.ok)throw new Error("Failed to update");return q.json()},onSuccess:()=>{s.invalidateQueries({queryKey:["/api/blog/posts"]}),s.invalidateQueries({queryKey:["/api/blog/posts/pending"]}),s.invalidateQueries({queryKey:["/api/blog/posts/published"]}),i({title:r.postUpdated}),f(!1)}}),O=Bl({mutationFn:async U=>{if(!(await fetch(`/api/blog/post/${U}`,{method:"DELETE"})).ok)throw new Error("Failed to delete")},onSuccess:()=>{s.invalidateQueries({queryKey:["/api/blog/posts"]}),s.invalidateQueries({queryKey:["/api/blog/posts/pending"]}),s.invalidateQueries({queryKey:["/api/blog/posts/published"]}),i({title:r.postDeleted})}}),k=U=>{m(U),c(!0)},F=U=>{m(U),w({title:U.title,titleAr:U.titleAr,subtitle:U.subtitle,excerpt:U.excerpt,content:U.content,category:U.category,imageUrl:U.imageUrl,status:U.status}),f(!0)},G=T.filter(U=>U.status==="approved").length,Y=S.length;return u.jsxs("div",{className:"space-y-6",dir:n?"rtl":"ltr",children:[u.jsx("div",{className:`flex items-center justify-between ${n?"flex-row-reverse":""}`,children:u.jsxs("div",{className:`flex items-center gap-3 ${n?"flex-row-reverse":""}`,children:[u.jsx(AB,{className:"w-8 h-8 text-emerald-600"}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:r.adminWorkbench}),u.jsx("p",{className:"text-sm text-slate-500",children:e==="ar"?"  ":"Manage content and approvals"})]})]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsx(vt,{className:"border-none shadow-sm bg-gradient-to-br from-slate-50 to-white",children:u.jsx(Ct,{className:"p-4",children:u.jsxs("div",{className:`flex items-center gap-3 ${n?"flex-row-reverse":""}`,children:[u.jsx("div",{className:"w-10 h-10 rounded-lg bg-slate-100 flex items-center justify-center",children:u.jsx(nd,{className:"w-5 h-5 text-slate-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-2xl font-bold text-slate-900",children:T.length}),u.jsx("p",{className:"text-xs text-slate-500",children:r.totalPosts})]})]})})}),u.jsx(vt,{className:"border-none shadow-sm bg-gradient-to-br from-amber-50 to-white",children:u.jsx(Ct,{className:"p-4",children:u.jsxs("div",{className:`flex items-center gap-3 ${n?"flex-row-reverse":""}`,children:[u.jsx("div",{className:"w-10 h-10 rounded-lg bg-amber-100 flex items-center justify-center",children:u.jsx(m_,{className:"w-5 h-5 text-amber-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-2xl font-bold text-amber-600",children:Y}),u.jsx("p",{className:"text-xs text-slate-500",children:r.pendingPosts})]})]})})}),u.jsx(vt,{className:"border-none shadow-sm bg-gradient-to-br from-emerald-50 to-white",children:u.jsx(Ct,{className:"p-4",children:u.jsxs("div",{className:`flex items-center gap-3 ${n?"flex-row-reverse":""}`,children:[u.jsx("div",{className:"w-10 h-10 rounded-lg bg-emerald-100 flex items-center justify-center",children:u.jsx(Pg,{className:"w-5 h-5 text-emerald-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:G}),u.jsx("p",{className:"text-xs text-slate-500",children:r.publishedPosts})]})]})})}),u.jsx(vt,{className:"border-none shadow-sm bg-gradient-to-br from-blue-50 to-white",children:u.jsx(Ct,{className:"p-4",children:u.jsxs("div",{className:`flex items-center gap-3 ${n?"flex-row-reverse":""}`,children:[u.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center",children:u.jsx(sA,{className:"w-5 h-5 text-blue-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-2xl font-bold text-blue-600",children:Math.floor(Math.random()*5e3)+1e3}),u.jsx("p",{className:"text-xs text-slate-500",children:r.totalViews})]})]})})})]}),u.jsx(vt,{className:"border-none shadow-lg",children:u.jsx(Ct,{className:"p-0",children:u.jsxs(g0,{value:a,onValueChange:o,children:[u.jsx("div",{className:"border-b border-slate-100 px-4",children:u.jsxs(Dp,{className:"bg-transparent h-12 gap-4",children:[u.jsx(xs,{value:"pending",className:"data-[state=active]:bg-transparent data-[state=active]:border-b-2 data-[state=active]:border-emerald-500 rounded-none",children:u.jsxs("div",{className:`flex items-center gap-2 ${n?"flex-row-reverse":""}`,children:[u.jsx(m_,{className:"w-4 h-4"}),r.pendingApproval,Y>0&&u.jsx(Sn,{className:"bg-amber-500 text-white text-xs",children:Y})]})}),u.jsx(xs,{value:"all",className:"data-[state=active]:bg-transparent data-[state=active]:border-b-2 data-[state=active]:border-emerald-500 rounded-none",children:u.jsxs("div",{className:`flex items-center gap-2 ${n?"flex-row-reverse":""}`,children:[u.jsx(nd,{className:"w-4 h-4"}),r.allPosts]})}),u.jsx(xs,{value:"comments",className:"data-[state=active]:bg-transparent data-[state=active]:border-b-2 data-[state=active]:border-emerald-500 rounded-none",children:u.jsxs("div",{className:`flex items-center gap-2 ${n?"flex-row-reverse":""}`,children:[u.jsx(M$,{className:"w-4 h-4"}),r.comments]})})]})}),u.jsx(Fs,{value:"pending",className:"p-4 m-0",children:M?u.jsx("div",{className:"text-center py-8 text-slate-500",children:r.loading}):S.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx(Pg,{className:"w-16 h-16 text-emerald-500 mx-auto mb-4"}),u.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:r.allClear}),u.jsx("p",{className:"text-slate-500",children:r.noPending})]}):u.jsx("div",{className:"space-y-4",children:S.map(U=>u.jsx(vt,{className:"border border-slate-200 shadow-sm hover:shadow-md transition-shadow",children:u.jsx(Ct,{className:"p-4",children:u.jsxs("div",{className:`flex items-start gap-4 ${n?"flex-row-reverse":""}`,children:[U.imageUrl&&u.jsx("img",{src:U.imageUrl,alt:U.title,className:"w-24 h-24 rounded-lg object-cover flex-shrink-0"}),u.jsx("div",{className:"flex-1 min-w-0",children:u.jsx("div",{className:`flex items-start justify-between gap-4 ${n?"flex-row-reverse":""}`,children:u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-lg text-slate-900",children:U.title}),U.titleAr&&u.jsx("p",{className:"text-sm text-slate-600 mt-1",dir:"rtl",children:U.titleAr}),u.jsx("p",{className:"text-sm text-slate-500 mt-2 line-clamp-2",children:U.excerpt}),u.jsxs("div",{className:`flex items-center gap-4 mt-3 text-xs text-slate-500 ${n?"flex-row-reverse":""}`,children:[u.jsxs("span",{children:[r.by," ",U.authorName]}),u.jsx(Sn,{variant:"outline",className:_Z[U.status],children:U.status}),u.jsx(Sn,{variant:"outline",children:U.category}),u.jsxs("span",{children:[r.submittedOn," ",hx(new Date(U.createdAt),"PPP",{locale:e==="ar"?Ux:void 0})]})]})]})})}),u.jsxs("div",{className:`flex flex-col gap-2 ${n?"items-start":"items-end"}`,children:[u.jsxs(bt,{size:"sm",className:"bg-emerald-600 hover:bg-emerald-700 w-full",onClick:()=>C.mutate(U.id),disabled:C.isPending,children:[u.jsx(Pg,{className:`w-4 h-4 ${n?"ml-1":"mr-1"}`}),r.approve]}),u.jsxs(bt,{size:"sm",variant:"destructive",className:"w-full",onClick:()=>k(U),children:[u.jsx(rre,{className:`w-4 h-4 ${n?"ml-1":"mr-1"}`}),r.reject]}),u.jsxs("div",{className:`flex gap-1 ${n?"flex-row-reverse":""}`,children:[u.jsx(bt,{size:"sm",variant:"outline",onClick:()=>t?.(U),children:u.jsx(v_,{className:"w-4 h-4"})}),u.jsx(bt,{size:"sm",variant:"outline",onClick:()=>F(U),children:u.jsx(T$,{className:"w-4 h-4"})})]})]})]})})},U.id))})}),u.jsx(Fs,{value:"all",className:"p-4 m-0",children:A?u.jsx("div",{className:"text-center py-8 text-slate-500",children:r.loading}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:u.jsxs("tr",{children:[u.jsx("th",{className:`px-4 py-3 text-xs font-medium text-slate-500 uppercase ${n?"text-right":"text-left"}`,children:e==="ar"?"":"Title"}),u.jsx("th",{className:`px-4 py-3 text-xs font-medium text-slate-500 uppercase ${n?"text-right":"text-left"}`,children:r.author}),u.jsx("th",{className:`px-4 py-3 text-xs font-medium text-slate-500 uppercase ${n?"text-right":"text-left"}`,children:r.category}),u.jsx("th",{className:`px-4 py-3 text-xs font-medium text-slate-500 uppercase ${n?"text-right":"text-left"}`,children:r.status}),u.jsx("th",{className:`px-4 py-3 text-xs font-medium text-slate-500 uppercase ${n?"text-right":"text-left"}`,children:e==="ar"?"":"Date"}),u.jsx("th",{className:`px-4 py-3 text-xs font-medium text-slate-500 uppercase ${n?"text-right":"text-left"}`,children:r.actions})]})}),u.jsx("tbody",{className:"divide-y divide-slate-100",children:T.map(U=>u.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[u.jsx("td",{className:"px-4 py-3",children:u.jsx("div",{className:"font-medium text-slate-900 line-clamp-1",children:U.title})}),u.jsx("td",{className:"px-4 py-3 text-sm text-slate-600",children:U.authorName}),u.jsx("td",{className:"px-4 py-3",children:u.jsx(Sn,{variant:"outline",className:"text-xs",children:U.category})}),u.jsx("td",{className:"px-4 py-3",children:u.jsx(Sn,{variant:"outline",className:`text-xs ${_Z[U.status]}`,children:U.status})}),u.jsx("td",{className:"px-4 py-3 text-sm text-slate-500",children:hx(new Date(U.createdAt),"PP",{locale:e==="ar"?Ux:void 0})}),u.jsx("td",{className:"px-4 py-3",children:u.jsxs("div",{className:`flex gap-1 ${n?"flex-row-reverse":""}`,children:[u.jsx(bt,{size:"sm",variant:"ghost",onClick:()=>t?.(U),children:u.jsx(v_,{className:"w-4 h-4"})}),u.jsx(bt,{size:"sm",variant:"ghost",onClick:()=>F(U),children:u.jsx(T$,{className:"w-4 h-4"})}),u.jsx(bt,{size:"sm",variant:"ghost",className:"text-red-600 hover:text-red-700",onClick:()=>O.mutate(U.id),children:u.jsx(cA,{className:"w-4 h-4"})})]})})]},U.id))})]})})}),u.jsx(Fs,{value:"comments",className:"p-4 m-0",children:u.jsxs("div",{className:"text-center py-12 text-slate-500",children:[u.jsx(M$,{className:"w-12 h-12 mx-auto mb-4 text-slate-300"}),u.jsx("p",{children:e==="ar"?"  ":"Comment management coming soon"})]})})]})})}),u.jsx(Xg,{open:l,onOpenChange:c,children:u.jsxs(wp,{dir:n?"rtl":"ltr",children:[u.jsx(_p,{children:u.jsxs(Ep,{children:[r.reject,": ",h?.title]})}),u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"space-y-2",children:[u.jsx(Zt,{children:r.rejectionNotes}),u.jsx(jf,{value:v,onChange:U=>b(U.target.value),placeholder:r.rejectionNotesPlaceholder,rows:4})]})}),u.jsxs(Sp,{className:n?"flex-row-reverse":"",children:[u.jsx(bt,{variant:"outline",onClick:()=>c(!1),children:r.cancel}),u.jsx(bt,{variant:"destructive",onClick:()=>h&&j.mutate({id:h.id,notes:v}),disabled:j.isPending,children:r.confirmReject})]})]})}),u.jsx(Xg,{open:d,onOpenChange:f,children:u.jsxs(wp,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",dir:n?"rtl":"ltr",children:[u.jsx(_p,{children:u.jsx(Ep,{children:r.editPost})}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Zt,{children:e==="ar"?" ()":"Title (English)"}),u.jsx(ln,{value:y.title||"",onChange:U=>w({...y,title:U.target.value})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Zt,{children:e==="ar"?" ()":"Title (Arabic)"}),u.jsx(ln,{value:y.titleAr||"",onChange:U=>w({...y,titleAr:U.target.value}),dir:"rtl"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Zt,{children:e==="ar"?" ":"Subtitle"}),u.jsx(ln,{value:y.subtitle||"",onChange:U=>w({...y,subtitle:U.target.value})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Zt,{children:r.category}),u.jsxs(jl,{value:y.category,onValueChange:U=>w({...y,category:U}),children:[u.jsx(nl,{children:u.jsx(Il,{})}),u.jsx(rl,{children:V$e.map(U=>u.jsx(Ir,{value:U,children:U},U))})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Zt,{children:r.status}),u.jsxs(jl,{value:y.status,onValueChange:U=>w({...y,status:U}),children:[u.jsx(nl,{children:u.jsx(Il,{})}),u.jsxs(rl,{children:[u.jsx(Ir,{value:"pending",children:e==="ar"?" ":"Pending"}),u.jsx(Ir,{value:"approved",children:e==="ar"?"":"Published"}),u.jsx(Ir,{value:"rejected",children:e==="ar"?"":"Rejected"}),u.jsx(Ir,{value:"draft",children:e==="ar"?"":"Draft"})]})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Zt,{children:e==="ar"?"":"Excerpt"}),u.jsx(jf,{value:y.excerpt||"",onChange:U=>w({...y,excerpt:U.target.value}),rows:3})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Zt,{children:e==="ar"?"":"Content"}),u.jsx(jf,{value:y.content||"",onChange:U=>w({...y,content:U.target.value}),rows:8})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Zt,{children:e==="ar"?" ":"Image URL"}),u.jsx(ln,{value:y.imageUrl||"",onChange:U=>w({...y,imageUrl:U.target.value})})]})]}),u.jsxs(Sp,{className:n?"flex-row-reverse":"",children:[u.jsx(bt,{variant:"outline",onClick:()=>f(!1),children:r.cancel}),u.jsx(bt,{className:"bg-emerald-600 hover:bg-emerald-700",onClick:()=>h&&L.mutate({id:h.id,data:y}),disabled:L.isPending,children:r.saveChanges})]})]})})]})}const Tde=["Strategic Intelligence","Operational Excellence","Technical Research","Policy & Regulation","Sustainability","Market Analysis"],EZ={"Strategic Intelligence":"https://images.unsplash.com/photo-1451187580459-43490279c0fa?w=800&q=80","Operational Excellence":"https://images.unsplash.com/photo-1558494949-ef010cbdcc31?w=800&q=80","Technical Research":"https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?w=800&q=80","Policy & Regulation":"https://images.unsplash.com/photo-1589829545856-d10d557cf95f?w=800&q=80",Sustainability:"https://images.unsplash.com/photo-1473341304170-971dccb5ac1e?w=800&q=80","Market Analysis":"https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?w=800&q=80"},MZ={en:{blog:"Blog",newsFeed:"News Feed",forYou:"For You",trending:"Trending",following:"Following",createPost:"Create Post",whatsOnYourMind:"What's on your mind?",photo:"Photo",video:"Video",article:"Write Article",searchPosts:"Search posts...",categories:"Categories",trendingTopics:"Trending Topics",suggestedAuthors:"Suggested Authors",featuredPosts:"Featured Posts",recentActivity:"Recent Activity",adminPanel:"Admin Panel",submitArticle:"Submit Article",all:"All",noPostsYet:"No posts yet",beTheFirst:"Be the first to share your insights!",readMore:"Read More",like:"Like",comment:"Comment",share:"Share",save:"Save",loadMore:"Load More",writeArticle:"Write an Article",title:"Title",titleAr:"Title (Arabic)",subtitle:"Subtitle",excerpt:"Brief Summary",content:"Full Content",category:"Category",imageUrl:"Cover Image URL",authorName:"Author Name",submitForReview:"Submit for Review",cancel:"Cancel",articleSubmitted:"Article submitted for review!",close:"Close",back:"Back",comments:"Comments"},ar:{blog:"",newsFeed:" ",forYou:"",trending:" ",following:"",createPost:" ",whatsOnYourMind:" ",photo:"",video:"",article:" ",searchPosts:"  ...",categories:"",trendingTopics:" ",suggestedAuthors:" ",featuredPosts:" ",recentActivity:" ",adminPanel:" ",submitArticle:" ",all:"",noPostsYet:"   ",beTheFirst:"    !",readMore:" ",like:"",comment:"",share:"",save:"",loadMore:" ",writeArticle:" ",title:"",titleAr:" ()",subtitle:" ",excerpt:" ",content:" ",category:"",imageUrl:"  ",authorName:" ",submitForReview:" ",cancel:"",articleSubmitted:"   !",close:"",back:"",comments:""}};function H$e({onOpenArticleForm:t,t:e,isRTL:n,user:r}){return u.jsx(vt,{className:"border-none shadow-md bg-white mb-4",children:u.jsxs(Ct,{className:"p-4",children:[u.jsxs("div",{className:`flex items-center gap-3 ${n?"flex-row-reverse":""}`,children:[u.jsxs(_0,{className:"w-10 h-10",children:[u.jsx(S0,{src:r?.profilePhoto}),u.jsx(E0,{className:"bg-gradient-to-br from-emerald-500 to-emerald-600 text-white font-bold",children:r?.firstName?.[0]?.toUpperCase()||"U"})]}),u.jsx(bt,{variant:"outline",className:`flex-1 justify-start text-slate-500 bg-slate-50 hover:bg-slate-100 rounded-full h-10 ${n?"text-right":"text-left"}`,onClick:t,children:e.whatsOnYourMind})]}),u.jsxs("div",{className:`flex items-center justify-between mt-3 pt-3 border-t border-slate-100 ${n?"flex-row-reverse":""}`,children:[u.jsxs(bt,{variant:"ghost",className:`flex-1 gap-2 text-slate-600 hover:bg-red-50 hover:text-red-600 ${n?"flex-row-reverse":""}`,children:[u.jsx(vbe,{className:"w-5 h-5 text-red-500"}),u.jsx("span",{className:"hidden sm:inline",children:e.video})]}),u.jsxs(bt,{variant:"ghost",className:`flex-1 gap-2 text-slate-600 hover:bg-green-50 hover:text-green-600 ${n?"flex-row-reverse":""}`,children:[u.jsx(sre,{className:"w-5 h-5 text-green-500"}),u.jsx("span",{className:"hidden sm:inline",children:e.photo})]}),u.jsxs(bt,{variant:"ghost",className:`flex-1 gap-2 text-slate-600 hover:bg-amber-50 hover:text-amber-600 ${n?"flex-row-reverse":""}`,onClick:t,children:[u.jsx(nd,{className:"w-5 h-5 text-amber-500"}),u.jsx("span",{className:"hidden sm:inline",children:e.article})]})]})]})})}function W$e({t,isRTL:e,user:n,selectedCategory:r,onCategoryChange:i,isAdmin:s,onAdminClick:a}){return u.jsxs("div",{className:"space-y-4",children:[u.jsxs(vt,{className:"border-none shadow-md bg-white overflow-hidden",children:[u.jsx("div",{className:"h-20 bg-gradient-to-r from-emerald-500 to-emerald-600"}),u.jsxs(Ct,{className:"p-4 pt-0 -mt-10 text-center",children:[u.jsxs(_0,{className:"w-20 h-20 mx-auto border-4 border-white shadow-lg",children:[u.jsx(S0,{src:n?.profilePhoto}),u.jsx(E0,{className:"bg-gradient-to-br from-emerald-500 to-emerald-600 text-white text-2xl font-bold",children:n?.firstName?.[0]?.toUpperCase()||"U"})]}),u.jsxs("h3",{className:"font-bold text-slate-900 mt-3",children:[n?.firstName," ",n?.lastName]}),u.jsx("p",{className:"text-sm text-slate-500",children:n?.email}),s&&u.jsx(Sn,{className:"mt-2 bg-emerald-100 text-emerald-700",children:e?"":"Admin"})]})]}),u.jsxs(vt,{className:"border-none shadow-md bg-white",children:[u.jsx(pn,{className:"pb-2",children:u.jsx(_n,{className:"text-sm font-semibold text-slate-700",children:t.categories})}),u.jsx(Ct,{className:"p-2",children:u.jsxs("div",{className:"space-y-1",children:[u.jsxs(bt,{variant:r===""?"secondary":"ghost",className:`w-full justify-start text-sm ${e?"flex-row-reverse":""}`,onClick:()=>i(""),children:[u.jsx(aa,{className:`w-4 h-4 ${e?"ml-2":"mr-2"}`}),t.all]}),Tde.map(o=>u.jsxs(bt,{variant:r===o?"secondary":"ghost",className:`w-full justify-start text-sm ${e?"flex-row-reverse":""}`,onClick:()=>i(o),children:[u.jsx(nd,{className:`w-4 h-4 ${e?"ml-2":"mr-2"}`}),o]},o))]})})]}),s&&u.jsx(vt,{className:"border-none shadow-md bg-gradient-to-br from-emerald-50 to-white",children:u.jsx(Ct,{className:"p-4",children:u.jsxs(bt,{className:"w-full bg-emerald-600 hover:bg-emerald-700 gap-2",onClick:a,children:[u.jsx(up,{className:"w-4 h-4"}),t.adminPanel]})})})]})}function G$e({t,isRTL:e,posts:n}){const r=n.slice(0,3);return u.jsxs("div",{className:"space-y-4",children:[u.jsxs(vt,{className:"border-none shadow-md bg-white",children:[u.jsx(pn,{className:"pb-2",children:u.jsxs(_n,{className:`text-sm font-semibold text-slate-700 flex items-center gap-2 ${e?"flex-row-reverse":""}`,children:[u.jsx(ax,{className:"w-4 h-4 text-emerald-500"}),t.trendingTopics]})}),u.jsx(Ct,{className:"p-3 pt-0",children:u.jsx("div",{className:"space-y-2",children:["#Hydrogen2025","#GreenEnergy","#SudanTelecom","#FuelCells","#Sustainability"].map((i,s)=>u.jsxs("div",{className:`flex items-center justify-between ${e?"flex-row-reverse":""}`,children:[u.jsx("span",{className:"text-sm font-medium text-blue-600 hover:underline cursor-pointer",children:i}),u.jsxs("span",{className:"text-xs text-slate-400",children:[Math.floor(Math.random()*500)+100," ",e?"":"posts"]})]},i))})})]}),u.jsxs(vt,{className:"border-none shadow-md bg-white",children:[u.jsx(pn,{className:"pb-2",children:u.jsxs(_n,{className:`text-sm font-semibold text-slate-700 flex items-center gap-2 ${e?"flex-row-reverse":""}`,children:[u.jsx(tre,{className:"w-4 h-4 text-amber-500"}),t.featuredPosts]})}),u.jsx(Ct,{className:"p-2 pt-0",children:u.jsx("div",{className:"space-y-1",children:r.map(i=>u.jsx(Mde,{post:i,compact:!0},i.id))})})]}),u.jsxs(vt,{className:"border-none shadow-md bg-white",children:[u.jsx(pn,{className:"pb-2",children:u.jsxs(_n,{className:`text-sm font-semibold text-slate-700 flex items-center gap-2 ${e?"flex-row-reverse":""}`,children:[u.jsx(pre,{className:"w-4 h-4 text-blue-500"}),t.suggestedAuthors]})}),u.jsx(Ct,{className:"p-3 pt-0",children:u.jsx("div",{className:"space-y-3",children:[{name:"Mohamed Abbas",role:"Energy Strategist"},{name:"Sarah Ahmed",role:"Sustainability Expert"},{name:"Ali Hassan",role:"Technical Lead"}].map(i=>u.jsxs("div",{className:`flex items-center gap-3 ${e?"flex-row-reverse":""}`,children:[u.jsxs(_0,{className:"w-10 h-10",children:[u.jsx(S0,{src:`https://api.dicebear.com/7.x/initials/svg?seed=${i.name}`}),u.jsx(E0,{children:i.name.split(" ").map(s=>s[0]).join("")})]}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"font-medium text-sm text-slate-900 truncate",children:i.name}),u.jsx("p",{className:"text-xs text-slate-500 truncate",children:i.role})]}),u.jsx(bt,{size:"sm",variant:"outline",className:"text-xs h-7 px-3",children:e?"":"Follow"})]},i.name))})})]})]})}function q$e({open:t,onOpenChange:e,t:n,isRTL:r,user:i}){const{toast:s}=hd(),a=fd(),[o,l]=N.useState({title:"",titleAr:"",subtitle:"",excerpt:"",content:"",category:"Strategic Intelligence",authorName:i?.firstName?`${i.firstName} ${i.lastName||""}`.trim():"",authorRole:"Contributor",imageUrl:""}),c=Bl({mutationFn:async d=>{const f=d.title.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),h=await fetch("/api/blog/posts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...d,slug:f,status:"pending"})});if(!h.ok)throw new Error("Failed to submit article");return h.json()},onSuccess:()=>{a.invalidateQueries({queryKey:["/api/blog/posts"]}),a.invalidateQueries({queryKey:["/api/blog/posts/pending"]}),a.invalidateQueries({queryKey:["/api/blog/posts/published"]}),s({title:n.articleSubmitted}),e(!1),l({title:"",titleAr:"",subtitle:"",excerpt:"",content:"",category:"Strategic Intelligence",authorName:i?.firstName?`${i.firstName} ${i.lastName||""}`.trim():"",authorRole:"Contributor",imageUrl:""})}});return u.jsx(Xg,{open:t,onOpenChange:e,children:u.jsxs(wp,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",dir:r?"rtl":"ltr",children:[u.jsx(_p,{children:u.jsxs(Ep,{className:`flex items-center gap-2 ${r?"flex-row-reverse":""}`,children:[u.jsx(nd,{className:"w-5 h-5 text-emerald-600"}),n.writeArticle]})}),u.jsxs("form",{onSubmit:d=>{d.preventDefault(),c.mutate(o)},className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Zt,{children:n.title}),u.jsx(ln,{value:o.title,onChange:d=>l({...o,title:d.target.value}),required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Zt,{children:n.titleAr}),u.jsx(ln,{value:o.titleAr,onChange:d=>l({...o,titleAr:d.target.value}),dir:"rtl"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Zt,{children:n.subtitle}),u.jsx(ln,{value:o.subtitle,onChange:d=>l({...o,subtitle:d.target.value})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Zt,{children:n.authorName}),u.jsx(ln,{value:o.authorName,onChange:d=>l({...o,authorName:d.target.value}),required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Zt,{children:n.category}),u.jsxs(jl,{value:o.category,onValueChange:d=>l({...o,category:d}),children:[u.jsx(nl,{children:u.jsx(Il,{})}),u.jsx(rl,{children:Tde.map(d=>u.jsx(Ir,{value:d,children:d},d))})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Zt,{children:n.excerpt}),u.jsx(jf,{value:o.excerpt,onChange:d=>l({...o,excerpt:d.target.value}),required:!0,rows:3})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Zt,{children:n.content}),u.jsx(jf,{value:o.content,onChange:d=>l({...o,content:d.target.value}),required:!0,rows:8,className:"font-mono text-sm"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Zt,{children:n.imageUrl}),u.jsx(ln,{value:o.imageUrl,onChange:d=>l({...o,imageUrl:d.target.value}),placeholder:"https://..."})]}),u.jsxs(Sp,{className:r?"flex-row-reverse":"",children:[u.jsx(bt,{type:"button",variant:"outline",onClick:()=>e(!1),children:n.cancel}),u.jsxs(bt,{type:"submit",disabled:c.isPending,className:"bg-emerald-600 hover:bg-emerald-700",children:[u.jsx(TB,{className:`w-4 h-4 ${r?"ml-2":"mr-2"}`}),n.submitForReview]})]})]})]})})}function TZ({post:t,onClose:e,t:n,isRTL:r}){const i=t.imageUrl||EZ[t.category]||EZ["Strategic Intelligence"];return u.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",onClick:e,children:u.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden shadow-2xl",onClick:s=>s.stopPropagation(),dir:r?"rtl":"ltr",children:[u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:i,alt:t.title,className:"w-full h-64 object-cover"}),u.jsx(bt,{variant:"ghost",size:"icon",className:"absolute top-4 right-4 bg-white/90 hover:bg-white rounded-full",onClick:e,children:u.jsx(SN,{className:"w-5 h-5"})}),u.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-6",children:[u.jsx(Sn,{className:"bg-emerald-500 text-white mb-2",children:t.category}),u.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-white",children:t.title}),t.titleAr&&u.jsx("p",{className:"text-white/80 mt-1",dir:"rtl",children:t.titleAr})]})]}),u.jsx(pde,{className:"h-[calc(90vh-16rem)]",children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:`flex items-center gap-4 mb-6 pb-6 border-b border-slate-100 ${r?"flex-row-reverse":""}`,children:[u.jsxs(_0,{className:"w-12 h-12",children:[u.jsx(S0,{src:`https://api.dicebear.com/7.x/initials/svg?seed=${t.authorName}`}),u.jsx(E0,{children:t.authorName.split(" ").map(s=>s[0]).join("")})]}),u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-slate-900",children:t.authorName}),u.jsxs("p",{className:"text-sm text-slate-500",children:[t.publishedAt?hx(new Date(t.publishedAt),"PPP",{locale:r?Ux:void 0}):hx(new Date(t.createdAt),"PPP",{locale:r?Ux:void 0}),t.readTime&&`  ${t.readTime}`]})]})]}),t.subtitle&&u.jsx("p",{className:"text-lg text-slate-600 italic mb-6",children:t.subtitle}),u.jsx("div",{className:"prose prose-slate max-w-none",children:t.content.split(`
`).map((s,a)=>s.trim()&&u.jsx("p",{className:"mb-4 text-slate-700 leading-relaxed",children:s},a))}),u.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-100",children:[u.jsxs("h3",{className:`font-bold text-lg mb-4 flex items-center gap-2 ${r?"flex-row-reverse":""}`,children:[u.jsx(U1,{className:"w-5 h-5 text-emerald-600"}),n.comments]}),u.jsx(WAe,{postId:t.id})]})]})})]})})}function AZ(){const{language:t,isRTL:e}=Na(),n=MZ[t]||MZ.en,{user:r}=NN(),[i,s]=N.useState(""),[a,o]=N.useState(""),[l,c]=N.useState(!1),[d,f]=N.useState(!1),[h,m]=N.useState(null),v=r?.role==="super_admin"||r?.role==="admin",{data:b=[],isLoading:y}=gp({queryKey:["/api/blog/posts/published"],queryFn:async()=>(await fetch("/api/blog/posts/published")).json()}),w=b.filter(S=>{const M=!i||S.category===i,T=!a||S.title.toLowerCase().includes(a.toLowerCase())||S.excerpt.toLowerCase().includes(a.toLowerCase())||S.authorName.toLowerCase().includes(a.toLowerCase());return M&&T});return d&&v?u.jsxs("div",{className:"min-h-screen bg-slate-100",dir:e?"rtl":"ltr",children:[u.jsx(No,{}),u.jsxs("main",{className:`${e?"mr-20 lg:mr-20":"ml-20 lg:ml-20"} min-h-screen p-6`,children:[u.jsxs(bt,{variant:"ghost",className:`mb-4 gap-2 ${e?"flex-row-reverse":""}`,onClick:()=>f(!1),children:[u.jsx(_N,{className:`w-4 h-4 ${e?"rotate-180":""}`}),n.back]}),u.jsx($$e,{onPreview:S=>m(S)})]}),h&&u.jsx(TZ,{post:h,onClose:()=>m(null),t:n,isRTL:e})]}):u.jsxs("div",{className:"min-h-screen bg-slate-100",dir:e?"rtl":"ltr",children:[u.jsx(No,{}),u.jsxs("main",{className:`${e?"mr-20 lg:mr-20":"ml-20 lg:ml-20"} min-h-screen`,children:[u.jsx("div",{className:"sticky top-0 z-30 bg-white border-b border-slate-200 shadow-sm",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 py-3",children:u.jsxs("div",{className:`flex items-center justify-between gap-4 ${e?"flex-row-reverse":""}`,children:[u.jsxs("div",{className:`flex items-center gap-3 ${e?"flex-row-reverse":""}`,children:[u.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-emerald-500 to-emerald-600 flex items-center justify-center",children:u.jsx(ube,{className:"w-5 h-5 text-white"})}),u.jsx("h1",{className:"text-xl font-bold text-slate-900",children:n.blog})]}),u.jsx("div",{className:"flex-1 max-w-md",children:u.jsxs("div",{className:"relative",children:[u.jsx(MB,{className:`absolute ${e?"right-3":"left-3"} top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400`}),u.jsx(ln,{placeholder:n.searchPosts,value:a,onChange:S=>o(S.target.value),className:`${e?"pr-10":"pl-10"} bg-slate-50 border-slate-200 rounded-full`})]})}),u.jsxs(bt,{className:"gap-2 bg-emerald-600 hover:bg-emerald-700 rounded-full",onClick:()=>c(!0),children:[u.jsx($4,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:n.createPost})]})]})})}),u.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:u.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-12 gap-6 ${e?"lg:flex-row-reverse":""}`,children:[u.jsx("aside",{className:`hidden lg:block lg:col-span-3 ${e?"lg:order-3":""}`,children:u.jsx("div",{className:"sticky top-24",children:u.jsx(W$e,{t:n,isRTL:e,user:r,selectedCategory:i,onCategoryChange:s,isAdmin:v,onAdminClick:()=>f(!0)})})}),u.jsxs("div",{className:`lg:col-span-6 ${e?"lg:order-2":""}`,children:[u.jsx(H$e,{onOpenArticleForm:()=>c(!0),t:n,isRTL:e,user:r}),y?u.jsx("div",{className:"space-y-4",children:[1,2,3].map(S=>u.jsx(z$e,{},S))}):w.length===0?u.jsx(vt,{className:"border-none shadow-md bg-white",children:u.jsxs(Ct,{className:"p-12 text-center",children:[u.jsx(bB,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),u.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:n.noPostsYet}),u.jsx("p",{className:"text-slate-500 mb-4",children:n.beTheFirst}),u.jsxs(bt,{className:"bg-emerald-600 hover:bg-emerald-700",onClick:()=>c(!0),children:[u.jsx($4,{className:`w-4 h-4 ${e?"ml-2":"mr-2"}`}),n.createPost]})]})}):u.jsx("div",{className:"space-y-4",children:w.map(S=>u.jsx(Mde,{post:S,onReadMore:M=>m(M),onComment:M=>m(b.find(T=>T.id===M)||null)},S.id))})]}),u.jsx("aside",{className:`hidden lg:block lg:col-span-3 ${e?"lg:order-1":""}`,children:u.jsx("div",{className:"sticky top-24",children:u.jsx(G$e,{t:n,isRTL:e,posts:b})})})]})})]}),u.jsx(q$e,{open:l,onOpenChange:c,t:n,isRTL:e,user:r}),h&&u.jsx(TZ,{post:h,onClose:()=>m(null),t:n,isRTL:e})]})}var CE=t=>t.type==="checkbox",_g=t=>t instanceof Date,Ha=t=>t==null;const Ade=t=>typeof t=="object";var qi=t=>!Ha(t)&&!Array.isArray(t)&&Ade(t)&&!_g(t),Cde=t=>qi(t)&&t.target?CE(t.target)?t.target.checked:t.target.value:t,X$e=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Pde=(t,e)=>t.has(X$e(e)),Y$e=t=>{const e=t.constructor&&t.constructor.prototype;return qi(e)&&e.hasOwnProperty("isPrototypeOf")},K6=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ta(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(K6&&(t instanceof Blob||r))&&(n||qi(t)))if(e=n?[]:{},!n&&!Y$e(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=ta(t[i]));else return t;return e}var CR=t=>Array.isArray(t)?t.filter(Boolean):[],Wi=t=>t===void 0,Rt=(t,e,n)=>{if(!e||!qi(t))return n;const r=CR(e.split(/[,[\].]+?/)).reduce((i,s)=>Ha(i)?i:i[s],t);return Wi(r)||r===t?Wi(t[e])?n:t[e]:r},Jo=t=>typeof t=="boolean",Z6=t=>/^\w*$/.test(t),Nde=t=>CR(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Cr=(t,e,n)=>{let r=-1;const i=Z6(e)?[e]:Nde(e),s=i.length,a=s-1;for(;++r<s;){const o=i[r];let l=n;if(r!==a){const c=t[o];l=qi(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=l,t=t[o]}};const jC={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Fc={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},af={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Rde=se.createContext(null),PR=()=>se.useContext(Rde),K$e=t=>{const{children:e,...n}=t;return se.createElement(Rde.Provider,{value:n},e)};var Ode=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const a=s;return e._proxyFormState[a]!==Fc.all&&(e._proxyFormState[a]=!r||Fc.all),n&&(n[a]=!0),t[a]}});return i};function Z$e(t){const e=PR(),{control:n=e.control,disabled:r,name:i,exact:s}=t||{},[a,o]=se.useState(n._formState),l=se.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),c=se.useRef(i);return c.current=i,se.useEffect(()=>n._subscribe({name:c.current,formState:l.current,exact:s,callback:d=>{!r&&o({...n._formState,...d})}}),[n,r,s]),se.useEffect(()=>{l.current.isValid&&n._setValid(!0)},[n]),se.useMemo(()=>Ode(a,n,l.current,!1),[a,n])}var Bu=t=>typeof t=="string",jde=(t,e,n,r,i)=>Bu(t)?(r&&e.watch.add(t),Rt(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),Rt(n,s))):(r&&(e.watchAll=!0),n);function Q$e(t){const e=PR(),{control:n=e.control,name:r,defaultValue:i,disabled:s,exact:a}=t||{},o=se.useRef(r),l=se.useRef(i);o.current=r,se.useEffect(()=>n._subscribe({name:o.current,formState:{values:!0},exact:a,callback:f=>!s&&d(jde(o.current,n._names,f.values||n._formValues,!1,l.current))}),[n,s,a]);const[c,d]=se.useState(n._getWatch(r,i));return se.useEffect(()=>n._removeUnmounted()),c}function J$e(t){const e=PR(),{name:n,disabled:r,control:i=e.control,shouldUnregister:s}=t,a=Pde(i._names.array,n),o=Q$e({control:i,name:n,defaultValue:Rt(i._formValues,n,Rt(i._defaultValues,n,t.defaultValue)),exact:!0}),l=Z$e({control:i,name:n,exact:!0}),c=se.useRef(t),d=se.useRef(i.register(n,{...t.rules,value:o,...Jo(t.disabled)?{disabled:t.disabled}:{}})),f=se.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Rt(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!Rt(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Rt(l.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Rt(l.validatingFields,n)},error:{enumerable:!0,get:()=>Rt(l.errors,n)}}),[l,n]),h=se.useCallback(y=>d.current.onChange({target:{value:Cde(y),name:n},type:jC.CHANGE}),[n]),m=se.useCallback(()=>d.current.onBlur({target:{value:Rt(i._formValues,n),name:n},type:jC.BLUR}),[n,i._formValues]),v=se.useCallback(y=>{const w=Rt(i._fields,n);w&&y&&(w._f.ref={focus:()=>y.focus(),select:()=>y.select(),setCustomValidity:S=>y.setCustomValidity(S),reportValidity:()=>y.reportValidity()})},[i._fields,n]),b=se.useMemo(()=>({name:n,value:o,...Jo(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:h,onBlur:m,ref:v}),[n,r,l.disabled,h,m,v,o]);return se.useEffect(()=>{const y=i._options.shouldUnregister||s;i.register(n,{...c.current.rules,...Jo(c.current.disabled)?{disabled:c.current.disabled}:{}});const w=(S,M)=>{const T=Rt(i._fields,S);T&&T._f&&(T._f.mount=M)};if(w(n,!0),y){const S=ta(Rt(i._options.defaultValues,n));Cr(i._defaultValues,n,S),Wi(Rt(i._formValues,n))&&Cr(i._formValues,n,S)}return!a&&i.register(n),()=>{(a?y&&!i._state.action:y)?i.unregister(n):w(n,!1)}},[n,i,a,s]),se.useEffect(()=>{i._setDisabledField({disabled:r,name:n})},[r,n,i]),se.useMemo(()=>({field:b,formState:l,fieldState:f}),[b,l,f])}const eHe=t=>t.render(J$e(t));var Ide=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},Y1=t=>Array.isArray(t)?t:[t],CZ=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},z5=t=>Ha(t)||!Ade(t);function ep(t,e){if(z5(t)||z5(e))return t===e;if(_g(t)&&_g(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const a=e[i];if(_g(s)&&_g(a)||qi(s)&&qi(a)||Array.isArray(s)&&Array.isArray(a)?!ep(s,a):s!==a)return!1}}return!0}var $a=t=>qi(t)&&!Object.keys(t).length,Q6=t=>t.type==="file",Uc=t=>typeof t=="function",IC=t=>{if(!K6)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},kde=t=>t.type==="select-multiple",J6=t=>t.type==="radio",tHe=t=>J6(t)||CE(t),eL=t=>IC(t)&&t.isConnected;function nHe(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Wi(t)?r++:t[e[r++]];return t}function rHe(t){for(const e in t)if(t.hasOwnProperty(e)&&!Wi(t[e]))return!1;return!0}function vs(t,e){const n=Array.isArray(e)?e:Z6(e)?[e]:Nde(e),r=n.length===1?t:nHe(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(qi(r)&&$a(r)||Array.isArray(r)&&rHe(r))&&vs(t,n.slice(0,-1)),t}var Dde=t=>{for(const e in t)if(Uc(t[e]))return!0;return!1};function kC(t,e={}){const n=Array.isArray(t);if(qi(t)||n)for(const r in t)Array.isArray(t[r])||qi(t[r])&&!Dde(t[r])?(e[r]=Array.isArray(t[r])?[]:{},kC(t[r],e[r])):Ha(t[r])||(e[r]=!0);return e}function Lde(t,e,n){const r=Array.isArray(t);if(qi(t)||r)for(const i in t)Array.isArray(t[i])||qi(t[i])&&!Dde(t[i])?Wi(e)||z5(n[i])?n[i]=Array.isArray(t[i])?kC(t[i],[]):{...kC(t[i])}:Lde(t[i],Ha(e)?{}:e[i],n[i]):n[i]=!ep(t[i],e[i]);return n}var Vw=(t,e)=>Lde(t,e,kC(e));const PZ={value:!1,isValid:!1},NZ={value:!0,isValid:!0};var Fde=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Wi(t[0].attributes.value)?Wi(t[0].value)||t[0].value===""?NZ:{value:t[0].value,isValid:!0}:NZ:PZ}return PZ},Ude=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Wi(t)?t:e?t===""?NaN:t&&+t:n&&Bu(t)?new Date(t):r?r(t):t;const RZ={isValid:!1,value:null};var Bde=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,RZ):RZ;function OZ(t){const e=t.ref;return Q6(e)?e.files:J6(e)?Bde(t.refs).value:kde(e)?[...e.selectedOptions].map(({value:n})=>n):CE(e)?Fde(t.refs).value:Ude(Wi(e.value)?t.ref.value:e.value,t)}var iHe=(t,e,n,r)=>{const i={};for(const s of t){const a=Rt(e,s);a&&Cr(i,s,a._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},DC=t=>t instanceof RegExp,$w=t=>Wi(t)?t:DC(t)?t.source:qi(t)?DC(t.value)?t.value.source:t.value:t,jZ=t=>({isOnSubmit:!t||t===Fc.onSubmit,isOnBlur:t===Fc.onBlur,isOnChange:t===Fc.onChange,isOnAll:t===Fc.all,isOnTouch:t===Fc.onTouched});const IZ="AsyncFunction";var sHe=t=>!!t&&!!t.validate&&!!(Uc(t.validate)&&t.validate.constructor.name===IZ||qi(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===IZ)),aHe=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),kZ=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const K1=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=Rt(t,i);if(s){const{_f:a,...o}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!r)return!0;if(a.ref&&e(a.ref,a.name)&&!r)return!0;if(K1(o,e))break}else if(qi(o)&&K1(o,e))break}}};function DZ(t,e,n){const r=Rt(t,n);if(r||Z6(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),a=Rt(e,s),o=Rt(t,s);if(a&&!Array.isArray(a)&&n!==s)return{name:n};if(o&&o.type)return{name:s,error:o};i.pop()}return{name:n}}var oHe=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return $a(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===(!r||Fc.all))},lHe=(t,e,n)=>!t||!e||t===e||Y1(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),cHe=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,uHe=(t,e)=>!CR(Rt(t,e)).length&&vs(t,e),dHe=(t,e,n)=>{const r=Y1(Rt(t,n));return Cr(r,"root",e[n]),Cr(t,n,r),t},F2=t=>Bu(t);function LZ(t,e,n="validate"){if(F2(t)||Array.isArray(t)&&t.every(F2)||Jo(t)&&!t)return{type:n,message:F2(t)?t:"",ref:e}}var Vv=t=>qi(t)&&!DC(t)?t:{value:t,message:""},FZ=async(t,e,n,r,i,s)=>{const{ref:a,refs:o,required:l,maxLength:c,minLength:d,min:f,max:h,pattern:m,validate:v,name:b,valueAsNumber:y,mount:w}=t._f,S=Rt(n,b);if(!w||e.has(b))return{};const M=o?o[0]:a,T=G=>{i&&M.reportValidity&&(M.setCustomValidity(Jo(G)?"":G||""),M.reportValidity())},A={},C=J6(a),j=CE(a),L=C||j,O=(y||Q6(a))&&Wi(a.value)&&Wi(S)||IC(a)&&a.value===""||S===""||Array.isArray(S)&&!S.length,k=Ide.bind(null,b,r,A),F=(G,Y,U,W=af.maxLength,q=af.minLength)=>{const Z=G?Y:U;A[b]={type:G?W:q,message:Z,ref:a,...k(G?W:q,Z)}};if(s?!Array.isArray(S)||!S.length:l&&(!L&&(O||Ha(S))||Jo(S)&&!S||j&&!Fde(o).isValid||C&&!Bde(o).isValid)){const{value:G,message:Y}=F2(l)?{value:!!l,message:l}:Vv(l);if(G&&(A[b]={type:af.required,message:Y,ref:M,...k(af.required,Y)},!r))return T(Y),A}if(!O&&(!Ha(f)||!Ha(h))){let G,Y;const U=Vv(h),W=Vv(f);if(!Ha(S)&&!isNaN(S)){const q=a.valueAsNumber||S&&+S;Ha(U.value)||(G=q>U.value),Ha(W.value)||(Y=q<W.value)}else{const q=a.valueAsDate||new Date(S),Z=ee=>new Date(new Date().toDateString()+" "+ee),V=a.type=="time",Q=a.type=="week";Bu(U.value)&&S&&(G=V?Z(S)>Z(U.value):Q?S>U.value:q>new Date(U.value)),Bu(W.value)&&S&&(Y=V?Z(S)<Z(W.value):Q?S<W.value:q<new Date(W.value))}if((G||Y)&&(F(!!G,U.message,W.message,af.max,af.min),!r))return T(A[b].message),A}if((c||d)&&!O&&(Bu(S)||s&&Array.isArray(S))){const G=Vv(c),Y=Vv(d),U=!Ha(G.value)&&S.length>+G.value,W=!Ha(Y.value)&&S.length<+Y.value;if((U||W)&&(F(U,G.message,Y.message),!r))return T(A[b].message),A}if(m&&!O&&Bu(S)){const{value:G,message:Y}=Vv(m);if(DC(G)&&!S.match(G)&&(A[b]={type:af.pattern,message:Y,ref:a,...k(af.pattern,Y)},!r))return T(Y),A}if(v){if(Uc(v)){const G=await v(S,n),Y=LZ(G,M);if(Y&&(A[b]={...Y,...k(af.validate,Y.message)},!r))return T(Y.message),A}else if(qi(v)){let G={};for(const Y in v){if(!$a(G)&&!r)break;const U=LZ(await v[Y](S,n),M,Y);U&&(G={...U,...k(Y,U.message)},T(U.message),r&&(A[b]=G))}if(!$a(G)&&(A[b]={ref:M,...G},!r))return A}}return T(!0),A};const fHe={mode:Fc.onSubmit,reValidateMode:Fc.onChange,shouldFocusError:!0};function hHe(t={}){let e={...fHe,...t},n={submitCount:0,isDirty:!1,isLoading:Uc(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const r={};let i=qi(e.defaultValues)||qi(e.values)?ta(e.values||e.defaultValues)||{}:{},s=e.shouldUnregister?{}:ta(i),a={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:CZ(),state:CZ()},m=jZ(e.mode),v=jZ(e.reValidateMode),b=e.criteriaMode===Fc.all,y=re=>K=>{clearTimeout(c),c=setTimeout(re,K)},w=async re=>{if(!e.disabled&&(d.isValid||f.isValid||re)){const K=e.resolver?$a((await O()).errors):await F(r,!0);K!==n.isValid&&h.state.next({isValid:K})}},S=(re,K)=>{!e.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((re||Array.from(o.mount)).forEach(H=>{H&&(K?Cr(n.validatingFields,H,K):vs(n.validatingFields,H))}),h.state.next({validatingFields:n.validatingFields,isValidating:!$a(n.validatingFields)}))},M=(re,K=[],H,oe,he=!0,me=!0)=>{if(oe&&H&&!e.disabled){if(a.action=!0,me&&Array.isArray(Rt(r,re))){const ye=H(Rt(r,re),oe.argA,oe.argB);he&&Cr(r,re,ye)}if(me&&Array.isArray(Rt(n.errors,re))){const ye=H(Rt(n.errors,re),oe.argA,oe.argB);he&&Cr(n.errors,re,ye),uHe(n.errors,re)}if((d.touchedFields||f.touchedFields)&&me&&Array.isArray(Rt(n.touchedFields,re))){const ye=H(Rt(n.touchedFields,re),oe.argA,oe.argB);he&&Cr(n.touchedFields,re,ye)}(d.dirtyFields||f.dirtyFields)&&(n.dirtyFields=Vw(i,s)),h.state.next({name:re,isDirty:Y(re,K),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Cr(s,re,K)},T=(re,K)=>{Cr(n.errors,re,K),h.state.next({errors:n.errors})},A=re=>{n.errors=re,h.state.next({errors:n.errors,isValid:!1})},C=(re,K,H,oe)=>{const he=Rt(r,re);if(he){const me=Rt(s,re,Wi(H)?Rt(i,re):H);Wi(me)||oe&&oe.defaultChecked||K?Cr(s,re,K?me:OZ(he._f)):q(re,me),a.mount&&w()}},j=(re,K,H,oe,he)=>{let me=!1,ye=!1;const nt={name:re};if(!e.disabled){if(!H||oe){(d.isDirty||f.isDirty)&&(ye=n.isDirty,n.isDirty=nt.isDirty=Y(),me=ye!==nt.isDirty);const Ke=ep(Rt(i,re),K);ye=!!Rt(n.dirtyFields,re),Ke?vs(n.dirtyFields,re):Cr(n.dirtyFields,re,!0),nt.dirtyFields=n.dirtyFields,me=me||(d.dirtyFields||f.dirtyFields)&&ye!==!Ke}if(H){const Ke=Rt(n.touchedFields,re);Ke||(Cr(n.touchedFields,re,H),nt.touchedFields=n.touchedFields,me=me||(d.touchedFields||f.touchedFields)&&Ke!==H)}me&&he&&h.state.next(nt)}return me?nt:{}},L=(re,K,H,oe)=>{const he=Rt(n.errors,re),me=(d.isValid||f.isValid)&&Jo(K)&&n.isValid!==K;if(e.delayError&&H?(l=y(()=>T(re,H)),l(e.delayError)):(clearTimeout(c),l=null,H?Cr(n.errors,re,H):vs(n.errors,re)),(H?!ep(he,H):he)||!$a(oe)||me){const ye={...oe,...me&&Jo(K)?{isValid:K}:{},errors:n.errors,name:re};n={...n,...ye},h.state.next(ye)}},O=async re=>{S(re,!0);const K=await e.resolver(s,e.context,iHe(re||o.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return S(re),K},k=async re=>{const{errors:K}=await O(re);if(re)for(const H of re){const oe=Rt(K,H);oe?Cr(n.errors,H,oe):vs(n.errors,H)}else n.errors=K;return K},F=async(re,K,H={valid:!0})=>{for(const oe in re){const he=re[oe];if(he){const{_f:me,...ye}=he;if(me){const nt=o.array.has(me.name),Ke=he._f&&sHe(he._f);Ke&&d.validatingFields&&S([oe],!0);const pt=await FZ(he,o.disabled,s,b,e.shouldUseNativeValidation&&!K,nt);if(Ke&&d.validatingFields&&S([oe]),pt[me.name]&&(H.valid=!1,K))break;!K&&(Rt(pt,me.name)?nt?dHe(n.errors,pt,me.name):Cr(n.errors,me.name,pt[me.name]):vs(n.errors,me.name))}!$a(ye)&&await F(ye,K,H)}}return H.valid},G=()=>{for(const re of o.unMount){const K=Rt(r,re);K&&(K._f.refs?K._f.refs.every(H=>!eL(H)):!eL(K._f.ref))&&xe(re)}o.unMount=new Set},Y=(re,K)=>!e.disabled&&(re&&K&&Cr(s,re,K),!ep(J(),i)),U=(re,K,H)=>jde(re,o,{...a.mount?s:Wi(K)?i:Bu(re)?{[re]:K}:K},H,K),W=re=>CR(Rt(a.mount?s:i,re,e.shouldUnregister?Rt(i,re,[]):[])),q=(re,K,H={})=>{const oe=Rt(r,re);let he=K;if(oe){const me=oe._f;me&&(!me.disabled&&Cr(s,re,Ude(K,me)),he=IC(me.ref)&&Ha(K)?"":K,kde(me.ref)?[...me.ref.options].forEach(ye=>ye.selected=he.includes(ye.value)):me.refs?CE(me.ref)?me.refs.length>1?me.refs.forEach(ye=>(!ye.defaultChecked||!ye.disabled)&&(ye.checked=Array.isArray(he)?!!he.find(nt=>nt===ye.value):he===ye.value)):me.refs[0]&&(me.refs[0].checked=!!he):me.refs.forEach(ye=>ye.checked=ye.value===he):Q6(me.ref)?me.ref.value="":(me.ref.value=he,me.ref.type||h.state.next({name:re,values:ta(s)})))}(H.shouldDirty||H.shouldTouch)&&j(re,he,H.shouldTouch,H.shouldDirty,!0),H.shouldValidate&&$(re)},Z=(re,K,H)=>{for(const oe in K){const he=K[oe],me=`${re}.${oe}`,ye=Rt(r,me);(o.array.has(re)||qi(he)||ye&&!ye._f)&&!_g(he)?Z(me,he,H):q(me,he,H)}},V=(re,K,H={})=>{const oe=Rt(r,re),he=o.array.has(re),me=ta(K);Cr(s,re,me),he?(h.array.next({name:re,values:ta(s)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&H.shouldDirty&&h.state.next({name:re,dirtyFields:Vw(i,s),isDirty:Y(re,me)})):oe&&!oe._f&&!Ha(me)?Z(re,me,H):q(re,me,H),kZ(re,o)&&h.state.next({...n}),h.state.next({name:a.mount?re:void 0,values:ta(s)})},Q=async re=>{a.mount=!0;const K=re.target;let H=K.name,oe=!0;const he=Rt(r,H),me=ye=>{oe=Number.isNaN(ye)||_g(ye)&&isNaN(ye.getTime())||ep(ye,Rt(s,H,ye))};if(he){let ye,nt;const Ke=K.type?OZ(he._f):Cde(re),pt=re.type===jC.BLUR||re.type===jC.FOCUS_OUT,cn=!aHe(he._f)&&!e.resolver&&!Rt(n.errors,H)&&!he._f.deps||cHe(pt,Rt(n.touchedFields,H),n.isSubmitted,v,m),Je=kZ(H,o,pt);Cr(s,H,Ke),pt?(he._f.onBlur&&he._f.onBlur(re),l&&l(0)):he._f.onChange&&he._f.onChange(re);const mt=j(H,Ke,pt),Dt=!$a(mt)||Je;if(!pt&&h.state.next({name:H,type:re.type,values:ta(s)}),cn)return(d.isValid||f.isValid)&&(e.mode==="onBlur"?pt&&w():pt||w()),Dt&&h.state.next({name:H,...Je?{}:mt});if(!pt&&Je&&h.state.next({...n}),e.resolver){const{errors:ue}=await O([H]);if(me(Ke),oe){const Pe=DZ(n.errors,r,H),lt=DZ(ue,r,Pe.name||H);ye=lt.error,H=lt.name,nt=$a(ue)}}else S([H],!0),ye=(await FZ(he,o.disabled,s,b,e.shouldUseNativeValidation))[H],S([H]),me(Ke),oe&&(ye?nt=!1:(d.isValid||f.isValid)&&(nt=await F(r,!0)));oe&&(he._f.deps&&$(he._f.deps),L(H,nt,ye,mt))}},ee=(re,K)=>{if(Rt(n.errors,K)&&re.focus)return re.focus(),1},$=async(re,K={})=>{let H,oe;const he=Y1(re);if(e.resolver){const me=await k(Wi(re)?re:he);H=$a(me),oe=re?!he.some(ye=>Rt(me,ye)):H}else re?(oe=(await Promise.all(he.map(async me=>{const ye=Rt(r,me);return await F(ye&&ye._f?{[me]:ye}:ye)}))).every(Boolean),!(!oe&&!n.isValid)&&w()):oe=H=await F(r);return h.state.next({...!Bu(re)||(d.isValid||f.isValid)&&H!==n.isValid?{}:{name:re},...e.resolver||!re?{isValid:H}:{},errors:n.errors}),K.shouldFocus&&!oe&&K1(r,ee,re?he:o.mount),oe},J=re=>{const K={...a.mount?s:i};return Wi(re)?K:Bu(re)?Rt(K,re):re.map(H=>Rt(K,H))},de=(re,K)=>({invalid:!!Rt((K||n).errors,re),isDirty:!!Rt((K||n).dirtyFields,re),error:Rt((K||n).errors,re),isValidating:!!Rt(n.validatingFields,re),isTouched:!!Rt((K||n).touchedFields,re)}),Ae=re=>{re&&Y1(re).forEach(K=>vs(n.errors,K)),h.state.next({errors:re?n.errors:{}})},Ue=(re,K,H)=>{const oe=(Rt(r,re,{_f:{}})._f||{}).ref,he=Rt(n.errors,re)||{},{ref:me,message:ye,type:nt,...Ke}=he;Cr(n.errors,re,{...Ke,...K,ref:oe}),h.state.next({name:re,errors:n.errors,isValid:!1}),H&&H.shouldFocus&&oe&&oe.focus&&oe.focus()},ge=(re,K)=>Uc(re)?h.state.subscribe({next:H=>re(U(void 0,K),H)}):U(re,K,!0),pe=re=>h.state.subscribe({next:K=>{lHe(re.name,K.name,re.exact)&&oHe(K,re.formState||d,Ot,re.reRenderRoot)&&re.callback({values:{...s},...n,...K})}}).unsubscribe,Oe=re=>(a.mount=!0,f={...f,...re.formState},pe({...re,formState:f})),xe=(re,K={})=>{for(const H of re?Y1(re):o.mount)o.mount.delete(H),o.array.delete(H),K.keepValue||(vs(r,H),vs(s,H)),!K.keepError&&vs(n.errors,H),!K.keepDirty&&vs(n.dirtyFields,H),!K.keepTouched&&vs(n.touchedFields,H),!K.keepIsValidating&&vs(n.validatingFields,H),!e.shouldUnregister&&!K.keepDefaultValue&&vs(i,H);h.state.next({values:ta(s)}),h.state.next({...n,...K.keepDirty?{isDirty:Y()}:{}}),!K.keepIsValid&&w()},Me=({disabled:re,name:K})=>{(Jo(re)&&a.mount||re||o.disabled.has(K))&&(re?o.disabled.add(K):o.disabled.delete(K))},Ie=(re,K={})=>{let H=Rt(r,re);const oe=Jo(K.disabled)||Jo(e.disabled);return Cr(r,re,{...H||{},_f:{...H&&H._f?H._f:{ref:{name:re}},name:re,mount:!0,...K}}),o.mount.add(re),H?Me({disabled:Jo(K.disabled)?K.disabled:e.disabled,name:re}):C(re,!0,K.value),{...oe?{disabled:K.disabled||e.disabled}:{},...e.progressive?{required:!!K.required,min:$w(K.min),max:$w(K.max),minLength:$w(K.minLength),maxLength:$w(K.maxLength),pattern:$w(K.pattern)}:{},name:re,onChange:Q,onBlur:Q,ref:he=>{if(he){Ie(re,K),H=Rt(r,re);const me=Wi(he.value)&&he.querySelectorAll&&he.querySelectorAll("input,select,textarea")[0]||he,ye=tHe(me),nt=H._f.refs||[];if(ye?nt.find(Ke=>Ke===me):me===H._f.ref)return;Cr(r,re,{_f:{...H._f,...ye?{refs:[...nt.filter(eL),me,...Array.isArray(Rt(i,re))?[{}]:[]],ref:{type:me.type,name:re}}:{ref:me}}}),C(re,!1,void 0,me)}else H=Rt(r,re,{}),H._f&&(H._f.mount=!1),(e.shouldUnregister||K.shouldUnregister)&&!(Pde(o.array,re)&&a.action)&&o.unMount.add(re)}}},Te=()=>e.shouldFocusError&&K1(r,ee,o.mount),Xe=re=>{Jo(re)&&(h.state.next({disabled:re}),K1(r,(K,H)=>{const oe=Rt(r,H);oe&&(K.disabled=oe._f.disabled||re,Array.isArray(oe._f.refs)&&oe._f.refs.forEach(he=>{he.disabled=oe._f.disabled||re}))},0,!1))},Ce=(re,K)=>async H=>{let oe;H&&(H.preventDefault&&H.preventDefault(),H.persist&&H.persist());let he=ta(s);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:me,values:ye}=await O();n.errors=me,he=ye}else await F(r);if(o.disabled.size)for(const me of o.disabled)Cr(he,me,void 0);if(vs(n.errors,"root"),$a(n.errors)){h.state.next({errors:{}});try{await re(he,H)}catch(me){oe=me}}else K&&await K({...n.errors},H),Te(),setTimeout(Te);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:$a(n.errors)&&!oe,submitCount:n.submitCount+1,errors:n.errors}),oe)throw oe},$e=(re,K={})=>{Rt(r,re)&&(Wi(K.defaultValue)?V(re,ta(Rt(i,re))):(V(re,K.defaultValue),Cr(i,re,ta(K.defaultValue))),K.keepTouched||vs(n.touchedFields,re),K.keepDirty||(vs(n.dirtyFields,re),n.isDirty=K.defaultValue?Y(re,ta(Rt(i,re))):Y()),K.keepError||(vs(n.errors,re),d.isValid&&w()),h.state.next({...n}))},Be=(re,K={})=>{const H=re?ta(re):i,oe=ta(H),he=$a(re),me=he?i:oe;if(K.keepDefaultValues||(i=H),!K.keepValues){if(K.keepDirtyValues){const ye=new Set([...o.mount,...Object.keys(Vw(i,s))]);for(const nt of Array.from(ye))Rt(n.dirtyFields,nt)?Cr(me,nt,Rt(s,nt)):V(nt,Rt(me,nt))}else{if(K6&&Wi(re))for(const ye of o.mount){const nt=Rt(r,ye);if(nt&&nt._f){const Ke=Array.isArray(nt._f.refs)?nt._f.refs[0]:nt._f.ref;if(IC(Ke)){const pt=Ke.closest("form");if(pt){pt.reset();break}}}}for(const ye of o.mount)V(ye,Rt(me,ye))}s=ta(me),h.array.next({values:{...me}}),h.state.next({values:{...me}})}o={mount:K.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!d.isValid||!!K.keepIsValid||!!K.keepDirtyValues,a.watch=!!e.shouldUnregister,h.state.next({submitCount:K.keepSubmitCount?n.submitCount:0,isDirty:he?!1:K.keepDirty?n.isDirty:!!(K.keepDefaultValues&&!ep(re,i)),isSubmitted:K.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:he?{}:K.keepDirtyValues?K.keepDefaultValues&&s?Vw(i,s):n.dirtyFields:K.keepDefaultValues&&re?Vw(i,re):K.keepDirty?n.dirtyFields:{},touchedFields:K.keepTouched?n.touchedFields:{},errors:K.keepErrors?n.errors:{},isSubmitSuccessful:K.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Ye=(re,K)=>Be(Uc(re)?re(s):re,K),ae=(re,K={})=>{const H=Rt(r,re),oe=H&&H._f;if(oe){const he=oe.refs?oe.refs[0]:oe.ref;he.focus&&(he.focus(),K.shouldSelect&&Uc(he.select)&&he.select())}},Ot=re=>{n={...n,...re}},jt={control:{register:Ie,unregister:xe,getFieldState:de,handleSubmit:Ce,setError:Ue,_subscribe:pe,_runSchema:O,_getWatch:U,_getDirty:Y,_setValid:w,_setFieldArray:M,_setDisabledField:Me,_setErrors:A,_getFieldArray:W,_reset:Be,_resetDefaultValues:()=>Uc(e.defaultValues)&&e.defaultValues().then(re=>{Ye(re,e.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:G,_disableForm:Xe,_subjects:h,_proxyFormState:d,get _fields(){return r},get _formValues(){return s},get _state(){return a},set _state(re){a=re},get _defaultValues(){return i},get _names(){return o},set _names(re){o=re},get _formState(){return n},get _options(){return e},set _options(re){e={...e,...re}}},subscribe:Oe,trigger:$,register:Ie,handleSubmit:Ce,watch:ge,setValue:V,getValues:J,reset:Ye,resetField:$e,clearErrors:Ae,unregister:xe,setError:Ue,setFocus:ae,getFieldState:de};return{...jt,formControl:jt}}function zde(t={}){const e=se.useRef(void 0),n=se.useRef(void 0),[r,i]=se.useState({isDirty:!1,isValidating:!1,isLoading:Uc(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Uc(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:hHe(t),formState:r},t.formControl&&t.defaultValues&&!Uc(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const s=e.current.control;return s._options=t,se.useLayoutEffect(()=>s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0}),[s]),se.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),se.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==r.isDirty&&s._subjects.state.next({isDirty:a})}},[s,r.isDirty]),se.useEffect(()=>{t.values&&!ep(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(a=>({...a}))):s._resetDefaultValues()},[t.values,s]),se.useEffect(()=>{t.errors&&!$a(t.errors)&&s._setErrors(t.errors)},[t.errors,s]),se.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),se.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[t.shouldUnregister,s]),e.current.formState=Ode(r,s),e.current}const UZ=(t,e,n)=>{if(t&&"reportValidity"in t){const r=Rt(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},Vde=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?UZ(r.ref,n,t):r.refs&&r.refs.forEach(i=>UZ(i,n,t))}},pHe=(t,e)=>{e.shouldUseNativeValidation&&Vde(t,e);const n={};for(const r in t){const i=Rt(e.fields,r),s=Object.assign(t[r]||{},{ref:i&&i.ref});if(mHe(e.names||Object.keys(t),r)){const a=Object.assign({},Rt(n,r));Cr(a,"root",s),Cr(n,r,a)}else Cr(n,r,s)}return n},mHe=(t,e)=>t.some(n=>n.startsWith(e+"."));var gHe=function(t,e){for(var n={};t.length;){var r=t[0],i=r.code,s=r.message,a=r.path.join(".");if(!n[a])if("unionErrors"in r){var o=r.unionErrors[0].errors[0];n[a]={message:o.message,type:o.code}}else n[a]={message:s,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return t.push(f)})}),e){var l=n[a].types,c=l&&l[r.code];n[a]=Ide(a,e,n,i,c?[].concat(c,r.message):r.message)}t.shift()}return n},$de=function(t,e,n){return n===void 0&&(n={}),function(r,i,s){try{return Promise.resolve((function(a,o){try{var l=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(c){return s.shouldUseNativeValidation&&Vde({},s),{errors:{},values:n.raw?r:c}})}catch(c){return o(c)}return l&&l.then?l.then(void 0,o):l})(0,function(a){if((function(o){return Array.isArray(o?.errors)})(a))return{values:{},errors:pHe(gHe(a.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw a}))}catch(a){return Promise.reject(a)}}};function Hde(){return gp({queryKey:[Ii.fuelCells.list.path],queryFn:async()=>{const t=await fetch(Ii.fuelCells.list.path,{credentials:"include"});if(!t.ok)throw new Error("Failed to fetch fuel cells");return Ii.fuelCells.list.responses[200].parse(await t.json())}})}function vHe(){const t=fd();return Bl({mutationFn:async e=>{const n=await fetch(Ii.fuelCells.create.path,{method:Ii.fuelCells.create.method,headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"});if(!n.ok){if(n.status===400){const r=Ii.fuelCells.create.responses[400].parse(await n.json());throw new Error(r.message)}throw new Error("Failed to create fuel cell")}return Ii.fuelCells.create.responses[201].parse(await n.json())},onSuccess:()=>{t.invalidateQueries({queryKey:[Ii.fuelCells.list.path]})}})}var yHe="Separator",BZ="horizontal",xHe=["horizontal","vertical"],Wde=N.forwardRef((t,e)=>{const{decorative:n,orientation:r=BZ,...i}=t,s=bHe(r)?r:BZ,o=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return u.jsx(tn.div,{"data-orientation":s,...o,...i,ref:e})});Wde.displayName=yHe;function bHe(t){return xHe.includes(t)}var Gde=Wde;const Dl=N.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>u.jsx(Gde,{ref:i,decorative:n,orientation:e,className:Et("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Dl.displayName=Gde.displayName;const wHe=[{name:"Micro BTS (Rural 2G)",loadKw:.5,description:"Rural off-grid 2G site (GSMA typical range: 0.3-0.8 kW)",autonomyHours:8,voltage:48,source:"GSMA Tower Power Africa",sourceUrl:"https://www.gsma.com/solutions-and-impact/connectivity-for-good/mobile-for-development/uncategorized/tower-power-africa-energy-challenges-and-opportunities/"},{name:"Small Cell (Urban)",loadKw:1.5,description:"Urban small cell (GSMA typical range: 1-2 kW)",autonomyHours:4,voltage:48,source:"GSMA Tower Power Africa",sourceUrl:"https://www.gsma.com/solutions-and-impact/connectivity-for-good/mobile-for-development/uncategorized/tower-power-africa-energy-challenges-and-opportunities/"},{name:"Macro BTS 2G/3G",loadKw:3,description:"Standard macro site (GSMA typical range: 2-4 kW)",autonomyHours:8,voltage:48,source:"GSMA Tower Power Africa",sourceUrl:"https://www.gsma.com/solutions-and-impact/connectivity-for-good/mobile-for-development/uncategorized/tower-power-africa-energy-challenges-and-opportunities/"},{name:"Macro BTS 4G/LTE",loadKw:5,description:"LTE macro with cooling (GSMA typical range: 4-7 kW)",autonomyHours:8,voltage:48,source:"GSMA Tower Power Africa",sourceUrl:"https://www.gsma.com/solutions-and-impact/connectivity-for-good/mobile-for-development/uncategorized/tower-power-africa-energy-challenges-and-opportunities/"}],of={siteCount:{africa:24e4,global:52e5,offGrid:45e3},powerProfile:{avgSiteLoad:4.2,peakFactor:1.3,coolingPct:35},dieselStats:{avgConsumption:2.5,avgRunHours:12,maintenance:.15}};function _He({onApplyTemplate:t}){return u.jsxs(vt,{children:[u.jsxs(pn,{children:[u.jsxs(_n,{className:"flex items-center gap-2",children:[u.jsx(By,{className:"w-5 h-5"}),"Telecom Site Reference Data"]}),u.jsx(Zr,{children:"Industry benchmarks from GSMA Mobile for Development reports"})]}),u.jsx(Ct,{children:u.jsxs(g0,{defaultValue:"templates",className:"space-y-4",children:[u.jsxs(Dp,{className:"grid w-full grid-cols-2",children:[u.jsxs(xs,{value:"templates",children:[u.jsx(fbe,{className:"w-4 h-4 mr-2"}),u.jsx("span",{className:"hidden sm:inline",children:"Site Types"})]}),u.jsxs(xs,{value:"benchmarks",children:[u.jsx(Di,{className:"w-4 h-4 mr-2"}),u.jsx("span",{className:"hidden sm:inline",children:"Benchmarks"})]})]}),u.jsxs(Fs,{value:"templates",className:"space-y-3",children:[u.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Standard telecom site load profiles from industry research and GSMA reports"}),u.jsx("div",{className:"grid gap-2",children:wHe.map(e=>u.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-slate-50 dark:bg-slate-800 hover:shadow-sm transition-shadow cursor-pointer group/item border border-slate-100 dark:border-slate-800",onClick:()=>t?.(e),children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:u.jsx(Di,{className:"w-5 h-5 text-primary"})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-sm",children:e.name}),u.jsx("p",{className:"text-xs text-muted-foreground",children:e.description}),u.jsxs("a",{href:e.sourceUrl,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary flex items-center gap-1 mt-1 hover:underline",onClick:n=>n.stopPropagation(),children:[u.jsx(g_,{className:"w-3 h-3"}),e.source]})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(Sn,{variant:"secondary",children:[e.loadKw," kW"]}),u.jsxs(Sn,{variant:"outline",children:[e.autonomyHours,"h"]})]})]},e.name))})]}),u.jsxs(Fs,{value:"benchmarks",className:"space-y-4",children:[u.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Global telecom infrastructure statistics and power benchmarks"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"p-4 rounded-lg bg-slate-50 dark:bg-slate-800 border border-slate-100 dark:border-slate-800",children:[u.jsxs("h4",{className:"font-medium text-sm mb-2 flex items-center gap-2",children:[u.jsx(By,{className:"w-4 h-4"}),"Site Counts"]}),u.jsxs("div",{className:"space-y-1 text-sm",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-muted-foreground",children:"Africa Sites"}),u.jsx("span",{className:"font-mono",children:of.siteCount.africa.toLocaleString()})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-muted-foreground",children:"Global Sites"}),u.jsx("span",{className:"font-mono",children:of.siteCount.global.toLocaleString()})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-muted-foreground",children:"Off-Grid (Africa)"}),u.jsx("span",{className:"font-mono",children:of.siteCount.offGrid.toLocaleString()})]})]})]}),u.jsxs("div",{className:"p-4 rounded-lg bg-slate-50 dark:bg-slate-800 border border-slate-100 dark:border-slate-800",children:[u.jsxs("h4",{className:"font-medium text-sm mb-2 flex items-center gap-2",children:[u.jsx(Di,{className:"w-4 h-4"}),"Power Profile"]}),u.jsxs("div",{className:"space-y-1 text-sm",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-muted-foreground",children:"Avg Site Load"}),u.jsxs("span",{className:"font-mono",children:[of.powerProfile.avgSiteLoad," kW"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-muted-foreground",children:"Peak Factor"}),u.jsxs("span",{className:"font-mono",children:[of.powerProfile.peakFactor,"x"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-muted-foreground",children:"Cooling Load"}),u.jsxs("span",{className:"font-mono",children:[of.powerProfile.coolingPct,"%"]})]})]})]}),u.jsxs("div",{className:"p-4 rounded-lg bg-slate-50 dark:bg-slate-800 border border-slate-100 dark:border-slate-800",children:[u.jsxs("h4",{className:"font-medium text-sm mb-2 flex items-center gap-2",children:[u.jsx(cp,{className:"w-4 h-4"}),"Diesel Baseline"]}),u.jsxs("div",{className:"space-y-1 text-sm",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-muted-foreground",children:"Avg L/h per kW"}),u.jsx("span",{className:"font-mono",children:of.dieselStats.avgConsumption})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-muted-foreground",children:"Avg Run Hours/Day"}),u.jsxs("span",{className:"font-mono",children:[of.dieselStats.avgRunHours,"h"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-muted-foreground",children:"Maintenance Cost"}),u.jsxs("span",{className:"font-mono",children:["$",of.dieselStats.maintenance,"/kWh"]})]})]})]})]}),u.jsx(Dl,{}),u.jsxs("div",{className:"p-4 rounded-lg bg-blue-50 dark:bg-blue-900/10 border border-blue-100 dark:border-blue-800",children:[u.jsx("h4",{className:"font-medium text-sm mb-2",children:"Industry References"}),u.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1",children:[u.jsx("li",{children:u.jsx("a",{href:"https://www.gsma.com/solutions-and-impact/connectivity-for-good/mobile-for-development/uncategorized/tower-power-africa-energy-challenges-and-opportunities/",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"GSMA: Tower Power Africa"})}),u.jsx("li",{children:u.jsx("a",{href:"https://techblog.comsoc.org/2024/02/28/highlights-of-gsma-study-mobile-net-zero-2024-state-of-the-industry-on-climate-action/",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"GSMA: Mobile Net Zero 2024"})}),u.jsx("li",{children:u.jsx("a",{href:"https://www.gsma.com/solutions-and-impact/connectivity-for-good/mobile-economy/wp-content/uploads/2025/02/030325-The-Mobile-Economy-2025.pdf",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"GSMA: The Mobile Economy 2025"})})]})]})]})]})})]})}const U2=K$e,qde=N.createContext({}),ra=({...t})=>u.jsx(qde.Provider,{value:{name:t.name},children:u.jsx(eHe,{...t})}),NR=()=>{const t=N.useContext(qde),e=N.useContext(Xde),{getFieldState:n,formState:r}=PR(),i=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:s}=e;return{id:s,name:t.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},Xde=N.createContext({}),Os=N.forwardRef(({className:t,...e},n)=>{const r=N.useId();return u.jsx(Xde.Provider,{value:{id:r},children:u.jsx("div",{ref:n,className:Et("space-y-2",t),...e})})});Os.displayName="FormItem";const js=N.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:i}=NR();return u.jsx(Zt,{ref:n,className:Et(r&&"text-destructive",t),htmlFor:i,...e})});js.displayName="FormLabel";const Is=N.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:i,formMessageId:s}=NR();return u.jsx(Ane,{ref:e,id:r,"aria-describedby":n?`${i} ${s}`:`${i}`,"aria-invalid":!!n,...t})});Is.displayName="FormControl";const B2=N.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=NR();return u.jsx("p",{ref:n,id:r,className:Et("text-sm text-muted-foreground",t),...e})});B2.displayName="FormDescription";const Xh=N.forwardRef(({className:t,children:e,...n},r)=>{const{error:i,formMessageId:s}=NR(),a=i?String(i?.message??""):e;return a?u.jsx("p",{ref:r,id:s,className:Et("text-sm font-medium text-destructive",t),...n,children:a}):null});Xh.displayName="FormMessage";var Yde=["PageUp","PageDown"],Kde=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Zde={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Tb="Slider",[V5,SHe,EHe]=oE(Tb),[Qde]=Pa(Tb,[EHe]),[MHe,RR]=Qde(Tb),Jde=N.forwardRef((t,e)=>{const{name:n,min:r=0,max:i=100,step:s=1,orientation:a="horizontal",disabled:o=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[r],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:m=!1,form:v,...b}=t,y=N.useRef(new Set),w=N.useRef(0),M=a==="horizontal"?THe:AHe,[T=[],A]=Qc({prop:d,defaultProp:c,onChange:F=>{[...y.current][w.current]?.focus(),f(F)}}),C=N.useRef(T);function j(F){const G=OHe(T,F);k(F,G)}function L(F){k(F,w.current)}function O(){const F=C.current[w.current];T[w.current]!==F&&h(T)}function k(F,G,{commit:Y}={commit:!1}){const U=DHe(s),W=LHe(Math.round((F-r)/s)*s+r,U),q=SS(W,[r,i]);A((Z=[])=>{const V=NHe(Z,q,G);if(kHe(V,l*s)){w.current=V.indexOf(q);const Q=String(V)!==String(Z);return Q&&Y&&h(V),Q?V:Z}else return Z})}return u.jsx(MHe,{scope:t.__scopeSlider,name:n,disabled:o,min:r,max:i,valueIndexToChangeRef:w,thumbs:y.current,values:T,orientation:a,form:v,children:u.jsx(V5.Provider,{scope:t.__scopeSlider,children:u.jsx(V5.Slot,{scope:t.__scopeSlider,children:u.jsx(M,{"aria-disabled":o,"data-disabled":o?"":void 0,...b,ref:e,onPointerDown:Ht(b.onPointerDown,()=>{o||(C.current=T)}),min:r,max:i,inverted:m,onSlideStart:o?void 0:j,onSlideMove:o?void 0:L,onSlideEnd:o?void 0:O,onHomeKeyDown:()=>!o&&k(r,0,{commit:!0}),onEndKeyDown:()=>!o&&k(i,T.length-1,{commit:!0}),onStepKeyDown:({event:F,direction:G})=>{if(!o){const W=Yde.includes(F.key)||F.shiftKey&&Kde.includes(F.key)?10:1,q=w.current,Z=T[q],V=s*W*G;k(Z+V,q,{commit:!0})}}})})})})});Jde.displayName=Tb;var[efe,tfe]=Qde(Tb,{startEdge:"left",endEdge:"right",size:"width",direction:1}),THe=N.forwardRef((t,e)=>{const{min:n,max:r,dir:i,inverted:s,onSlideStart:a,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...d}=t,[f,h]=N.useState(null),m=Hn(e,M=>h(M)),v=N.useRef(void 0),b=pb(i),y=b==="ltr",w=y&&!s||!y&&s;function S(M){const T=v.current||f.getBoundingClientRect(),A=[0,T.width],j=e8(A,w?[n,r]:[r,n]);return v.current=T,j(M-T.left)}return u.jsx(efe,{scope:t.__scopeSlider,startEdge:w?"left":"right",endEdge:w?"right":"left",direction:w?1:-1,size:"width",children:u.jsx(nfe,{dir:b,"data-orientation":"horizontal",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:M=>{const T=S(M.clientX);a?.(T)},onSlideMove:M=>{const T=S(M.clientX);o?.(T)},onSlideEnd:()=>{v.current=void 0,l?.()},onStepKeyDown:M=>{const A=Zde[w?"from-left":"from-right"].includes(M.key);c?.({event:M,direction:A?-1:1})}})})}),AHe=N.forwardRef((t,e)=>{const{min:n,max:r,inverted:i,onSlideStart:s,onSlideMove:a,onSlideEnd:o,onStepKeyDown:l,...c}=t,d=N.useRef(null),f=Hn(e,d),h=N.useRef(void 0),m=!i;function v(b){const y=h.current||d.current.getBoundingClientRect(),w=[0,y.height],M=e8(w,m?[r,n]:[n,r]);return h.current=y,M(b-y.top)}return u.jsx(efe,{scope:t.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:u.jsx(nfe,{"data-orientation":"vertical",...c,ref:f,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:b=>{const y=v(b.clientY);s?.(y)},onSlideMove:b=>{const y=v(b.clientY);a?.(y)},onSlideEnd:()=>{h.current=void 0,o?.()},onStepKeyDown:b=>{const w=Zde[m?"from-bottom":"from-top"].includes(b.key);l?.({event:b,direction:w?-1:1})}})})}),nfe=N.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:a,onEndKeyDown:o,onStepKeyDown:l,...c}=t,d=RR(Tb,n);return u.jsx(tn.span,{...c,ref:e,onKeyDown:Ht(t.onKeyDown,f=>{f.key==="Home"?(a(f),f.preventDefault()):f.key==="End"?(o(f),f.preventDefault()):Yde.concat(Kde).includes(f.key)&&(l(f),f.preventDefault())}),onPointerDown:Ht(t.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(h)?h.focus():r(f)}),onPointerMove:Ht(t.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&i(f)}),onPointerUp:Ht(t.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),s(f))})})}),rfe="SliderTrack",ife=N.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=RR(rfe,n);return u.jsx(tn.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});ife.displayName=rfe;var $5="SliderRange",sfe=N.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=RR($5,n),s=tfe($5,n),a=N.useRef(null),o=Hn(e,a),l=i.values.length,c=i.values.map(h=>ofe(h,i.min,i.max)),d=l>1?Math.min(...c):0,f=100-Math.max(...c);return u.jsx(tn.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:o,style:{...t.style,[s.startEdge]:d+"%",[s.endEdge]:f+"%"}})});sfe.displayName=$5;var H5="SliderThumb",afe=N.forwardRef((t,e)=>{const n=SHe(t.__scopeSlider),[r,i]=N.useState(null),s=Hn(e,o=>i(o)),a=N.useMemo(()=>r?n().findIndex(o=>o.ref.current===r):-1,[n,r]);return u.jsx(CHe,{...t,ref:s,index:a})}),CHe=N.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:i,...s}=t,a=RR(H5,n),o=tfe(H5,n),[l,c]=N.useState(null),d=Hn(e,S=>c(S)),f=l?a.form||!!l.closest("form"):!0,h=DB(l),m=a.values[r],v=m===void 0?0:ofe(m,a.min,a.max),b=RHe(r,a.values.length),y=h?.[o.size],w=y?jHe(y,v,o.direction):0;return N.useEffect(()=>{if(l)return a.thumbs.add(l),()=>{a.thumbs.delete(l)}},[l,a.thumbs]),u.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[o.startEdge]:`calc(${v}% + ${w}px)`},children:[u.jsx(V5.ItemSlot,{scope:t.__scopeSlider,children:u.jsx(tn.span,{role:"slider","aria-label":t["aria-label"]||b,"aria-valuemin":a.min,"aria-valuenow":m,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...s,ref:d,style:m===void 0?{display:"none"}:t.style,onFocus:Ht(t.onFocus,()=>{a.valueIndexToChangeRef.current=r})})}),f&&u.jsx(PHe,{name:i??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:m},r)]})});afe.displayName=H5;var PHe=t=>{const{value:e,...n}=t,r=N.useRef(null),i=$6(e);return N.useEffect(()=>{const s=r.current,a=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(a,"value").set;if(i!==e&&l){const c=new Event("input",{bubbles:!0});l.call(s,e),s.dispatchEvent(c)}},[i,e]),u.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:e})};function NHe(t=[],e,n){const r=[...t];return r[n]=e,r.sort((i,s)=>i-s)}function ofe(t,e,n){const s=100/(n-e)*(t-e);return SS(s,[0,100])}function RHe(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function OHe(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),r=Math.min(...n);return n.indexOf(r)}function jHe(t,e,n){const r=t/2,s=e8([0,50],[0,r]);return(r-s(e)*n)*n}function IHe(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function kHe(t,e){if(e>0){const n=IHe(t);return Math.min(...n)>=e}return!0}function e8(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function DHe(t){return(String(t).split(".")[1]||"").length}function LHe(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var lfe=Jde,FHe=ife,UHe=sfe,BHe=afe;const Dg=N.forwardRef(({className:t,...e},n)=>u.jsxs(lfe,{ref:n,className:Et("relative flex w-full touch-none select-none items-center",t),...e,children:[u.jsx(FHe,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:u.jsx(UHe,{className:"absolute h-full bg-primary"})}),u.jsx(BHe,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Dg.displayName=lfe.displayName;var t8="Progress",n8=100,[zHe]=Pa(t8),[VHe,$He]=zHe(t8),cfe=N.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:s=HHe,...a}=t;(i||i===0)&&!zZ(i)&&console.error(WHe(`${i}`,"Progress"));const o=zZ(i)?i:n8;r!==null&&!VZ(r,o)&&console.error(GHe(`${r}`,"Progress"));const l=VZ(r,o)?r:null,c=LC(l)?s(l,o):void 0;return u.jsx(VHe,{scope:n,value:l,max:o,children:u.jsx(tn.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":LC(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":ffe(l,o),"data-value":l??void 0,"data-max":o,...a,ref:e})})});cfe.displayName=t8;var ufe="ProgressIndicator",dfe=N.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,i=$He(ufe,n);return u.jsx(tn.div,{"data-state":ffe(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});dfe.displayName=ufe;function HHe(t,e){return`${Math.round(t/e*100)}%`}function ffe(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function LC(t){return typeof t=="number"}function zZ(t){return LC(t)&&!isNaN(t)&&t>0}function VZ(t,e){return LC(t)&&!isNaN(t)&&t<=e&&t>=0}function WHe(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${n8}\`.`}function GHe(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${n8} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var hfe=cfe,qHe=dfe;const ES=N.forwardRef(({className:t,value:e,...n},r)=>u.jsx(hfe,{ref:r,className:Et("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:u.jsx(qHe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));ES.displayName=hfe.displayName;const Hw="/api/python";function pfe(){const[t,e]=N.useState(!1),[n,r]=N.useState(null),i=N.useCallback(async()=>{try{return await(await fetch(`${Hw}/health`)).json()}catch{return{status:"unavailable",gemini_configured:!1}}},[]),s=N.useCallback(async d=>{e(!0),r(null);try{const h=await(await fetch("/api/ai/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)})).json();return e(!1),h.success?{success:!0,analysis:h.content,taskType:h.taskType,language:h.language}:h}catch(f){const h=f instanceof Error?f.message:"Analysis failed";return r(h),e(!1),{success:!1,error:h}}},[]),a=N.useCallback(async d=>{e(!0),r(null);try{const f=await fetch(`${Hw}/generate-pdf`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)});if(!f.ok)throw new Error("PDF generation failed");const h=await f.blob(),m=window.URL.createObjectURL(h),v=document.createElement("a");return v.href=m,v.download="fcpms_sizing_report.pdf",document.body.appendChild(v),v.click(),window.URL.revokeObjectURL(m),document.body.removeChild(v),e(!1),{success:!0}}catch(f){const h=f instanceof Error?f.message:"PDF generation failed";return r(h),e(!1),{success:!1,error:h}}},[]),o=N.useCallback(async d=>{e(!0),r(null);try{const f=await fetch(`${Hw}/generate-diagram`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)});if(!f.ok)throw new Error("Diagram generation failed");const h=await f.blob(),m=window.URL.createObjectURL(h),v=document.createElement("a");return v.href=m,v.download="system_diagram.png",document.body.appendChild(v),v.click(),window.URL.revokeObjectURL(m),document.body.removeChild(v),e(!1),{success:!0}}catch(f){const h=f instanceof Error?f.message:"Diagram generation failed";return r(h),e(!1),{success:!1,error:h}}},[]),l=N.useCallback(async d=>{e(!0),r(null);try{const h=await(await fetch(`${Hw}/asset-analysis`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)})).json();return e(!1),h}catch(f){const h=f instanceof Error?f.message:"Asset analysis failed";return r(h),e(!1),{success:!1,recommendation:"error",action:"Analysis unavailable",analysis:h,metrics:{efficiency_loss:0,annual_waste_estimate:0}}}},[]),c=N.useCallback(async d=>{e(!0),r(null);try{const f=await fetch(`${Hw}/generate-csv`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)});if(!f.ok)throw new Error("CSV generation failed");const h=await f.blob(),m=window.URL.createObjectURL(h),v=document.createElement("a");return v.href=m,v.download="fcpms_data_export.csv",document.body.appendChild(v),v.click(),window.URL.revokeObjectURL(m),document.body.removeChild(v),e(!1),{success:!0}}catch(f){const h=f instanceof Error?f.message:"CSV generation failed";return r(h),e(!1),{success:!1,error:h}}},[]);return{isLoading:t,error:n,checkHealth:i,analyzeSystem:s,generatePDF:a,generateCSV:c,generateDiagram:o,analyzeAsset:l}}function mfe(t){return e=>typeof e===t}var XHe=mfe("function"),YHe=t=>t===null,$Z=t=>Object.prototype.toString.call(t).slice(8,-1)==="RegExp",HZ=t=>!KHe(t)&&!YHe(t)&&(XHe(t)||typeof t=="object"),KHe=mfe("undefined");function ZHe(t,e){const{length:n}=t;if(n!==e.length)return!1;for(let r=n;r--!==0;)if(!Za(t[r],e[r]))return!1;return!0}function QHe(t,e){if(t.byteLength!==e.byteLength)return!1;const n=new DataView(t.buffer),r=new DataView(e.buffer);let i=t.byteLength;for(;i--;)if(n.getUint8(i)!==r.getUint8(i))return!1;return!0}function JHe(t,e){if(t.size!==e.size)return!1;for(const n of t.entries())if(!e.has(n[0]))return!1;for(const n of t.entries())if(!Za(n[1],e.get(n[0])))return!1;return!0}function eWe(t,e){if(t.size!==e.size)return!1;for(const n of t.entries())if(!e.has(n[0]))return!1;return!0}function Za(t,e){if(t===e)return!0;if(t&&HZ(t)&&e&&HZ(e)){if(t.constructor!==e.constructor)return!1;if(Array.isArray(t)&&Array.isArray(e))return ZHe(t,e);if(t instanceof Map&&e instanceof Map)return JHe(t,e);if(t instanceof Set&&e instanceof Set)return eWe(t,e);if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(e))return QHe(t,e);if($Z(t)&&$Z(e))return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=n.length;i--!==0;)if(!Object.prototype.hasOwnProperty.call(e,n[i]))return!1;for(let i=n.length;i--!==0;){const s=n[i];if(!(s==="_owner"&&t.$$typeof)&&!Za(t[s],e[s]))return!1}return!0}return Number.isNaN(t)&&Number.isNaN(e)?!0:t===e}var tWe=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],nWe=["bigint","boolean","null","number","string","symbol","undefined"];function OR(t){const e=Object.prototype.toString.call(t).slice(8,-1);if(/HTML\w+Element/.test(e))return"HTMLElement";if(rWe(e))return e}function au(t){return e=>OR(e)===t}function rWe(t){return tWe.includes(t)}function Ab(t){return e=>typeof e===t}function iWe(t){return nWe.includes(t)}var sWe=["innerHTML","ownerDocument","style","attributes","nodeValue"];function Vt(t){if(t===null)return"null";switch(typeof t){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(Vt.array(t))return"Array";if(Vt.plainFunction(t))return"Function";const e=OR(t);return e||"Object"}Vt.array=Array.isArray;Vt.arrayOf=(t,e)=>!Vt.array(t)&&!Vt.function(e)?!1:t.every(n=>e(n));Vt.asyncGeneratorFunction=t=>OR(t)==="AsyncGeneratorFunction";Vt.asyncFunction=au("AsyncFunction");Vt.bigint=Ab("bigint");Vt.boolean=t=>t===!0||t===!1;Vt.date=au("Date");Vt.defined=t=>!Vt.undefined(t);Vt.domElement=t=>Vt.object(t)&&!Vt.plainObject(t)&&t.nodeType===1&&Vt.string(t.nodeName)&&sWe.every(e=>e in t);Vt.empty=t=>Vt.string(t)&&t.length===0||Vt.array(t)&&t.length===0||Vt.object(t)&&!Vt.map(t)&&!Vt.set(t)&&Object.keys(t).length===0||Vt.set(t)&&t.size===0||Vt.map(t)&&t.size===0;Vt.error=au("Error");Vt.function=Ab("function");Vt.generator=t=>Vt.iterable(t)&&Vt.function(t.next)&&Vt.function(t.throw);Vt.generatorFunction=au("GeneratorFunction");Vt.instanceOf=(t,e)=>!t||!e?!1:Object.getPrototypeOf(t)===e.prototype;Vt.iterable=t=>!Vt.nullOrUndefined(t)&&Vt.function(t[Symbol.iterator]);Vt.map=au("Map");Vt.nan=t=>Number.isNaN(t);Vt.null=t=>t===null;Vt.nullOrUndefined=t=>Vt.null(t)||Vt.undefined(t);Vt.number=t=>Ab("number")(t)&&!Vt.nan(t);Vt.numericString=t=>Vt.string(t)&&t.length>0&&!Number.isNaN(Number(t));Vt.object=t=>!Vt.nullOrUndefined(t)&&(Vt.function(t)||typeof t=="object");Vt.oneOf=(t,e)=>Vt.array(t)?t.indexOf(e)>-1:!1;Vt.plainFunction=au("Function");Vt.plainObject=t=>{if(OR(t)!=="Object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.getPrototypeOf({})};Vt.primitive=t=>Vt.null(t)||iWe(typeof t);Vt.promise=au("Promise");Vt.propertyOf=(t,e,n)=>{if(!Vt.object(t)||!e)return!1;const r=t[e];return Vt.function(n)?n(r):Vt.defined(r)};Vt.regexp=au("RegExp");Vt.set=au("Set");Vt.string=Ab("string");Vt.symbol=Ab("symbol");Vt.undefined=Ab("undefined");Vt.weakMap=au("WeakMap");Vt.weakSet=au("WeakSet");var Kt=Vt;function aWe(...t){return t.every(e=>Kt.string(e)||Kt.array(e)||Kt.plainObject(e))}function oWe(t,e,n){return gfe(t,e)?[t,e].every(Kt.array)?!t.some(YZ(n))&&e.some(YZ(n)):[t,e].every(Kt.plainObject)?!Object.entries(t).some(XZ(n))&&Object.entries(e).some(XZ(n)):e===n:!1}function WZ(t,e,n){const{actual:r,key:i,previous:s,type:a}=n,o=zu(t,i),l=zu(e,i);let c=[o,l].every(Kt.number)&&(a==="increased"?o<l:o>l);return Kt.undefined(r)||(c=c&&l===r),Kt.undefined(s)||(c=c&&o===s),c}function GZ(t,e,n){const{key:r,type:i,value:s}=n,a=zu(t,r),o=zu(e,r),l=i==="added"?a:o,c=i==="added"?o:a;if(!Kt.nullOrUndefined(s)){if(Kt.defined(l)){if(Kt.array(l)||Kt.plainObject(l))return oWe(l,c,s)}else return Za(c,s);return!1}return[a,o].every(Kt.array)?!c.every(r8(l)):[a,o].every(Kt.plainObject)?lWe(Object.keys(l),Object.keys(c)):![a,o].every(d=>Kt.primitive(d)&&Kt.defined(d))&&(i==="added"?!Kt.defined(a)&&Kt.defined(o):Kt.defined(a)&&!Kt.defined(o))}function qZ(t,e,{key:n}={}){let r=zu(t,n),i=zu(e,n);if(!gfe(r,i))throw new TypeError("Inputs have different types");if(!aWe(r,i))throw new TypeError("Inputs don't have length");return[r,i].every(Kt.plainObject)&&(r=Object.keys(r),i=Object.keys(i)),[r,i]}function XZ(t){return([e,n])=>Kt.array(t)?Za(t,n)||t.some(r=>Za(r,n)||Kt.array(n)&&r8(n)(r)):Kt.plainObject(t)&&t[e]?!!t[e]&&Za(t[e],n):Za(t,n)}function lWe(t,e){return e.some(n=>!t.includes(n))}function YZ(t){return e=>Kt.array(t)?t.some(n=>Za(n,e)||Kt.array(e)&&r8(e)(n)):Za(t,e)}function Ww(t,e){return Kt.array(t)?t.some(n=>Za(n,e)):Za(t,e)}function r8(t){return e=>t.some(n=>Za(n,e))}function gfe(...t){return t.every(Kt.array)||t.every(Kt.number)||t.every(Kt.plainObject)||t.every(Kt.string)}function zu(t,e){return Kt.plainObject(t)||Kt.array(t)?Kt.string(e)?e.split(".").reduce((r,i)=>r&&r[i],t):Kt.number(e)?t[e]:t:t}function FC(t,e){if([t,e].some(Kt.nullOrUndefined))throw new Error("Missing required parameters");if(![t,e].every(d=>Kt.plainObject(d)||Kt.array(d)))throw new Error("Expected plain objects or array");return{added:(d,f)=>{try{return GZ(t,e,{key:d,type:"added",value:f})}catch{return!1}},changed:(d,f,h)=>{try{const m=zu(t,d),v=zu(e,d),b=Kt.defined(f),y=Kt.defined(h);if(b||y){const w=y?Ww(h,m):!Ww(f,m),S=Ww(f,v);return w&&S}return[m,v].every(Kt.array)||[m,v].every(Kt.plainObject)?!Za(m,v):m!==v}catch{return!1}},changedFrom:(d,f,h)=>{if(!Kt.defined(d))return!1;try{const m=zu(t,d),v=zu(e,d),b=Kt.defined(h);return Ww(f,m)&&(b?Ww(h,v):!b)}catch{return!1}},decreased:(d,f,h)=>{if(!Kt.defined(d))return!1;try{return WZ(t,e,{key:d,actual:f,previous:h,type:"decreased"})}catch{return!1}},emptied:d=>{try{const[f,h]=qZ(t,e,{key:d});return!!f.length&&!h.length}catch{return!1}},filled:d=>{try{const[f,h]=qZ(t,e,{key:d});return!f.length&&!!h.length}catch{return!1}},increased:(d,f,h)=>{if(!Kt.defined(d))return!1;try{return WZ(t,e,{key:d,actual:f,previous:h,type:"increased"})}catch{return!1}},removed:(d,f)=>{try{return GZ(t,e,{key:d,type:"removed",value:f})}catch{return!1}}}}var tL,KZ;function cWe(){if(KZ)return tL;KZ=1;var t=new Error("Element already at target scroll position"),e=new Error("Scroll cancelled"),n=Math.min,r=Date.now;tL={left:i("scrollLeft"),top:i("scrollTop")};function i(o){return function(c,d,f,h){f=f||{},typeof f=="function"&&(h=f,f={}),typeof h!="function"&&(h=a);var m=r(),v=c[o],b=f.ease||s,y=isNaN(f.duration)?350:+f.duration,w=!1;return v===d?h(t,c[o]):requestAnimationFrame(M),S;function S(){w=!0}function M(T){if(w)return h(e,c[o]);var A=r(),C=n(1,(A-m)/y),j=b(C);c[o]=j*(d-v)+v,C<1?requestAnimationFrame(M):requestAnimationFrame(function(){h(null,c[o])})}}}function s(o){return .5*(1-Math.cos(Math.PI*o))}function a(){}return tL}var uWe=cWe();const dWe=pr(uWe);var z2={exports:{}},fWe=z2.exports,ZZ;function hWe(){return ZZ||(ZZ=1,(function(t){(function(e,n){t.exports?t.exports=n():e.Scrollparent=n()})(fWe,function(){function e(r){var i=getComputedStyle(r,null).getPropertyValue("overflow");return i.indexOf("scroll")>-1||i.indexOf("auto")>-1}function n(r){if(r instanceof HTMLElement||r instanceof SVGElement){for(var i=r.parentNode;i.parentNode;){if(e(i))return i;i=i.parentNode}return document.scrollingElement||document.documentElement}}return n})})(z2)),z2.exports}var pWe=hWe();const vfe=pr(pWe);var nL,QZ;function mWe(){if(QZ)return nL;QZ=1;var t=function(r){return Object.prototype.hasOwnProperty.call(r,"props")},e=function(r,i){return r+n(i)},n=function(r){return r===null||typeof r=="boolean"||typeof r>"u"?"":typeof r=="number"?r.toString():typeof r=="string"?r:Array.isArray(r)?r.reduce(e,""):t(r)&&Object.prototype.hasOwnProperty.call(r.props,"children")?n(r.props.children):""};return n.default=n,nL=n,nL}var gWe=mWe();const JZ=pr(gWe);var rL,eQ;function vWe(){if(eQ)return rL;eQ=1;var t=function(S){return e(S)&&!n(S)};function e(w){return!!w&&typeof w=="object"}function n(w){var S=Object.prototype.toString.call(w);return S==="[object RegExp]"||S==="[object Date]"||s(w)}var r=typeof Symbol=="function"&&Symbol.for,i=r?Symbol.for("react.element"):60103;function s(w){return w.$$typeof===i}function a(w){return Array.isArray(w)?[]:{}}function o(w,S){return S.clone!==!1&&S.isMergeableObject(w)?b(a(w),w,S):w}function l(w,S,M){return w.concat(S).map(function(T){return o(T,M)})}function c(w,S){if(!S.customMerge)return b;var M=S.customMerge(w);return typeof M=="function"?M:b}function d(w){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(w).filter(function(S){return Object.propertyIsEnumerable.call(w,S)}):[]}function f(w){return Object.keys(w).concat(d(w))}function h(w,S){try{return S in w}catch{return!1}}function m(w,S){return h(w,S)&&!(Object.hasOwnProperty.call(w,S)&&Object.propertyIsEnumerable.call(w,S))}function v(w,S,M){var T={};return M.isMergeableObject(w)&&f(w).forEach(function(A){T[A]=o(w[A],M)}),f(S).forEach(function(A){m(w,A)||(h(w,A)&&M.isMergeableObject(S[A])?T[A]=c(A,M)(w[A],S[A],M):T[A]=o(S[A],M))}),T}function b(w,S,M){M=M||{},M.arrayMerge=M.arrayMerge||l,M.isMergeableObject=M.isMergeableObject||t,M.cloneUnlessOtherwiseSpecified=o;var T=Array.isArray(S),A=Array.isArray(w),C=T===A;return C?T?M.arrayMerge(w,S,M):v(w,S,M):o(S,M)}b.all=function(S,M){if(!Array.isArray(S))throw new Error("first argument should be an array");return S.reduce(function(T,A){return b(T,A,M)},{})};var y=b;return rL=y,rL}var yWe=vWe();const $c=pr(yWe);var PE=typeof window<"u"&&typeof document<"u"&&typeof navigator<"u",xWe=(function(){for(var t=["Edge","Trident","Firefox"],e=0;e<t.length;e+=1)if(PE&&navigator.userAgent.indexOf(t[e])>=0)return 1;return 0})();function bWe(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}function wWe(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},xWe))}}var _We=PE&&window.Promise,SWe=_We?bWe:wWe;function yfe(t){var e={};return t&&e.toString.call(t)==="[object Function]"}function M0(t,e){if(t.nodeType!==1)return[];var n=t.ownerDocument.defaultView,r=n.getComputedStyle(t,null);return e?r[e]:r}function i8(t){return t.nodeName==="HTML"?t:t.parentNode||t.host}function NE(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=M0(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?t:NE(i8(t))}function xfe(t){return t&&t.referenceNode?t.referenceNode:t}var tQ=PE&&!!(window.MSInputMethodContext&&document.documentMode),nQ=PE&&/MSIE 10/.test(navigator.userAgent);function Cb(t){return t===11?tQ:t===10?nQ:tQ||nQ}function Bx(t){if(!t)return document.documentElement;for(var e=Cb(10)?document.body:null,n=t.offsetParent||null;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var r=n&&n.nodeName;return!r||r==="BODY"||r==="HTML"?t?t.ownerDocument.documentElement:document.documentElement:["TH","TD","TABLE"].indexOf(n.nodeName)!==-1&&M0(n,"position")==="static"?Bx(n):n}function EWe(t){var e=t.nodeName;return e==="BODY"?!1:e==="HTML"||Bx(t.firstElementChild)===t}function W5(t){return t.parentNode!==null?W5(t.parentNode):t}function UC(t,e){if(!t||!t.nodeType||!e||!e.nodeType)return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?t:e,i=n?e:t,s=document.createRange();s.setStart(r,0),s.setEnd(i,0);var a=s.commonAncestorContainer;if(t!==a&&e!==a||r.contains(i))return EWe(a)?a:Bx(a);var o=W5(t);return o.host?UC(o.host,e):UC(t,W5(e).host)}function zx(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"top",n=e==="top"?"scrollTop":"scrollLeft",r=t.nodeName;if(r==="BODY"||r==="HTML"){var i=t.ownerDocument.documentElement,s=t.ownerDocument.scrollingElement||i;return s[n]}return t[n]}function MWe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=zx(e,"top"),i=zx(e,"left"),s=n?-1:1;return t.top+=r*s,t.bottom+=r*s,t.left+=i*s,t.right+=i*s,t}function rQ(t,e){var n=e==="x"?"Left":"Top",r=n==="Left"?"Right":"Bottom";return parseFloat(t["border"+n+"Width"])+parseFloat(t["border"+r+"Width"])}function iQ(t,e,n,r){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],Cb(10)?parseInt(n["offset"+t])+parseInt(r["margin"+(t==="Height"?"Top":"Left")])+parseInt(r["margin"+(t==="Height"?"Bottom":"Right")]):0)}function bfe(t){var e=t.body,n=t.documentElement,r=Cb(10)&&getComputedStyle(n);return{height:iQ("Height",e,n,r),width:iQ("Width",e,n,r)}}var TWe=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},AWe=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),Vx=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},Vl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function Op(t){return Vl({},t,{right:t.left+t.width,bottom:t.top+t.height})}function G5(t){var e={};try{if(Cb(10)){e=t.getBoundingClientRect();var n=zx(t,"top"),r=zx(t,"left");e.top+=n,e.left+=r,e.bottom+=n,e.right+=r}else e=t.getBoundingClientRect()}catch{}var i={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},s=t.nodeName==="HTML"?bfe(t.ownerDocument):{},a=s.width||t.clientWidth||i.width,o=s.height||t.clientHeight||i.height,l=t.offsetWidth-a,c=t.offsetHeight-o;if(l||c){var d=M0(t);l-=rQ(d,"x"),c-=rQ(d,"y"),i.width-=l,i.height-=c}return Op(i)}function s8(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=Cb(10),i=e.nodeName==="HTML",s=G5(t),a=G5(e),o=NE(t),l=M0(e),c=parseFloat(l.borderTopWidth),d=parseFloat(l.borderLeftWidth);n&&i&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var f=Op({top:s.top-a.top-c,left:s.left-a.left-d,width:s.width,height:s.height});if(f.marginTop=0,f.marginLeft=0,!r&&i){var h=parseFloat(l.marginTop),m=parseFloat(l.marginLeft);f.top-=c-h,f.bottom-=c-h,f.left-=d-m,f.right-=d-m,f.marginTop=h,f.marginLeft=m}return(r&&!n?e.contains(o):e===o&&o.nodeName!=="BODY")&&(f=MWe(f,e)),f}function CWe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=t.ownerDocument.documentElement,r=s8(t,n),i=Math.max(n.clientWidth,window.innerWidth||0),s=Math.max(n.clientHeight,window.innerHeight||0),a=e?0:zx(n),o=e?0:zx(n,"left"),l={top:a-r.top+r.marginTop,left:o-r.left+r.marginLeft,width:i,height:s};return Op(l)}function wfe(t){var e=t.nodeName;if(e==="BODY"||e==="HTML")return!1;if(M0(t,"position")==="fixed")return!0;var n=i8(t);return n?wfe(n):!1}function _fe(t){if(!t||!t.parentElement||Cb())return document.documentElement;for(var e=t.parentElement;e&&M0(e,"transform")==="none";)e=e.parentElement;return e||document.documentElement}function a8(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,s={top:0,left:0},a=i?_fe(t):UC(t,xfe(e));if(r==="viewport")s=CWe(a,i);else{var o=void 0;r==="scrollParent"?(o=NE(i8(e)),o.nodeName==="BODY"&&(o=t.ownerDocument.documentElement)):r==="window"?o=t.ownerDocument.documentElement:o=r;var l=s8(o,a,i);if(o.nodeName==="HTML"&&!wfe(a)){var c=bfe(t.ownerDocument),d=c.height,f=c.width;s.top+=l.top-l.marginTop,s.bottom=d+l.top,s.left+=l.left-l.marginLeft,s.right=f+l.left}else s=l}n=n||0;var h=typeof n=="number";return s.left+=h?n:n.left||0,s.top+=h?n:n.top||0,s.right-=h?n:n.right||0,s.bottom-=h?n:n.bottom||0,s}function PWe(t){var e=t.width,n=t.height;return e*n}function Sfe(t,e,n,r,i){var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;if(t.indexOf("auto")===-1)return t;var a=a8(n,r,s,i),o={top:{width:a.width,height:e.top-a.top},right:{width:a.right-e.right,height:a.height},bottom:{width:a.width,height:a.bottom-e.bottom},left:{width:e.left-a.left,height:a.height}},l=Object.keys(o).map(function(h){return Vl({key:h},o[h],{area:PWe(o[h])})}).sort(function(h,m){return m.area-h.area}),c=l.filter(function(h){var m=h.width,v=h.height;return m>=n.clientWidth&&v>=n.clientHeight}),d=c.length>0?c[0].key:l[0].key,f=t.split("-")[1];return d+(f?"-"+f:"")}function Efe(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,i=r?_fe(e):UC(e,xfe(n));return s8(n,i,r)}function Mfe(t){var e=t.ownerDocument.defaultView,n=e.getComputedStyle(t),r=parseFloat(n.marginTop||0)+parseFloat(n.marginBottom||0),i=parseFloat(n.marginLeft||0)+parseFloat(n.marginRight||0),s={width:t.offsetWidth+i,height:t.offsetHeight+r};return s}function BC(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(n){return e[n]})}function Tfe(t,e,n){n=n.split("-")[0];var r=Mfe(t),i={width:r.width,height:r.height},s=["right","left"].indexOf(n)!==-1,a=s?"top":"left",o=s?"left":"top",l=s?"height":"width",c=s?"width":"height";return i[a]=e[a]+e[l]/2-r[l]/2,n===o?i[o]=e[o]-r[c]:i[o]=e[BC(o)],i}function RE(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function NWe(t,e,n){if(Array.prototype.findIndex)return t.findIndex(function(i){return i[e]===n});var r=RE(t,function(i){return i[e]===n});return t.indexOf(r)}function Afe(t,e,n){var r=n===void 0?t:t.slice(0,NWe(t,"name",n));return r.forEach(function(i){i.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var s=i.function||i.fn;i.enabled&&yfe(s)&&(e.offsets.popper=Op(e.offsets.popper),e.offsets.reference=Op(e.offsets.reference),e=s(e,i))}),e}function RWe(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=Efe(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=Sfe(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=Tfe(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=Afe(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function Cfe(t,e){return t.some(function(n){var r=n.name,i=n.enabled;return i&&r===e})}function o8(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<e.length;r++){var i=e[r],s=i?""+i+n:t;if(typeof document.body.style[s]<"u")return s}return null}function OWe(){return this.state.isDestroyed=!0,Cfe(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[o8("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function Pfe(t){var e=t.ownerDocument;return e?e.defaultView:window}function Nfe(t,e,n,r){var i=t.nodeName==="BODY",s=i?t.ownerDocument.defaultView:t;s.addEventListener(e,n,{passive:!0}),i||Nfe(NE(s.parentNode),e,n,r),r.push(s)}function jWe(t,e,n,r){n.updateBound=r,Pfe(t).addEventListener("resize",n.updateBound,{passive:!0});var i=NE(t);return Nfe(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function IWe(){this.state.eventsEnabled||(this.state=jWe(this.reference,this.options,this.state,this.scheduleUpdate))}function kWe(t,e){return Pfe(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(n){n.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e}function DWe(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=kWe(this.reference,this.state))}function l8(t){return t!==""&&!isNaN(parseFloat(t))&&isFinite(t)}function q5(t,e){Object.keys(e).forEach(function(n){var r="";["width","height","top","right","bottom","left"].indexOf(n)!==-1&&l8(e[n])&&(r="px"),t.style[n]=e[n]+r})}function LWe(t,e){Object.keys(e).forEach(function(n){var r=e[n];r!==!1?t.setAttribute(n,e[n]):t.removeAttribute(n)})}function FWe(t){return q5(t.instance.popper,t.styles),LWe(t.instance.popper,t.attributes),t.arrowElement&&Object.keys(t.arrowStyles).length&&q5(t.arrowElement,t.arrowStyles),t}function UWe(t,e,n,r,i){var s=Efe(i,e,t,n.positionFixed),a=Sfe(n.placement,s,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",a),q5(e,{position:n.positionFixed?"fixed":"absolute"}),n}function BWe(t,e){var n=t.offsets,r=n.popper,i=n.reference,s=Math.round,a=Math.floor,o=function(w){return w},l=s(i.width),c=s(r.width),d=["left","right"].indexOf(t.placement)!==-1,f=t.placement.indexOf("-")!==-1,h=l%2===c%2,m=l%2===1&&c%2===1,v=e?d||f||h?s:a:o,b=e?s:o;return{left:v(m&&!f&&e?r.left-1:r.left),top:b(r.top),bottom:b(r.bottom),right:v(r.right)}}var zWe=PE&&/Firefox/i.test(navigator.userAgent);function VWe(t,e){var n=e.x,r=e.y,i=t.offsets.popper,s=RE(t.instance.modifiers,function(M){return M.name==="applyStyle"}).gpuAcceleration;s!==void 0&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=s!==void 0?s:e.gpuAcceleration,o=Bx(t.instance.popper),l=G5(o),c={position:i.position},d=BWe(t,window.devicePixelRatio<2||!zWe),f=n==="bottom"?"top":"bottom",h=r==="right"?"left":"right",m=o8("transform"),v=void 0,b=void 0;if(f==="bottom"?o.nodeName==="HTML"?b=-o.clientHeight+d.bottom:b=-l.height+d.bottom:b=d.top,h==="right"?o.nodeName==="HTML"?v=-o.clientWidth+d.right:v=-l.width+d.right:v=d.left,a&&m)c[m]="translate3d("+v+"px, "+b+"px, 0)",c[f]=0,c[h]=0,c.willChange="transform";else{var y=f==="bottom"?-1:1,w=h==="right"?-1:1;c[f]=b*y,c[h]=v*w,c.willChange=f+", "+h}var S={"x-placement":t.placement};return t.attributes=Vl({},S,t.attributes),t.styles=Vl({},c,t.styles),t.arrowStyles=Vl({},t.offsets.arrow,t.arrowStyles),t}function Rfe(t,e,n){var r=RE(t,function(o){var l=o.name;return l===e}),i=!!r&&t.some(function(o){return o.name===n&&o.enabled&&o.order<r.order});if(!i){var s="`"+e+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+s+" modifier in order to work, be sure to include it before "+s+"!")}return i}function $We(t,e){var n;if(!Rfe(t.instance.modifiers,"arrow","keepTogether"))return t;var r=e.element;if(typeof r=="string"){if(r=t.instance.popper.querySelector(r),!r)return t}else if(!t.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var i=t.placement.split("-")[0],s=t.offsets,a=s.popper,o=s.reference,l=["left","right"].indexOf(i)!==-1,c=l?"height":"width",d=l?"Top":"Left",f=d.toLowerCase(),h=l?"left":"top",m=l?"bottom":"right",v=Mfe(r)[c];o[m]-v<a[f]&&(t.offsets.popper[f]-=a[f]-(o[m]-v)),o[f]+v>a[m]&&(t.offsets.popper[f]+=o[f]+v-a[m]),t.offsets.popper=Op(t.offsets.popper);var b=o[f]+o[c]/2-v/2,y=M0(t.instance.popper),w=parseFloat(y["margin"+d]),S=parseFloat(y["border"+d+"Width"]),M=b-t.offsets.popper[f]-w-S;return M=Math.max(Math.min(a[c]-v,M),0),t.arrowElement=r,t.offsets.arrow=(n={},Vx(n,f,Math.round(M)),Vx(n,h,""),n),t}function HWe(t){return t==="end"?"start":t==="start"?"end":t}var Ofe=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],iL=Ofe.slice(3);function sQ(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=iL.indexOf(t),r=iL.slice(n+1).concat(iL.slice(0,n));return e?r.reverse():r}var sL={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function WWe(t,e){if(Cfe(t.instance.modifiers,"inner")||t.flipped&&t.placement===t.originalPlacement)return t;var n=a8(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),r=t.placement.split("-")[0],i=BC(r),s=t.placement.split("-")[1]||"",a=[];switch(e.behavior){case sL.FLIP:a=[r,i];break;case sL.CLOCKWISE:a=sQ(r);break;case sL.COUNTERCLOCKWISE:a=sQ(r,!0);break;default:a=e.behavior}return a.forEach(function(o,l){if(r!==o||a.length===l+1)return t;r=t.placement.split("-")[0],i=BC(r);var c=t.offsets.popper,d=t.offsets.reference,f=Math.floor,h=r==="left"&&f(c.right)>f(d.left)||r==="right"&&f(c.left)<f(d.right)||r==="top"&&f(c.bottom)>f(d.top)||r==="bottom"&&f(c.top)<f(d.bottom),m=f(c.left)<f(n.left),v=f(c.right)>f(n.right),b=f(c.top)<f(n.top),y=f(c.bottom)>f(n.bottom),w=r==="left"&&m||r==="right"&&v||r==="top"&&b||r==="bottom"&&y,S=["top","bottom"].indexOf(r)!==-1,M=!!e.flipVariations&&(S&&s==="start"&&m||S&&s==="end"&&v||!S&&s==="start"&&b||!S&&s==="end"&&y),T=!!e.flipVariationsByContent&&(S&&s==="start"&&v||S&&s==="end"&&m||!S&&s==="start"&&y||!S&&s==="end"&&b),A=M||T;(h||w||A)&&(t.flipped=!0,(h||w)&&(r=a[l+1]),A&&(s=HWe(s)),t.placement=r+(s?"-"+s:""),t.offsets.popper=Vl({},t.offsets.popper,Tfe(t.instance.popper,t.offsets.reference,t.placement)),t=Afe(t.instance.modifiers,t,"flip"))}),t}function GWe(t){var e=t.offsets,n=e.popper,r=e.reference,i=t.placement.split("-")[0],s=Math.floor,a=["top","bottom"].indexOf(i)!==-1,o=a?"right":"bottom",l=a?"left":"top",c=a?"width":"height";return n[o]<s(r[l])&&(t.offsets.popper[l]=s(r[l])-n[c]),n[l]>s(r[o])&&(t.offsets.popper[l]=s(r[o])),t}function qWe(t,e,n,r){var i=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),s=+i[1],a=i[2];if(!s)return t;if(a.indexOf("%")===0){var o=void 0;a==="%p"?o=n:o=r;var l=Op(o);return l[e]/100*s}else if(a==="vh"||a==="vw"){var c=void 0;return a==="vh"?c=Math.max(document.documentElement.clientHeight,window.innerHeight||0):c=Math.max(document.documentElement.clientWidth,window.innerWidth||0),c/100*s}else return s}function XWe(t,e,n,r){var i=[0,0],s=["right","left"].indexOf(r)!==-1,a=t.split(/(\+|\-)/).map(function(d){return d.trim()}),o=a.indexOf(RE(a,function(d){return d.search(/,|\s/)!==-1}));a[o]&&a[o].indexOf(",")===-1&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=o!==-1?[a.slice(0,o).concat([a[o].split(l)[0]]),[a[o].split(l)[1]].concat(a.slice(o+1))]:[a];return c=c.map(function(d,f){var h=(f===1?!s:s)?"height":"width",m=!1;return d.reduce(function(v,b){return v[v.length-1]===""&&["+","-"].indexOf(b)!==-1?(v[v.length-1]=b,m=!0,v):m?(v[v.length-1]+=b,m=!1,v):v.concat(b)},[]).map(function(v){return qWe(v,h,e,n)})}),c.forEach(function(d,f){d.forEach(function(h,m){l8(h)&&(i[f]+=h*(d[m-1]==="-"?-1:1))})}),i}function YWe(t,e){var n=e.offset,r=t.placement,i=t.offsets,s=i.popper,a=i.reference,o=r.split("-")[0],l=void 0;return l8(+n)?l=[+n,0]:l=XWe(n,s,a,o),o==="left"?(s.top+=l[0],s.left-=l[1]):o==="right"?(s.top+=l[0],s.left+=l[1]):o==="top"?(s.left+=l[0],s.top-=l[1]):o==="bottom"&&(s.left+=l[0],s.top+=l[1]),t.popper=s,t}function KWe(t,e){var n=e.boundariesElement||Bx(t.instance.popper);t.instance.reference===n&&(n=Bx(n));var r=o8("transform"),i=t.instance.popper.style,s=i.top,a=i.left,o=i[r];i.top="",i.left="",i[r]="";var l=a8(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);i.top=s,i.left=a,i[r]=o,e.boundaries=l;var c=e.priority,d=t.offsets.popper,f={primary:function(m){var v=d[m];return d[m]<l[m]&&!e.escapeWithReference&&(v=Math.max(d[m],l[m])),Vx({},m,v)},secondary:function(m){var v=m==="right"?"left":"top",b=d[v];return d[m]>l[m]&&!e.escapeWithReference&&(b=Math.min(d[v],l[m]-(m==="right"?d.width:d.height))),Vx({},v,b)}};return c.forEach(function(h){var m=["left","top"].indexOf(h)!==-1?"primary":"secondary";d=Vl({},d,f[m](h))}),t.offsets.popper=d,t}function ZWe(t){var e=t.placement,n=e.split("-")[0],r=e.split("-")[1];if(r){var i=t.offsets,s=i.reference,a=i.popper,o=["bottom","top"].indexOf(n)!==-1,l=o?"left":"top",c=o?"width":"height",d={start:Vx({},l,s[l]),end:Vx({},l,s[l]+s[c]-a[c])};t.offsets.popper=Vl({},a,d[r])}return t}function QWe(t){if(!Rfe(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=RE(t.instance.modifiers,function(r){return r.name==="preventOverflow"}).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(t.hide===!0)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(t.hide===!1)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}function JWe(t){var e=t.placement,n=e.split("-")[0],r=t.offsets,i=r.popper,s=r.reference,a=["left","right"].indexOf(n)!==-1,o=["top","left"].indexOf(n)===-1;return i[a?"left":"top"]=s[n]-(o?i[a?"width":"height"]:0),t.placement=BC(e),t.offsets.popper=Op(i),t}var e7e={shift:{order:100,enabled:!0,fn:ZWe},offset:{order:200,enabled:!0,fn:YWe,offset:0},preventOverflow:{order:300,enabled:!0,fn:KWe,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:GWe},arrow:{order:500,enabled:!0,fn:$We,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:WWe,behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:JWe},hide:{order:800,enabled:!0,fn:QWe},computeStyle:{order:850,enabled:!0,fn:VWe,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:FWe,onLoad:UWe,gpuAcceleration:void 0}},t7e={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:e7e},MS=(function(){function t(e,n){var r=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};TWe(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=SWe(this.update.bind(this)),this.options=Vl({},t.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(Vl({},t.Defaults.modifiers,i.modifiers)).forEach(function(a){r.options.modifiers[a]=Vl({},t.Defaults.modifiers[a]||{},i.modifiers?i.modifiers[a]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(a){return Vl({name:a},r.options.modifiers[a])}).sort(function(a,o){return a.order-o.order}),this.modifiers.forEach(function(a){a.enabled&&yfe(a.onLoad)&&a.onLoad(r.reference,r.popper,r.options,a,r.state)}),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return AWe(t,[{key:"update",value:function(){return RWe.call(this)}},{key:"destroy",value:function(){return OWe.call(this)}},{key:"enableEventListeners",value:function(){return IWe.call(this)}},{key:"disableEventListeners",value:function(){return DWe.call(this)}}]),t})();MS.Utils=(typeof window<"u"?window:global).PopperUtils;MS.placements=Ofe;MS.Defaults=t7e;var n7e=["innerHTML","ownerDocument","style","attributes","nodeValue"],r7e=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],i7e=["bigint","boolean","null","number","string","symbol","undefined"];function jR(t){var e=Object.prototype.toString.call(t).slice(8,-1);if(/HTML\w+Element/.test(e))return"HTMLElement";if(s7e(e))return e}function ou(t){return function(e){return jR(e)===t}}function s7e(t){return r7e.includes(t)}function Pb(t){return function(e){return typeof e===t}}function a7e(t){return i7e.includes(t)}function He(t){if(t===null)return"null";switch(typeof t){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(He.array(t))return"Array";if(He.plainFunction(t))return"Function";var e=jR(t);return e||"Object"}He.array=Array.isArray;He.arrayOf=function(t,e){return!He.array(t)&&!He.function(e)?!1:t.every(function(n){return e(n)})};He.asyncGeneratorFunction=function(t){return jR(t)==="AsyncGeneratorFunction"};He.asyncFunction=ou("AsyncFunction");He.bigint=Pb("bigint");He.boolean=function(t){return t===!0||t===!1};He.date=ou("Date");He.defined=function(t){return!He.undefined(t)};He.domElement=function(t){return He.object(t)&&!He.plainObject(t)&&t.nodeType===1&&He.string(t.nodeName)&&n7e.every(function(e){return e in t})};He.empty=function(t){return He.string(t)&&t.length===0||He.array(t)&&t.length===0||He.object(t)&&!He.map(t)&&!He.set(t)&&Object.keys(t).length===0||He.set(t)&&t.size===0||He.map(t)&&t.size===0};He.error=ou("Error");He.function=Pb("function");He.generator=function(t){return He.iterable(t)&&He.function(t.next)&&He.function(t.throw)};He.generatorFunction=ou("GeneratorFunction");He.instanceOf=function(t,e){return!t||!e?!1:Object.getPrototypeOf(t)===e.prototype};He.iterable=function(t){return!He.nullOrUndefined(t)&&He.function(t[Symbol.iterator])};He.map=ou("Map");He.nan=function(t){return Number.isNaN(t)};He.null=function(t){return t===null};He.nullOrUndefined=function(t){return He.null(t)||He.undefined(t)};He.number=function(t){return Pb("number")(t)&&!He.nan(t)};He.numericString=function(t){return He.string(t)&&t.length>0&&!Number.isNaN(Number(t))};He.object=function(t){return!He.nullOrUndefined(t)&&(He.function(t)||typeof t=="object")};He.oneOf=function(t,e){return He.array(t)?t.indexOf(e)>-1:!1};He.plainFunction=ou("Function");He.plainObject=function(t){if(jR(t)!=="Object")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.getPrototypeOf({})};He.primitive=function(t){return He.null(t)||a7e(typeof t)};He.promise=ou("Promise");He.propertyOf=function(t,e,n){if(!He.object(t)||!e)return!1;var r=t[e];return He.function(n)?n(r):He.defined(r)};He.regexp=ou("RegExp");He.set=ou("Set");He.string=Pb("string");He.symbol=Pb("symbol");He.undefined=Pb("undefined");He.weakMap=ou("WeakMap");He.weakSet=ou("WeakSet");function jfe(t){return function(e){return typeof e===t}}var o7e=jfe("function"),l7e=function(t){return t===null},aQ=function(t){return Object.prototype.toString.call(t).slice(8,-1)==="RegExp"},oQ=function(t){return!c7e(t)&&!l7e(t)&&(o7e(t)||typeof t=="object")},c7e=jfe("undefined"),X5=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function u7e(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=n;r--!==0;)if(!Co(t[r],e[r]))return!1;return!0}function d7e(t,e){if(t.byteLength!==e.byteLength)return!1;for(var n=new DataView(t.buffer),r=new DataView(e.buffer),i=t.byteLength;i--;)if(n.getUint8(i)!==r.getUint8(i))return!1;return!0}function f7e(t,e){var n,r,i,s;if(t.size!==e.size)return!1;try{for(var a=X5(t.entries()),o=a.next();!o.done;o=a.next()){var l=o.value;if(!e.has(l[0]))return!1}}catch(f){n={error:f}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}try{for(var c=X5(t.entries()),d=c.next();!d.done;d=c.next()){var l=d.value;if(!Co(l[1],e.get(l[0])))return!1}}catch(f){i={error:f}}finally{try{d&&!d.done&&(s=c.return)&&s.call(c)}finally{if(i)throw i.error}}return!0}function h7e(t,e){var n,r;if(t.size!==e.size)return!1;try{for(var i=X5(t.entries()),s=i.next();!s.done;s=i.next()){var a=s.value;if(!e.has(a[0]))return!1}}catch(o){n={error:o}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!0}function Co(t,e){if(t===e)return!0;if(t&&oQ(t)&&e&&oQ(e)){if(t.constructor!==e.constructor)return!1;if(Array.isArray(t)&&Array.isArray(e))return u7e(t,e);if(t instanceof Map&&e instanceof Map)return f7e(t,e);if(t instanceof Set&&e instanceof Set)return h7e(t,e);if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(e))return d7e(t,e);if(aQ(t)&&aQ(e))return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=n.length;i--!==0;)if(!Object.prototype.hasOwnProperty.call(e,n[i]))return!1;for(var i=n.length;i--!==0;){var s=n[i];if(!(s==="_owner"&&t.$$typeof)&&!Co(t[s],e[s]))return!1}return!0}return Number.isNaN(t)&&Number.isNaN(e)?!0:t===e}function p7e(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.every(function(n){return He.string(n)||He.array(n)||He.plainObject(n)})}function m7e(t,e,n){return Ife(t,e)?[t,e].every(He.array)?!t.some(fQ(n))&&e.some(fQ(n)):[t,e].every(He.plainObject)?!Object.entries(t).some(dQ(n))&&Object.entries(e).some(dQ(n)):e===n:!1}function lQ(t,e,n){var r=n.actual,i=n.key,s=n.previous,a=n.type,o=Vu(t,i),l=Vu(e,i),c=[o,l].every(He.number)&&(a==="increased"?o<l:o>l);return He.undefined(r)||(c=c&&l===r),He.undefined(s)||(c=c&&o===s),c}function cQ(t,e,n){var r=n.key,i=n.type,s=n.value,a=Vu(t,r),o=Vu(e,r),l=i==="added"?a:o,c=i==="added"?o:a;if(!He.nullOrUndefined(s)){if(He.defined(l)){if(He.array(l)||He.plainObject(l))return m7e(l,c,s)}else return Co(c,s);return!1}return[a,o].every(He.array)?!c.every(c8(l)):[a,o].every(He.plainObject)?g7e(Object.keys(l),Object.keys(c)):![a,o].every(function(d){return He.primitive(d)&&He.defined(d)})&&(i==="added"?!He.defined(a)&&He.defined(o):He.defined(a)&&!He.defined(o))}function uQ(t,e,n){var r=n===void 0?{}:n,i=r.key,s=Vu(t,i),a=Vu(e,i);if(!Ife(s,a))throw new TypeError("Inputs have different types");if(!p7e(s,a))throw new TypeError("Inputs don't have length");return[s,a].every(He.plainObject)&&(s=Object.keys(s),a=Object.keys(a)),[s,a]}function dQ(t){return function(e){var n=e[0],r=e[1];return He.array(t)?Co(t,r)||t.some(function(i){return Co(i,r)||He.array(r)&&c8(r)(i)}):He.plainObject(t)&&t[n]?!!t[n]&&Co(t[n],r):Co(t,r)}}function g7e(t,e){return e.some(function(n){return!t.includes(n)})}function fQ(t){return function(e){return He.array(t)?t.some(function(n){return Co(n,e)||He.array(e)&&c8(e)(n)}):Co(t,e)}}function Gw(t,e){return He.array(t)?t.some(function(n){return Co(n,e)}):Co(t,e)}function c8(t){return function(e){return t.some(function(n){return Co(n,e)})}}function Ife(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.every(He.array)||t.every(He.number)||t.every(He.plainObject)||t.every(He.string)}function Vu(t,e){if(He.plainObject(t)||He.array(t)){if(He.string(e)){var n=e.split(".");return n.reduce(function(r,i){return r&&r[i]},t)}return He.number(e)?t[e]:t}return t}function v7e(t,e){if([t,e].some(He.nullOrUndefined))throw new Error("Missing required parameters");if(![t,e].every(function(f){return He.plainObject(f)||He.array(f)}))throw new Error("Expected plain objects or array");var n=function(f,h){try{return cQ(t,e,{key:f,type:"added",value:h})}catch{return!1}},r=function(f,h,m){try{var v=Vu(t,f),b=Vu(e,f),y=He.defined(h),w=He.defined(m);if(y||w){var S=w?Gw(m,v):!Gw(h,v),M=Gw(h,b);return S&&M}return[v,b].every(He.array)||[v,b].every(He.plainObject)?!Co(v,b):v!==b}catch{return!1}},i=function(f,h,m){if(!He.defined(f))return!1;try{var v=Vu(t,f),b=Vu(e,f),y=He.defined(m);return Gw(h,v)&&(y?Gw(m,b):!y)}catch{return!1}},s=function(f,h){return He.defined(f)?r(f,h):!1},a=function(f,h,m){if(!He.defined(f))return!1;try{return lQ(t,e,{key:f,actual:h,previous:m,type:"decreased"})}catch{return!1}},o=function(f){try{var h=uQ(t,e,{key:f}),m=h[0],v=h[1];return!!m.length&&!v.length}catch{return!1}},l=function(f){try{var h=uQ(t,e,{key:f}),m=h[0],v=h[1];return!m.length&&!!v.length}catch{return!1}},c=function(f,h,m){if(!He.defined(f))return!1;try{return lQ(t,e,{key:f,actual:h,previous:m,type:"increased"})}catch{return!1}},d=function(f,h){try{return cQ(t,e,{key:f,type:"removed",value:h})}catch{return!1}};return{added:n,changed:r,changedFrom:i,changedTo:s,decreased:a,emptied:o,filled:l,increased:c,removed:d}}function hQ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ui(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hQ(Object(n),!0).forEach(function(r){wa(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hQ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y7e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Dfe(r.key),r)}}function jE(t,e,n){return e&&y7e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wa(t,e,n){return e=Dfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IE(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y5(t,e)}function zC(t){return zC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zC(t)}function Y5(t,e){return Y5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Y5(t,e)}function x7e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function b7e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function kfe(t,e){if(t==null)return{};var n=b7e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mf(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w7e(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mf(t)}function kE(t){var e=x7e();return function(){var r=zC(t),i;if(e){var s=zC(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return w7e(this,i)}}function _7e(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dfe(t){var e=_7e(t,"string");return typeof e=="symbol"?e:String(e)}var S7e={flip:{padding:20},preventOverflow:{padding:10}},E7e="The typeValidator argument must be a function with the signature function(props, propName, componentName).",M7e="The error message is optional, but must be a string if provided.";function T7e(t,e,n,r){return typeof t=="boolean"?t:typeof t=="function"?t(e,n,r):t?!!t:!1}function A7e(t,e){return Object.hasOwnProperty.call(t,e)}function C7e(t,e,n,r){return new Error("Required ".concat(t[e]," `").concat(e,"` was not specified in `").concat(n,"`."))}function P7e(t,e){if(typeof t!="function")throw new TypeError(E7e);if(e&&typeof e!="string")throw new TypeError(M7e)}function pQ(t,e,n){return P7e(t,n),function(r,i,s){for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return T7e(e,r,i,s)?A7e(r,i)?t.apply(void 0,[r,i,s].concat(o)):C7e(r,i,s):t.apply(void 0,[r,i,s].concat(o))}}var fr={INIT:"init",IDLE:"idle",OPENING:"opening",OPEN:"open",CLOSING:"closing"},qw=F1.createPortal!==void 0;function Nu(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function aL(){return"ontouchstart"in window&&/Mobi/.test(navigator.userAgent)}function MT(t){var e=t.title,n=t.data,r=t.warn,i=r===void 0?!1:r,s=t.debug,a=s===void 0?!1:s,o=i?console.warn||console.error:console.log;a&&e&&n&&(console.groupCollapsed("%creact-floater: ".concat(e),"color: #9b00ff; font-weight: bold; font-size: 12px;"),Array.isArray(n)?n.forEach(function(l){He.plainObject(l)&&l.key?o.apply(console,[l.key,l.value]):o.apply(console,[l])}):o.apply(console,[n]),console.groupEnd())}function N7e(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;t.addEventListener(e,n,r)}function R7e(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;t.removeEventListener(e,n,r)}function O7e(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i;i=function(a){n(a),R7e(t,e,i)},N7e(t,e,i,r)}function mQ(){}var Lfe=(function(t){IE(n,t);var e=kE(n);function n(){return OE(this,n),e.apply(this,arguments)}return jE(n,[{key:"componentDidMount",value:function(){Nu()&&(this.node||this.appendNode(),qw||this.renderPortal())}},{key:"componentDidUpdate",value:function(){Nu()&&(qw||this.renderPortal())}},{key:"componentWillUnmount",value:function(){!Nu()||!this.node||(qw||F1.unmountComponentAtNode(this.node),this.node&&this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=void 0))}},{key:"appendNode",value:function(){var i=this.props,s=i.id,a=i.zIndex;this.node||(this.node=document.createElement("div"),s&&(this.node.id=s),a&&(this.node.style.zIndex=a),document.body.appendChild(this.node))}},{key:"renderPortal",value:function(){if(!Nu())return null;var i=this.props,s=i.children,a=i.setRef;if(this.node||this.appendNode(),qw)return F1.createPortal(s,this.node);var o=F1.unstable_renderSubtreeIntoContainer(this,s.length>1?se.createElement("div",null,s):s[0],this.node);return a(o),null}},{key:"renderReact16",value:function(){var i=this.props,s=i.hasChildren,a=i.placement,o=i.target;return s?this.renderPortal():o||a==="center"?this.renderPortal():null}},{key:"render",value:function(){return qw?this.renderReact16():null}}]),n})(se.Component);wa(Lfe,"propTypes",{children:be.oneOfType([be.element,be.array]),hasChildren:be.bool,id:be.oneOfType([be.string,be.number]),placement:be.string,setRef:be.func.isRequired,target:be.oneOfType([be.object,be.string]),zIndex:be.number});var Ffe=(function(t){IE(n,t);var e=kE(n);function n(){return OE(this,n),e.apply(this,arguments)}return jE(n,[{key:"parentStyle",get:function(){var i=this.props,s=i.placement,a=i.styles,o=a.arrow.length,l={pointerEvents:"none",position:"absolute",width:"100%"};return s.startsWith("top")?(l.bottom=0,l.left=0,l.right=0,l.height=o):s.startsWith("bottom")?(l.left=0,l.right=0,l.top=0,l.height=o):s.startsWith("left")?(l.right=0,l.top=0,l.bottom=0):s.startsWith("right")&&(l.left=0,l.top=0),l}},{key:"render",value:function(){var i=this.props,s=i.placement,a=i.setArrowRef,o=i.styles,l=o.arrow,c=l.color,d=l.display,f=l.length,h=l.margin,m=l.position,v=l.spread,b={display:d,position:m},y,w=v,S=f;return s.startsWith("top")?(y="0,0 ".concat(w/2,",").concat(S," ").concat(w,",0"),b.bottom=0,b.marginLeft=h,b.marginRight=h):s.startsWith("bottom")?(y="".concat(w,",").concat(S," ").concat(w/2,",0 0,").concat(S),b.top=0,b.marginLeft=h,b.marginRight=h):s.startsWith("left")?(S=v,w=f,y="0,0 ".concat(w,",").concat(S/2," 0,").concat(S),b.right=0,b.marginTop=h,b.marginBottom=h):s.startsWith("right")&&(S=v,w=f,y="".concat(w,",").concat(S," ").concat(w,",0 0,").concat(S/2),b.left=0,b.marginTop=h,b.marginBottom=h),se.createElement("div",{className:"__floater__arrow",style:this.parentStyle},se.createElement("span",{ref:a,style:b},se.createElement("svg",{width:w,height:S,version:"1.1",xmlns:"http://www.w3.org/2000/svg"},se.createElement("polygon",{points:y,fill:c}))))}}]),n})(se.Component);wa(Ffe,"propTypes",{placement:be.string.isRequired,setArrowRef:be.func.isRequired,styles:be.object.isRequired});var j7e=["color","height","width"];function Ufe(t){var e=t.handleClick,n=t.styles,r=n.color,i=n.height,s=n.width,a=kfe(n,j7e);return se.createElement("button",{"aria-label":"close",onClick:e,style:a,type:"button"},se.createElement("svg",{width:"".concat(s,"px"),height:"".concat(i,"px"),viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},se.createElement("g",null,se.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:r}))))}Ufe.propTypes={handleClick:be.func.isRequired,styles:be.object.isRequired};function Bfe(t){var e=t.content,n=t.footer,r=t.handleClick,i=t.open,s=t.positionWrapper,a=t.showCloseButton,o=t.title,l=t.styles,c={content:se.isValidElement(e)?e:se.createElement("div",{className:"__floater__content",style:l.content},e)};return o&&(c.title=se.isValidElement(o)?o:se.createElement("div",{className:"__floater__title",style:l.title},o)),n&&(c.footer=se.isValidElement(n)?n:se.createElement("div",{className:"__floater__footer",style:l.footer},n)),(a||s)&&!He.boolean(i)&&(c.close=se.createElement(Ufe,{styles:l.close,handleClick:r})),se.createElement("div",{className:"__floater__container",style:l.container},c.close,c.title,c.content,c.footer)}Bfe.propTypes={content:be.node.isRequired,footer:be.node,handleClick:be.func.isRequired,open:be.bool,positionWrapper:be.bool.isRequired,showCloseButton:be.bool.isRequired,styles:be.object.isRequired,title:be.node};var zfe=(function(t){IE(n,t);var e=kE(n);function n(){return OE(this,n),e.apply(this,arguments)}return jE(n,[{key:"style",get:function(){var i=this.props,s=i.disableAnimation,a=i.component,o=i.placement,l=i.hideArrow,c=i.status,d=i.styles,f=d.arrow.length,h=d.floater,m=d.floaterCentered,v=d.floaterClosing,b=d.floaterOpening,y=d.floaterWithAnimation,w=d.floaterWithComponent,S={};return l||(o.startsWith("top")?S.padding="0 0 ".concat(f,"px"):o.startsWith("bottom")?S.padding="".concat(f,"px 0 0"):o.startsWith("left")?S.padding="0 ".concat(f,"px 0 0"):o.startsWith("right")&&(S.padding="0 0 0 ".concat(f,"px"))),[fr.OPENING,fr.OPEN].indexOf(c)!==-1&&(S=ui(ui({},S),b)),c===fr.CLOSING&&(S=ui(ui({},S),v)),c===fr.OPEN&&!s&&(S=ui(ui({},S),y)),o==="center"&&(S=ui(ui({},S),m)),a&&(S=ui(ui({},S),w)),ui(ui({},h),S)}},{key:"render",value:function(){var i=this.props,s=i.component,a=i.handleClick,o=i.hideArrow,l=i.setFloaterRef,c=i.status,d={},f=["__floater"];return s?se.isValidElement(s)?d.content=se.cloneElement(s,{closeFn:a}):d.content=s({closeFn:a}):d.content=se.createElement(Bfe,this.props),c===fr.OPEN&&f.push("__floater__open"),o||(d.arrow=se.createElement(Ffe,this.props)),se.createElement("div",{ref:l,className:f.join(" "),style:this.style},se.createElement("div",{className:"__floater__body"},d.content,d.arrow))}}]),n})(se.Component);wa(zfe,"propTypes",{component:be.oneOfType([be.func,be.element]),content:be.node,disableAnimation:be.bool.isRequired,footer:be.node,handleClick:be.func.isRequired,hideArrow:be.bool.isRequired,open:be.bool,placement:be.string.isRequired,positionWrapper:be.bool.isRequired,setArrowRef:be.func.isRequired,setFloaterRef:be.func.isRequired,showCloseButton:be.bool,status:be.string.isRequired,styles:be.object.isRequired,title:be.node});var Vfe=(function(t){IE(n,t);var e=kE(n);function n(){return OE(this,n),e.apply(this,arguments)}return jE(n,[{key:"render",value:function(){var i=this.props,s=i.children,a=i.handleClick,o=i.handleMouseEnter,l=i.handleMouseLeave,c=i.setChildRef,d=i.setWrapperRef,f=i.style,h=i.styles,m;if(s)if(se.Children.count(s)===1)if(!se.isValidElement(s))m=se.createElement("span",null,s);else{var v=He.function(s.type)?"innerRef":"ref";m=se.cloneElement(se.Children.only(s),wa({},v,c))}else m=s;return m?se.createElement("span",{ref:d,style:ui(ui({},h),f),onClick:a,onMouseEnter:o,onMouseLeave:l},m):null}}]),n})(se.Component);wa(Vfe,"propTypes",{children:be.node,handleClick:be.func.isRequired,handleMouseEnter:be.func.isRequired,handleMouseLeave:be.func.isRequired,setChildRef:be.func.isRequired,setWrapperRef:be.func.isRequired,style:be.object,styles:be.object.isRequired});var I7e={zIndex:100};function k7e(t){var e=$c(I7e,t.options||{});return{wrapper:{cursor:"help",display:"inline-flex",flexDirection:"column",zIndex:e.zIndex},wrapperPosition:{left:-1e3,position:"absolute",top:-1e3,visibility:"hidden"},floater:{display:"inline-block",filter:"drop-shadow(0 0 3px rgba(0, 0, 0, 0.3))",maxWidth:300,opacity:0,position:"relative",transition:"opacity 0.3s",visibility:"hidden",zIndex:e.zIndex},floaterOpening:{opacity:1,visibility:"visible"},floaterWithAnimation:{opacity:1,transition:"opacity 0.3s, transform 0.2s",visibility:"visible"},floaterWithComponent:{maxWidth:"100%"},floaterClosing:{opacity:0,visibility:"visible"},floaterCentered:{left:"50%",position:"fixed",top:"50%",transform:"translate(-50%, -50%)"},container:{backgroundColor:"#fff",color:"#666",minHeight:60,minWidth:200,padding:20,position:"relative",zIndex:10},title:{borderBottom:"1px solid #555",color:"#555",fontSize:18,marginBottom:5,paddingBottom:6,paddingRight:18},content:{fontSize:15},close:{backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",fontSize:0,height:15,outline:"none",padding:10,position:"absolute",right:0,top:0,width:15,WebkitAppearance:"none"},footer:{borderTop:"1px solid #ccc",fontSize:13,marginTop:10,paddingTop:5},arrow:{color:"#fff",display:"inline-flex",length:16,margin:8,position:"absolute",spread:32},options:e}}var D7e=["arrow","flip","offset"],L7e=["position","top","right","bottom","left"],u8=(function(t){IE(n,t);var e=kE(n);function n(r){var i;return OE(this,n),i=e.call(this,r),wa(mf(i),"setArrowRef",function(s){i.arrowRef=s}),wa(mf(i),"setChildRef",function(s){i.childRef=s}),wa(mf(i),"setFloaterRef",function(s){i.floaterRef=s}),wa(mf(i),"setWrapperRef",function(s){i.wrapperRef=s}),wa(mf(i),"handleTransitionEnd",function(){var s=i.state.status,a=i.props.callback;i.wrapperPopper&&i.wrapperPopper.instance.update(),i.setState({status:s===fr.OPENING?fr.OPEN:fr.IDLE},function(){var o=i.state.status;a(o===fr.OPEN?"open":"close",i.props)})}),wa(mf(i),"handleClick",function(){var s=i.props,a=s.event,o=s.open;if(!He.boolean(o)){var l=i.state,c=l.positionWrapper,d=l.status;(i.event==="click"||i.event==="hover"&&c)&&(MT({title:"click",data:[{event:a,status:d===fr.OPEN?"closing":"opening"}],debug:i.debug}),i.toggle())}}),wa(mf(i),"handleMouseEnter",function(){var s=i.props,a=s.event,o=s.open;if(!(He.boolean(o)||aL())){var l=i.state.status;i.event==="hover"&&l===fr.IDLE&&(MT({title:"mouseEnter",data:[{key:"originalEvent",value:a}],debug:i.debug}),clearTimeout(i.eventDelayTimeout),i.toggle())}}),wa(mf(i),"handleMouseLeave",function(){var s=i.props,a=s.event,o=s.eventDelay,l=s.open;if(!(He.boolean(l)||aL())){var c=i.state,d=c.status,f=c.positionWrapper;i.event==="hover"&&(MT({title:"mouseLeave",data:[{key:"originalEvent",value:a}],debug:i.debug}),o?[fr.OPENING,fr.OPEN].indexOf(d)!==-1&&!f&&!i.eventDelayTimeout&&(i.eventDelayTimeout=setTimeout(function(){delete i.eventDelayTimeout,i.toggle()},o*1e3)):i.toggle(fr.IDLE))}}),i.state={currentPlacement:r.placement,needsUpdate:!1,positionWrapper:r.wrapperOptions.position&&!!r.target,status:fr.INIT,statusWrapper:fr.INIT},i._isMounted=!1,i.hasMounted=!1,Nu()&&window.addEventListener("load",function(){i.popper&&i.popper.instance.update(),i.wrapperPopper&&i.wrapperPopper.instance.update()}),i}return jE(n,[{key:"componentDidMount",value:function(){if(Nu()){var i=this.state.positionWrapper,s=this.props,a=s.children,o=s.open,l=s.target;this._isMounted=!0,MT({title:"init",data:{hasChildren:!!a,hasTarget:!!l,isControlled:He.boolean(o),positionWrapper:i,target:this.target,floater:this.floaterRef},debug:this.debug}),this.hasMounted||(this.initPopper(),this.hasMounted=!0),!a&&l&&He.boolean(o)}}},{key:"componentDidUpdate",value:function(i,s){if(Nu()){var a=this.props,o=a.autoOpen,l=a.open,c=a.target,d=a.wrapperOptions,f=v7e(s,this.state),h=f.changedFrom,m=f.changed;if(i.open!==l){var v;He.boolean(l)&&(v=l?fr.OPENING:fr.CLOSING),this.toggle(v)}(i.wrapperOptions.position!==d.position||i.target!==c)&&this.changeWrapperPosition(this.props),m("status",fr.IDLE)&&l?this.toggle(fr.OPEN):h("status",fr.INIT,fr.IDLE)&&o&&this.toggle(fr.OPEN),this.popper&&m("status",fr.OPENING)&&this.popper.instance.update(),this.floaterRef&&(m("status",fr.OPENING)||m("status",fr.CLOSING))&&O7e(this.floaterRef,"transitionend",this.handleTransitionEnd),m("needsUpdate",!0)&&this.rebuildPopper()}}},{key:"componentWillUnmount",value:function(){Nu()&&(this._isMounted=!1,this.popper&&this.popper.instance.destroy(),this.wrapperPopper&&this.wrapperPopper.instance.destroy())}},{key:"initPopper",value:function(){var i=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.target,a=this.state.positionWrapper,o=this.props,l=o.disableFlip,c=o.getPopper,d=o.hideArrow,f=o.offset,h=o.placement,m=o.wrapperOptions,v=h==="top"||h==="bottom"?"flip":["right","bottom-end","top-end","left","top-start","bottom-start"];if(h==="center")this.setState({status:fr.IDLE});else if(s&&this.floaterRef){var b=this.options,y=b.arrow,w=b.flip,S=b.offset,M=kfe(b,D7e);new MS(s,this.floaterRef,{placement:h,modifiers:ui({arrow:ui({enabled:!d,element:this.arrowRef},y),flip:ui({enabled:!l,behavior:v},w),offset:ui({offset:"0, ".concat(f,"px")},S)},M),onCreate:function(C){var j;if(i.popper=C,!((j=i.floaterRef)!==null&&j!==void 0&&j.isConnected)){i.setState({needsUpdate:!0});return}c(C,"floater"),i._isMounted&&i.setState({currentPlacement:C.placement,status:fr.IDLE}),h!==C.placement&&setTimeout(function(){C.instance.update()},1)},onUpdate:function(C){i.popper=C;var j=i.state.currentPlacement;i._isMounted&&C.placement!==j&&i.setState({currentPlacement:C.placement})}})}if(a){var T=He.undefined(m.offset)?0:m.offset;new MS(this.target,this.wrapperRef,{placement:m.placement||h,modifiers:{arrow:{enabled:!1},offset:{offset:"0, ".concat(T,"px")},flip:{enabled:!1}},onCreate:function(C){i.wrapperPopper=C,i._isMounted&&i.setState({statusWrapper:fr.IDLE}),c(C,"wrapper"),h!==C.placement&&setTimeout(function(){C.instance.update()},1)}})}}},{key:"rebuildPopper",value:function(){var i=this;this.floaterRefInterval=setInterval(function(){var s;(s=i.floaterRef)!==null&&s!==void 0&&s.isConnected&&(clearInterval(i.floaterRefInterval),i.setState({needsUpdate:!1}),i.initPopper())},50)}},{key:"changeWrapperPosition",value:function(i){var s=i.target,a=i.wrapperOptions;this.setState({positionWrapper:a.position&&!!s})}},{key:"toggle",value:function(i){var s=this.state.status,a=s===fr.OPEN?fr.CLOSING:fr.OPENING;He.undefined(i)||(a=i),this.setState({status:a})}},{key:"debug",get:function(){var i=this.props.debug;return i||Nu()&&"ReactFloaterDebug"in window&&!!window.ReactFloaterDebug}},{key:"event",get:function(){var i=this.props,s=i.disableHoverToClick,a=i.event;return a==="hover"&&aL()&&!s?"click":a}},{key:"options",get:function(){var i=this.props.options;return $c(S7e,i||{})}},{key:"styles",get:function(){var i=this,s=this.state,a=s.status,o=s.positionWrapper,l=s.statusWrapper,c=this.props.styles,d=$c(k7e(c),c);if(o){var f;[fr.IDLE].indexOf(a)===-1||[fr.IDLE].indexOf(l)===-1?f=d.wrapperPosition:f=this.wrapperPopper.styles,d.wrapper=ui(ui({},d.wrapper),f)}if(this.target){var h=window.getComputedStyle(this.target);this.wrapperStyles?d.wrapper=ui(ui({},d.wrapper),this.wrapperStyles):["relative","static"].indexOf(h.position)===-1&&(this.wrapperStyles={},o||(L7e.forEach(function(m){i.wrapperStyles[m]=h[m]}),d.wrapper=ui(ui({},d.wrapper),this.wrapperStyles),this.target.style.position="relative",this.target.style.top="auto",this.target.style.right="auto",this.target.style.bottom="auto",this.target.style.left="auto"))}return d}},{key:"target",get:function(){if(!Nu())return null;var i=this.props.target;return i?He.domElement(i)?i:document.querySelector(i):this.childRef||this.wrapperRef}},{key:"render",value:function(){var i=this.state,s=i.currentPlacement,a=i.positionWrapper,o=i.status,l=this.props,c=l.children,d=l.component,f=l.content,h=l.disableAnimation,m=l.footer,v=l.hideArrow,b=l.id,y=l.open,w=l.showCloseButton,S=l.style,M=l.target,T=l.title,A=se.createElement(Vfe,{handleClick:this.handleClick,handleMouseEnter:this.handleMouseEnter,handleMouseLeave:this.handleMouseLeave,setChildRef:this.setChildRef,setWrapperRef:this.setWrapperRef,style:S,styles:this.styles.wrapper},c),C={};return a?C.wrapperInPortal=A:C.wrapperAsChildren=A,se.createElement("span",null,se.createElement(Lfe,{hasChildren:!!c,id:b,placement:s,setRef:this.setFloaterRef,target:M,zIndex:this.styles.options.zIndex},se.createElement(zfe,{component:d,content:f,disableAnimation:h,footer:m,handleClick:this.handleClick,hideArrow:v||s==="center",open:y,placement:s,positionWrapper:a,setArrowRef:this.setArrowRef,setFloaterRef:this.setFloaterRef,showCloseButton:w,status:o,styles:this.styles,title:T}),C.wrapperInPortal),C.wrapperAsChildren)}}]),n})(se.Component);wa(u8,"propTypes",{autoOpen:be.bool,callback:be.func,children:be.node,component:pQ(be.oneOfType([be.func,be.element]),function(t){return!t.content}),content:pQ(be.node,function(t){return!t.component}),debug:be.bool,disableAnimation:be.bool,disableFlip:be.bool,disableHoverToClick:be.bool,event:be.oneOf(["hover","click"]),eventDelay:be.number,footer:be.node,getPopper:be.func,hideArrow:be.bool,id:be.oneOfType([be.string,be.number]),offset:be.number,open:be.bool,options:be.object,placement:be.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto","center"]),showCloseButton:be.bool,style:be.object,styles:be.object,target:be.oneOfType([be.object,be.string]),title:be.node,wrapperOptions:be.shape({offset:be.number,placement:be.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto"]),position:be.bool})});wa(u8,"defaultProps",{autoOpen:!1,callback:mQ,debug:!1,disableAnimation:!1,disableFlip:!1,disableHoverToClick:!1,event:"click",eventDelay:.4,getPopper:mQ,hideArrow:!1,offset:15,placement:"bottom",showCloseButton:!1,styles:{},target:null,wrapperOptions:{position:!1}});var F7e=Object.defineProperty,U7e=(t,e,n)=>e in t?F7e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Qt=(t,e,n)=>U7e(t,typeof e!="symbol"?e+"":e,n),Nr={INIT:"init",START:"start",STOP:"stop",RESET:"reset",PREV:"prev",NEXT:"next",GO:"go",CLOSE:"close",SKIP:"skip",UPDATE:"update"},Ic={TOUR_START:"tour:start",STEP_BEFORE:"step:before",BEACON:"beacon",TOOLTIP:"tooltip",STEP_AFTER:"step:after",TOUR_END:"tour:end",TOUR_STATUS:"tour:status",TARGET_NOT_FOUND:"error:target_not_found"},Ln={INIT:"init",READY:"ready",BEACON:"beacon",TOOLTIP:"tooltip",COMPLETE:"complete",ERROR:"error"},nr={IDLE:"idle",READY:"ready",WAITING:"waiting",RUNNING:"running",PAUSED:"paused",SKIPPED:"skipped",FINISHED:"finished"};function tp(){var t;return!!(typeof window<"u"&&((t=window.document)!=null&&t.createElement))}function $fe(t){return t?t.getBoundingClientRect():null}function B7e(t=!1){const{body:e,documentElement:n}=document;if(!e||!n)return 0;if(t){const r=[e.scrollHeight,e.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight].sort((s,a)=>s-a),i=Math.floor(r.length/2);return r.length%2===0?(r[i-1]+r[i])/2:r[i]}return Math.max(e.scrollHeight,e.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight)}function Pf(t){if(typeof t=="string")try{return document.querySelector(t)}catch{return null}return t}function z7e(t){return!t||t.nodeType!==1?null:getComputedStyle(t)}function TS(t,e,n){if(!t)return Sg();const r=vfe(t);if(r){if(r.isSameNode(Sg()))return n?document:Sg();if(!(r.scrollHeight>r.offsetHeight)&&!e)return r.style.overflow="initial",Sg()}return r}function IR(t,e){if(!t)return!1;const n=TS(t,e);return n?!n.isSameNode(Sg()):!1}function V7e(t){return t.offsetParent!==document.body}function $x(t,e="fixed"){if(!t||!(t instanceof HTMLElement))return!1;const{nodeName:n}=t,r=z7e(t);return n==="BODY"||n==="HTML"?!1:r&&r.position===e?!0:t.parentNode?$x(t.parentNode,e):!1}function $7e(t){var e;if(!t)return!1;let n=t;for(;n&&n!==document.body;){if(n instanceof HTMLElement){const{display:r,visibility:i}=getComputedStyle(n);if(r==="none"||i==="hidden")return!1}n=(e=n.parentElement)!=null?e:null}return!0}function H7e(t,e,n){var r,i,s;const a=$fe(t),o=TS(t,n),l=IR(t,n),c=$x(t);let d=0,f=(r=a?.top)!=null?r:0;if(l&&c){const h=(i=t?.offsetTop)!=null?i:0,m=(s=o?.scrollTop)!=null?s:0;f=h-m}else o instanceof HTMLElement&&(d=o.scrollTop,!l&&!$x(t)&&(f+=d),o.isSameNode(Sg())||(f+=Sg().scrollTop));return Math.floor(f-e)}function W7e(t,e,n){var r;if(!t)return 0;const{offsetTop:i=0,scrollTop:s=0}=(r=vfe(t))!=null?r:{};let a=t.getBoundingClientRect().top+s;i&&(IR(t,n)||V7e(t))&&(a-=i);const o=Math.floor(a-e);return o<0?0:o}function Sg(){var t;return(t=document.scrollingElement)!=null?t:document.documentElement}function G7e(t,e){const{duration:n,element:r}=e;return new Promise((i,s)=>{const{scrollTop:a}=r,o=t>a?t-a:a-t;dWe.top(r,t,{duration:o<100?50:n},l=>l&&l.message!=="Element already at target scroll position"?s(l):i())})}var Xw=Wu.createPortal!==void 0;function Hfe(t=navigator.userAgent){let e=t;return typeof window>"u"?e="node":document.documentMode?e="ie":/Edge/.test(t)?e="edge":window.opera||t.includes(" OPR/")?e="opera":typeof window.InstallTrigger<"u"?e="firefox":window.chrome?e="chrome":/(Version\/([\d._]+).*Safari|CriOS|FxiOS| Mobile\/)/.test(t)&&(e="safari"),e}function V2(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function Ru(t,e={}){const{defaultValue:n,step:r,steps:i}=e;let s=JZ(t);if(s)(s.includes("{step}")||s.includes("{steps}"))&&r&&i&&(s=s.replace("{step}",r.toString()).replace("{steps}",i.toString()));else if(N.isValidElement(t)&&!Object.values(t.props).length&&V2(t.type)==="function"){const a=t.type({});s=Ru(a,e)}else s=JZ(n);return s}function q7e(t,e){return!Kt.plainObject(t)||!Kt.array(e)?!1:Object.keys(t).every(n=>e.includes(n))}function X7e(t){const e=/^#?([\da-f])([\da-f])([\da-f])$/i,n=t.replace(e,(i,s,a,o)=>s+s+a+a+o+o),r=/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i.exec(n);return r?[parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16)]:[]}function gQ(t){return t.disableBeacon||t.placement==="center"}function vQ(){return!["chrome","safari","firefox","opera"].includes(Hfe())}function a0({data:t,debug:e=!1,title:n,warn:r=!1}){const i=r?console.warn||console.error:console.log;e&&(n&&t?(console.groupCollapsed(`%creact-joyride: ${n}`,"color: #ff0044; font-weight: bold; font-size: 12px;"),Array.isArray(t)?t.forEach(s=>{Kt.plainObject(s)&&s.key?i.apply(console,[s.key,s.value]):i.apply(console,[s])}):i.apply(console,[t]),console.groupEnd()):console.error("Missing title or data props"))}function Y7e(t){return Object.keys(t)}function Wfe(t,...e){if(!Kt.plainObject(t))throw new TypeError("Expected an object");const n={};for(const r in t)({}).hasOwnProperty.call(t,r)&&(e.includes(r)||(n[r]=t[r]));return n}function K7e(t,...e){if(!Kt.plainObject(t))throw new TypeError("Expected an object");if(!e.length)return t;const n={};for(const r in t)({}).hasOwnProperty.call(t,r)&&e.includes(r)&&(n[r]=t[r]);return n}function K5(t,e,n){const r=s=>s.replace("{step}",String(e)).replace("{steps}",String(n));if(V2(t)==="string")return r(t);if(!N.isValidElement(t))return t;const{children:i}=t.props;if(V2(i)==="string"&&i.includes("{step}"))return N.cloneElement(t,{children:r(i)});if(Array.isArray(i))return N.cloneElement(t,{children:i.map(s=>typeof s=="string"?r(s):K5(s,e,n))});if(V2(t.type)==="function"&&!Object.values(t.props).length){const s=t.type({});return K5(s,e,n)}return t}function Z7e(t){const{isFirstStep:e,lifecycle:n,previousLifecycle:r,scrollToFirstStep:i,step:s,target:a}=t;return!s.disableScrolling&&(!e||i||n===Ln.TOOLTIP)&&s.placement!=="center"&&(!s.isFixed||!$x(a))&&r!==n&&[Ln.BEACON,Ln.TOOLTIP].includes(n)}var Q7e={options:{preventOverflow:{boundariesElement:"scrollParent"}},wrapperOptions:{offset:-18,position:!0}},Gfe={back:"Back",close:"Close",last:"Last",next:"Next",nextLabelWithProgress:"Next (Step {step} of {steps})",open:"Open the dialog",skip:"Skip"},J7e={event:"click",placement:"bottom",offset:10,disableBeacon:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrollParentFix:!1,disableScrolling:!1,hideBackButton:!1,hideCloseButton:!1,hideFooter:!1,isFixed:!1,locale:Gfe,showProgress:!1,showSkipButton:!1,spotlightClicks:!1,spotlightPadding:10},eGe={continuous:!1,debug:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrolling:!1,disableScrollParentFix:!1,getHelpers:void 0,hideBackButton:!1,run:!0,scrollOffset:20,scrollDuration:300,scrollToFirstStep:!1,showSkipButton:!1,showProgress:!1,spotlightClicks:!1,spotlightPadding:10,steps:[]},tGe={arrowColor:"#fff",backgroundColor:"#fff",beaconSize:36,overlayColor:"rgba(0, 0, 0, 0.5)",primaryColor:"#f04",spotlightShadow:"0 0 15px rgba(0, 0, 0, 0.5)",textColor:"#333",width:380,zIndex:100},Yw={backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",cursor:"pointer",fontSize:16,lineHeight:1,padding:8,WebkitAppearance:"none"},yQ={borderRadius:4,position:"absolute"};function nGe(t,e){var n,r,i,s,a;const{floaterProps:o,styles:l}=t,c=$c((n=e.floaterProps)!=null?n:{},o??{}),d=$c(l??{},(r=e.styles)!=null?r:{}),f=$c(tGe,d.options||{}),h=e.placement==="center"||e.disableBeacon;let{width:m}=f;window.innerWidth>480&&(m=380),"width"in f&&(m=typeof f.width=="number"&&window.innerWidth<f.width?window.innerWidth-30:f.width);const v={bottom:0,left:0,overflow:"hidden",position:"absolute",right:0,top:0,zIndex:f.zIndex},b={beacon:{...Yw,display:h?"none":"inline-block",height:f.beaconSize,position:"relative",width:f.beaconSize,zIndex:f.zIndex},beaconInner:{animation:"joyride-beacon-inner 1.2s infinite ease-in-out",backgroundColor:f.primaryColor,borderRadius:"50%",display:"block",height:"50%",left:"50%",opacity:.7,position:"absolute",top:"50%",transform:"translate(-50%, -50%)",width:"50%"},beaconOuter:{animation:"joyride-beacon-outer 1.2s infinite ease-in-out",backgroundColor:`rgba(${X7e(f.primaryColor).join(",")}, 0.2)`,border:`2px solid ${f.primaryColor}`,borderRadius:"50%",boxSizing:"border-box",display:"block",height:"100%",left:0,opacity:.9,position:"absolute",top:0,transformOrigin:"center",width:"100%"},tooltip:{backgroundColor:f.backgroundColor,borderRadius:5,boxSizing:"border-box",color:f.textColor,fontSize:16,maxWidth:"100%",padding:15,position:"relative",width:m},tooltipContainer:{lineHeight:1.4,textAlign:"center"},tooltipTitle:{fontSize:18,margin:0},tooltipContent:{padding:"20px 10px"},tooltipFooter:{alignItems:"center",display:"flex",justifyContent:"flex-end",marginTop:15},tooltipFooterSpacer:{flex:1},buttonNext:{...Yw,backgroundColor:f.primaryColor,borderRadius:4,color:"#fff"},buttonBack:{...Yw,color:f.primaryColor,marginLeft:"auto",marginRight:5},buttonClose:{...Yw,color:f.textColor,height:14,padding:15,position:"absolute",right:0,top:0,width:14},buttonSkip:{...Yw,color:f.textColor,fontSize:14},overlay:{...v,backgroundColor:f.overlayColor,mixBlendMode:"hard-light"},overlayLegacy:{...v},overlayLegacyCenter:{...v,backgroundColor:f.overlayColor},spotlight:{...yQ,backgroundColor:"gray"},spotlightLegacy:{...yQ,boxShadow:`0 0 0 9999px ${f.overlayColor}, ${f.spotlightShadow}`},floaterStyles:{arrow:{color:(a=(s=(i=c?.styles)==null?void 0:i.arrow)==null?void 0:s.color)!=null?a:f.arrowColor},options:{zIndex:f.zIndex+100}},options:f};return $c(b,d)}function rGe(t){return K7e(t,"beaconComponent","disableCloseOnEsc","disableOverlay","disableOverlayClose","disableScrolling","disableScrollParentFix","floaterProps","hideBackButton","hideCloseButton","locale","showProgress","showSkipButton","spotlightClicks","spotlightPadding","styles","tooltipComponent")}function $v(t,e){var n,r,i,s,a,o;const l=e??{},c=$c.all([J7e,rGe(t),l],{isMergeableObject:Kt.plainObject}),d=nGe(t,c),f=IR(Pf(c.target),c.disableScrollParentFix),h=$c.all([Q7e,(n=t.floaterProps)!=null?n:{},(r=c.floaterProps)!=null?r:{}]);return h.offset=c.offset,h.styles=$c((i=h.styles)!=null?i:{},d.floaterStyles),h.offset+=(a=(s=t.spotlightPadding)!=null?s:c.spotlightPadding)!=null?a:0,c.placementBeacon&&h.wrapperOptions&&(h.wrapperOptions.placement=c.placementBeacon),f&&h.options.preventOverflow&&(h.options.preventOverflow.boundariesElement="window"),{...c,locale:$c.all([Gfe,(o=t.locale)!=null?o:{},c.locale||{}]),floaterProps:h,styles:Wfe(d,"floaterStyles")}}function qfe(t,e=!1){return Kt.plainObject(t)?t.target?!0:(a0({title:"validateStep",data:"target is missing from the step",warn:!0,debug:e}),!1):(a0({title:"validateStep",data:"step must be an object",warn:!0,debug:e}),!1)}function xQ(t,e=!1){return Kt.array(t)?t.every(n=>qfe(n,e)):(a0({title:"validateSteps",data:"steps must be an array",warn:!0,debug:e}),!1)}var Xfe={action:"init",controlled:!1,index:0,lifecycle:Ln.INIT,origin:null,size:0,status:nr.IDLE},bQ=Y7e(Wfe(Xfe,"controlled","size")),iGe=class{constructor(t){Qt(this,"beaconPopper"),Qt(this,"tooltipPopper"),Qt(this,"data",new Map),Qt(this,"listener"),Qt(this,"store",new Map),Qt(this,"addListener",i=>{this.listener=i}),Qt(this,"setSteps",i=>{const{size:s,status:a}=this.getState(),o={size:i.length,status:a};this.data.set("steps",i),a===nr.WAITING&&!s&&i.length&&(o.status=nr.RUNNING),this.setState(o)}),Qt(this,"getPopper",i=>i==="beacon"?this.beaconPopper:this.tooltipPopper),Qt(this,"setPopper",(i,s)=>{i==="beacon"?this.beaconPopper=s:this.tooltipPopper=s}),Qt(this,"cleanupPoppers",()=>{this.beaconPopper=null,this.tooltipPopper=null}),Qt(this,"close",(i=null)=>{const{index:s,status:a}=this.getState();a===nr.RUNNING&&this.setState({...this.getNextState({action:Nr.CLOSE,index:s+1,origin:i})})}),Qt(this,"go",i=>{const{controlled:s,status:a}=this.getState();if(s||a!==nr.RUNNING)return;const o=this.getSteps()[i];this.setState({...this.getNextState({action:Nr.GO,index:i}),status:o?a:nr.FINISHED})}),Qt(this,"info",()=>this.getState()),Qt(this,"next",()=>{const{index:i,status:s}=this.getState();s===nr.RUNNING&&this.setState(this.getNextState({action:Nr.NEXT,index:i+1}))}),Qt(this,"open",()=>{const{status:i}=this.getState();i===nr.RUNNING&&this.setState({...this.getNextState({action:Nr.UPDATE,lifecycle:Ln.TOOLTIP})})}),Qt(this,"prev",()=>{const{index:i,status:s}=this.getState();s===nr.RUNNING&&this.setState({...this.getNextState({action:Nr.PREV,index:i-1})})}),Qt(this,"reset",(i=!1)=>{const{controlled:s}=this.getState();s||this.setState({...this.getNextState({action:Nr.RESET,index:0}),status:i?nr.RUNNING:nr.READY})}),Qt(this,"skip",()=>{const{status:i}=this.getState();i===nr.RUNNING&&this.setState({action:Nr.SKIP,lifecycle:Ln.INIT,status:nr.SKIPPED})}),Qt(this,"start",i=>{const{index:s,size:a}=this.getState();this.setState({...this.getNextState({action:Nr.START,index:Kt.number(i)?i:s},!0),status:a?nr.RUNNING:nr.WAITING})}),Qt(this,"stop",(i=!1)=>{const{index:s,status:a}=this.getState();[nr.FINISHED,nr.SKIPPED].includes(a)||this.setState({...this.getNextState({action:Nr.STOP,index:s+(i?1:0)}),status:nr.PAUSED})}),Qt(this,"update",i=>{var s,a;if(!q7e(i,bQ))throw new Error(`State is not valid. Valid keys: ${bQ.join(", ")}`);this.setState({...this.getNextState({...this.getState(),...i,action:(s=i.action)!=null?s:Nr.UPDATE,origin:(a=i.origin)!=null?a:null},!0)})});const{continuous:e=!1,stepIndex:n,steps:r=[]}=t??{};this.setState({action:Nr.INIT,controlled:Kt.number(n),continuous:e,index:Kt.number(n)?n:0,lifecycle:Ln.INIT,origin:null,status:r.length?nr.READY:nr.IDLE},!0),this.beaconPopper=null,this.tooltipPopper=null,this.listener=null,this.setSteps(r)}getState(){return this.store.size?{action:this.store.get("action")||"",controlled:this.store.get("controlled")||!1,index:parseInt(this.store.get("index"),10),lifecycle:this.store.get("lifecycle")||"",origin:this.store.get("origin")||null,size:this.store.get("size")||0,status:this.store.get("status")||""}:{...Xfe}}getNextState(t,e=!1){var n,r,i,s,a;const{action:o,controlled:l,index:c,size:d,status:f}=this.getState(),h=Kt.number(t.index)?t.index:c,m=l&&!e?c:Math.min(Math.max(h,0),d);return{action:(n=t.action)!=null?n:o,controlled:l,index:m,lifecycle:(r=t.lifecycle)!=null?r:Ln.INIT,origin:(i=t.origin)!=null?i:null,size:(s=t.size)!=null?s:d,status:m===d?nr.FINISHED:(a=t.status)!=null?a:f}}getSteps(){const t=this.data.get("steps");return Array.isArray(t)?t:[]}hasUpdatedState(t){const e=JSON.stringify(t),n=JSON.stringify(this.getState());return e!==n}setState(t,e=!1){const n=this.getState(),{action:r,index:i,lifecycle:s,origin:a=null,size:o,status:l}={...n,...t};this.store.set("action",r),this.store.set("index",i),this.store.set("lifecycle",s),this.store.set("origin",a),this.store.set("size",o),this.store.set("status",l),e&&(this.store.set("controlled",t.controlled),this.store.set("continuous",t.continuous)),this.listener&&this.hasUpdatedState(n)&&this.listener(this.getState())}getHelpers(){return{close:this.close,go:this.go,info:this.info,next:this.next,open:this.open,prev:this.prev,reset:this.reset,skip:this.skip}}};function sGe(t){return new iGe(t)}function aGe({styles:t}){return N.createElement("div",{key:"JoyrideSpotlight",className:"react-joyride__spotlight","data-test-id":"spotlight",style:t})}var oGe=aGe,lGe=class extends N.Component{constructor(){super(...arguments),Qt(this,"isActive",!1),Qt(this,"resizeTimeout"),Qt(this,"scrollTimeout"),Qt(this,"scrollParent"),Qt(this,"state",{isScrolling:!1,mouseOverSpotlight:!1,showSpotlight:!0}),Qt(this,"hideSpotlight",()=>{const{continuous:t,disableOverlay:e,lifecycle:n}=this.props,r=[Ln.INIT,Ln.BEACON,Ln.COMPLETE,Ln.ERROR];return e||(t?r.includes(n):n!==Ln.TOOLTIP)}),Qt(this,"handleMouseMove",t=>{const{mouseOverSpotlight:e}=this.state,{height:n,left:r,position:i,top:s,width:a}=this.spotlightStyles,o=i==="fixed"?t.clientY:t.pageY,l=i==="fixed"?t.clientX:t.pageX,c=o>=s&&o<=s+n,f=l>=r&&l<=r+a&&c;f!==e&&this.updateState({mouseOverSpotlight:f})}),Qt(this,"handleScroll",()=>{const{target:t}=this.props,e=Pf(t);if(this.scrollParent!==document){const{isScrolling:n}=this.state;n||this.updateState({isScrolling:!0,showSpotlight:!1}),clearTimeout(this.scrollTimeout),this.scrollTimeout=window.setTimeout(()=>{this.updateState({isScrolling:!1,showSpotlight:!0})},50)}else $x(e,"sticky")&&this.updateState({})}),Qt(this,"handleResize",()=>{clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(()=>{this.isActive&&this.forceUpdate()},100)})}componentDidMount(){const{debug:t,disableScrolling:e,disableScrollParentFix:n=!1,target:r}=this.props,i=Pf(r);this.scrollParent=TS(i??document.body,n,!0),this.isActive=!0,window.addEventListener("resize",this.handleResize)}componentDidUpdate(t){var e;const{disableScrollParentFix:n,lifecycle:r,spotlightClicks:i,target:s}=this.props,{changed:a}=FC(t,this.props);if(a("target")||a("disableScrollParentFix")){const o=Pf(s);this.scrollParent=TS(o??document.body,n,!0)}a("lifecycle",Ln.TOOLTIP)&&((e=this.scrollParent)==null||e.addEventListener("scroll",this.handleScroll,{passive:!0}),setTimeout(()=>{const{isScrolling:o}=this.state;o||this.updateState({showSpotlight:!0})},100)),(a("spotlightClicks")||a("disableOverlay")||a("lifecycle"))&&(i&&r===Ln.TOOLTIP?window.addEventListener("mousemove",this.handleMouseMove,!1):r!==Ln.TOOLTIP&&window.removeEventListener("mousemove",this.handleMouseMove))}componentWillUnmount(){var t;this.isActive=!1,window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("resize",this.handleResize),clearTimeout(this.resizeTimeout),clearTimeout(this.scrollTimeout),(t=this.scrollParent)==null||t.removeEventListener("scroll",this.handleScroll)}get overlayStyles(){const{mouseOverSpotlight:t}=this.state,{disableOverlayClose:e,placement:n,styles:r}=this.props;let i=r.overlay;return vQ()&&(i=n==="center"?r.overlayLegacyCenter:r.overlayLegacy),{cursor:e?"default":"pointer",height:B7e(),pointerEvents:t?"none":"auto",...i}}get spotlightStyles(){var t,e,n;const{showSpotlight:r}=this.state,{disableScrollParentFix:i=!1,spotlightClicks:s,spotlightPadding:a=0,styles:o,target:l}=this.props,c=Pf(l),d=$fe(c),f=$x(c),h=H7e(c,a,i);return{...vQ()?o.spotlightLegacy:o.spotlight,height:Math.round(((t=d?.height)!=null?t:0)+a*2),left:Math.round(((e=d?.left)!=null?e:0)-a),opacity:r?1:0,pointerEvents:s?"none":"auto",position:f?"fixed":"absolute",top:h,transition:"opacity 0.2s",width:Math.round(((n=d?.width)!=null?n:0)+a*2)}}updateState(t){this.isActive&&this.setState(e=>({...e,...t}))}render(){const{showSpotlight:t}=this.state,{onClickOverlay:e,placement:n}=this.props,{hideSpotlight:r,overlayStyles:i,spotlightStyles:s}=this;if(r())return null;let a=n!=="center"&&t&&N.createElement(oGe,{styles:s});if(Hfe()==="safari"){const{mixBlendMode:o,zIndex:l,...c}=i;a=N.createElement("div",{style:{...c}},a),delete i.backgroundColor}return N.createElement("div",{className:"react-joyride__overlay","data-test-id":"overlay",onClick:e,role:"presentation",style:i},a)}},cGe=class extends N.Component{constructor(){super(...arguments),Qt(this,"node",null)}componentDidMount(){const{id:t}=this.props;tp()&&(this.node=document.createElement("div"),this.node.id=t,document.body.appendChild(this.node),Xw||this.renderReact15())}componentDidUpdate(){tp()&&(Xw||this.renderReact15())}componentWillUnmount(){!tp()||!this.node||(Xw||Wu.unmountComponentAtNode(this.node),this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=null))}renderReact15(){if(!tp())return;const{children:t}=this.props;this.node&&Wu.unstable_renderSubtreeIntoContainer(this,t,this.node)}renderReact16(){if(!tp()||!Xw)return null;const{children:t}=this.props;return this.node?Wu.createPortal(t,this.node):null}render(){return Xw?this.renderReact16():null}},uGe=class{constructor(t,e){if(Qt(this,"element"),Qt(this,"options"),Qt(this,"canBeTabbed",n=>{const{tabIndex:r}=n;return r===null||r<0?!1:this.canHaveFocus(n)}),Qt(this,"canHaveFocus",n=>{const r=/input|select|textarea|button|object/,i=n.nodeName.toLowerCase();return(r.test(i)&&!n.getAttribute("disabled")||i==="a"&&!!n.getAttribute("href"))&&this.isVisible(n)}),Qt(this,"findValidTabElements",()=>[].slice.call(this.element.querySelectorAll("*"),0).filter(this.canBeTabbed)),Qt(this,"handleKeyDown",n=>{const{code:r="Tab"}=this.options;n.code===r&&this.interceptTab(n)}),Qt(this,"interceptTab",n=>{n.preventDefault();const r=this.findValidTabElements(),{shiftKey:i}=n;if(!r.length)return;let s=document.activeElement?r.indexOf(document.activeElement):0;s===-1||!i&&s+1===r.length?s=0:i&&s===0?s=r.length-1:s+=i?-1:1,r[s].focus()}),Qt(this,"isHidden",n=>{const r=n.offsetWidth<=0&&n.offsetHeight<=0,i=window.getComputedStyle(n);return r&&!n.innerHTML?!0:r&&i.getPropertyValue("overflow")!=="visible"||i.getPropertyValue("display")==="none"}),Qt(this,"isVisible",n=>{let r=n;for(;r;)if(r instanceof HTMLElement){if(r===document.body)break;if(this.isHidden(r))return!1;r=r.parentNode}return!0}),Qt(this,"removeScope",()=>{window.removeEventListener("keydown",this.handleKeyDown)}),Qt(this,"checkFocus",n=>{document.activeElement!==n&&(n.focus(),window.requestAnimationFrame(()=>this.checkFocus(n)))}),Qt(this,"setFocus",()=>{const{selector:n}=this.options;if(!n)return;const r=this.element.querySelector(n);r&&window.requestAnimationFrame(()=>this.checkFocus(r))}),!(t instanceof HTMLElement))throw new TypeError("Invalid parameter: element must be an HTMLElement");this.element=t,this.options=e,window.addEventListener("keydown",this.handleKeyDown,!1),this.setFocus()}},dGe=class extends N.Component{constructor(t){if(super(t),Qt(this,"beacon",null),Qt(this,"setBeaconRef",i=>{this.beacon=i}),t.beaconComponent)return;const e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.id="joyride-beacon-animation",t.nonce&&n.setAttribute("nonce",t.nonce),n.appendChild(document.createTextNode(`
        @keyframes joyride-beacon-inner {
          20% {
            opacity: 0.9;
          }
        
          90% {
            opacity: 0.7;
          }
        }
        
        @keyframes joyride-beacon-outer {
          0% {
            transform: scale(1);
          }
        
          45% {
            opacity: 0.7;
            transform: scale(0.75);
          }
        
          100% {
            opacity: 0.9;
            transform: scale(1);
          }
        }
      `)),e.appendChild(n)}componentDidMount(){const{shouldFocus:t}=this.props;setTimeout(()=>{Kt.domElement(this.beacon)&&t&&this.beacon.focus()},0)}componentWillUnmount(){const t=document.getElementById("joyride-beacon-animation");t?.parentNode&&t.parentNode.removeChild(t)}render(){const{beaconComponent:t,continuous:e,index:n,isLastStep:r,locale:i,onClickOrHover:s,size:a,step:o,styles:l}=this.props,c=Ru(i.open),d={"aria-label":c,onClick:s,onMouseEnter:s,ref:this.setBeaconRef,title:c};let f;if(t){const h=t;f=N.createElement(h,{continuous:e,index:n,isLastStep:r,size:a,step:o,...d})}else f=N.createElement("button",{key:"JoyrideBeacon",className:"react-joyride__beacon","data-test-id":"button-beacon",style:l.beacon,type:"button",...d},N.createElement("span",{style:l.beaconInner}),N.createElement("span",{style:l.beaconOuter}));return f}};function fGe({styles:t,...e}){const{color:n,height:r,width:i,...s}=t;return se.createElement("button",{style:s,type:"button",...e},se.createElement("svg",{height:typeof r=="number"?`${r}px`:r,preserveAspectRatio:"xMidYMid",version:"1.1",viewBox:"0 0 18 18",width:typeof i=="number"?`${i}px`:i,xmlns:"http://www.w3.org/2000/svg"},se.createElement("g",null,se.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:n}))))}var hGe=fGe;function pGe(t){const{backProps:e,closeProps:n,index:r,isLastStep:i,primaryProps:s,skipProps:a,step:o,tooltipProps:l}=t,{content:c,hideBackButton:d,hideCloseButton:f,hideFooter:h,showSkipButton:m,styles:v,title:b}=o,y={};return y.primary=N.createElement("button",{"data-test-id":"button-primary",style:v.buttonNext,type:"button",...s}),m&&!i&&(y.skip=N.createElement("button",{"aria-live":"off","data-test-id":"button-skip",style:v.buttonSkip,type:"button",...a})),!d&&r>0&&(y.back=N.createElement("button",{"data-test-id":"button-back",style:v.buttonBack,type:"button",...e})),y.close=!f&&N.createElement(hGe,{"data-test-id":"button-close",styles:v.buttonClose,...n}),N.createElement("div",{key:"JoyrideTooltip","aria-label":Ru(b??c),className:"react-joyride__tooltip",style:v.tooltip,...l},N.createElement("div",{style:v.tooltipContainer},b&&N.createElement("h1",{"aria-label":Ru(b),style:v.tooltipTitle},b),N.createElement("div",{style:v.tooltipContent},c)),!h&&N.createElement("div",{style:v.tooltipFooter},N.createElement("div",{style:v.tooltipFooterSpacer},y.skip),y.back,y.primary),y.close)}var mGe=pGe,gGe=class extends N.Component{constructor(){super(...arguments),Qt(this,"handleClickBack",t=>{t.preventDefault();const{helpers:e}=this.props;e.prev()}),Qt(this,"handleClickClose",t=>{t.preventDefault();const{helpers:e}=this.props;e.close("button_close")}),Qt(this,"handleClickPrimary",t=>{t.preventDefault();const{continuous:e,helpers:n}=this.props;if(!e){n.close("button_primary");return}n.next()}),Qt(this,"handleClickSkip",t=>{t.preventDefault();const{helpers:e}=this.props;e.skip()}),Qt(this,"getElementsProps",()=>{const{continuous:t,index:e,isLastStep:n,setTooltipRef:r,size:i,step:s}=this.props,{back:a,close:o,last:l,next:c,nextLabelWithProgress:d,skip:f}=s.locale,h=Ru(a),m=Ru(o),v=Ru(l),b=Ru(c),y=Ru(f);let w=o,S=m;if(t){if(w=c,S=b,s.showProgress&&!n){const M=Ru(d,{step:e+1,steps:i});w=K5(d,e+1,i),S=M}n&&(w=l,S=v)}return{backProps:{"aria-label":h,children:a,"data-action":"back",onClick:this.handleClickBack,role:"button",title:h},closeProps:{"aria-label":m,children:o,"data-action":"close",onClick:this.handleClickClose,role:"button",title:m},primaryProps:{"aria-label":S,children:w,"data-action":"primary",onClick:this.handleClickPrimary,role:"button",title:S},skipProps:{"aria-label":y,children:f,"data-action":"skip",onClick:this.handleClickSkip,role:"button",title:y},tooltipProps:{"aria-modal":!0,ref:r,role:"alertdialog"}}})}render(){const{continuous:t,index:e,isLastStep:n,setTooltipRef:r,size:i,step:s}=this.props,{beaconComponent:a,tooltipComponent:o,...l}=s;let c;if(o){const d={...this.getElementsProps(),continuous:t,index:e,isLastStep:n,size:i,step:l,setTooltipRef:r},f=o;c=N.createElement(f,{...d})}else c=N.createElement(mGe,{...this.getElementsProps(),continuous:t,index:e,isLastStep:n,size:i,step:s});return c}},vGe=class extends N.Component{constructor(){super(...arguments),Qt(this,"scope",null),Qt(this,"tooltip",null),Qt(this,"handleClickHoverBeacon",t=>{const{step:e,store:n}=this.props;t.type==="mouseenter"&&e.event!=="hover"||n.update({lifecycle:Ln.TOOLTIP})}),Qt(this,"setTooltipRef",t=>{this.tooltip=t}),Qt(this,"setPopper",(t,e)=>{var n;const{action:r,lifecycle:i,step:s,store:a}=this.props;e==="wrapper"?a.setPopper("beacon",t):a.setPopper("tooltip",t),a.getPopper("beacon")&&(a.getPopper("tooltip")||s.placement==="center")&&i===Ln.INIT&&a.update({action:r,lifecycle:Ln.READY}),(n=s.floaterProps)!=null&&n.getPopper&&s.floaterProps.getPopper(t,e)}),Qt(this,"renderTooltip",t=>{const{continuous:e,helpers:n,index:r,size:i,step:s}=this.props;return N.createElement(gGe,{continuous:e,helpers:n,index:r,isLastStep:r+1===i,setTooltipRef:this.setTooltipRef,size:i,step:s,...t})})}componentDidMount(){const{debug:t,index:e}=this.props;a0({title:`step:${e}`,data:[{key:"props",value:this.props}],debug:t})}componentDidUpdate(t){var e;const{action:n,callback:r,continuous:i,controlled:s,debug:a,helpers:o,index:l,lifecycle:c,shouldScroll:d,status:f,step:h,store:m}=this.props,{changed:v,changedFrom:b}=FC(t,this.props),y=o.info(),w=i&&n!==Nr.CLOSE&&(l>0||n===Nr.PREV),S=v("action")||v("index")||v("lifecycle")||v("status"),M=b("lifecycle",[Ln.TOOLTIP,Ln.INIT],Ln.INIT),T=v("action",[Nr.NEXT,Nr.PREV,Nr.SKIP,Nr.CLOSE]),A=s&&l===t.index;if(T&&(M||A)&&r({...y,index:t.index,lifecycle:Ln.COMPLETE,step:t.step,type:Ic.STEP_AFTER}),h.placement==="center"&&f===nr.RUNNING&&v("index")&&n!==Nr.START&&c===Ln.INIT&&m.update({lifecycle:Ln.READY}),S){const C=Pf(h.target),j=!!C;j&&$7e(C)?(b("status",nr.READY,nr.RUNNING)||b("lifecycle",Ln.INIT,Ln.READY))&&r({...y,step:h,type:Ic.STEP_BEFORE}):(console.warn(j?"Target not visible":"Target not mounted",h),r({...y,type:Ic.TARGET_NOT_FOUND,step:h}),s||m.update({index:l+(n===Nr.PREV?-1:1)}))}b("lifecycle",Ln.INIT,Ln.READY)&&m.update({lifecycle:gQ(h)||w?Ln.TOOLTIP:Ln.BEACON}),v("index")&&a0({title:`step:${c}`,data:[{key:"props",value:this.props}],debug:a}),v("lifecycle",Ln.BEACON)&&r({...y,step:h,type:Ic.BEACON}),v("lifecycle",Ln.TOOLTIP)&&(r({...y,step:h,type:Ic.TOOLTIP}),d&&this.tooltip&&(this.scope=new uGe(this.tooltip,{selector:"[data-action=primary]"}),this.scope.setFocus())),b("lifecycle",[Ln.TOOLTIP,Ln.INIT],Ln.INIT)&&((e=this.scope)==null||e.removeScope(),m.cleanupPoppers())}componentWillUnmount(){var t;(t=this.scope)==null||t.removeScope()}get open(){const{lifecycle:t,step:e}=this.props;return gQ(e)||t===Ln.TOOLTIP}render(){const{continuous:t,debug:e,index:n,nonce:r,shouldScroll:i,size:s,step:a}=this.props,o=Pf(a.target);return!qfe(a)||!Kt.domElement(o)?null:N.createElement("div",{key:`JoyrideStep-${n}`,className:"react-joyride__step"},N.createElement(u8,{...a.floaterProps,component:this.renderTooltip,debug:e,getPopper:this.setPopper,id:`react-joyride-step-${n}`,open:this.open,placement:a.placement,target:a.target},N.createElement(dGe,{beaconComponent:a.beaconComponent,continuous:t,index:n,isLastStep:n+1===s,locale:a.locale,nonce:r,onClickOrHover:this.handleClickHoverBeacon,shouldFocus:i,size:s,step:a,styles:a.styles})))}},Yfe=class extends N.Component{constructor(t){super(t),Qt(this,"helpers"),Qt(this,"store"),Qt(this,"callback",a=>{const{callback:o}=this.props;Kt.function(o)&&o(a)}),Qt(this,"handleKeyboard",a=>{const{index:o,lifecycle:l}=this.state,{steps:c}=this.props,d=c[o];l===Ln.TOOLTIP&&a.code==="Escape"&&d&&!d.disableCloseOnEsc&&this.store.close("keyboard")}),Qt(this,"handleClickOverlay",()=>{const{index:a}=this.state,{steps:o}=this.props;$v(this.props,o[a]).disableOverlayClose||this.helpers.close("overlay")}),Qt(this,"syncState",a=>{this.setState(a)});const{debug:e,getHelpers:n,run:r=!0,stepIndex:i}=t;this.store=sGe({...t,controlled:r&&Kt.number(i)}),this.helpers=this.store.getHelpers();const{addListener:s}=this.store;a0({title:"init",data:[{key:"props",value:this.props},{key:"state",value:this.state}],debug:e}),s(this.syncState),n&&n(this.helpers),this.state=this.store.getState()}componentDidMount(){if(!tp())return;const{debug:t,disableCloseOnEsc:e,run:n,steps:r}=this.props,{start:i}=this.store;xQ(r,t)&&n&&i(),e||document.body.addEventListener("keydown",this.handleKeyboard,{passive:!0})}componentDidUpdate(t,e){if(!tp())return;const{action:n,controlled:r,index:i,status:s}=this.state,{debug:a,run:o,stepIndex:l,steps:c}=this.props,{stepIndex:d,steps:f}=t,{reset:h,setSteps:m,start:v,stop:b,update:y}=this.store,{changed:w}=FC(t,this.props),{changed:S,changedFrom:M}=FC(e,this.state),T=$v(this.props,c[i]),A=!Za(f,c),C=Kt.number(l)&&w("stepIndex"),j=Pf(T.target);if(A&&(xQ(c,a)?m(c):console.warn("Steps are not valid",c)),w("run")&&(o?v(l):b()),C){let k=Kt.number(d)&&d<l?Nr.NEXT:Nr.PREV;n===Nr.STOP&&(k=Nr.START),[nr.FINISHED,nr.SKIPPED].includes(s)||y({action:n===Nr.CLOSE?Nr.CLOSE:k,index:l,lifecycle:Ln.INIT})}!r&&s===nr.RUNNING&&i===0&&!j&&(this.store.update({index:i+1}),this.callback({...this.state,type:Ic.TARGET_NOT_FOUND,step:T}));const L={...this.state,index:i,step:T};if(S("action",[Nr.NEXT,Nr.PREV,Nr.SKIP,Nr.CLOSE])&&S("status",nr.PAUSED)){const k=$v(this.props,c[e.index]);this.callback({...L,index:e.index,lifecycle:Ln.COMPLETE,step:k,type:Ic.STEP_AFTER})}if(S("status",[nr.FINISHED,nr.SKIPPED])){const k=$v(this.props,c[e.index]);r||this.callback({...L,index:e.index,lifecycle:Ln.COMPLETE,step:k,type:Ic.STEP_AFTER}),this.callback({...L,type:Ic.TOUR_END,step:k,index:e.index}),h()}else M("status",[nr.IDLE,nr.READY],nr.RUNNING)?this.callback({...L,type:Ic.TOUR_START}):(S("status")||S("action",Nr.RESET))&&this.callback({...L,type:Ic.TOUR_STATUS});this.scrollToStep(e)}componentWillUnmount(){const{disableCloseOnEsc:t}=this.props;t||document.body.removeEventListener("keydown",this.handleKeyboard)}scrollToStep(t){const{index:e,lifecycle:n,status:r}=this.state,{debug:i,disableScrollParentFix:s=!1,scrollDuration:a,scrollOffset:o=20,scrollToFirstStep:l=!1,steps:c}=this.props,d=$v(this.props,c[e]),f=Pf(d.target),h=Z7e({isFirstStep:e===0,lifecycle:n,previousLifecycle:t.lifecycle,scrollToFirstStep:l,step:d,target:f});if(r===nr.RUNNING&&h){const m=IR(f,s),v=TS(f,s);let b=Math.floor(W7e(f,o,s))||0;a0({title:"scrollToStep",data:[{key:"index",value:e},{key:"lifecycle",value:n},{key:"status",value:r}],debug:i});const y=this.store.getPopper("beacon"),w=this.store.getPopper("tooltip");if(n===Ln.BEACON&&y){const{offsets:S,placement:M}=y;!["bottom"].includes(M)&&!m&&(b=Math.floor(S.popper.top-o))}else if(n===Ln.TOOLTIP&&w){const{flipped:S,offsets:M,placement:T}=w;["top","right","left"].includes(T)&&!S&&!m?b=Math.floor(M.popper.top-o):b-=d.spotlightPadding}b=b>=0?b:0,r===nr.RUNNING&&G7e(b,{element:v,duration:a}).then(()=>{setTimeout(()=>{var S;(S=this.store.getPopper("tooltip"))==null||S.instance.update()},10)})}}render(){if(!tp())return null;const{index:t,lifecycle:e,status:n}=this.state,{continuous:r=!1,debug:i=!1,nonce:s,scrollToFirstStep:a=!1,steps:o}=this.props,l=n===nr.RUNNING,c={};if(l&&o[t]){const d=$v(this.props,o[t]);c.step=N.createElement(vGe,{...this.state,callback:this.callback,continuous:r,debug:i,helpers:this.helpers,nonce:s,shouldScroll:!d.disableScrolling&&(t!==0||a),step:d,store:this.store}),c.overlay=N.createElement(cGe,{id:"react-joyride-portal"},N.createElement(lGe,{...d,continuous:r,debug:i,lifecycle:e,onClickOverlay:this.handleClickOverlay}))}return N.createElement("div",{className:"react-joyride"},c.step,c.overlay)}};Qt(Yfe,"defaultProps",eGe);var yGe=Yfe;const wQ="fcpms_tour_completed",xGe={main:"fcpms_tour_main",sizing:"fcpms_tour_sizing",optimizer:"fcpms_tour_optimizer",catalog:"fcpms_tour_catalog",monitoring:"fcpms_tour_monitoring"},bGe=[{target:"body",content:"Welcome to FCPMS - Fuel Cell Power Management System! This tool helps you design, compare, and optimize power systems for telecom sites. Let me show you the key features.",placement:"center",disableBeacon:!0},{target:'[data-testid="nav-dashboard"]',content:"The Learning Hub is your starting point. It provides educational content about fuel cell technology, telecom trends, industry analytics, and access to your saved projects.",placement:"right"},{target:'[data-testid="nav-sizing"]',content:"The Sizing Tool is the core feature. Design complete power systems by comparing diesel generators vs fuel cells, calculate battery requirements, hydrogen consumption, and generate reports.",placement:"right"},{target:'[data-testid="nav-optimizer"]',content:"The Asset Optimizer evaluates your existing diesel generators. It detects wet stacking issues, calculates wasted fuel, and recommends whether to Keep, Relocate, Replace, or Hybridize each unit.",placement:"right"},{target:'[data-testid="nav-catalog"]',content:"The Equipment Catalog contains fuel cell models from leading manufacturers like Ballard, Plug Power, Bloom Energy, and SFC. Compare specifications and add new models.",placement:"right"},{target:"body",content:"Ready to start? Click the help button anytime to replay this tour. Begin by exploring the Learning Hub or jump straight into the Sizing Tool!",placement:"center"}],wGe=[{target:"body",content:"Welcome to the Sizing Tool! This is where you design complete fuel cell power systems. Let's walk through the process step by step.",placement:"center",disableBeacon:!0},{target:'[data-testid="input-project-name"]',content:"Start by naming your project. Use a descriptive name like 'Site Alpha - Remote Tower' to easily identify it later.",placement:"right"},{target:'[data-testid="slider-load"]',content:"Set your critical load requirement in kilowatts (kW). This is the continuous power your telecom equipment needs. Typical values range from 2-20 kW.",placement:"right"},{target:'[data-testid="slider-autonomy"]',content:"Define your backup autonomy in hours. This determines how long the system runs without grid power. 8-24 hours is common for telecom sites.",placement:"right"},{target:'[data-testid="select-voltage"]',content:"Select your DC system voltage. 48V is standard for telecom, but 24V is used for smaller sites.",placement:"right"},{target:'[data-testid="select-fuel-cell"]',content:"Choose a fuel cell from the catalog. The system will calculate if the selected model can handle your load. Match power capacity to your requirements.",placement:"right"},{target:'[data-testid="input-dg-capacity"]',content:"Enter your existing diesel generator's capacity in kVA. This enables side-by-side comparison of operational costs and emissions.",placement:"right"},{target:'[data-testid="input-diesel-price"]',content:"Set the local diesel fuel price per liter. This affects the total cost of ownership comparison between diesel and fuel cell systems.",placement:"right"},{target:'[data-testid="button-calculate"]',content:"Click Calculate to run the full analysis. Results include DG vs FC comparison, sizing specifications, battery requirements, and financial projections.",placement:"top"},{target:'[data-testid="button-download-pdf"]',content:"After calculating, export a professional PDF report with all specifications and comparisons. Perfect for presentations and approvals.",placement:"top"},{target:'[data-testid="button-ai-analysis"]',content:"Get AI-powered insights! The consultant analyzes your system and provides engineering recommendations, manager emails, or action plans in English or Arabic.",placement:"top"}],_Ge=[{target:"body",content:"Welcome to the Asset Optimizer! This tool analyzes your existing diesel generator fleet and provides actionable recommendations.",placement:"center",disableBeacon:!0},{target:'[data-testid="slider-dg-rating"]',content:"Enter your diesel generator's rated capacity in kVA. This is the nameplate rating from the manufacturer.",placement:"right"},{target:'[data-testid="slider-site-load"]',content:"Set the actual site load in kW. The load factor is calculated automatically - values below 30% indicate potential wet stacking issues.",placement:"right"},{target:'[data-testid="slider-dg-age"]',content:"Enter the generator's age in years. Older units (10+ years) typically have higher maintenance costs and lower efficiency.",placement:"right"},{target:'[data-testid="slider-runtime"]',content:"Specify annual runtime hours. High runtime (>4000 hrs/year) increases wear and makes replacement more attractive.",placement:"right"},{target:'[data-testid="slider-fuel-cost"]',content:"Enter monthly fuel costs. The system calculates yearly waste from inefficient operation due to undersized loads.",placement:"right"},{target:'[data-testid="button-analyze"]',content:"Click Analyze to get a recommendation. The system evaluates all factors and suggests: Keep (maintain current), Relocate (move to higher-load site), Replace (with fuel cell), or Hybridize (add fuel cell backup).",placement:"top"}],SGe=[{target:"body",content:"Welcome to the Equipment Catalog! Browse and manage fuel cell models from leading manufacturers worldwide.",placement:"center",disableBeacon:!0},{target:'[data-testid="button-add-fuel-cell"]',content:"Add new fuel cell models to expand your catalog. Enter manufacturer details, power ratings, efficiency, and costs.",placement:"bottom"},{target:'[data-testid="input-search-catalog"]',content:"Search the catalog by manufacturer name or model number to quickly find specific equipment.",placement:"bottom"}],EGe=[{target:"body",content:"Welcome to Remote Monitoring! Learn how to integrate fuel cell systems with your existing telecom monitoring infrastructure.",placement:"center",disableBeacon:!0},{target:'[data-testid="section-integration-options"]',content:"Explore different integration options including cloud platforms (NetCo), industrial controllers (DSE), SNMP for telecom NOC, and IoT gateways for remote sites.",placement:"bottom"},{target:'[data-testid="section-solutions"]',content:"Our complete solutions include turnkey monitoring packages, system integration services, analytics platforms, and 24/7 alert response services.",placement:"top"}];function d8({page:t="main",autoStart:e=!1}){const[n,r]=N.useState(!1),[i,s]=N.useState(0),[a,o]=N.useState(!1),l=t==="sizing"?wGe:t==="optimizer"?_Ge:t==="catalog"?SGe:t==="monitoring"?EGe:bGe,c=xGe[t]||wQ;N.useEffect(()=>{localStorage.getItem(c)||(o(!0),e&&setTimeout(()=>r(!0),800))},[e,c]);const d=h=>{const{status:m,index:v,type:b}=h;m===nr.FINISHED||m===nr.SKIPPED?(r(!1),s(0),o(!1),localStorage.setItem(c,"true"),t==="main"&&localStorage.setItem(wQ,"true")):b==="step:after"&&s(v+1)},f=()=>{s(0),r(!0),o(!1)};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"relative",children:[u.jsxs(bt,{variant:"outline",size:"sm",onClick:f,title:"Start guided tour","data-testid":"button-start-tour",className:`gap-2 ${a?"ring-2 ring-primary ring-offset-2 animate-pulse":""}`,children:[a?u.jsx(dbe,{className:"h-4 w-4"}):u.jsx(Kxe,{className:"h-4 w-4"}),u.jsx("span",{className:"hidden sm:inline",children:a?"Take Tour":"Help"})]}),a&&u.jsx(Sn,{variant:"default",className:"absolute -top-2 -right-2 text-xs px-1.5 py-0.5 animate-bounce",children:"New"})]}),u.jsx(yGe,{steps:l,run:n,stepIndex:i,continuous:!0,showProgress:!0,showSkipButton:!0,scrollToFirstStep:!0,disableScrolling:!1,callback:d,floaterProps:{disableAnimation:!0},styles:{options:{primaryColor:"#2563eb",zIndex:1e4,arrowColor:"#fff",backgroundColor:"#fff",textColor:"#1e293b"},tooltip:{borderRadius:12,padding:20,boxShadow:"0 10px 40px rgba(0,0,0,0.15)"},tooltipContainer:{textAlign:"left"},tooltipTitle:{fontSize:16,fontWeight:600},tooltipContent:{fontSize:14,lineHeight:1.6},buttonNext:{borderRadius:8,padding:"8px 16px",fontWeight:500},buttonBack:{borderRadius:8,marginRight:8},buttonSkip:{borderRadius:8,color:"#64748b"},spotlight:{borderRadius:8}},locale:{back:"Back",close:"Close",last:"Get Started",next:"Next",skip:"Skip Tour"}})]})}var f8="Collapsible",[MGe,Kfe]=Pa(f8),[TGe,h8]=MGe(f8),Zfe=N.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:s,onOpenChange:a,...o}=t,[l=!1,c]=Qc({prop:r,defaultProp:i,onChange:a});return u.jsx(TGe,{scope:n,disabled:s,contentId:Gu(),open:l,onOpenToggle:N.useCallback(()=>c(d=>!d),[c]),children:u.jsx(tn.div,{"data-state":v8(l),"data-disabled":s?"":void 0,...o,ref:e})})});Zfe.displayName=f8;var Qfe="CollapsibleTrigger",p8=N.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,i=h8(Qfe,n);return u.jsx(tn.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":v8(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:e,onClick:Ht(t.onClick,i.onOpenToggle)})});p8.displayName=Qfe;var m8="CollapsibleContent",g8=N.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=h8(m8,t.__scopeCollapsible);return u.jsx(Yl,{present:n||i.open,children:({present:s})=>u.jsx(AGe,{...r,ref:e,present:s})})});g8.displayName=m8;var AGe=N.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:i,...s}=t,a=h8(m8,n),[o,l]=N.useState(r),c=N.useRef(null),d=Hn(e,c),f=N.useRef(0),h=f.current,m=N.useRef(0),v=m.current,b=a.open||o,y=N.useRef(b),w=N.useRef(void 0);return N.useEffect(()=>{const S=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(S)},[]),Xi(()=>{const S=c.current;if(S){w.current=w.current||{transitionDuration:S.style.transitionDuration,animationName:S.style.animationName},S.style.transitionDuration="0s",S.style.animationName="none";const M=S.getBoundingClientRect();f.current=M.height,m.current=M.width,y.current||(S.style.transitionDuration=w.current.transitionDuration,S.style.animationName=w.current.animationName),l(r)}},[a.open,r]),u.jsx(tn.div,{"data-state":v8(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!b,...s,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...t.style},children:b&&i})});function v8(t){return t?"open":"closed"}var Jfe=Zfe,CGe=p8,PGe=g8;const ehe=Jfe,the=p8,nhe=g8,NGe=dp({name:Mf().min(1,"Project name is required"),description:Mf().optional(),loadKw:on().min(.1),maxTemperature:on().min(-20).max(60),altitude:on().min(0).max(5e3),fuelCellId:on(),autonomyHours:on().min(1),hoursPerYear:on().min(1),dgCapacityKva:on().min(1),dieselPrice:on().min(0),pilferageFactor:on().min(0).max(50),dgCapex:on().min(0),h2Price:on().min(0),logisticsCostPct:on().min(0).max(50),batteryBufferHours:on().min(1).max(24),batteryDod:on().min(.5).max(1),systemVoltage:on(),refuelingCycleDays:on().min(1).max(60)});function RGe(){const{data:t}=Hde(),e=PRe(),{toast:n}=hd(),[,r]=lb(),[i,s]=N.useState(null),[a,o]=N.useState(null),[l,c]=N.useState("analysis"),[d,f]=N.useState("english"),[h,m]=N.useState(!1),{generatePDF:v,generateCSV:b,analyzeSystem:y,generateDiagram:w,isLoading:S}=pfe(),{settings:M,formatCurrency:T,language:A,isRTL:C}=Na(),{calculationDefaults:j}=M,O={en:{pageTitle:"EcoPower Engineering Tool",pageSubtitle:"Techno-Economic Analysis: Diesel Gen vs. Fuel Cell",modeBadge:"Mode: Real-World Engineering",telecomReference:"Telecom Site Reference Data (GSMA, Huawei Africa Studies)",siteConstraints:"Site Constraints",projectName:"Project Name",projectNamePlaceholder:"Site ID...",maxTemp:"Max Temp",celsius:"Celsius",altitude:"Altitude",meters:"meters",loadProfile:"Load Profile",criticalLoad:"Critical IT Load",autonomyRequired:"Autonomy Required",hrs:"hrs",fuelCellModel:"Fuel Cell Model",selectModel:"Select model...",dieselGenInfo:"Diesel Generator Info",capacityKva:"Capacity (kVA)",dieselPrice:"Diesel $/L",theftLossFactor:"Theft/Loss Factor",fuelPilferageLosses:"Fuel pilferage/logistic losses",hydrogenPrice:"Hydrogen Price ($/kg)",calculateAnalysis:"Calculate Analysis",configureInputs:"Configure inputs and click Calculate",dgVsFc:"DG vs FC",sizing:"Sizing",battery:"Battery",logistics:"Logistics",existingDieselGen:"Existing Diesel Generator",loadFactor:"Load Factor",lowEfficiency:"Low Efficiency",engineConsumption:"Engine Consumption",theftLossOverhead:"+ Theft/Loss Overhead",dailyOpex:"Daily OPEX",proposedFuelCell:"Proposed Fuel Cell",systemEfficiency:"System Efficiency",fuelConsumption:"Fuel Consumption",theftRisk:"Theft Risk",cannotSiphon:"0% (Cannot siphon)",dailySavings:"Daily Savings",annualSavings:"Annual Savings",paybackPeriod:"Payback Period",dgBetter:"DG Better",co2Avoided:"CO2 Avoided",multipleStacksConfig:"Multiple Stacks Configuration",multipleStacksDesc:"A single fuel cell cannot meet the load. The system is configured for multiple units.",perUnitDerated:"Per Unit (Derated)",unitsRequired:"Units Required",totalDerated:"Total Derated",capacityWarning:"Capacity Warning: System Undersized",capacityWarningDesc:"Even with multiple stacks, the total derated capacity cannot meet the required load. Consider a larger fuel cell model.",capacityShortfall:"Capacity Shortfall",engineeringSizing:"Engineering Sizing & Losses",fuelCellRated:"Fuel Cell Rated",totalFcCapacity:"Total FC Capacity",siteLoad:"Site Load",margin:"Margin",parasiticLoss:"Parasitic Loss",fansPumps:"(Fans/Pumps)",tempDerating:"Temp Derating",cableSize:"Cable Size",dailyFuel:"Daily Fuel",hybridBatteryBuffer:"Hybrid Battery Buffer",batteryBufferDesc:"Required to cover startup time and peak loads",capacity:"Capacity",ampHours:"Amp Hours",configuration:"Configuration",stringsOf:"Strings of 150Ah",logisticsPlanning:"Logistics Planning",hydrogenSupply:"Hydrogen supply for",daysAutonomy:"days autonomy",totalH2Required:"Total H2 Required",cylinders:"Cylinders (50L @ 200bar)",units:"Units",bundles:"Bundles (12-Pack)",bundlesLabel:"Bundles",saveProject:"Save Project",downloadPdf:"PDF",downloadCsv:"CSV",downloadDiagram:"Diagram",aiConsultant:"AI Consultant",analysisType:"Analysis Type",engineeringAnalysis:"Engineering Analysis",managerEmail:"Manager Email",actionPlan:"Action Plan",languageLabel:"Language",english:"English",arabic:"Arabic",generateAiAnalysis:"Generate AI Analysis",aiPoweredAnalysis:"AI-Powered Analysis",calculationComplete:"Calculation Complete",resultsUpdated:"Results updated successfully",error:"Error",calculationFailed:"Calculation failed",required:"Required",selectFuelCell:"Please select a fuel cell model",enterProjectName:"Please enter a project name",success:"Success",projectSaved:"Project saved!",calculationRequired:"Calculation Required",selectFuelCellFirst:"Please select a fuel cell and run calculations before downloading the report",pdfDownloaded:"PDF Downloaded",reportSaved:"Report saved to your downloads",pdfFailed:"PDF generation failed",aiAnalysisComplete:"AI Analysis Complete",scrollForRecommendations:"Scroll down to see recommendations",basicAnalysis:"Basic Analysis",aiFallback:"AI not configured - showing fallback recommendations",diagramDownloaded:"Diagram Downloaded",systemDiagramSaved:"System diagram saved",diagramFailed:"Diagram generation failed",csvDownloaded:"CSV Downloaded",dataExported:"Data exported to CSV",csvFailed:"CSV export failed",templateApplied:"Template Applied"},ar:{pageTitle:"   ",pageSubtitle:" -:     ",modeBadge:":  ",telecomReference:"    (GSMA   )",siteConstraints:" ",projectName:" ",projectNamePlaceholder:" ...",maxTemp:"  ",celsius:" ",altitude:"",meters:"",loadProfile:" ",criticalLoad:"   ",autonomyRequired:" ",hrs:"",fuelCellModel:"  ",selectModel:" ...",dieselGenInfo:"  ",capacityKva:" (..)",dieselPrice:"  $/",theftLossFactor:" /",fuelPilferageLosses:" / ",hydrogenPrice:"  ($/)",calculateAnalysis:" ",configureInputs:"   ",dgVsFc:"   ",sizing:"",battery:"",logistics:"",existingDieselGen:"  ",loadFactor:" ",lowEfficiency:" ",engineConsumption:" ",theftLossOverhead:"+  /",dailyOpex:"  ",proposedFuelCell:"  ",systemEfficiency:" ",fuelConsumption:" ",theftRisk:" ",cannotSiphon:"0% (  )",dailySavings:" ",annualSavings:" ",paybackPeriod:" ",dgBetter:" ",co2Avoided:"   ",multipleStacksConfig:"  ",multipleStacksDesc:"     .     .",perUnitDerated:"  ()",unitsRequired:" ",totalDerated:" ",capacityWarning:" :    ",capacityWarningDesc:"          .      .",capacityShortfall:" ",engineeringSizing:"  ",fuelCellRated:"  ",totalFcCapacity:"   ",siteLoad:" ",margin:"",parasiticLoss:" ",fansPumps:"(/)",tempDerating:" ",cableSize:" ",dailyFuel:" ",hybridBatteryBuffer:"  ",batteryBufferDesc:"     ",capacity:"",ampHours:" ",configuration:"",stringsOf:"  150Ah",logisticsPlanning:" ",hydrogenSupply:"  ",daysAutonomy:" ",totalH2Required:"  ",cylinders:" (50  @ 200 )",units:"",bundles:" (12 )",bundlesLabel:"",saveProject:" ",downloadPdf:"PDF",downloadCsv:"CSV",downloadDiagram:"",aiConsultant:"  ",analysisType:" ",engineeringAnalysis:" ",managerEmail:" ",actionPlan:" ",languageLabel:"",english:"",arabic:"",generateAiAnalysis:"   ",aiPoweredAnalysis:"   ",calculationComplete:" ",resultsUpdated:"   ",error:"",calculationFailed:" ",required:"",selectFuelCell:"    ",enterProjectName:"   ",success:"",projectSaved:"  !",calculationRequired:" ",selectFuelCellFirst:"        ",pdfDownloaded:"  PDF",reportSaved:"    ",pdfFailed:"  PDF",aiAnalysisComplete:"   ",scrollForRecommendations:"   ",basicAnalysis:" ",aiFallback:"    -   ",diagramDownloaded:"  ",systemDiagramSaved:"   ",diagramFailed:"  ",csvDownloaded:"  CSV",dataExported:"    CSV",csvFailed:"  CSV",templateApplied:"  "}}[A],k=zde({resolver:$de(NGe),defaultValues:{name:"",description:"",loadKw:4,maxTemperature:j.defaultDeratingTemp,altitude:j.defaultAltitude,fuelCellId:void 0,autonomyHours:j.defaultAutonomyHours,hoursPerYear:2e3,dgCapacityKva:j.defaultDgCapacity,dieselPrice:j.defaultDieselPrice,pilferageFactor:j.defaultPilferageFactor,dgCapex:5e3,h2Price:j.defaultH2Price,logisticsCostPct:j.defaultLogisticsCost,batteryBufferHours:j.defaultBatteryBufferHours,batteryDod:j.defaultBatteryDod/100,systemVoltage:j.defaultSystemVoltage,refuelingCycleDays:j.defaultRefuelingCycleDays}});N.useEffect(()=>{const $=k.getValues();!$.name&&!i&&k.reset({...$,maxTemperature:j.defaultDeratingTemp,altitude:j.defaultAltitude,autonomyHours:j.defaultAutonomyHours,dgCapacityKva:j.defaultDgCapacity,dieselPrice:j.defaultDieselPrice,pilferageFactor:j.defaultPilferageFactor,h2Price:j.defaultH2Price,logisticsCostPct:j.defaultLogisticsCost,batteryBufferHours:j.defaultBatteryBufferHours,batteryDod:j.defaultBatteryDod/100,systemVoltage:j.defaultSystemVoltage,refuelingCycleDays:j.defaultRefuelingCycleDays})},[j,k,i]);const F=Bl({mutationFn:async $=>(await Xye("POST","/api/calculate",{loadKw:$.loadKw,maxTemperature:$.maxTemperature,altitude:$.altitude,fuelCellId:$.fuelCellId,autonomyHours:$.autonomyHours,hoursPerYear:$.hoursPerYear,dgCapacityKva:$.dgCapacityKva,dieselPrice:$.dieselPrice,pilferageFactor:$.pilferageFactor,dgCapex:$.dgCapex,h2Price:$.h2Price,logisticsCostPct:$.logisticsCostPct,batteryBufferHours:$.batteryBufferHours,batteryDod:$.batteryDod,systemVoltage:$.systemVoltage,refuelingCycleDays:$.refuelingCycleDays})).json(),onSuccess:$=>{s($),n({title:O.calculationComplete,description:O.resultsUpdated})},onError:()=>{n({title:O.error,description:O.calculationFailed,variant:"destructive"})}}),G=()=>{const $=k.getValues();if(!$.fuelCellId){n({title:O.required,description:O.selectFuelCell,variant:"destructive"});return}F.mutate($)},Y=()=>{const $=k.getValues();if(!$.name){n({title:O.required,description:O.enterProjectName,variant:"destructive"});return}e.mutate({name:$.name,description:$.description,loadKw:$.loadKw,maxTemperature:$.maxTemperature,altitude:$.altitude,autonomyHours:$.autonomyHours,hoursPerYear:$.hoursPerYear,dgCapacityKva:$.dgCapacityKva,dieselPrice:$.dieselPrice,pilferageFactor:$.pilferageFactor,dgCapex:$.dgCapex,h2Price:$.h2Price,logisticsCostPct:$.logisticsCostPct,batteryBufferHours:$.batteryBufferHours,batteryDod:$.batteryDod,systemVoltage:$.systemVoltage,refuelingCycleDays:$.refuelingCycleDays,selectedFuelCellId:$.fuelCellId,requiredBatteryKwh:i?.batteryCapacityKwh,requiredBatteryAh:i?.batteryCapacityAh,dailyFuelConsumption:i?.fuelConsumptionDaily,recommendedCableSizeMm2:i?.cableSizeMm2,deratingFactor:i?.deratingFactor,grossPowerRequired:i?.grossPowerRequired,parasiticLossKw:i?.parasiticLossKw,dailyCostDg:i?.dgDailyCost,dailyCostFc:i?.fcDailyCost,dailySavings:i?.dailySavings,annualSavings:i?.annualSavings,paybackYears:i?.paybackYears,co2Savings:i?.co2Savings,cylindersRequired:i?.cylindersRequired,bundlesRequired:i?.bundlesRequired},{onSuccess:()=>{n({title:O.success,description:O.projectSaved}),r("/")}})},U=async()=>{const $=k.getValues();if(!V||!i){n({title:O.calculationRequired,description:O.selectFuelCellFirst,variant:"destructive"});return}(await v({date:new Date().toISOString().split("T")[0],load:$.loadKw,autonomy:$.autonomyHours,voltage:$.systemVoltage,temperature:$.maxTemperature,altitude:$.altitude,fuelCell:V?{model:V.model,manufacturer:V.manufacturer,ratedPower:Number(V.ratedPowerKw),efficiency:Number(V.efficiency)}:void 0,results:i?{fcStackRequired:1,batteryCapacity:i.batteryCapacityAh,batteryStrings:i.batteryStrings,h2Cylinders:i.cylindersRequired,cableSize:i.cableSizeMm2}:void 0,financial:i?{dgTCO:i.dgDailyCost*365*10,fcTCO:i.fcDailyCost*365*10,annualSavings:i.annualSavings,paybackYears:i.paybackYears??-1}:void 0})).success?n({title:O.pdfDownloaded,description:O.reportSaved}):n({title:O.error,description:O.pdfFailed,variant:"destructive"})},W=async()=>{const $=k.getValues();if(!V||!i){n({title:O.calculationRequired,description:O.selectFuelCellFirst,variant:"destructive"});return}const J=await y({load:$.loadKw,autonomy:$.autonomyHours,voltage:$.systemVoltage,temperature:$.maxTemperature,altitude:$.altitude,dgRated:$.dgCapacityKva,dgRunningHours:$.hoursPerYear/12,fuelCellModel:V?.model,loadFactor:i?.dgLoadFactor,dgDailyCost:i?.dgDailyCost,fcDailyCost:i?.fcDailyCost,dailySavings:i?.dailySavings,taskType:l,language:d});J.success&&J.analysis?(o(J.analysis),n({title:O.aiAnalysisComplete,description:O.scrollForRecommendations})):(o(J.recommendation||"Analysis unavailable"),n({title:O.basicAnalysis,description:O.aiFallback}))},q=async()=>{const $=k.getValues();if(!V||!i){n({title:O.calculationRequired,description:O.selectFuelCellFirst,variant:"destructive"});return}(await w({type:"system",load:$.loadKw,fcPower:V?Number(V.ratedPowerKw):$.loadKw,batteryCapacity:i?.batteryCapacityAh||0,h2Cylinders:i?.cylindersRequired||0})).success?n({title:O.diagramDownloaded,description:O.systemDiagramSaved}):n({title:O.error,description:O.diagramFailed,variant:"destructive"})},Z=async()=>{const $=k.getValues();if(!V||!i){n({title:O.calculationRequired,description:O.selectFuelCellFirst,variant:"destructive"});return}(await b({projectName:$.name,load:$.loadKw,autonomy:$.autonomyHours,voltage:$.systemVoltage,temperature:$.maxTemperature,altitude:$.altitude,fuelCell:V?{model:V.model,manufacturer:V.manufacturer,ratedPower:Number(V.ratedPowerKw),efficiency:Number(V.efficiency)}:void 0,results:i?{batteryCapacity:i.batteryCapacityAh,batteryStrings:i.batteryStrings,h2Cylinders:i.cylindersRequired,cableSize:i.cableSizeMm2}:void 0,financial:i?{dgDailyCost:i.dgDailyCost,fcDailyCost:i.fcDailyCost,dailySavings:i.dailySavings,annualSavings:i.annualSavings,paybackYears:i.paybackYears??-1,co2Savings:i.co2Savings}:void 0})).success?n({title:O.csvDownloaded,description:O.dataExported}):n({title:O.error,description:O.csvFailed,variant:"destructive"})},V=t?.find($=>$.id===k.watch("fuelCellId")),Q=i?.dgLoadFactor||0,ee=$=>{k.setValue("loadKw",$.loadKw),k.setValue("autonomyHours",$.autonomyHours),k.setValue("systemVoltage",$.voltage),n({title:O.templateApplied,description:`${$.name} - ${$.loadKw} kW, ${$.autonomyHours}h`})};return u.jsxs("div",{className:"min-h-screen bg-[#F8FAFC] flex relative overflow-hidden",dir:C?"rtl":"ltr",children:[u.jsx(Eb,{}),u.jsx(No,{}),u.jsxs("main",{className:`flex-1 p-4 sm:p-6 lg:p-8 relative z-10 ${C?"lg:mr-20":"lg:ml-20"}`,children:[u.jsxs("header",{className:"mb-6 flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[u.jsxs("div",{children:[u.jsxs("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[u.jsx(Di,{className:"w-6 h-6 text-primary"}),O.pageTitle]}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:O.pageSubtitle})]}),u.jsxs("div",{className:`flex items-center gap-2 ${C?"flex-row-reverse":""}`,children:[u.jsx(d8,{page:"sizing"}),u.jsx(Sn,{variant:"outline",className:"w-fit",children:O.modeBadge})]})]}),u.jsxs(ehe,{open:h,onOpenChange:m,className:"mb-6",children:[u.jsx(the,{asChild:!0,children:u.jsxs(bt,{variant:"outline",className:"w-full justify-between","data-testid":"button-toggle-reference",children:[u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(bB,{className:"w-4 h-4"}),O.telecomReference]}),u.jsx(Wg,{className:`w-4 h-4 transition-transform ${h?"rotate-180":""}`})]})}),u.jsx(nhe,{className:"mt-4",children:u.jsx(_He,{onApplyTemplate:ee})})]}),u.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-6",children:[u.jsxs("div",{className:"xl:col-span-4 space-y-4",children:[u.jsxs(vt,{children:[u.jsx(pn,{className:"pb-3",children:u.jsxs(_n,{className:"text-base flex items-center gap-2",children:[u.jsx(are,{className:"w-4 h-4"})," ",O.siteConstraints]})}),u.jsx(Ct,{className:"space-y-4",children:u.jsxs(U2,{...k,children:[u.jsx(ra,{control:k.control,name:"name",render:({field:$})=>u.jsxs(Os,{children:[u.jsx(js,{children:O.projectName}),u.jsx(Is,{children:u.jsx(ln,{placeholder:O.projectNamePlaceholder,...$,"data-testid":"input-project-name"})})]})}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsx(ra,{control:k.control,name:"maxTemperature",render:({field:$})=>u.jsxs(Os,{children:[u.jsxs(js,{className:"flex items-center gap-1",children:[u.jsx(H4,{className:"w-3 h-3"})," ",O.maxTemp]}),u.jsx(Is,{children:u.jsx(ln,{type:"number",...$,onChange:J=>$.onChange(parseFloat(J.target.value)),"data-testid":"input-max-temp"})}),u.jsx(B2,{children:O.celsius})]})}),u.jsx(ra,{control:k.control,name:"altitude",render:({field:$})=>u.jsxs(Os,{children:[u.jsx(js,{children:O.altitude}),u.jsx(Is,{children:u.jsx(ln,{type:"number",...$,onChange:J=>$.onChange(parseFloat(J.target.value)),"data-testid":"input-altitude"})}),u.jsx(B2,{children:O.meters})]})})]})]})})]}),u.jsxs(vt,{children:[u.jsx(pn,{className:"pb-3",children:u.jsxs(_n,{className:"text-base flex items-center gap-2",children:[u.jsx(Di,{className:"w-4 h-4"})," ",O.loadProfile]})}),u.jsx(Ct,{className:"space-y-4",children:u.jsxs(U2,{...k,children:[u.jsx(ra,{control:k.control,name:"loadKw",render:({field:$})=>u.jsxs(Os,{children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx(js,{children:O.criticalLoad}),u.jsxs("span",{className:"text-sm font-mono text-primary",children:[$.value," kW"]})]}),u.jsx(Is,{children:u.jsx(Dg,{min:.5,max:50,step:.5,value:[$.value],onValueChange:J=>$.onChange(J[0]),"data-testid":"slider-load"})})]})}),u.jsx(ra,{control:k.control,name:"autonomyHours",render:({field:$})=>u.jsxs(Os,{children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx(js,{children:O.autonomyRequired}),u.jsxs("span",{className:"text-sm font-mono text-primary",children:[$.value," ",O.hrs]})]}),u.jsx(Is,{children:u.jsx(Dg,{min:1,max:72,step:1,value:[$.value],onValueChange:J=>$.onChange(J[0]),"data-testid":"slider-autonomy"})})]})}),u.jsx(ra,{control:k.control,name:"fuelCellId",render:({field:$})=>u.jsxs(Os,{children:[u.jsx(js,{children:O.fuelCellModel}),u.jsxs(jl,{onValueChange:J=>$.onChange(parseInt(J)),value:$.value?.toString(),children:[u.jsx(Is,{children:u.jsx(nl,{"data-testid":"select-fuel-cell",children:u.jsx(Il,{placeholder:O.selectModel})})}),u.jsx(rl,{children:t?.map(J=>u.jsxs(Ir,{value:J.id.toString(),children:[J.manufacturer," ",J.model," (",J.ratedPowerKw,"kW)"]},J.id))})]})]})})]})})]}),u.jsxs(vt,{children:[u.jsx(pn,{className:"pb-3",children:u.jsxs(_n,{className:"text-base flex items-center gap-2",children:[u.jsx(cp,{className:"w-4 h-4"})," ",O.dieselGenInfo]})}),u.jsx(Ct,{className:"space-y-4",children:u.jsxs(U2,{...k,children:[u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsx(ra,{control:k.control,name:"dgCapacityKva",render:({field:$})=>u.jsxs(Os,{children:[u.jsx(js,{children:O.capacityKva}),u.jsx(Is,{children:u.jsx(ln,{type:"number",...$,onChange:J=>$.onChange(parseFloat(J.target.value)),"data-testid":"input-dg-capacity"})})]})}),u.jsx(ra,{control:k.control,name:"dieselPrice",render:({field:$})=>u.jsxs(Os,{children:[u.jsx(js,{children:O.dieselPrice}),u.jsx(Is,{children:u.jsx(ln,{type:"number",step:"0.1",...$,onChange:J=>$.onChange(parseFloat(J.target.value)),"data-testid":"input-diesel-price"})})]})})]}),u.jsx(ra,{control:k.control,name:"pilferageFactor",render:({field:$})=>u.jsxs(Os,{children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsxs(js,{className:"flex items-center gap-1",children:[u.jsx(uA,{className:"w-3 h-3 text-amber-500"})," ",O.theftLossFactor]}),u.jsxs("span",{className:"text-sm font-mono text-amber-600",children:[$.value,"%"]})]}),u.jsx(Is,{children:u.jsx(Dg,{min:0,max:50,step:1,value:[$.value],onValueChange:J=>$.onChange(J[0]),"data-testid":"slider-theft"})}),u.jsx(B2,{children:O.fuelPilferageLosses})]})}),u.jsx(ra,{control:k.control,name:"h2Price",render:({field:$})=>u.jsxs(Os,{children:[u.jsx(js,{children:O.hydrogenPrice}),u.jsx(Is,{children:u.jsx(ln,{type:"number",step:"0.5",...$,onChange:J=>$.onChange(parseFloat(J.target.value)),"data-testid":"input-h2-price"})})]})})]})})]}),u.jsxs(bt,{onClick:G,disabled:F.isPending,className:"w-full",size:"lg","data-testid":"button-calculate",children:[F.isPending?u.jsx(Ds,{className:`w-4 h-4 animate-spin ${C?"ml-2":"mr-2"}`}):u.jsx(wy,{className:`w-4 h-4 ${C?"ml-2":"mr-2"}`}),O.calculateAnalysis]})]}),u.jsxs("div",{className:"xl:col-span-8",children:[i?u.jsxs(g0,{defaultValue:"comparison",className:"space-y-4",children:[u.jsxs(Dp,{className:"grid w-full grid-cols-4",children:[u.jsx(xs,{value:"comparison","data-testid":"tab-comparison",children:O.dgVsFc}),u.jsx(xs,{value:"sizing","data-testid":"tab-sizing",children:O.sizing}),u.jsx(xs,{value:"battery","data-testid":"tab-battery",children:O.battery}),u.jsx(xs,{value:"logistics","data-testid":"tab-logistics",children:O.logistics})]}),u.jsxs(Fs,{value:"comparison",className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs(vt,{className:"border-red-200 dark:border-red-800",children:[u.jsx(pn,{className:"pb-2",children:u.jsxs(_n,{className:"text-base flex items-center gap-2 text-red-700 dark:text-red-400",children:[u.jsx(cp,{className:"w-4 h-4"})," ",O.existingDieselGen]})}),u.jsxs(Ct,{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:O.loadFactor}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(Sn,{variant:Q<30?"destructive":"secondary",children:[Q,"%"]}),Q<30&&u.jsx("span",{className:"text-xs text-red-500",children:O.lowEfficiency})]})]}),u.jsx(ES,{value:Q,className:"h-2"}),u.jsx(Dl,{}),u.jsxs("div",{className:"space-y-2 text-sm",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-muted-foreground",children:O.engineConsumption}),u.jsxs("span",{className:"font-mono",children:[i.dgFuelConsumptionHourly," L/hr"]})]}),u.jsxs("div",{className:"flex justify-between text-amber-600",children:[u.jsx("span",{children:O.theftLossOverhead}),u.jsxs("span",{className:"font-mono",children:["+",(i.dgFuelWithTheft-i.dgFuelConsumptionHourly).toFixed(2)," L/hr"]})]})]}),u.jsx("div",{className:"bg-red-50 dark:bg-red-950 rounded-lg p-3 mt-2",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"font-medium",children:O.dailyOpex}),u.jsxs("span",{className:"text-xl font-bold text-red-600",children:["$",i.dgDailyCost]})]})})]})]}),u.jsxs(vt,{className:"border-green-200 dark:border-green-800",children:[u.jsxs(pn,{className:"pb-2",children:[u.jsxs(_n,{className:"text-base flex items-center gap-2 text-green-700 dark:text-green-400",children:[u.jsx(Di,{className:"w-4 h-4"})," ",O.proposedFuelCell]}),V&&u.jsxs(Zr,{children:[V.manufacturer," ",V.model]})]}),u.jsxs(Ct,{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:O.systemEfficiency}),u.jsxs(Sn,{variant:"secondary",children:[V?.efficiency,"%"]})]}),u.jsx(ES,{value:V?.efficiency||0,className:"h-2"}),u.jsx(Dl,{}),u.jsxs("div",{className:"space-y-2 text-sm",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-muted-foreground",children:O.fuelConsumption}),u.jsxs("span",{className:"font-mono",children:[i.fuelConsumptionHourly," kg/hr"]})]}),u.jsxs("div",{className:"flex justify-between text-green-600",children:[u.jsx("span",{children:O.theftRisk}),u.jsxs("span",{className:"font-mono flex items-center gap-1",children:[u.jsx(SB,{className:"w-3 h-3"})," ",O.cannotSiphon]})]})]}),u.jsx("div",{className:"bg-green-50 dark:bg-green-950 rounded-lg p-3 mt-2",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"font-medium",children:O.dailyOpex}),u.jsxs("span",{className:"text-xl font-bold text-green-600",children:["$",i.fcDailyCost]})]})})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[u.jsxs(vt,{className:"text-center p-4",children:[u.jsx(ire,{className:"w-6 h-6 mx-auto text-primary mb-2"}),u.jsx("p",{className:"text-xs text-muted-foreground uppercase",children:O.dailySavings}),u.jsxs("p",{className:`text-xl font-bold ${i.dailySavings>0?"text-green-600":"text-red-600"}`,children:["$",i.dailySavings]})]}),u.jsxs(vt,{className:"text-center p-4",children:[u.jsx(ax,{className:"w-6 h-6 mx-auto text-primary mb-2"}),u.jsx("p",{className:"text-xs text-muted-foreground uppercase",children:O.annualSavings}),u.jsxs("p",{className:`text-xl font-bold ${i.annualSavings>0?"text-green-600":"text-red-600"}`,children:["$",i.annualSavings.toLocaleString()]})]}),u.jsxs(vt,{className:"text-center p-4",children:[u.jsx(wy,{className:"w-6 h-6 mx-auto text-primary mb-2"}),u.jsx("p",{className:"text-xs text-muted-foreground uppercase",children:O.paybackPeriod}),u.jsx("p",{className:`text-xl font-bold ${i.paybackStatus==="excellent"?"text-green-600":i.paybackStatus==="diesel-favorable"?"text-red-600":""}`,children:i.paybackYears===null?i.paybackStatus==="diesel-favorable"?O.dgBetter:"N/A":`${i.paybackYears} yrs`}),i.paybackStatus&&u.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:i.paybackStatus})]}),u.jsxs(vt,{className:"text-center p-4",children:[u.jsx(sx,{className:"w-6 h-6 mx-auto text-green-500 mb-2"}),u.jsx("p",{className:"text-xs text-muted-foreground uppercase",children:O.co2Avoided}),u.jsxs("p",{className:"text-xl font-bold text-green-600",children:[i.co2Savings.toLocaleString()," kg/yr"]})]})]})]}),u.jsxs(Fs,{value:"sizing",className:"space-y-4",children:[i.needsMultipleStacks&&u.jsx(vt,{className:"border-blue-400 dark:border-blue-600 bg-blue-50 dark:bg-blue-950",children:u.jsx(Ct,{className:"pt-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(Di,{className:"w-6 h-6 text-blue-500 flex-shrink-0 mt-0.5"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h4",{className:"font-semibold text-blue-700 dark:text-blue-400",children:O.multipleStacksConfig}),u.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-300 mt-1",children:O.multipleStacksDesc}),u.jsxs("div",{className:"mt-3 grid grid-cols-3 gap-4 text-sm",children:[u.jsxs("div",{className:"bg-white/50 dark:bg-black/20 rounded p-2 text-center",children:[u.jsx("span",{className:"text-xs text-muted-foreground block",children:O.perUnitDerated}),u.jsxs("span",{className:"font-mono text-blue-700 dark:text-blue-400",children:[i.fcDeratedPower," kW"]})]}),u.jsxs("div",{className:"bg-white/50 dark:bg-black/20 rounded p-2 text-center",children:[u.jsx("span",{className:"text-xs text-muted-foreground block",children:O.unitsRequired}),u.jsx("span",{className:"font-mono font-bold text-blue-700 dark:text-blue-400",children:i.requiredStackCount})]}),u.jsxs("div",{className:"bg-green-100/50 dark:bg-green-900/30 rounded p-2 text-center",children:[u.jsx("span",{className:"text-xs text-muted-foreground block",children:O.totalDerated}),u.jsxs("span",{className:"font-mono font-bold text-green-700 dark:text-green-400",children:[i.totalDeratedPower," kW"]})]})]})]})]})})}),i.isUndersized&&u.jsx(vt,{className:"border-red-400 dark:border-red-600 bg-red-50 dark:bg-red-950",children:u.jsx(Ct,{className:"pt-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(uA,{className:"w-6 h-6 text-red-500 flex-shrink-0 mt-0.5"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h4",{className:"font-semibold text-red-700 dark:text-red-400",children:O.capacityWarning}),u.jsx("p",{className:"text-sm text-red-600 dark:text-red-300 mt-1",children:O.capacityWarningDesc}),u.jsxs("div",{className:"mt-2 text-sm",children:[u.jsxs("span",{className:"text-muted-foreground",children:[O.capacityShortfall,":"]}),u.jsxs("span",{className:`font-mono font-bold text-red-700 dark:text-red-400 ${C?"mr-2":"ml-2"}`,children:[i.capacityShortfall," kW"]})]})]})]})})}),u.jsxs(vt,{children:[u.jsx(pn,{children:u.jsxs(_n,{className:"flex items-center gap-2",children:[u.jsx(wy,{className:"w-5 h-5"})," ",O.engineeringSizing]})}),u.jsxs(Ct,{children:[u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[u.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950 rounded-lg p-4 text-center",children:[u.jsx("p",{className:"text-xs text-muted-foreground uppercase",children:i.needsMultipleStacks?`${O.totalFcCapacity} (${i.requiredStackCount}x)`:O.fuelCellRated}),u.jsxs("p",{className:"text-2xl font-bold",children:[i.totalRatedPower," kW"]}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:[O.totalDerated,": ",i.totalDeratedPower," kW"]})]}),u.jsxs("div",{className:`rounded-lg p-4 text-center ${i.isUndersized?"bg-red-50 dark:bg-red-950":"bg-green-50 dark:bg-green-950"}`,children:[u.jsx("p",{className:"text-xs text-muted-foreground uppercase",children:O.siteLoad}),u.jsxs("p",{className:"text-2xl font-bold",children:[k.watch("loadKw")," kW"]}),u.jsxs("p",{className:`text-xs ${i.isUndersized?"text-red-600":"text-green-600"}`,children:[O.margin,": ",i.capacityMargin>0?"+":"",i.capacityMargin,"%"]})]}),u.jsxs("div",{className:"bg-amber-50 dark:bg-amber-950 rounded-lg p-4 text-center",children:[u.jsx("p",{className:"text-xs text-muted-foreground uppercase",children:O.parasiticLoss}),u.jsxs("p",{className:"text-2xl font-bold text-amber-600",children:["-",i.parasiticLossKw," kW"]}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:[((V?.parasiticLoss||.08)*100).toFixed(0),"% ",O.fansPumps]})]}),u.jsxs("div",{className:"bg-red-50 dark:bg-red-950 rounded-lg p-4 text-center",children:[u.jsx("p",{className:"text-xs text-muted-foreground uppercase",children:O.tempDerating}),u.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["-",((1-i.deratingFactor)*100).toFixed(0),"%"]}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:["@ ",k.watch("maxTemperature"),"C"]})]})]}),u.jsx(Dl,{className:"my-4"}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"flex justify-between py-2 border-b",children:[u.jsxs("span",{className:"text-muted-foreground flex items-center gap-2",children:[u.jsx(qxe,{className:"w-4 h-4"})," ",O.cableSize]}),u.jsxs("span",{className:"font-mono font-medium",children:[i.cableSizeMm2," mm2"]})]}),u.jsxs("div",{className:"flex justify-between py-2 border-b",children:[u.jsxs("span",{className:"text-muted-foreground flex items-center gap-2",children:[u.jsx(cp,{className:"w-4 h-4"})," ",O.dailyFuel]}),u.jsxs("span",{className:"font-mono font-medium",children:[i.fuelConsumptionDaily," kg"]})]})]})]})]})]}),u.jsx(Fs,{value:"battery",className:"space-y-4",children:u.jsxs(vt,{children:[u.jsxs(pn,{children:[u.jsxs(_n,{className:"flex items-center gap-2",children:[u.jsx(ub,{className:"w-5 h-5"})," ",O.hybridBatteryBuffer]}),u.jsx(Zr,{children:O.batteryBufferDesc})]}),u.jsx(Ct,{children:u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950 rounded-lg p-4 text-center",children:[u.jsx("p",{className:"text-xs text-muted-foreground uppercase",children:O.capacity}),u.jsxs("p",{className:"text-2xl font-bold",children:[i.batteryCapacityKwh," kWh"]})]}),u.jsxs("div",{className:"bg-green-50 dark:bg-green-950 rounded-lg p-4 text-center",children:[u.jsx("p",{className:"text-xs text-muted-foreground uppercase",children:O.ampHours}),u.jsxs("p",{className:"text-2xl font-bold",children:[i.batteryCapacityAh," Ah"]}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:["@ ",k.watch("systemVoltage"),"V"]})]}),u.jsxs("div",{className:"bg-purple-50 dark:bg-purple-950 rounded-lg p-4 text-center",children:[u.jsx("p",{className:"text-xs text-muted-foreground uppercase",children:O.configuration}),u.jsx("p",{className:"text-2xl font-bold",children:i.batteryStrings}),u.jsx("p",{className:"text-xs text-muted-foreground",children:O.stringsOf})]})]})})]})}),u.jsx(Fs,{value:"logistics",className:"space-y-4",children:u.jsxs(vt,{children:[u.jsxs(pn,{children:[u.jsxs(_n,{className:"flex items-center gap-2",children:[u.jsx(ore,{className:"w-5 h-5"})," ",O.logisticsPlanning]}),u.jsxs(Zr,{children:[O.hydrogenSupply," ",k.watch("refuelingCycleDays")," ",O.daysAutonomy]})]}),u.jsx(Ct,{children:u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsxs("div",{className:"bg-cyan-50 dark:bg-cyan-950 rounded-lg p-4 text-center",children:[u.jsx("p",{className:"text-xs text-muted-foreground uppercase",children:O.totalH2Required}),u.jsxs("p",{className:"text-2xl font-bold",children:[i.totalH2Required," kg"]})]}),u.jsxs("div",{className:"bg-orange-50 dark:bg-orange-950 rounded-lg p-4 text-center",children:[u.jsx("p",{className:"text-xs text-muted-foreground uppercase",children:O.cylinders}),u.jsx("p",{className:"text-2xl font-bold",children:i.cylindersRequired}),u.jsx("p",{className:"text-xs text-muted-foreground",children:O.units})]}),u.jsxs("div",{className:"bg-pink-50 dark:bg-pink-950 rounded-lg p-4 text-center",children:[u.jsx("p",{className:"text-xs text-muted-foreground uppercase",children:O.bundles}),u.jsx("p",{className:"text-2xl font-bold",children:i.bundlesRequired}),u.jsx("p",{className:"text-xs text-muted-foreground",children:O.bundlesLabel})]})]})})]})})]}):u.jsx(vt,{className:"h-96 flex items-center justify-center",children:u.jsxs("div",{className:"text-center text-muted-foreground",children:[u.jsx(wy,{className:"w-16 h-16 mx-auto mb-4 opacity-20"}),u.jsx("p",{className:"text-lg",children:O.configureInputs})]})}),i&&u.jsxs("div",{className:"space-y-4 mt-4",children:[u.jsxs(bt,{onClick:Y,disabled:e.isPending,className:"w-full",size:"lg",variant:"default","data-testid":"button-save",children:[e.isPending?u.jsx(Ds,{className:`w-4 h-4 animate-spin ${C?"ml-2":"mr-2"}`}):u.jsx(dre,{className:`w-4 h-4 ${C?"ml-2":"mr-2"}`}),O.saveProject]}),u.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[u.jsxs(bt,{onClick:U,disabled:S,variant:"outline","data-testid":"button-download-pdf",children:[S?u.jsx(Ds,{className:`w-4 h-4 animate-spin ${C?"ml-2":"mr-2"}`}):u.jsx(S$,{className:`w-4 h-4 ${C?"ml-2":"mr-2"}`}),O.downloadPdf]}),u.jsxs(bt,{onClick:Z,disabled:S,variant:"outline","data-testid":"button-download-csv",children:[S?u.jsx(Ds,{className:`w-4 h-4 animate-spin ${C?"ml-2":"mr-2"}`}):u.jsx(S$,{className:`w-4 h-4 ${C?"ml-2":"mr-2"}`}),O.downloadCsv]}),u.jsxs(bt,{onClick:q,disabled:S,variant:"outline","data-testid":"button-diagram",children:[S?u.jsx(Ds,{className:`w-4 h-4 animate-spin ${C?"ml-2":"mr-2"}`}):u.jsx(cbe,{className:`w-4 h-4 ${C?"ml-2":"mr-2"}`}),O.downloadDiagram]})]}),u.jsxs(vt,{className:"border-slate-200 dark:border-slate-700",children:[u.jsx(pn,{className:"pb-2",children:u.jsxs(_n,{className:"text-sm flex items-center gap-2",children:[u.jsx(wj,{className:"w-4 h-4"}),O.aiConsultant]})}),u.jsxs(Ct,{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:O.analysisType}),u.jsxs(jl,{value:l,onValueChange:$=>c($),children:[u.jsx(nl,{"data-testid":"select-ai-task",children:u.jsx(Il,{})}),u.jsxs(rl,{children:[u.jsx(Ir,{value:"analysis",children:O.engineeringAnalysis}),u.jsx(Ir,{value:"email",children:O.managerEmail}),u.jsx(Ir,{value:"action_plan",children:O.actionPlan})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:O.languageLabel}),u.jsxs(jl,{value:d,onValueChange:$=>f($),children:[u.jsx(nl,{"data-testid":"select-ai-language",children:u.jsx(Il,{})}),u.jsxs(rl,{children:[u.jsx(Ir,{value:"english",children:O.english}),u.jsx(Ir,{value:"arabic",children:O.arabic})]})]})]})]}),u.jsxs(bt,{onClick:W,disabled:S,className:"w-full","data-testid":"button-ai-analysis",children:[S?u.jsx(Ds,{className:`w-4 h-4 animate-spin ${C?"ml-2":"mr-2"}`}):u.jsx(wj,{className:`w-4 h-4 ${C?"ml-2":"mr-2"}`}),O.generateAiAnalysis]})]})]}),a&&u.jsxs(vt,{className:"border-blue-200 dark:border-blue-800",children:[u.jsx(pn,{className:"pb-2",children:u.jsxs(_n,{className:"text-base flex items-center gap-2 text-blue-700 dark:text-blue-400",children:[u.jsx(wj,{className:"w-4 h-4"})," ",O.aiPoweredAnalysis]})}),u.jsx(Ct,{children:u.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none whitespace-pre-wrap",children:a})})]})]})]})]})]}),u.jsx(BN,{})]})}const OGe="modulepreload",jGe=function(t){return"/"+t},_Q={},IGe=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let c=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};var a=c;document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");i=c(n.map(d=>{if(d=jGe(d),d in _Q)return;_Q[d]=!0;const f=d.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${h}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":OGe,f||(m.as="script"),m.crossOrigin="",m.href=d,l&&m.setAttribute("nonce",l),document.head.appendChild(m),f)return new Promise((v,b)=>{m.addEventListener("load",v),m.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})},rhe=N.forwardRef(({className:t,...e},n)=>u.jsx("div",{className:"relative w-full overflow-auto",children:u.jsx("table",{ref:n,className:Et("w-full caption-bottom text-sm",t),...e})}));rhe.displayName="Table";const ihe=N.forwardRef(({className:t,...e},n)=>u.jsx("thead",{ref:n,className:Et("[&_tr]:border-b",t),...e}));ihe.displayName="TableHeader";const she=N.forwardRef(({className:t,...e},n)=>u.jsx("tbody",{ref:n,className:Et("[&_tr:last-child]:border-0",t),...e}));she.displayName="TableBody";const kGe=N.forwardRef(({className:t,...e},n)=>u.jsx("tfoot",{ref:n,className:Et("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));kGe.displayName="TableFooter";const yy=N.forwardRef(({className:t,...e},n)=>u.jsx("tr",{ref:n,className:Et("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));yy.displayName="TableRow";const Yh=N.forwardRef(({className:t,...e},n)=>u.jsx("th",{ref:n,className:Et("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Yh.displayName="TableHead";const ea=N.forwardRef(({className:t,...e},n)=>u.jsx("td",{ref:n,className:Et("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));ea.displayName="TableCell";const DGe=N.forwardRef(({className:t,...e},n)=>u.jsx("caption",{ref:n,className:Et("mt-4 text-sm text-muted-foreground",t),...e}));DGe.displayName="TableCaption";function zm({className:t,...e}){return u.jsx("div",{className:Et("animate-pulse rounded-md bg-muted",t),...e})}const LGe=N.lazy(()=>IGe(()=>Promise.resolve().then(()=>Sst),void 0).then(t=>({default:t.FuelCell3DViewer})));function FGe(){const{data:t,isLoading:e}=Hde(),[n,r]=N.useState(""),[i,s]=N.useState(!1),[a,o]=N.useState(null),[l,c]=N.useState(!0),{t:d,language:f,isRTL:h}=Na(),v={en:{inventory:"Inventory",manageInventory:"Manage your fuel cell equipment inventory",interactive3D:"Interactive 3D Configuration Viewer",loading3D:"Loading 3D viewer...",searchPlaceholder:"Search by manufacturer or model...",addFuelCell:"Add Fuel Cell",manufacturer:"Manufacturer",model:"Model",type:"Type",ratedPower:"Rated Power",efficiency:"Efficiency",outputVoltage:"Output Voltage",fuelConsumption:"Fuel Consumption",fuelType:"Fuel Type",capex:"CAPEX",source:"Source",technicalDetails:"Technical Details",datasheet:"Datasheet",noDatasheet:"No datasheet",noFuelCells:"No fuel cells found. Add your first fuel cell to get started."},ar:{inventory:"",manageInventory:"    ",interactive3D:"    ",loading3D:"    ...",searchPlaceholder:"    ...",addFuelCell:"  ",manufacturer:" ",model:"",type:"",ratedPower:" ",efficiency:"",outputVoltage:" ",fuelConsumption:" ",fuelType:" ",capex:" ",source:"",technicalDetails:" ",datasheet:" ",noDatasheet:"   ",noFuelCells:"     .     ."}}[f],b=t?.filter(y=>y.manufacturer.toLowerCase().includes(n.toLowerCase())||y.model.toLowerCase().includes(n.toLowerCase()));return u.jsxs("div",{className:`min-h-screen bg-[#F8FAFC] flex relative overflow-hidden ${h?"rtl":"ltr"}`,children:[u.jsx(Eb,{}),u.jsx(No,{}),u.jsxs("main",{className:"flex-1 p-4 sm:p-6 lg:p-8 lg:ml-20 relative z-10",children:[u.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6 sm:mb-8",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-slate-900",children:v.inventory}),u.jsx("p",{className:"text-sm sm:text-base text-slate-500 mt-1",children:v.manageInventory})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(d8,{page:"catalog"}),u.jsx(UGe,{open:i,onOpenChange:s})]})]}),u.jsxs(ehe,{open:l,onOpenChange:c,className:"mb-6",children:[u.jsx("div",{className:"flex items-center justify-between mb-2",children:u.jsx(the,{asChild:!0,children:u.jsxs(bt,{variant:"ghost",className:"gap-2 px-2","data-testid":"button-toggle-3d-viewer",children:[u.jsx(wB,{className:"w-4 h-4"}),u.jsx("span",{className:"font-medium",children:v.interactive3D}),l?u.jsx(aA,{className:"w-4 h-4"}):u.jsx(Wg,{className:"w-4 h-4"})]})})}),u.jsx(nhe,{children:u.jsx(N.Suspense,{fallback:u.jsx("div",{className:"h-[500px] bg-slate-100 rounded-xl flex items-center justify-center",children:u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(Ds,{className:"w-8 h-8 animate-spin text-primary"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:v.loading3D})]})}),children:u.jsx(LGe,{})})})]}),u.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-border/50 overflow-hidden",children:[u.jsxs("div",{className:"p-4 border-b border-border/50 bg-slate-50/50 flex items-center justify-between",children:[u.jsxs("div",{className:"relative w-72",children:[u.jsx(MB,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),u.jsx(ln,{placeholder:v.searchPlaceholder,className:"pl-9 bg-white",value:n,onChange:y=>r(y.target.value),"data-testid":"input-search-catalog"})]}),u.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",b?.length||0," items"]})]}),u.jsxs(rhe,{children:[u.jsx(ihe,{children:u.jsxs(yy,{className:"hover:bg-slate-50/50",children:[u.jsx(Yh,{className:"w-[40px]"}),u.jsx(Yh,{className:"w-[150px]",children:v.manufacturer}),u.jsx(Yh,{children:v.model}),u.jsx(Yh,{children:v.type}),u.jsx(Yh,{className:"text-right",children:v.ratedPower}),u.jsx(Yh,{className:"text-right",children:v.efficiency}),u.jsx(Yh,{className:"w-[120px]",children:v.datasheet})]})}),u.jsx(she,{children:e?Array(5).fill(0).map((y,w)=>u.jsxs(yy,{children:[u.jsx(ea,{children:u.jsx(zm,{className:"h-4 w-4"})}),u.jsx(ea,{children:u.jsx(zm,{className:"h-4 w-24"})}),u.jsx(ea,{children:u.jsx(zm,{className:"h-4 w-32"})}),u.jsx(ea,{children:u.jsx(zm,{className:"h-4 w-20"})}),u.jsx(ea,{children:u.jsx(zm,{className:"h-4 w-12 ml-auto"})}),u.jsx(ea,{children:u.jsx(zm,{className:"h-4 w-12 ml-auto"})}),u.jsx(ea,{children:u.jsx(zm,{className:"h-4 w-16"})})]},w)):b?.length===0?u.jsx(yy,{children:u.jsx(ea,{colSpan:7,className:"h-24 text-center text-muted-foreground",children:v.noFuelCells})}):b?.map(y=>u.jsxs(N.Fragment,{children:[u.jsxs(yy,{className:"group cursor-pointer hover-elevate",onClick:()=>o(a===y.id?null:y.id),"data-testid":`row-fuel-cell-${y.id}`,children:[u.jsx(ea,{className:"w-[40px]",children:u.jsx(bt,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:w=>{w.stopPropagation(),o(a===y.id?null:y.id)},children:a===y.id?u.jsx(aA,{className:"h-4 w-4"}):u.jsx(Wg,{className:"h-4 w-4"})})}),u.jsx(ea,{className:"font-medium text-slate-900",children:y.manufacturer}),u.jsx(ea,{children:y.model}),u.jsx(ea,{children:u.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:y.type})}),u.jsx(ea,{className:"text-right font-mono",children:y.ratedPowerKw}),u.jsxs(ea,{className:"text-right font-mono",children:[y.efficiency,"%"]}),u.jsx(ea,{children:u.jsxs("div",{className:"flex items-center gap-2",children:[y.datasheetUrl&&u.jsx("a",{href:y.datasheetUrl,target:"_blank",rel:"noreferrer",className:"text-primary hover:text-blue-700",onClick:w=>w.stopPropagation(),title:"View Datasheet",children:u.jsx(nd,{className:"w-4 h-4"})}),y.referenceUrl&&u.jsx("a",{href:y.referenceUrl,target:"_blank",rel:"noreferrer",className:"text-green-600 hover:text-green-700",onClick:w=>w.stopPropagation(),title:"View Reference",children:u.jsx(g_,{className:"w-4 h-4"})})]})})]}),a===y.id&&u.jsx(yy,{className:"bg-slate-50/50",children:u.jsx(ea,{colSpan:7,className:"p-4",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-3",children:[u.jsxs("h4",{className:"font-semibold text-slate-900 flex items-center gap-2",children:[u.jsx(By,{className:"w-4 h-4 text-primary"}),"Telecom Application"]}),u.jsx("p",{className:"text-sm text-slate-600",children:y.telecomApplication||"General backup power application. Suitable for various telecom infrastructure."}),y.referenceUrl&&u.jsxs("a",{href:y.referenceUrl,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 text-sm text-primary hover:underline","data-testid":`link-reference-${y.id}`,children:[u.jsx(g_,{className:"w-3 h-3"}),"View manufacturer reference"]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h4",{className:"font-semibold text-slate-900",children:"Technical Details"}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[u.jsx("div",{className:"text-slate-500",children:"Output Voltage:"}),u.jsxs("div",{className:"font-mono",children:[y.outputVoltageV,"V DC"]}),u.jsx("div",{className:"text-slate-500",children:"Power Range:"}),u.jsxs("div",{className:"font-mono",children:[y.minPowerKw||0," - ",y.maxPowerKw||y.ratedPowerKw," kW"]}),u.jsx("div",{className:"text-slate-500",children:"Fuel Consumption:"}),u.jsxs("div",{className:"font-mono",children:[y.fuelConsumptionPerKwh," kg/kWh"]}),u.jsx("div",{className:"text-slate-500",children:"Fuel Type:"}),u.jsx("div",{children:y.fuelType}),u.jsx("div",{className:"text-slate-500",children:"CAPEX:"}),u.jsxs("div",{className:"font-mono",children:["$",y.capexPerKw,"/kW"]}),u.jsx("div",{className:"text-slate-500",children:"Source:"}),u.jsx("div",{className:"text-xs text-muted-foreground",children:y.source})]})]})]})})})]},y.id))})]})]})]}),u.jsx(BN,{})]})}function UGe({open:t,onOpenChange:e}){const{toast:n}=hd(),r=vHe(),i=zde({resolver:$de(TRe),defaultValues:{manufacturer:"",model:"",type:"Hydrogen PEM",ratedPowerKw:0,outputVoltageV:48,fuelConsumptionPerKwh:0,efficiency:0}});function s(a){r.mutate(a,{onSuccess:()=>{n({title:"Success",description:"Equipment added to inventory."}),e(!1),i.reset()},onError:o=>{const l=o instanceof Error?o.message:"An unexpected error occurred while adding the equipment.";n({title:"Error",description:l,variant:"destructive"})}})}return u.jsxs(Xg,{open:t,onOpenChange:e,children:[u.jsx(jz,{asChild:!0,children:u.jsxs(bt,{className:"bg-primary hover:bg-blue-600","data-testid":"button-add-fuel-cell",children:[u.jsx($4,{className:"w-4 h-4 mr-2"})," Add Equipment"]})}),u.jsxs(wp,{className:"sm:max-w-[600px]",children:[u.jsxs(_p,{children:[u.jsx(Ep,{children:"Add Equipment to Inventory"}),u.jsx(Iz,{children:"Enter the technical specifications from the manufacturer's datasheet."})]}),u.jsx(U2,{...i,children:u.jsxs("form",{onSubmit:i.handleSubmit(s),className:"space-y-4 py-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx(ra,{control:i.control,name:"manufacturer",render:({field:a})=>u.jsxs(Os,{children:[u.jsx(js,{children:"Manufacturer"}),u.jsx(Is,{children:u.jsx(ln,{placeholder:"e.g. Ballard",...a})}),u.jsx(Xh,{})]})}),u.jsx(ra,{control:i.control,name:"model",render:({field:a})=>u.jsxs(Os,{children:[u.jsx(js,{children:"Model Name"}),u.jsx(Is,{children:u.jsx(ln,{placeholder:"e.g. FCgen-1020",...a})}),u.jsx(Xh,{})]})})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsx(ra,{control:i.control,name:"ratedPowerKw",render:({field:a})=>u.jsxs(Os,{children:[u.jsx(js,{children:"Rated Power (kW)"}),u.jsx(Is,{children:u.jsx(ln,{type:"number",step:"0.1",...a,onChange:o=>a.onChange(parseFloat(o.target.value))})}),u.jsx(Xh,{})]})}),u.jsx(ra,{control:i.control,name:"outputVoltageV",render:({field:a})=>u.jsxs(Os,{children:[u.jsx(js,{children:"Voltage (V)"}),u.jsx(Is,{children:u.jsx(ln,{type:"number",step:"1",...a,onChange:o=>a.onChange(parseFloat(o.target.value))})}),u.jsx(Xh,{})]})}),u.jsx(ra,{control:i.control,name:"efficiency",render:({field:a})=>u.jsxs(Os,{children:[u.jsx(js,{children:"Efficiency (%)"}),u.jsx(Is,{children:u.jsx(ln,{type:"number",step:"0.1",...a,onChange:o=>a.onChange(parseFloat(o.target.value))})}),u.jsx(Xh,{})]})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx(ra,{control:i.control,name:"type",render:({field:a})=>u.jsxs(Os,{children:[u.jsx(js,{children:"Technology Type"}),u.jsx(Is,{children:u.jsx(ln,{placeholder:"e.g. PEM, Methanol",...a})}),u.jsx(Xh,{})]})}),u.jsx(ra,{control:i.control,name:"fuelConsumptionPerKwh",render:({field:a})=>u.jsxs(Os,{children:[u.jsx(js,{children:"Fuel Cons. (kg/kWh)"}),u.jsx(Is,{children:u.jsx(ln,{type:"number",step:"0.001",...a,onChange:o=>a.onChange(parseFloat(o.target.value))})}),u.jsx(Xh,{})]})})]}),u.jsxs(Sp,{children:[u.jsx(bt,{type:"button",variant:"outline",onClick:()=>e(!1),children:"Cancel"}),u.jsx(bt,{type:"submit",disabled:r.isPending,children:r.isPending?"Saving...":"Save Equipment"})]})]})})]})]})}const kR="182",cg={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},ug={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},ahe=0,Z5=1,ohe=2,BGe=3,lhe=0,Zy=1,Z1=2,Eg=3,Gf=0,Ja=1,Ll=2,ed=0,Lg=1,Q5=2,J5=3,eU=4,che=5,np=100,uhe=101,dhe=102,fhe=103,hhe=104,phe=200,mhe=201,ghe=202,vhe=203,VC=204,$C=205,yhe=206,xhe=207,bhe=208,whe=209,_he=210,She=211,Ehe=212,Mhe=213,The=214,HC=0,WC=1,GC=2,o0=3,qC=4,XC=5,YC=6,KC=7,DE=0,Ahe=1,Che=2,Gl=0,y8=1,x8=2,b8=3,DR=4,w8=5,_8=6,S8=7,tU="attached",Phe="detached",LR=300,ld=301,jp=302,AS=303,CS=304,Nb=306,PS=1e3,Po=1001,NS=1002,Gi=1003,E8=1004,zGe=1004,Oy=1005,VGe=1005,si=1006,Q1=1007,$Ge=1007,$u=1008,HGe=1008,Xa=1009,M8=1010,T8=1011,Hx=1012,FR=1013,Xl=1014,Qa=1015,cd=1016,UR=1017,BR=1018,Wx=1020,A8=35902,C8=35899,P8=1021,N8=1022,Ea=1023,ud=1026,ip=1027,zR=1028,LE=1029,l0=1030,VR=1031,WGe=1032,$R=1033,J1=33776,e_=33777,t_=33778,n_=33779,ZC=35840,QC=35841,JC=35842,eP=35843,tP=36196,nP=37492,rP=37496,iP=37488,sP=37489,aP=37490,oP=37491,lP=37808,cP=37809,uP=37810,dP=37811,fP=37812,hP=37813,pP=37814,mP=37815,gP=37816,vP=37817,yP=37818,xP=37819,bP=37820,wP=37821,_P=36492,SP=36494,EP=36495,MP=36283,TP=36284,AP=36285,CP=36286,Nhe=2200,Rhe=2201,Ohe=2202,RS=2300,PP=2301,$2=2302,Mg=2400,Tg=2401,OS=2402,HR=2500,R8=2501,GGe=0,qGe=1,XGe=2,jhe=3200,YGe=3201,KGe=3202,ZGe=3203,Gp=0,Ihe=1,wf="",Eo="srgb",c0="srgb-linear",jS="linear",Pr="srgb",QGe="",JGe="rg",eqe="ga",tqe=0,dg=7680,nqe=7681,rqe=7682,iqe=7683,sqe=34055,aqe=34056,oqe=5386,lqe=512,cqe=513,uqe=514,dqe=515,fqe=516,hqe=517,pqe=518,nU=519,khe=512,Dhe=513,Lhe=514,WR=515,Fhe=516,Uhe=517,GR=518,Bhe=519,IS=35044,mqe=35048,gqe=35040,vqe=35045,yqe=35049,xqe=35041,bqe=35046,wqe=35050,_qe=35042,Sqe="100",rU="300 es",al=2e3,Gx=2001,Eqe={COMPUTE:"compute",RENDER:"render"},Mqe={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},Tqe={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};function zhe(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const Aqe={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function jy(t,e){return new Aqe[t](e)}function Vhe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function kS(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function $he(){const t=kS("canvas");return t.style.display="block",t}const SQ={};let Ip=null;function Cqe(t){Ip=t}function Pqe(){return Ip}function DS(...t){const e="THREE."+t.shift();Ip?Ip("log",e,...t):console.log(e,...t)}function At(...t){const e="THREE."+t.shift();Ip?Ip("warn",e,...t):console.warn(e,...t)}function dn(...t){const e="THREE."+t.shift();Ip?Ip("error",e,...t):console.error(e,...t)}function qx(...t){const e=t.join(" ");e in SQ||(SQ[e]=!0,At(...t))}function Nqe(t,e,n){return new Promise(function(r,i){function s(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:i();break;case t.TIMEOUT_EXPIRED:setTimeout(s,n);break;default:r()}}setTimeout(s,n)})}let vd=class{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){const r=this._listeners;return r===void 0?!1:r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){const r=this._listeners;if(r===void 0)return;const i=r[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){const n=this._listeners;if(n===void 0)return;const r=n[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,a=i.length;s<a;s++)i[s].call(this,e);e.target=null}}};const ga=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let EQ=1234567;const Fg=Math.PI/180,Xx=180/Math.PI;function dl(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(ga[t&255]+ga[t>>8&255]+ga[t>>16&255]+ga[t>>24&255]+"-"+ga[e&255]+ga[e>>8&255]+"-"+ga[e>>16&15|64]+ga[e>>24&255]+"-"+ga[n&63|128]+ga[n>>8&255]+"-"+ga[n>>16&255]+ga[n>>24&255]+ga[r&255]+ga[r>>8&255]+ga[r>>16&255]+ga[r>>24&255]).toLowerCase()}function Tn(t,e,n){return Math.max(e,Math.min(n,t))}function O8(t,e){return(t%e+e)%e}function Rqe(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function Oqe(t,e,n){return t!==e?(n-t)/(e-t):0}function r_(t,e,n){return(1-n)*t+n*e}function jqe(t,e,n,r){return r_(t,e,1-Math.exp(-n*r))}function Iqe(t,e=1){return e-Math.abs(O8(t,e*2)-e)}function kqe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function Dqe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function Lqe(t,e){return t+Math.floor(Math.random()*(e-t+1))}function Fqe(t,e){return t+Math.random()*(e-t)}function Uqe(t){return t*(.5-Math.random())}function Bqe(t){t!==void 0&&(EQ=t);let e=EQ+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function zqe(t){return t*Fg}function Vqe(t){return t*Xx}function $qe(t){return(t&t-1)===0&&t!==0}function Hqe(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function Wqe(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function Gqe(t,e,n,r,i){const s=Math.cos,a=Math.sin,o=s(n/2),l=a(n/2),c=s((e+r)/2),d=a((e+r)/2),f=s((e-r)/2),h=a((e-r)/2),m=s((r-e)/2),v=a((r-e)/2);switch(i){case"XYX":t.set(o*d,l*f,l*h,o*c);break;case"YZY":t.set(l*h,o*d,l*f,o*c);break;case"ZXZ":t.set(l*f,l*h,o*d,o*c);break;case"XZX":t.set(o*d,l*v,l*m,o*c);break;case"YXY":t.set(l*m,o*d,l*v,o*c);break;case"ZYZ":t.set(l*v,l*m,o*d,o*c);break;default:At("MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Ya(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Vn(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const S1={DEG2RAD:Fg,RAD2DEG:Xx,generateUUID:dl,clamp:Tn,euclideanModulo:O8,mapLinear:Rqe,inverseLerp:Oqe,lerp:r_,damp:jqe,pingpong:Iqe,smoothstep:kqe,smootherstep:Dqe,randInt:Lqe,randFloat:Fqe,randFloatSpread:Uqe,seededRandom:Bqe,degToRad:zqe,radToDeg:Vqe,isPowerOfTwo:$qe,ceilPowerOfTwo:Hqe,floorPowerOfTwo:Wqe,setQuaternionFromProperEuler:Gqe,normalize:Vn,denormalize:Ya};class Ge{constructor(e=0,n=0){Ge.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Tn(this.x,e.x,n.x),this.y=Tn(this.y,e.y,n.y),this}clampScalar(e,n){return this.x=Tn(this.x,e,n),this.y=Tn(this.y,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Tn(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Tn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,a=this.y-e.y;return this.x=s*r-a*i+e.x,this.y=s*i+a*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Ma{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,a,o){let l=r[i+0],c=r[i+1],d=r[i+2],f=r[i+3],h=s[a+0],m=s[a+1],v=s[a+2],b=s[a+3];if(o<=0){e[n+0]=l,e[n+1]=c,e[n+2]=d,e[n+3]=f;return}if(o>=1){e[n+0]=h,e[n+1]=m,e[n+2]=v,e[n+3]=b;return}if(f!==b||l!==h||c!==m||d!==v){let y=l*h+c*m+d*v+f*b;y<0&&(h=-h,m=-m,v=-v,b=-b,y=-y);let w=1-o;if(y<.9995){const S=Math.acos(y),M=Math.sin(S);w=Math.sin(w*S)/M,o=Math.sin(o*S)/M,l=l*w+h*o,c=c*w+m*o,d=d*w+v*o,f=f*w+b*o}else{l=l*w+h*o,c=c*w+m*o,d=d*w+v*o,f=f*w+b*o;const S=1/Math.sqrt(l*l+c*c+d*d+f*f);l*=S,c*=S,d*=S,f*=S}}e[n]=l,e[n+1]=c,e[n+2]=d,e[n+3]=f}static multiplyQuaternionsFlat(e,n,r,i,s,a){const o=r[i],l=r[i+1],c=r[i+2],d=r[i+3],f=s[a],h=s[a+1],m=s[a+2],v=s[a+3];return e[n]=o*v+d*f+l*m-c*h,e[n+1]=l*v+d*h+c*f-o*m,e[n+2]=c*v+d*m+o*h-l*f,e[n+3]=d*v-o*f-l*h-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,s=e._z,a=e._order,o=Math.cos,l=Math.sin,c=o(r/2),d=o(i/2),f=o(s/2),h=l(r/2),m=l(i/2),v=l(s/2);switch(a){case"XYZ":this._x=h*d*f+c*m*v,this._y=c*m*f-h*d*v,this._z=c*d*v+h*m*f,this._w=c*d*f-h*m*v;break;case"YXZ":this._x=h*d*f+c*m*v,this._y=c*m*f-h*d*v,this._z=c*d*v-h*m*f,this._w=c*d*f+h*m*v;break;case"ZXY":this._x=h*d*f-c*m*v,this._y=c*m*f+h*d*v,this._z=c*d*v+h*m*f,this._w=c*d*f-h*m*v;break;case"ZYX":this._x=h*d*f-c*m*v,this._y=c*m*f+h*d*v,this._z=c*d*v-h*m*f,this._w=c*d*f+h*m*v;break;case"YZX":this._x=h*d*f+c*m*v,this._y=c*m*f+h*d*v,this._z=c*d*v-h*m*f,this._w=c*d*f-h*m*v;break;case"XZY":this._x=h*d*f-c*m*v,this._y=c*m*f-h*d*v,this._z=c*d*v+h*m*f,this._w=c*d*f+h*m*v;break;default:At("Quaternion: .setFromEuler() encountered an unknown order: "+a)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],a=n[1],o=n[5],l=n[9],c=n[2],d=n[6],f=n[10],h=r+o+f;if(h>0){const m=.5/Math.sqrt(h+1);this._w=.25/m,this._x=(d-l)*m,this._y=(s-c)*m,this._z=(a-i)*m}else if(r>o&&r>f){const m=2*Math.sqrt(1+r-o-f);this._w=(d-l)/m,this._x=.25*m,this._y=(i+a)/m,this._z=(s+c)/m}else if(o>f){const m=2*Math.sqrt(1+o-r-f);this._w=(s-c)/m,this._x=(i+a)/m,this._y=.25*m,this._z=(l+d)/m}else{const m=2*Math.sqrt(1+f-r-o);this._w=(a-i)/m,this._x=(s+c)/m,this._y=(l+d)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<1e-8?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Tn(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,a=e._w,o=n._x,l=n._y,c=n._z,d=n._w;return this._x=r*d+a*o+i*c-s*l,this._y=i*d+a*l+s*o-r*c,this._z=s*d+a*c+r*l-i*o,this._w=a*d-r*o-i*l-s*c,this._onChangeCallback(),this}slerp(e,n){if(n<=0)return this;if(n>=1)return this.copy(e);let r=e._x,i=e._y,s=e._z,a=e._w,o=this.dot(e);o<0&&(r=-r,i=-i,s=-s,a=-a,o=-o);let l=1-n;if(o<.9995){const c=Math.acos(o),d=Math.sin(c);l=Math.sin(l*c)/d,n=Math.sin(n*c)/d,this._x=this._x*l+r*n,this._y=this._y*l+i*n,this._z=this._z*l+s*n,this._w=this._w*l+a*n,this._onChangeCallback()}else this._x=this._x*l+r*n,this._y=this._y*l+i*n,this._z=this._z*l+s*n,this._w=this._w*l+a*n,this.normalize();return this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),s=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),s*Math.sin(n),s*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ie{constructor(e=0,n=0,r=0){ie.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(MQ.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(MQ.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,a=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*a,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*a,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*a,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,a=e.y,o=e.z,l=e.w,c=2*(a*i-o*r),d=2*(o*n-s*i),f=2*(s*r-a*n);return this.x=n+l*c+a*f-o*d,this.y=r+l*d+o*c-s*f,this.z=i+l*f+s*d-a*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Tn(this.x,e.x,n.x),this.y=Tn(this.y,e.y,n.y),this.z=Tn(this.z,e.z,n.z),this}clampScalar(e,n){return this.x=Tn(this.x,e,n),this.y=Tn(this.y,e,n),this.z=Tn(this.z,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Tn(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,a=n.x,o=n.y,l=n.z;return this.x=i*l-s*o,this.y=s*a-r*l,this.z=r*o-i*a,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return oL.copy(this).projectOnVector(e),this.sub(oL)}reflect(e){return this.sub(oL.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Tn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const oL=new ie,MQ=new Ma;class Fn{constructor(e,n,r,i,s,a,o,l,c){Fn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,a,o,l,c)}set(e,n,r,i,s,a,o,l,c){const d=this.elements;return d[0]=e,d[1]=i,d[2]=o,d[3]=n,d[4]=s,d[5]=l,d[6]=r,d[7]=a,d[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,a=r[0],o=r[3],l=r[6],c=r[1],d=r[4],f=r[7],h=r[2],m=r[5],v=r[8],b=i[0],y=i[3],w=i[6],S=i[1],M=i[4],T=i[7],A=i[2],C=i[5],j=i[8];return s[0]=a*b+o*S+l*A,s[3]=a*y+o*M+l*C,s[6]=a*w+o*T+l*j,s[1]=c*b+d*S+f*A,s[4]=c*y+d*M+f*C,s[7]=c*w+d*T+f*j,s[2]=h*b+m*S+v*A,s[5]=h*y+m*M+v*C,s[8]=h*w+m*T+v*j,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],d=e[8];return n*a*d-n*o*c-r*s*d+r*o*l+i*s*c-i*a*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],d=e[8],f=d*a-o*c,h=o*l-d*s,m=c*s-a*l,v=n*f+r*h+i*m;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const b=1/v;return e[0]=f*b,e[1]=(i*c-d*r)*b,e[2]=(o*r-i*a)*b,e[3]=h*b,e[4]=(d*n-i*l)*b,e[5]=(i*s-o*n)*b,e[6]=m*b,e[7]=(r*l-c*n)*b,e[8]=(a*n-r*s)*b,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,a,o){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*a+c*o)+a+e,-i*c,i*l,-i*(-c*a+l*o)+o+n,0,0,1),this}scale(e,n){return this.premultiply(lL.makeScale(e,n)),this}rotate(e){return this.premultiply(lL.makeRotation(-e)),this}translate(e,n){return this.premultiply(lL.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const lL=new Fn,TQ=new Fn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),AQ=new Fn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function qqe(){const t={enabled:!0,workingColorSpace:c0,spaces:{},convert:function(i,s,a){return this.enabled===!1||s===a||!s||!a||(this.spaces[s].transfer===Pr&&(i.r=Lf(i.r),i.g=Lf(i.g),i.b=Lf(i.b)),this.spaces[s].primaries!==this.spaces[a].primaries&&(i.applyMatrix3(this.spaces[s].toXYZ),i.applyMatrix3(this.spaces[a].fromXYZ)),this.spaces[a].transfer===Pr&&(i.r=Qy(i.r),i.g=Qy(i.g),i.b=Qy(i.b))),i},workingToColorSpace:function(i,s){return this.convert(i,this.workingColorSpace,s)},colorSpaceToWorking:function(i,s){return this.convert(i,s,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return i===wf?jS:this.spaces[i].transfer},getToneMappingMode:function(i){return this.spaces[i].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(i,s=this.workingColorSpace){return i.fromArray(this.spaces[s].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,s,a){return i.copy(this.spaces[s].toXYZ).multiply(this.spaces[a].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(i,s){return qx("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),t.workingToColorSpace(i,s)},toWorkingColorSpace:function(i,s){return qx("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),t.colorSpaceToWorking(i,s)}},e=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],r=[.3127,.329];return t.define({[c0]:{primaries:e,whitePoint:r,transfer:jS,toXYZ:TQ,fromXYZ:AQ,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:Eo},outputColorSpaceConfig:{drawingBufferColorSpace:Eo}},[Eo]:{primaries:e,whitePoint:r,transfer:Pr,toXYZ:TQ,fromXYZ:AQ,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:Eo}}}),t}const cr=qqe();function Lf(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function Qy(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let Hv;class Hhe{static getDataURL(e,n="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{Hv===void 0&&(Hv=kS("canvas")),Hv.width=e.width,Hv.height=e.height;const i=Hv.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),r=Hv}return r.toDataURL(n)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=kS("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let a=0;a<s.length;a++)s[a]=Lf(s[a]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(Lf(n[r]/255)*255):n[r]=Lf(n[r]);return{data:n,width:e.width,height:e.height}}else return At("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Xqe=0;class sp{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Xqe++}),this.uuid=dl(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const n=this.data;return typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement?e.set(n.videoWidth,n.videoHeight,0):typeof VideoFrame<"u"&&n instanceof VideoFrame?e.set(n.displayHeight,n.displayWidth,0):n!==null?e.set(n.width,n.height,n.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let a=0,o=i.length;a<o;a++)i[a].isDataTexture?s.push(cL(i[a].image)):s.push(cL(i[a]))}else s=cL(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function cL(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?Hhe.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(At("Texture: Unable to serialize Texture."),{})}let Yqe=0;const uL=new ie;class Si extends vd{constructor(e=Si.DEFAULT_IMAGE,n=Si.DEFAULT_MAPPING,r=Po,i=Po,s=si,a=$u,o=Ea,l=Xa,c=Si.DEFAULT_ANISOTROPY,d=wf){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Yqe++}),this.uuid=dl(),this.name="",this.source=new sp(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=a,this.anisotropy=c,this.format=o,this.internalFormat=null,this.type=l,this.offset=new Ge(0,0),this.repeat=new Ge(1,1),this.center=new Ge(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Fn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=d,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(uL).x}get height(){return this.source.getSize(uL).y}get depth(){return this.source.getSize(uL).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const n in e){const r=e[n];if(r===void 0){At(`Texture.setValues(): parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){At(`Texture.setValues(): property '${n}' does not exist.`);continue}i&&r&&i.isVector2&&r.isVector2||i&&r&&i.isVector3&&r.isVector3||i&&r&&i.isMatrix3&&r.isMatrix3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==LR)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case PS:e.x=e.x-Math.floor(e.x);break;case Po:e.x=e.x<0?0:1;break;case NS:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case PS:e.y=e.y-Math.floor(e.y);break;case Po:e.y=e.y<0?0:1;break;case NS:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Si.DEFAULT_IMAGE=null;Si.DEFAULT_MAPPING=LR;Si.DEFAULT_ANISOTROPY=1;class Wr{constructor(e=0,n=0,r=0,i=1){Wr.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,a=e.elements;return this.x=a[0]*n+a[4]*r+a[8]*i+a[12]*s,this.y=a[1]*n+a[5]*r+a[9]*i+a[13]*s,this.z=a[2]*n+a[6]*r+a[10]*i+a[14]*s,this.w=a[3]*n+a[7]*r+a[11]*i+a[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const l=e.elements,c=l[0],d=l[4],f=l[8],h=l[1],m=l[5],v=l[9],b=l[2],y=l[6],w=l[10];if(Math.abs(d-h)<.01&&Math.abs(f-b)<.01&&Math.abs(v-y)<.01){if(Math.abs(d+h)<.1&&Math.abs(f+b)<.1&&Math.abs(v+y)<.1&&Math.abs(c+m+w-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const M=(c+1)/2,T=(m+1)/2,A=(w+1)/2,C=(d+h)/4,j=(f+b)/4,L=(v+y)/4;return M>T&&M>A?M<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(M),i=C/r,s=j/r):T>A?T<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(T),r=C/i,s=L/i):A<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(A),r=j/s,i=L/s),this.set(r,i,s,n),this}let S=Math.sqrt((y-v)*(y-v)+(f-b)*(f-b)+(h-d)*(h-d));return Math.abs(S)<.001&&(S=1),this.x=(y-v)/S,this.y=(f-b)/S,this.z=(h-d)/S,this.w=Math.acos((c+m+w-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Tn(this.x,e.x,n.x),this.y=Tn(this.y,e.y,n.y),this.z=Tn(this.z,e.z,n.z),this.w=Tn(this.w,e.w,n.w),this}clampScalar(e,n){return this.x=Tn(this.x,e,n),this.y=Tn(this.y,e,n),this.z=Tn(this.z,e,n),this.w=Tn(this.w,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Tn(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class j8 extends vd{constructor(e=1,n=1,r={}){super(),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:si,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},r),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=r.depth,this.scissor=new Wr(0,0,e,n),this.scissorTest=!1,this.viewport=new Wr(0,0,e,n);const i={width:e,height:n,depth:r.depth},s=new Si(i);this.textures=[];const a=r.count;for(let o=0;o<a;o++)this.textures[o]=s.clone(),this.textures[o].isRenderTargetTexture=!0,this.textures[o].renderTarget=this;this._setTextureOptions(r),this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples,this.multiview=r.multiview}_setTextureOptions(e={}){const n={minFilter:si,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(n.mapping=e.mapping),e.wrapS!==void 0&&(n.wrapS=e.wrapS),e.wrapT!==void 0&&(n.wrapT=e.wrapT),e.wrapR!==void 0&&(n.wrapR=e.wrapR),e.magFilter!==void 0&&(n.magFilter=e.magFilter),e.minFilter!==void 0&&(n.minFilter=e.minFilter),e.format!==void 0&&(n.format=e.format),e.type!==void 0&&(n.type=e.type),e.anisotropy!==void 0&&(n.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(n.colorSpace=e.colorSpace),e.flipY!==void 0&&(n.flipY=e.flipY),e.generateMipmaps!==void 0&&(n.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(n.internalFormat=e.internalFormat);for(let r=0;r<this.textures.length;r++)this.textures[r].setValues(n)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,s=this.textures.length;i<s;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=r,this.textures[i].isData3DTexture!==!0&&(this.textures[i].isArrayTexture=this.textures[i].image.depth>1);this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,r=e.textures.length;n<r;n++){this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0,this.textures[n].renderTarget=this;const i=Object.assign({},e.textures[n].image);this.textures[n].source=new sp(i)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class eo extends j8{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class qR extends Si{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Gi,this.minFilter=Gi,this.wrapR=Po,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Kqe extends eo{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new qR(null,e,n,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class XR extends Si{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Gi,this.minFilter=Gi,this.wrapR=Po,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Zqe extends eo{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new XR(null,e,n,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class Ta{constructor(e=new ie(1/0,1/0,1/0),n=new ie(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(Tc.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(Tc.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Tc.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const s=r.getAttribute("position");if(n===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let a=0,o=s.count;a<o;a++)e.isMesh===!0?e.getVertexPosition(a,Tc):Tc.fromBufferAttribute(s,a),Tc.applyMatrix4(e.matrixWorld),this.expandByPoint(Tc);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),TT.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),TT.copy(r.boundingBox)),TT.applyMatrix4(e.matrixWorld),this.union(TT)}const i=e.children;for(let s=0,a=i.length;s<a;s++)this.expandByObject(i[s],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Tc),Tc.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Kw),AT.subVectors(this.max,Kw),Wv.subVectors(e.a,Kw),Gv.subVectors(e.b,Kw),qv.subVectors(e.c,Kw),Lh.subVectors(Gv,Wv),Fh.subVectors(qv,Gv),Vm.subVectors(Wv,qv);let n=[0,-Lh.z,Lh.y,0,-Fh.z,Fh.y,0,-Vm.z,Vm.y,Lh.z,0,-Lh.x,Fh.z,0,-Fh.x,Vm.z,0,-Vm.x,-Lh.y,Lh.x,0,-Fh.y,Fh.x,0,-Vm.y,Vm.x,0];return!dL(n,Wv,Gv,qv,AT)||(n=[1,0,0,0,1,0,0,0,1],!dL(n,Wv,Gv,qv,AT))?!1:(CT.crossVectors(Lh,Fh),n=[CT.x,CT.y,CT.z],dL(n,Wv,Gv,qv,AT))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Tc).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Tc).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(lf[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),lf[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),lf[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),lf[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),lf[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),lf[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),lf[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),lf[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(lf),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const lf=[new ie,new ie,new ie,new ie,new ie,new ie,new ie,new ie],Tc=new ie,TT=new Ta,Wv=new ie,Gv=new ie,qv=new ie,Lh=new ie,Fh=new ie,Vm=new ie,Kw=new ie,AT=new ie,CT=new ie,$m=new ie;function dL(t,e,n,r,i){for(let s=0,a=t.length-3;s<=a;s+=3){$m.fromArray(t,s);const o=i.x*Math.abs($m.x)+i.y*Math.abs($m.y)+i.z*Math.abs($m.z),l=e.dot($m),c=n.dot($m),d=r.dot($m);if(Math.max(-Math.max(l,c,d),Math.min(l,c,d))>o)return!1}return!0}const Qqe=new Ta,Zw=new ie,fL=new ie;let oa=class{constructor(e=new ie,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):Qqe.setFromPoints(e).getCenter(r);let i=0;for(let s=0,a=e.length;s<a;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Zw.subVectors(e,this.center);const n=Zw.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(Zw,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(fL.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Zw.copy(e.center).add(fL)),this.expandByPoint(Zw.copy(e.center).sub(fL))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}};const cf=new ie,hL=new ie,PT=new ie,Uh=new ie,pL=new ie,NT=new ie,mL=new ie;class T0{constructor(e=new ie,n=new ie(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,cf)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=cf.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(cf.copy(this.origin).addScaledVector(this.direction,n),cf.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){hL.copy(e).add(n).multiplyScalar(.5),PT.copy(n).sub(e).normalize(),Uh.copy(this.origin).sub(hL);const s=e.distanceTo(n)*.5,a=-this.direction.dot(PT),o=Uh.dot(this.direction),l=-Uh.dot(PT),c=Uh.lengthSq(),d=Math.abs(1-a*a);let f,h,m,v;if(d>0)if(f=a*l-o,h=a*o-l,v=s*d,f>=0)if(h>=-v)if(h<=v){const b=1/d;f*=b,h*=b,m=f*(f+a*h+2*o)+h*(a*f+h+2*l)+c}else h=s,f=Math.max(0,-(a*h+o)),m=-f*f+h*(h+2*l)+c;else h=-s,f=Math.max(0,-(a*h+o)),m=-f*f+h*(h+2*l)+c;else h<=-v?(f=Math.max(0,-(-a*s+o)),h=f>0?-s:Math.min(Math.max(-s,-l),s),m=-f*f+h*(h+2*l)+c):h<=v?(f=0,h=Math.min(Math.max(-s,-l),s),m=h*(h+2*l)+c):(f=Math.max(0,-(a*s+o)),h=f>0?s:Math.min(Math.max(-s,-l),s),m=-f*f+h*(h+2*l)+c);else h=a>0?-s:s,f=Math.max(0,-(a*h+o)),m=-f*f+h*(h+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy(hL).addScaledVector(PT,h),m}intersectSphere(e,n){cf.subVectors(e.center,this.origin);const r=cf.dot(this.direction),i=cf.dot(cf)-r*r,s=e.radius*e.radius;if(i>s)return null;const a=Math.sqrt(s-i),o=r-a,l=r+a;return l<0?null:o<0?this.at(l,n):this.at(o,n)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,a,o,l;const c=1/this.direction.x,d=1/this.direction.y,f=1/this.direction.z,h=this.origin;return c>=0?(r=(e.min.x-h.x)*c,i=(e.max.x-h.x)*c):(r=(e.max.x-h.x)*c,i=(e.min.x-h.x)*c),d>=0?(s=(e.min.y-h.y)*d,a=(e.max.y-h.y)*d):(s=(e.max.y-h.y)*d,a=(e.min.y-h.y)*d),r>a||s>i||((s>r||isNaN(r))&&(r=s),(a<i||isNaN(i))&&(i=a),f>=0?(o=(e.min.z-h.z)*f,l=(e.max.z-h.z)*f):(o=(e.max.z-h.z)*f,l=(e.min.z-h.z)*f),r>l||o>i)||((o>r||r!==r)&&(r=o),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,cf)!==null}intersectTriangle(e,n,r,i,s){pL.subVectors(n,e),NT.subVectors(r,e),mL.crossVectors(pL,NT);let a=this.direction.dot(mL),o;if(a>0){if(i)return null;o=1}else if(a<0)o=-1,a=-a;else return null;Uh.subVectors(this.origin,e);const l=o*this.direction.dot(NT.crossVectors(Uh,NT));if(l<0)return null;const c=o*this.direction.dot(pL.cross(Uh));if(c<0||l+c>a)return null;const d=-o*Uh.dot(mL);return d<0?null:this.at(d/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Pn{constructor(e,n,r,i,s,a,o,l,c,d,f,h,m,v,b,y){Pn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,a,o,l,c,d,f,h,m,v,b,y)}set(e,n,r,i,s,a,o,l,c,d,f,h,m,v,b,y){const w=this.elements;return w[0]=e,w[4]=n,w[8]=r,w[12]=i,w[1]=s,w[5]=a,w[9]=o,w[13]=l,w[2]=c,w[6]=d,w[10]=f,w[14]=h,w[3]=m,w[7]=v,w[11]=b,w[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Pn().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return this.determinant()===0?(e.set(1,0,0),n.set(0,1,0),r.set(0,0,1),this):(e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this)}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){if(e.determinant()===0)return this.identity();const n=this.elements,r=e.elements,i=1/Xv.setFromMatrixColumn(e,0).length(),s=1/Xv.setFromMatrixColumn(e,1).length(),a=1/Xv.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*a,n[9]=r[9]*a,n[10]=r[10]*a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,a=Math.cos(r),o=Math.sin(r),l=Math.cos(i),c=Math.sin(i),d=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const h=a*d,m=a*f,v=o*d,b=o*f;n[0]=l*d,n[4]=-l*f,n[8]=c,n[1]=m+v*c,n[5]=h-b*c,n[9]=-o*l,n[2]=b-h*c,n[6]=v+m*c,n[10]=a*l}else if(e.order==="YXZ"){const h=l*d,m=l*f,v=c*d,b=c*f;n[0]=h+b*o,n[4]=v*o-m,n[8]=a*c,n[1]=a*f,n[5]=a*d,n[9]=-o,n[2]=m*o-v,n[6]=b+h*o,n[10]=a*l}else if(e.order==="ZXY"){const h=l*d,m=l*f,v=c*d,b=c*f;n[0]=h-b*o,n[4]=-a*f,n[8]=v+m*o,n[1]=m+v*o,n[5]=a*d,n[9]=b-h*o,n[2]=-a*c,n[6]=o,n[10]=a*l}else if(e.order==="ZYX"){const h=a*d,m=a*f,v=o*d,b=o*f;n[0]=l*d,n[4]=v*c-m,n[8]=h*c+b,n[1]=l*f,n[5]=b*c+h,n[9]=m*c-v,n[2]=-c,n[6]=o*l,n[10]=a*l}else if(e.order==="YZX"){const h=a*l,m=a*c,v=o*l,b=o*c;n[0]=l*d,n[4]=b-h*f,n[8]=v*f+m,n[1]=f,n[5]=a*d,n[9]=-o*d,n[2]=-c*d,n[6]=m*f+v,n[10]=h-b*f}else if(e.order==="XZY"){const h=a*l,m=a*c,v=o*l,b=o*c;n[0]=l*d,n[4]=-f,n[8]=c*d,n[1]=h*f+b,n[5]=a*d,n[9]=m*f-v,n[2]=v*f-m,n[6]=o*d,n[10]=b*f+h}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Jqe,e,eXe)}lookAt(e,n,r){const i=this.elements;return Xo.subVectors(e,n),Xo.lengthSq()===0&&(Xo.z=1),Xo.normalize(),Bh.crossVectors(r,Xo),Bh.lengthSq()===0&&(Math.abs(r.z)===1?Xo.x+=1e-4:Xo.z+=1e-4,Xo.normalize(),Bh.crossVectors(r,Xo)),Bh.normalize(),RT.crossVectors(Xo,Bh),i[0]=Bh.x,i[4]=RT.x,i[8]=Xo.x,i[1]=Bh.y,i[5]=RT.y,i[9]=Xo.y,i[2]=Bh.z,i[6]=RT.z,i[10]=Xo.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,a=r[0],o=r[4],l=r[8],c=r[12],d=r[1],f=r[5],h=r[9],m=r[13],v=r[2],b=r[6],y=r[10],w=r[14],S=r[3],M=r[7],T=r[11],A=r[15],C=i[0],j=i[4],L=i[8],O=i[12],k=i[1],F=i[5],G=i[9],Y=i[13],U=i[2],W=i[6],q=i[10],Z=i[14],V=i[3],Q=i[7],ee=i[11],$=i[15];return s[0]=a*C+o*k+l*U+c*V,s[4]=a*j+o*F+l*W+c*Q,s[8]=a*L+o*G+l*q+c*ee,s[12]=a*O+o*Y+l*Z+c*$,s[1]=d*C+f*k+h*U+m*V,s[5]=d*j+f*F+h*W+m*Q,s[9]=d*L+f*G+h*q+m*ee,s[13]=d*O+f*Y+h*Z+m*$,s[2]=v*C+b*k+y*U+w*V,s[6]=v*j+b*F+y*W+w*Q,s[10]=v*L+b*G+y*q+w*ee,s[14]=v*O+b*Y+y*Z+w*$,s[3]=S*C+M*k+T*U+A*V,s[7]=S*j+M*F+T*W+A*Q,s[11]=S*L+M*G+T*q+A*ee,s[15]=S*O+M*Y+T*Z+A*$,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],a=e[1],o=e[5],l=e[9],c=e[13],d=e[2],f=e[6],h=e[10],m=e[14],v=e[3],b=e[7],y=e[11],w=e[15],S=l*m-c*h,M=o*m-c*f,T=o*h-l*f,A=a*m-c*d,C=a*h-l*d,j=a*f-o*d;return n*(b*S-y*M+w*T)-r*(v*S-y*A+w*C)+i*(v*M-b*A+w*j)-s*(v*T-b*C+y*j)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],d=e[8],f=e[9],h=e[10],m=e[11],v=e[12],b=e[13],y=e[14],w=e[15],S=f*y*c-b*h*c+b*l*m-o*y*m-f*l*w+o*h*w,M=v*h*c-d*y*c-v*l*m+a*y*m+d*l*w-a*h*w,T=d*b*c-v*f*c+v*o*m-a*b*m-d*o*w+a*f*w,A=v*f*l-d*b*l-v*o*h+a*b*h+d*o*y-a*f*y,C=n*S+r*M+i*T+s*A;if(C===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const j=1/C;return e[0]=S*j,e[1]=(b*h*s-f*y*s-b*i*m+r*y*m+f*i*w-r*h*w)*j,e[2]=(o*y*s-b*l*s+b*i*c-r*y*c-o*i*w+r*l*w)*j,e[3]=(f*l*s-o*h*s-f*i*c+r*h*c+o*i*m-r*l*m)*j,e[4]=M*j,e[5]=(d*y*s-v*h*s+v*i*m-n*y*m-d*i*w+n*h*w)*j,e[6]=(v*l*s-a*y*s-v*i*c+n*y*c+a*i*w-n*l*w)*j,e[7]=(a*h*s-d*l*s+d*i*c-n*h*c-a*i*m+n*l*m)*j,e[8]=T*j,e[9]=(v*f*s-d*b*s-v*r*m+n*b*m+d*r*w-n*f*w)*j,e[10]=(a*b*s-v*o*s+v*r*c-n*b*c-a*r*w+n*o*w)*j,e[11]=(d*o*s-a*f*s-d*r*c+n*f*c+a*r*m-n*o*m)*j,e[12]=A*j,e[13]=(d*b*i-v*f*i+v*r*h-n*b*h-d*r*y+n*f*y)*j,e[14]=(v*o*i-a*b*i-v*r*l+n*b*l+a*r*y-n*o*y)*j,e[15]=(a*f*i-d*o*i+d*r*l-n*f*l-a*r*h+n*o*h)*j,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,a=e.x,o=e.y,l=e.z,c=s*a,d=s*o;return this.set(c*a+r,c*o-i*l,c*l+i*o,0,c*o+i*l,d*o+r,d*l-i*a,0,c*l-i*o,d*l+i*a,s*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,a){return this.set(1,r,s,0,e,1,a,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,a=n._y,o=n._z,l=n._w,c=s+s,d=a+a,f=o+o,h=s*c,m=s*d,v=s*f,b=a*d,y=a*f,w=o*f,S=l*c,M=l*d,T=l*f,A=r.x,C=r.y,j=r.z;return i[0]=(1-(b+w))*A,i[1]=(m+T)*A,i[2]=(v-M)*A,i[3]=0,i[4]=(m-T)*C,i[5]=(1-(h+w))*C,i[6]=(y+S)*C,i[7]=0,i[8]=(v+M)*j,i[9]=(y-S)*j,i[10]=(1-(h+b))*j,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;if(e.x=i[12],e.y=i[13],e.z=i[14],this.determinant()===0)return r.set(1,1,1),n.identity(),this;let s=Xv.set(i[0],i[1],i[2]).length();const a=Xv.set(i[4],i[5],i[6]).length(),o=Xv.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),Ac.copy(this);const c=1/s,d=1/a,f=1/o;return Ac.elements[0]*=c,Ac.elements[1]*=c,Ac.elements[2]*=c,Ac.elements[4]*=d,Ac.elements[5]*=d,Ac.elements[6]*=d,Ac.elements[8]*=f,Ac.elements[9]*=f,Ac.elements[10]*=f,n.setFromRotationMatrix(Ac),r.x=s,r.y=a,r.z=o,this}makePerspective(e,n,r,i,s,a,o=al,l=!1){const c=this.elements,d=2*s/(n-e),f=2*s/(r-i),h=(n+e)/(n-e),m=(r+i)/(r-i);let v,b;if(l)v=s/(a-s),b=a*s/(a-s);else if(o===al)v=-(a+s)/(a-s),b=-2*a*s/(a-s);else if(o===Gx)v=-a/(a-s),b=-a*s/(a-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return c[0]=d,c[4]=0,c[8]=h,c[12]=0,c[1]=0,c[5]=f,c[9]=m,c[13]=0,c[2]=0,c[6]=0,c[10]=v,c[14]=b,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,n,r,i,s,a,o=al,l=!1){const c=this.elements,d=2/(n-e),f=2/(r-i),h=-(n+e)/(n-e),m=-(r+i)/(r-i);let v,b;if(l)v=1/(a-s),b=a/(a-s);else if(o===al)v=-2/(a-s),b=-(a+s)/(a-s);else if(o===Gx)v=-1/(a-s),b=-s/(a-s);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return c[0]=d,c[4]=0,c[8]=0,c[12]=h,c[1]=0,c[5]=f,c[9]=0,c[13]=m,c[2]=0,c[6]=0,c[10]=v,c[14]=b,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Xv=new ie,Ac=new Pn,Jqe=new ie(0,0,0),eXe=new ie(1,1,1),Bh=new ie,RT=new ie,Xo=new ie,CQ=new Pn,PQ=new Ma;class hl{constructor(e=0,n=0,r=0,i=hl.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],a=i[4],o=i[8],l=i[1],c=i[5],d=i[9],f=i[2],h=i[6],m=i[10];switch(n){case"XYZ":this._y=Math.asin(Tn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-d,m),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(h,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Tn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(o,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(Tn(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-f,m),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Tn(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(h,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-a,c));break;case"YZX":this._z=Math.asin(Tn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,c),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(o,m));break;case"XZY":this._z=Math.asin(-Tn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(h,c),this._y=Math.atan2(o,s)):(this._x=Math.atan2(-d,m),this._y=0);break;default:At("Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return CQ.makeRotationFromQuaternion(e),this.setFromRotationMatrix(CQ,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return PQ.setFromEuler(this),this.setFromQuaternion(PQ,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}hl.DEFAULT_ORDER="XYZ";class Ug{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let tXe=0;const NQ=new ie,Yv=new Ma,uf=new Pn,OT=new ie,Qw=new ie,nXe=new ie,rXe=new Ma,RQ=new ie(1,0,0),OQ=new ie(0,1,0),jQ=new ie(0,0,1),IQ={type:"added"},iXe={type:"removed"},Kv={type:"childadded",child:null},gL={type:"childremoved",child:null};class xr extends vd{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:tXe++}),this.uuid=dl(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=xr.DEFAULT_UP.clone();const e=new ie,n=new hl,r=new Ma,i=new ie(1,1,1);function s(){r.setFromEuler(n,!1)}function a(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Pn},normalMatrix:{value:new Fn}}),this.matrix=new Pn,this.matrixWorld=new Pn,this.matrixAutoUpdate=xr.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=xr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Ug,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Yv.setFromAxisAngle(e,n),this.quaternion.multiply(Yv),this}rotateOnWorldAxis(e,n){return Yv.setFromAxisAngle(e,n),this.quaternion.premultiply(Yv),this}rotateX(e){return this.rotateOnAxis(RQ,e)}rotateY(e){return this.rotateOnAxis(OQ,e)}rotateZ(e){return this.rotateOnAxis(jQ,e)}translateOnAxis(e,n){return NQ.copy(e).applyQuaternion(this.quaternion),this.position.add(NQ.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(RQ,e)}translateY(e){return this.translateOnAxis(OQ,e)}translateZ(e){return this.translateOnAxis(jQ,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(uf.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?OT.copy(e):OT.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Qw.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?uf.lookAt(Qw,OT,this.up):uf.lookAt(OT,Qw,this.up),this.quaternion.setFromRotationMatrix(uf),i&&(uf.extractRotation(i.matrixWorld),Yv.setFromRotationMatrix(uf),this.quaternion.premultiply(Yv.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(dn("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(IQ),Kv.child=e,this.dispatchEvent(Kv),Kv.child=null):dn("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(iXe),gL.child=e,this.dispatchEvent(gL),gL.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),uf.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),uf.multiply(e.parent.matrixWorld)),e.applyMatrix4(uf),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(IQ),Kv.child=e,this.dispatchEvent(Kv),Kv.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const a=this.children[r].getObjectByProperty(e,n);if(a!==void 0)return a}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let s=0,a=i.length;s<a;s++)i[s].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Qw,e,nXe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Qw,rXe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const i=this.children;for(let s=0,a=i.length;s<a;s++)i[s].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.geometryInfo=this._geometryInfo.map(o=>({...o,boundingBox:o.boundingBox?o.boundingBox.toJSON():void 0,boundingSphere:o.boundingSphere?o.boundingSphere.toJSON():void 0})),i.instanceInfo=this._instanceInfo.map(o=>({...o})),i.availableInstanceIds=this._availableInstanceIds.slice(),i.availableGeometryIds=this._availableGeometryIds.slice(),i.nextIndexStart=this._nextIndexStart,i.nextVertexStart=this._nextVertexStart,i.geometryCount=this._geometryCount,i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.matricesTexture=this._matricesTexture.toJSON(e),i.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(i.boundingBox=this.boundingBox.toJSON()));function s(o,l){return o[l.uuid]===void 0&&(o[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const l=o.shapes;if(Array.isArray(l))for(let c=0,d=l.length;c<d;c++){const f=l[c];s(e.shapes,f)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let l=0,c=this.material.length;l<c;l++)o.push(s(e.materials,this.material[l]));i.material=o}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let o=0;o<this.children.length;o++)i.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let o=0;o<this.animations.length;o++){const l=this.animations[o];i.animations.push(s(e.animations,l))}}if(n){const o=a(e.geometries),l=a(e.materials),c=a(e.textures),d=a(e.images),f=a(e.shapes),h=a(e.skeletons),m=a(e.animations),v=a(e.nodes);o.length>0&&(r.geometries=o),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),d.length>0&&(r.images=d),f.length>0&&(r.shapes=f),h.length>0&&(r.skeletons=h),m.length>0&&(r.animations=m),v.length>0&&(r.nodes=v)}return r.object=i,r;function a(o){const l=[];for(const c in o){const d=o[c];delete d.metadata,l.push(d)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}xr.DEFAULT_UP=new ie(0,1,0);xr.DEFAULT_MATRIX_AUTO_UPDATE=!0;xr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Cc=new ie,df=new ie,vL=new ie,ff=new ie,Zv=new ie,Qv=new ie,kQ=new ie,yL=new ie,xL=new ie,bL=new ie,wL=new Wr,_L=new Wr,SL=new Wr;class To{constructor(e=new ie,n=new ie,r=new ie){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),Cc.subVectors(e,n),i.cross(Cc);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){Cc.subVectors(i,n),df.subVectors(r,n),vL.subVectors(e,n);const a=Cc.dot(Cc),o=Cc.dot(df),l=Cc.dot(vL),c=df.dot(df),d=df.dot(vL),f=a*c-o*o;if(f===0)return s.set(0,0,0),null;const h=1/f,m=(c*l-o*d)*h,v=(a*d-o*l)*h;return s.set(1-m-v,v,m)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,ff)===null?!1:ff.x>=0&&ff.y>=0&&ff.x+ff.y<=1}static getInterpolation(e,n,r,i,s,a,o,l){return this.getBarycoord(e,n,r,i,ff)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,ff.x),l.addScaledVector(a,ff.y),l.addScaledVector(o,ff.z),l)}static getInterpolatedAttribute(e,n,r,i,s,a){return wL.setScalar(0),_L.setScalar(0),SL.setScalar(0),wL.fromBufferAttribute(e,n),_L.fromBufferAttribute(e,r),SL.fromBufferAttribute(e,i),a.setScalar(0),a.addScaledVector(wL,s.x),a.addScaledVector(_L,s.y),a.addScaledVector(SL,s.z),a}static isFrontFacing(e,n,r,i){return Cc.subVectors(r,n),df.subVectors(e,n),Cc.cross(df).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Cc.subVectors(this.c,this.b),df.subVectors(this.a,this.b),Cc.cross(df).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return To.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return To.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,s){return To.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return To.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return To.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let a,o;Zv.subVectors(i,r),Qv.subVectors(s,r),yL.subVectors(e,r);const l=Zv.dot(yL),c=Qv.dot(yL);if(l<=0&&c<=0)return n.copy(r);xL.subVectors(e,i);const d=Zv.dot(xL),f=Qv.dot(xL);if(d>=0&&f<=d)return n.copy(i);const h=l*f-d*c;if(h<=0&&l>=0&&d<=0)return a=l/(l-d),n.copy(r).addScaledVector(Zv,a);bL.subVectors(e,s);const m=Zv.dot(bL),v=Qv.dot(bL);if(v>=0&&m<=v)return n.copy(s);const b=m*c-l*v;if(b<=0&&c>=0&&v<=0)return o=c/(c-v),n.copy(r).addScaledVector(Qv,o);const y=d*v-m*f;if(y<=0&&f-d>=0&&m-v>=0)return kQ.subVectors(s,i),o=(f-d)/(f-d+(m-v)),n.copy(i).addScaledVector(kQ,o);const w=1/(y+b+h);return a=b*w,o=h*w,n.copy(r).addScaledVector(Zv,a).addScaledVector(Qv,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const Whe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},zh={h:0,s:0,l:0},jT={h:0,s:0,l:0};function EL(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}let Lt=class{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Eo){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,cr.colorSpaceToWorking(this,n),this}setRGB(e,n,r,i=cr.workingColorSpace){return this.r=e,this.g=n,this.b=r,cr.colorSpaceToWorking(this,i),this}setHSL(e,n,r,i=cr.workingColorSpace){if(e=O8(e,1),n=Tn(n,0,1),r=Tn(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,a=2*r-s;this.r=EL(a,s,e+1/3),this.g=EL(a,s,e),this.b=EL(a,s,e-1/3)}return cr.colorSpaceToWorking(this,i),this}setStyle(e,n=Eo){function r(s){s!==void 0&&parseFloat(s)<1&&At("Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=i[1],o=i[2];switch(a){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:At("Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],a=s.length;if(a===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(a===6)return this.setHex(parseInt(s,16),n);At("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=Eo){const r=Whe[e.toLowerCase()];return r!==void 0?this.setHex(r,n):At("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Lf(e.r),this.g=Lf(e.g),this.b=Lf(e.b),this}copyLinearToSRGB(e){return this.r=Qy(e.r),this.g=Qy(e.g),this.b=Qy(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Eo){return cr.workingToColorSpace(va.copy(this),e),Math.round(Tn(va.r*255,0,255))*65536+Math.round(Tn(va.g*255,0,255))*256+Math.round(Tn(va.b*255,0,255))}getHexString(e=Eo){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=cr.workingColorSpace){cr.workingToColorSpace(va.copy(this),n);const r=va.r,i=va.g,s=va.b,a=Math.max(r,i,s),o=Math.min(r,i,s);let l,c;const d=(o+a)/2;if(o===a)l=0,c=0;else{const f=a-o;switch(c=d<=.5?f/(a+o):f/(2-a-o),a){case r:l=(i-s)/f+(i<s?6:0);break;case i:l=(s-r)/f+2;break;case s:l=(r-i)/f+4;break}l/=6}return e.h=l,e.s=c,e.l=d,e}getRGB(e,n=cr.workingColorSpace){return cr.workingToColorSpace(va.copy(this),n),e.r=va.r,e.g=va.g,e.b=va.b,e}getStyle(e=Eo){cr.workingToColorSpace(va.copy(this),e);const n=va.r,r=va.g,i=va.b;return e!==Eo?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(zh),this.setHSL(zh.h+e,zh.s+n,zh.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(zh),e.getHSL(jT);const r=r_(zh.h,jT.h,n),i=r_(zh.s,jT.s,n),s=r_(zh.l,jT.l,n);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*n+s[3]*r+s[6]*i,this.g=s[1]*n+s[4]*r+s[7]*i,this.b=s[2]*n+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const va=new Lt;Lt.NAMES=Whe;let sXe=0;class la extends vd{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:sXe++}),this.uuid=dl(),this.name="",this.type="Material",this.blending=Lg,this.side=Gf,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=VC,this.blendDst=$C,this.blendEquation=np,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Lt(0,0,0),this.blendAlpha=0,this.depthFunc=o0,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=nU,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=dg,this.stencilZFail=dg,this.stencilZPass=dg,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){At(`Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){At(`Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(r.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(r.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Lg&&(r.blending=this.blending),this.side!==Gf&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==VC&&(r.blendSrc=this.blendSrc),this.blendDst!==$C&&(r.blendDst=this.blendDst),this.blendEquation!==np&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==o0&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==nU&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==dg&&(r.stencilFail=this.stencilFail),this.stencilZFail!==dg&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==dg&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.allowOverride===!1&&(r.allowOverride=!1),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const a=[];for(const o in s){const l=s[o];delete l.metadata,a.push(l)}return a}if(n){const s=i(e.textures),a=i(e.images);s.length>0&&(r.textures=s),a.length>0&&(r.images=a)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.allowOverride=e.allowOverride,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class qp extends la{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Lt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new hl,this.combine=DE,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const _f=aXe();function aXe(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),a=new Uint32Array(64),o=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,d=0;for(;(c&8388608)===0;)c<<=1,d-=8388608;c&=-8388609,d+=947912704,s[l]=c|d}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)a[l]=l<<23;a[31]=1199570944,a[32]=2147483648;for(let l=33;l<63;++l)a[l]=2147483648+(l-32<<23);a[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(o[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:a,offsetTable:o}}function _o(t){Math.abs(t)>65504&&At("DataUtils.toHalfFloat(): Value out of range."),t=Tn(t,-65504,65504),_f.floatView[0]=t;const e=_f.uint32View[0],n=e>>23&511;return _f.baseTable[n]+((e&8388607)>>_f.shiftTable[n])}function E1(t){const e=t>>10;return _f.uint32View[0]=_f.mantissaTable[_f.offsetTable[e]+(t&1023)]+_f.exponentTable[e],_f.floatView[0]}class oXe{static toHalfFloat(e){return _o(e)}static fromHalfFloat(e){return E1(e)}}const rs=new ie,IT=new Ge;let lXe=0;class kr{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:lXe++}),this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=IS,this.updateRanges=[],this.gpuType=Qa,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)IT.fromBufferAttribute(this,n),IT.applyMatrix3(e),this.setXY(n,IT.x,IT.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)rs.fromBufferAttribute(this,n),rs.applyMatrix3(e),this.setXYZ(n,rs.x,rs.y,rs.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)rs.fromBufferAttribute(this,n),rs.applyMatrix4(e),this.setXYZ(n,rs.x,rs.y,rs.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)rs.fromBufferAttribute(this,n),rs.applyNormalMatrix(e),this.setXYZ(n,rs.x,rs.y,rs.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)rs.fromBufferAttribute(this,n),rs.transformDirection(e),this.setXYZ(n,rs.x,rs.y,rs.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=Ya(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Vn(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Ya(n,this.array)),n}setX(e,n){return this.normalized&&(n=Vn(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Ya(n,this.array)),n}setY(e,n){return this.normalized&&(n=Vn(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Ya(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Vn(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Ya(n,this.array)),n}setW(e,n){return this.normalized&&(n=Vn(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Vn(n,this.array),r=Vn(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Vn(n,this.array),r=Vn(r,this.array),i=Vn(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=Vn(n,this.array),r=Vn(r,this.array),i=Vn(i,this.array),s=Vn(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==IS&&(e.usage=this.usage),e}}class cXe extends kr{constructor(e,n,r){super(new Int8Array(e),n,r)}}class uXe extends kr{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class dXe extends kr{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class fXe extends kr{constructor(e,n,r){super(new Int16Array(e),n,r)}}class I8 extends kr{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class hXe extends kr{constructor(e,n,r){super(new Int32Array(e),n,r)}}class k8 extends kr{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class pXe extends kr{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=E1(this.array[e*this.itemSize]);return this.normalized&&(n=Ya(n,this.array)),n}setX(e,n){return this.normalized&&(n=Vn(n,this.array)),this.array[e*this.itemSize]=_o(n),this}getY(e){let n=E1(this.array[e*this.itemSize+1]);return this.normalized&&(n=Ya(n,this.array)),n}setY(e,n){return this.normalized&&(n=Vn(n,this.array)),this.array[e*this.itemSize+1]=_o(n),this}getZ(e){let n=E1(this.array[e*this.itemSize+2]);return this.normalized&&(n=Ya(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Vn(n,this.array)),this.array[e*this.itemSize+2]=_o(n),this}getW(e){let n=E1(this.array[e*this.itemSize+3]);return this.normalized&&(n=Ya(n,this.array)),n}setW(e,n){return this.normalized&&(n=Vn(n,this.array)),this.array[e*this.itemSize+3]=_o(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Vn(n,this.array),r=Vn(r,this.array)),this.array[e+0]=_o(n),this.array[e+1]=_o(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Vn(n,this.array),r=Vn(r,this.array),i=Vn(i,this.array)),this.array[e+0]=_o(n),this.array[e+1]=_o(r),this.array[e+2]=_o(i),this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=Vn(n,this.array),r=Vn(r,this.array),i=Vn(i,this.array),s=Vn(s,this.array)),this.array[e+0]=_o(n),this.array[e+1]=_o(r),this.array[e+2]=_o(i),this.array[e+3]=_o(s),this}}class Xt extends kr{constructor(e,n,r){super(new Float32Array(e),n,r)}}let mXe=0;const Pl=new Pn,ML=new xr,Jv=new ie,Yo=new Ta,Jw=new Ta,Ns=new ie;class jn extends vd{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:mXe++}),this.uuid=dl(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.indirectOffset=0,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(zhe(e)?k8:I8)(e,1):this.index=e,this}setIndirect(e,n=0){return this.indirect=e,this.indirectOffset=n,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Fn().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Pl.makeRotationFromQuaternion(e),this.applyMatrix4(Pl),this}rotateX(e){return Pl.makeRotationX(e),this.applyMatrix4(Pl),this}rotateY(e){return Pl.makeRotationY(e),this.applyMatrix4(Pl),this}rotateZ(e){return Pl.makeRotationZ(e),this.applyMatrix4(Pl),this}translate(e,n,r){return Pl.makeTranslation(e,n,r),this.applyMatrix4(Pl),this}scale(e,n,r){return Pl.makeScale(e,n,r),this.applyMatrix4(Pl),this}lookAt(e){return ML.lookAt(e),ML.updateMatrix(),this.applyMatrix4(ML.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Jv).negate(),this.translate(Jv.x,Jv.y,Jv.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const r=[];for(let i=0,s=e.length;i<s;i++){const a=e[i];r.push(a.x,a.y,a.z||0)}this.setAttribute("position",new Xt(r,3))}else{const r=Math.min(e.length,n.count);for(let i=0;i<r;i++){const s=e[i];n.setXYZ(i,s.x,s.y,s.z||0)}e.length>n.count&&At("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ta);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){dn("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new ie(-1/0,-1/0,-1/0),new ie(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];Yo.setFromBufferAttribute(s),this.morphTargetsRelative?(Ns.addVectors(this.boundingBox.min,Yo.min),this.boundingBox.expandByPoint(Ns),Ns.addVectors(this.boundingBox.max,Yo.max),this.boundingBox.expandByPoint(Ns)):(this.boundingBox.expandByPoint(Yo.min),this.boundingBox.expandByPoint(Yo.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&dn('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new oa);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){dn("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new ie,1/0);return}if(e){const r=this.boundingSphere.center;if(Yo.setFromBufferAttribute(e),n)for(let s=0,a=n.length;s<a;s++){const o=n[s];Jw.setFromBufferAttribute(o),this.morphTargetsRelative?(Ns.addVectors(Yo.min,Jw.min),Yo.expandByPoint(Ns),Ns.addVectors(Yo.max,Jw.max),Yo.expandByPoint(Ns)):(Yo.expandByPoint(Jw.min),Yo.expandByPoint(Jw.max))}Yo.getCenter(r);let i=0;for(let s=0,a=e.count;s<a;s++)Ns.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(Ns));if(n)for(let s=0,a=n.length;s<a;s++){const o=n[s],l=this.morphTargetsRelative;for(let c=0,d=o.count;c<d;c++)Ns.fromBufferAttribute(o,c),l&&(Jv.fromBufferAttribute(e,c),Ns.add(Jv)),i=Math.max(i,r.distanceToSquared(Ns))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&dn('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){dn("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,i=n.normal,s=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new kr(new Float32Array(4*r.count),4));const a=this.getAttribute("tangent"),o=[],l=[];for(let L=0;L<r.count;L++)o[L]=new ie,l[L]=new ie;const c=new ie,d=new ie,f=new ie,h=new Ge,m=new Ge,v=new Ge,b=new ie,y=new ie;function w(L,O,k){c.fromBufferAttribute(r,L),d.fromBufferAttribute(r,O),f.fromBufferAttribute(r,k),h.fromBufferAttribute(s,L),m.fromBufferAttribute(s,O),v.fromBufferAttribute(s,k),d.sub(c),f.sub(c),m.sub(h),v.sub(h);const F=1/(m.x*v.y-v.x*m.y);isFinite(F)&&(b.copy(d).multiplyScalar(v.y).addScaledVector(f,-m.y).multiplyScalar(F),y.copy(f).multiplyScalar(m.x).addScaledVector(d,-v.x).multiplyScalar(F),o[L].add(b),o[O].add(b),o[k].add(b),l[L].add(y),l[O].add(y),l[k].add(y))}let S=this.groups;S.length===0&&(S=[{start:0,count:e.count}]);for(let L=0,O=S.length;L<O;++L){const k=S[L],F=k.start,G=k.count;for(let Y=F,U=F+G;Y<U;Y+=3)w(e.getX(Y+0),e.getX(Y+1),e.getX(Y+2))}const M=new ie,T=new ie,A=new ie,C=new ie;function j(L){A.fromBufferAttribute(i,L),C.copy(A);const O=o[L];M.copy(O),M.sub(A.multiplyScalar(A.dot(O))).normalize(),T.crossVectors(C,O);const F=T.dot(l[L])<0?-1:1;a.setXYZW(L,M.x,M.y,M.z,F)}for(let L=0,O=S.length;L<O;++L){const k=S[L],F=k.start,G=k.count;for(let Y=F,U=F+G;Y<U;Y+=3)j(e.getX(Y+0)),j(e.getX(Y+1)),j(e.getX(Y+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new kr(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let h=0,m=r.count;h<m;h++)r.setXYZ(h,0,0,0);const i=new ie,s=new ie,a=new ie,o=new ie,l=new ie,c=new ie,d=new ie,f=new ie;if(e)for(let h=0,m=e.count;h<m;h+=3){const v=e.getX(h+0),b=e.getX(h+1),y=e.getX(h+2);i.fromBufferAttribute(n,v),s.fromBufferAttribute(n,b),a.fromBufferAttribute(n,y),d.subVectors(a,s),f.subVectors(i,s),d.cross(f),o.fromBufferAttribute(r,v),l.fromBufferAttribute(r,b),c.fromBufferAttribute(r,y),o.add(d),l.add(d),c.add(d),r.setXYZ(v,o.x,o.y,o.z),r.setXYZ(b,l.x,l.y,l.z),r.setXYZ(y,c.x,c.y,c.z)}else for(let h=0,m=n.count;h<m;h+=3)i.fromBufferAttribute(n,h+0),s.fromBufferAttribute(n,h+1),a.fromBufferAttribute(n,h+2),d.subVectors(a,s),f.subVectors(i,s),d.cross(f),r.setXYZ(h+0,d.x,d.y,d.z),r.setXYZ(h+1,d.x,d.y,d.z),r.setXYZ(h+2,d.x,d.y,d.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)Ns.fromBufferAttribute(e,n),Ns.normalize(),e.setXYZ(n,Ns.x,Ns.y,Ns.z)}toNonIndexed(){function e(o,l){const c=o.array,d=o.itemSize,f=o.normalized,h=new c.constructor(l.length*d);let m=0,v=0;for(let b=0,y=l.length;b<y;b++){o.isInterleavedBufferAttribute?m=l[b]*o.data.stride+o.offset:m=l[b]*d;for(let w=0;w<d;w++)h[v++]=c[m++]}return new kr(h,d,f)}if(this.index===null)return At("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new jn,r=this.index.array,i=this.attributes;for(const o in i){const l=i[o],c=e(l,r);n.setAttribute(o,c)}const s=this.morphAttributes;for(const o in s){const l=[],c=s[o];for(let d=0,f=c.length;d<f;d++){const h=c[d],m=e(h,r);l.push(m)}n.morphAttributes[o]=l}n.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,l=a.length;o<l;o++){const c=a[o];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],d=[];for(let f=0,h=c.length;f<h;f++){const m=c[f];d.push(m.toJSON(e.data))}d.length>0&&(i[l]=d,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere=o.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone());const i=e.attributes;for(const c in i){const d=i[c];this.setAttribute(c,d.clone(n))}const s=e.morphAttributes;for(const c in s){const d=[],f=s[c];for(let h=0,m=f.length;h<m;h++)d.push(f[h].clone(n));this.morphAttributes[c]=d}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let c=0,d=a.length;c<d;c++){const f=a[c];this.addGroup(f.start,f.count,f.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const DQ=new Pn,Hm=new T0,kT=new oa,LQ=new ie,DT=new ie,LT=new ie,FT=new ie,TL=new ie,UT=new ie,FQ=new ie,BT=new ie;class Yi extends xr{constructor(e=new jn,n=new qp){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const o=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,a=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const o=this.morphTargetInfluences;if(s&&o){UT.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const d=o[l],f=s[l];d!==0&&(TL.fromBufferAttribute(f,e),a?UT.addScaledVector(TL,d):UT.addScaledVector(TL.sub(n),d))}n.add(UT)}return n}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),kT.copy(r.boundingSphere),kT.applyMatrix4(s),Hm.copy(e.ray).recast(e.near),!(kT.containsPoint(Hm.origin)===!1&&(Hm.intersectSphere(kT,LQ)===null||Hm.origin.distanceToSquared(LQ)>(e.far-e.near)**2))&&(DQ.copy(s).invert(),Hm.copy(e.ray).applyMatrix4(DQ),!(r.boundingBox!==null&&Hm.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,Hm)))}_computeIntersections(e,n,r){let i;const s=this.geometry,a=this.material,o=s.index,l=s.attributes.position,c=s.attributes.uv,d=s.attributes.uv1,f=s.attributes.normal,h=s.groups,m=s.drawRange;if(o!==null)if(Array.isArray(a))for(let v=0,b=h.length;v<b;v++){const y=h[v],w=a[y.materialIndex],S=Math.max(y.start,m.start),M=Math.min(o.count,Math.min(y.start+y.count,m.start+m.count));for(let T=S,A=M;T<A;T+=3){const C=o.getX(T),j=o.getX(T+1),L=o.getX(T+2);i=zT(this,w,e,r,c,d,f,C,j,L),i&&(i.faceIndex=Math.floor(T/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const v=Math.max(0,m.start),b=Math.min(o.count,m.start+m.count);for(let y=v,w=b;y<w;y+=3){const S=o.getX(y),M=o.getX(y+1),T=o.getX(y+2);i=zT(this,a,e,r,c,d,f,S,M,T),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(a))for(let v=0,b=h.length;v<b;v++){const y=h[v],w=a[y.materialIndex],S=Math.max(y.start,m.start),M=Math.min(l.count,Math.min(y.start+y.count,m.start+m.count));for(let T=S,A=M;T<A;T+=3){const C=T,j=T+1,L=T+2;i=zT(this,w,e,r,c,d,f,C,j,L),i&&(i.faceIndex=Math.floor(T/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const v=Math.max(0,m.start),b=Math.min(l.count,m.start+m.count);for(let y=v,w=b;y<w;y+=3){const S=y,M=y+1,T=y+2;i=zT(this,a,e,r,c,d,f,S,M,T),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}}}function gXe(t,e,n,r,i,s,a,o){let l;if(e.side===Ja?l=r.intersectTriangle(a,s,i,!0,o):l=r.intersectTriangle(i,s,a,e.side===Gf,o),l===null)return null;BT.copy(o),BT.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(BT);return c<n.near||c>n.far?null:{distance:c,point:BT.clone(),object:t}}function zT(t,e,n,r,i,s,a,o,l,c){t.getVertexPosition(o,DT),t.getVertexPosition(l,LT),t.getVertexPosition(c,FT);const d=gXe(t,e,n,r,DT,LT,FT,FQ);if(d){const f=new ie;To.getBarycoord(FQ,DT,LT,FT,f),i&&(d.uv=To.getInterpolatedAttribute(i,o,l,c,f,new Ge)),s&&(d.uv1=To.getInterpolatedAttribute(s,o,l,c,f,new Ge)),a&&(d.normal=To.getInterpolatedAttribute(a,o,l,c,f,new ie),d.normal.dot(r.direction)>0&&d.normal.multiplyScalar(-1));const h={a:o,b:l,c,normal:new ie,materialIndex:0};To.getNormal(DT,LT,FT,h.normal),d.face=h,d.barycoord=f}return d}class A0 extends jn{constructor(e=1,n=1,r=1,i=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:a};const o=this;i=Math.floor(i),s=Math.floor(s),a=Math.floor(a);const l=[],c=[],d=[],f=[];let h=0,m=0;v("z","y","x",-1,-1,r,n,e,a,s,0),v("z","y","x",1,-1,r,n,-e,a,s,1),v("x","z","y",1,1,e,r,n,i,a,2),v("x","z","y",1,-1,e,r,-n,i,a,3),v("x","y","z",1,-1,e,n,r,i,s,4),v("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new Xt(c,3)),this.setAttribute("normal",new Xt(d,3)),this.setAttribute("uv",new Xt(f,2));function v(b,y,w,S,M,T,A,C,j,L,O){const k=T/j,F=A/L,G=T/2,Y=A/2,U=C/2,W=j+1,q=L+1;let Z=0,V=0;const Q=new ie;for(let ee=0;ee<q;ee++){const $=ee*F-Y;for(let J=0;J<W;J++){const de=J*k-G;Q[b]=de*S,Q[y]=$*M,Q[w]=U,c.push(Q.x,Q.y,Q.z),Q[b]=0,Q[y]=0,Q[w]=C>0?1:-1,d.push(Q.x,Q.y,Q.z),f.push(J/j),f.push(1-ee/L),Z+=1}}for(let ee=0;ee<L;ee++)for(let $=0;$<j;$++){const J=h+$+W*ee,de=h+$+W*(ee+1),Ae=h+($+1)+W*(ee+1),Ue=h+($+1)+W*ee;l.push(J,de,Ue),l.push(de,Ae,Ue),V+=6}o.addGroup(m,V,O),m+=V,h+=Z}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new A0(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Yx(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(At("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function Va(t){const e={};for(let n=0;n<t.length;n++){const r=Yx(t[n]);for(const i in r)e[i]=r[i]}return e}function vXe(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function Ghe(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:cr.workingColorSpace}const qhe={clone:Yx,merge:Va};var yXe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,xXe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Ro extends la{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=yXe,this.fragmentShader=xXe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Yx(e.uniforms),this.uniformsGroups=vXe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this.defaultAttributeValues=Object.assign({},e.defaultAttributeValues),this.index0AttributeName=e.index0AttributeName,this.uniformsNeedUpdate=e.uniformsNeedUpdate,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const a=this.uniforms[i].value;a&&a.isTexture?n.uniforms[i]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?n.uniforms[i]={type:"c",value:a.getHex()}:a&&a.isVector2?n.uniforms[i]={type:"v2",value:a.toArray()}:a&&a.isVector3?n.uniforms[i]={type:"v3",value:a.toArray()}:a&&a.isVector4?n.uniforms[i]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?n.uniforms[i]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?n.uniforms[i]={type:"m4",value:a.toArray()}:n.uniforms[i]={value:a}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class FE extends xr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Pn,this.projectionMatrix=new Pn,this.projectionMatrixInverse=new Pn,this.coordinateSystem=al,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Vh=new ie,UQ=new Ge,BQ=new Ge;class yi extends FE{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Xx*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Fg*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Xx*2*Math.atan(Math.tan(Fg*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){Vh.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Vh.x,Vh.y).multiplyScalar(-e/Vh.z),Vh.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(Vh.x,Vh.y).multiplyScalar(-e/Vh.z)}getViewSize(e,n){return this.getViewBounds(e,UQ,BQ),n.subVectors(BQ,UQ)}setViewOffset(e,n,r,i,s,a){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Fg*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const a=this.view;if(this.view!==null&&this.view.enabled){const l=a.fullWidth,c=a.fullHeight;s+=a.offsetX*i/l,n-=a.offsetY*r/c,i*=a.width/l,r*=a.height/c}const o=this.filmOffset;o!==0&&(s+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const ey=-90,ty=1;class Xhe extends xr{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new yi(ey,ty,e,n);i.layers=this.layers,this.add(i);const s=new yi(ey,ty,e,n);s.layers=this.layers,this.add(s);const a=new yi(ey,ty,e,n);a.layers=this.layers,this.add(a);const o=new yi(ey,ty,e,n);o.layers=this.layers,this.add(o);const l=new yi(ey,ty,e,n);l.layers=this.layers,this.add(l);const c=new yi(ey,ty,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,s,a,o,l]=n;for(const c of n)this.remove(c);if(e===al)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Gx)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,a,o,l,c,d]=this.children,f=e.getRenderTarget(),h=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),v=e.xr.enabled;e.xr.enabled=!1;const b=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,s),e.setRenderTarget(r,1,i),e.render(n,a),e.setRenderTarget(r,2,i),e.render(n,o),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,c),r.texture.generateMipmaps=b,e.setRenderTarget(r,5,i),e.render(n,d),e.setRenderTarget(f,h,m),e.xr.enabled=v,r.texture.needsPMREMUpdate=!0}}class UE extends Si{constructor(e=[],n=ld,r,i,s,a,o,l,c,d){super(e,n,r,i,s,a,o,l,c,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class D8 extends eo{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new UE(i),this._setTextureOptions(n),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new A0(5,5,5),s=new Ro({name:"CubemapFromEquirect",uniforms:Yx(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Ja,blending:ed});s.uniforms.tEquirect.value=n;const a=new Yi(i,s),o=n.minFilter;return n.minFilter===$u&&(n.minFilter=si),new Xhe(1,10,this).update(e,a),n.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(e,n=!0,r=!0,i=!0){const s=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(n,r,i);e.setRenderTarget(s)}}class Iy extends xr{constructor(){super(),this.isGroup=!0,this.type="Group"}}const bXe={type:"move"};class H2{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Iy,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Iy,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ie,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ie),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Iy,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ie,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ie),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,a=null;const o=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){a=!0;for(const b of e.hand.values()){const y=n.getJointPose(b,r),w=this._getHandJoint(c,b);y!==null&&(w.matrix.fromArray(y.transform.matrix),w.matrix.decompose(w.position,w.rotation,w.scale),w.matrixWorldNeedsUpdate=!0,w.jointRadius=y.radius),w.visible=y!==null}const d=c.joints["index-finger-tip"],f=c.joints["thumb-tip"],h=d.position.distanceTo(f.position),m=.02,v=.005;c.inputState.pinching&&h>m+v?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&h<=m-v&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));o!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,i.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(i.linearVelocity)):o.hasLinearVelocity=!1,i.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(i.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(bXe)))}return o!==null&&(o.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=a!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new Iy;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class YR{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new Lt(e),this.density=n}clone(){return new YR(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class KR{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new Lt(e),this.near=n,this.far=r}clone(){return new KR(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class NP extends xr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new hl,this.environmentIntensity=1,this.environmentRotation=new hl,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class ZR{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=IS,this.updateRanges=[],this.version=0,this.uuid=dl()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=dl()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=dl()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const za=new ie;class u0{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)za.fromBufferAttribute(this,n),za.applyMatrix4(e),this.setXYZ(n,za.x,za.y,za.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)za.fromBufferAttribute(this,n),za.applyNormalMatrix(e),this.setXYZ(n,za.x,za.y,za.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)za.fromBufferAttribute(this,n),za.transformDirection(e),this.setXYZ(n,za.x,za.y,za.z);return this}getComponent(e,n){let r=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(r=Ya(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Vn(r,this.array)),this.data.array[e*this.data.stride+this.offset+n]=r,this}setX(e,n){return this.normalized&&(n=Vn(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Vn(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Vn(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Vn(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=Ya(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=Ya(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=Ya(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=Ya(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Vn(n,this.array),r=Vn(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=Vn(n,this.array),r=Vn(r,this.array),i=Vn(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=Vn(n,this.array),r=Vn(r,this.array),i=Vn(i,this.array),s=Vn(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){DS("InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return new kr(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new u0(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){DS("InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class L8 extends la{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Lt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let ny;const e1=new ie,ry=new ie,iy=new ie,sy=new Ge,t1=new Ge,Yhe=new Pn,VT=new ie,n1=new ie,$T=new ie,zQ=new Ge,AL=new Ge,VQ=new Ge;class Khe extends xr{constructor(e=new L8){if(super(),this.isSprite=!0,this.type="Sprite",ny===void 0){ny=new jn;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new ZR(n,5);ny.setIndex([0,1,2,0,2,3]),ny.setAttribute("position",new u0(r,3,0,!1)),ny.setAttribute("uv",new u0(r,2,3,!1))}this.geometry=ny,this.material=e,this.center=new Ge(.5,.5),this.count=1}raycast(e,n){e.camera===null&&dn('Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),ry.setFromMatrixScale(this.matrixWorld),Yhe.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),iy.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&ry.multiplyScalar(-iy.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const a=this.center;HT(VT.set(-.5,-.5,0),iy,a,ry,i,s),HT(n1.set(.5,-.5,0),iy,a,ry,i,s),HT($T.set(.5,.5,0),iy,a,ry,i,s),zQ.set(0,0),AL.set(1,0),VQ.set(1,1);let o=e.ray.intersectTriangle(VT,n1,$T,!1,e1);if(o===null&&(HT(n1.set(-.5,.5,0),iy,a,ry,i,s),AL.set(0,1),o=e.ray.intersectTriangle(VT,$T,n1,!1,e1),o===null))return;const l=e.ray.origin.distanceTo(e1);l<e.near||l>e.far||n.push({distance:l,point:e1.clone(),uv:To.getInterpolation(e1,VT,n1,$T,zQ,AL,VQ,new Ge),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function HT(t,e,n,r,i,s){sy.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(t1.x=s*sy.x-i*sy.y,t1.y=i*sy.x+s*sy.y):t1.copy(sy),t.copy(e),t.x+=t1.x,t.y+=t1.y,t.applyMatrix4(Yhe)}const WT=new ie,$Q=new ie;class Zhe extends xr{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const s=n[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let s;for(s=0;s<i.length&&!(n<i[s].distance);s++);return i.splice(s,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}removeLevel(e){const n=this.levels;for(let r=0;r<n.length;r++)if(n[r].distance===e){const i=n.splice(r,1);return this.remove(i[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let s=n[r].distance;if(n[r].object.visible&&(s-=s*n[r].hysteresis),e<s)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){WT.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(WT);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){WT.setFromMatrixPosition(e.matrixWorld),$Q.setFromMatrixPosition(this.matrixWorld);const r=WT.distanceTo($Q)/e.zoom;n[0].object.visible=!0;let i,s;for(i=1,s=n.length;i<s;i++){let a=n[i].distance;if(n[i].object.visible&&(a-=a*n[i].hysteresis),r>=a)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const a=r[i];n.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return n}}const HQ=new ie,WQ=new Wr,GQ=new Wr,wXe=new ie,qQ=new Pn,GT=new ie,CL=new oa,XQ=new Pn,PL=new T0;class Qhe extends Yi{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=tU,this.bindMatrix=new Pn,this.bindMatrixInverse=new Pn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Ta),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,GT),this.boundingBox.expandByPoint(GT)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new oa),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,GT),this.boundingSphere.expandByPoint(GT)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),CL.copy(this.boundingSphere),CL.applyMatrix4(i),e.ray.intersectsSphere(CL)!==!1&&(XQ.copy(i).invert(),PL.copy(e.ray).applyMatrix4(XQ),!(this.boundingBox!==null&&PL.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,PL)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Wr,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===tU?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===Phe?this.bindMatrixInverse.copy(this.bindMatrix).invert():At("SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;WQ.fromBufferAttribute(i.attributes.skinIndex,e),GQ.fromBufferAttribute(i.attributes.skinWeight,e),HQ.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const a=GQ.getComponent(s);if(a!==0){const o=WQ.getComponent(s);qQ.multiplyMatrices(r.bones[o].matrixWorld,r.boneInverses[o]),n.addScaledVector(wXe.copy(HQ).applyMatrix4(qQ),a)}}return n.applyMatrix4(this.bindMatrixInverse)}}class F8 extends xr{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Kc extends Si{constructor(e=null,n=1,r=1,i,s,a,o,l,c=Gi,d=Gi,f,h){super(null,a,o,l,c,d,i,s,f,h),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const YQ=new Pn,_Xe=new Pn;class QR{constructor(e=[],n=[]){this.uuid=dl(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.previousBoneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){At("Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Pn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new Pn;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,a=e.length;s<a;s++){const o=e[s]?e[s].matrixWorld:_Xe;YQ.multiplyMatrices(o,n[s]),YQ.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new QR(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new Kc(n,e,e,Ea,Qa);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let a=n[s];a===void 0&&(At("Skeleton: No bone found with UUID:",s),a=new F8),this.bones.push(a),this.boneInverses.push(new Pn().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,s=n.length;i<s;i++){const a=n[i];e.bones.push(a.uuid);const o=r[i];e.boneInverses.push(o.toArray())}return e}}class Kx extends kr{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const ay=new Pn,KQ=new Pn,qT=[],ZQ=new Ta,SXe=new Pn,r1=new Yi,i1=new oa;class Jhe extends Yi{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new Kx(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,SXe)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new Ta),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,ay),ZQ.copy(e.boundingBox).applyMatrix4(ay),this.boundingBox.union(ZQ)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new oa),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,ay),i1.copy(e.boundingSphere).applyMatrix4(ay),this.boundingSphere.union(i1)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const r=n.morphTargetInfluences,i=this.morphTexture.source.data.data,s=r.length+1,a=e*s+1;for(let o=0;o<r.length;o++)r[o]=i[a+o]}raycast(e,n){const r=this.matrixWorld,i=this.count;if(r1.geometry=this.geometry,r1.material=this.material,r1.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),i1.copy(this.boundingSphere),i1.applyMatrix4(r),e.ray.intersectsSphere(i1)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,ay),KQ.multiplyMatrices(r,ay),r1.matrixWorld=KQ,r1.raycast(e,qT);for(let a=0,o=qT.length;a<o;a++){const l=qT[a];l.instanceId=s,l.object=this,n.push(l)}qT.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new Kx(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const r=n.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new Kc(new Float32Array(i*this.count),i,this.count,zR,Qa));const s=this.morphTexture.source.data.data;let a=0;for(let c=0;c<r.length;c++)a+=r[c];const o=this.geometry.morphTargetsRelative?1:1-a,l=i*e;s[l]=o,s.set(r,l+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const NL=new ie,EXe=new ie,MXe=new Fn;class xf{constructor(e=new ie(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=NL.subVectors(r,n).cross(EXe.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(NL),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||MXe.getNormalMatrix(e),i=this.coplanarPoint(NL).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Wm=new oa,TXe=new Ge(.5,.5),XT=new ie;class Rb{constructor(e=new xf,n=new xf,r=new xf,i=new xf,s=new xf,a=new xf){this.planes=[e,n,r,i,s,a]}set(e,n,r,i,s,a){const o=this.planes;return o[0].copy(e),o[1].copy(n),o[2].copy(r),o[3].copy(i),o[4].copy(s),o[5].copy(a),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=al,r=!1){const i=this.planes,s=e.elements,a=s[0],o=s[1],l=s[2],c=s[3],d=s[4],f=s[5],h=s[6],m=s[7],v=s[8],b=s[9],y=s[10],w=s[11],S=s[12],M=s[13],T=s[14],A=s[15];if(i[0].setComponents(c-a,m-d,w-v,A-S).normalize(),i[1].setComponents(c+a,m+d,w+v,A+S).normalize(),i[2].setComponents(c+o,m+f,w+b,A+M).normalize(),i[3].setComponents(c-o,m-f,w-b,A-M).normalize(),r)i[4].setComponents(l,h,y,T).normalize(),i[5].setComponents(c-l,m-h,w-y,A-T).normalize();else if(i[4].setComponents(c-l,m-h,w-y,A-T).normalize(),n===al)i[5].setComponents(c+l,m+h,w+y,A+T).normalize();else if(n===Gx)i[5].setComponents(l,h,y,T).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Wm.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Wm.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Wm)}intersectsSprite(e){Wm.center.set(0,0,0);const n=TXe.distanceTo(e.center);return Wm.radius=.7071067811865476+n,Wm.applyMatrix4(e.matrixWorld),this.intersectsSphere(Wm)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(XT.x=i.normal.x>0?e.max.x:e.min.x,XT.y=i.normal.y>0?e.max.y:e.min.y,XT.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(XT)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const Eu=new Pn,Mu=new Rb;class JR{constructor(){this.coordinateSystem=al}intersectsObject(e,n){if(!n.isArrayCamera||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Eu.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Mu.setFromProjectionMatrix(Eu,i.coordinateSystem,i.reversedDepth),Mu.intersectsObject(e))return!0}return!1}intersectsSprite(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Eu.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Mu.setFromProjectionMatrix(Eu,i.coordinateSystem,i.reversedDepth),Mu.intersectsSprite(e))return!0}return!1}intersectsSphere(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Eu.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Mu.setFromProjectionMatrix(Eu,i.coordinateSystem,i.reversedDepth),Mu.intersectsSphere(e))return!0}return!1}intersectsBox(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Eu.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Mu.setFromProjectionMatrix(Eu,i.coordinateSystem,i.reversedDepth),Mu.intersectsBox(e))return!0}return!1}containsPoint(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Eu.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Mu.setFromProjectionMatrix(Eu,i.coordinateSystem,i.reversedDepth),Mu.containsPoint(e))return!0}return!1}clone(){return new JR}}function RL(t,e){return t-e}function AXe(t,e){return t.z-e.z}function CXe(t,e){return e.z-t.z}class PXe{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n,r,i){const s=this.pool,a=this.list;this.index>=s.length&&s.push({start:-1,count:-1,z:-1,index:-1});const o=s[this.index];a.push(o),this.index++,o.start=e,o.count=n,o.z=r,o.index=i}reset(){this.list.length=0,this.index=0}}const wo=new Pn,NXe=new Lt(1,1,1),QQ=new Rb,RXe=new JR,YT=new Ta,Gm=new oa,s1=new ie,JQ=new ie,OXe=new ie,OL=new PXe,ya=new Yi,KT=[];function jXe(t,e,n=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const i=t.count;for(let s=0;s<i;s++)for(let a=0;a<r;a++)e.setComponent(s+n,a,t.getComponent(s,a))}else e.array.set(t.array,n*r);e.needsUpdate=!0}function qm(t,e){if(t.constructor!==e.constructor){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++)e[r]=t[r]}else{const n=Math.min(t.length,e.length);e.set(new t.constructor(t.buffer,0,n))}}class epe extends Yi{constructor(e,n,r=n*2,i){super(new jn,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new Kc(n,e,e,Ea,Qa);this._matricesTexture=r}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Uint32Array(e*e),r=new Kc(n,e,e,LE,Xl);this._indirectTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Float32Array(e*e*4).fill(1),r=new Kc(n,e,e,Ea,Qa);r.colorSpace=cr.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,i=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const a=e.getAttribute(s),{array:o,itemSize:l,normalized:c}=a,d=new o.constructor(r*l),f=new kr(d,l,c);n.setAttribute(s,f)}if(e.getIndex()!==null){const s=r>65535?new Uint32Array(i):new Uint16Array(i);n.setIndex(new kr(s,1))}this._geometryInitialized=!0}}_validateGeometry(e){const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(!e.hasAttribute(r))throw new Error(`THREE.BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),s=n.getAttribute(r);if(i.itemSize!==s.itemSize||i.normalized!==s.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const n=this._instanceInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const n=this._geometryInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ta);const e=this.boundingBox,n=this._instanceInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;const s=n[r].geometryIndex;this.getMatrixAt(r,wo),this.getBoundingBoxAt(s,YT).applyMatrix4(wo),e.union(YT)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new oa);const e=this.boundingSphere,n=this._instanceInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;const s=n[r].geometryIndex;this.getMatrixAt(r,wo),this.getBoundingSphereAt(s,Gm).applyMatrix4(wo),e.union(Gm)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const r={visible:!0,active:!0,geometryIndex:e};let i=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(RL),i=this._availableInstanceIds.shift(),this._instanceInfo[i]=r):(i=this._instanceInfo.length,this._instanceInfo.push(r));const s=this._matricesTexture;wo.identity().toArray(s.image.data,i*16),s.needsUpdate=!0;const a=this._colorsTexture;return a&&(NXe.toArray(a.image.data,i*4),a.needsUpdate=!0),this._visibilityChanged=!0,i}addGeometry(e,n=-1,r=-1){this._initializeGeometry(e),this._validateGeometry(e);const i={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},s=this._geometryInfo;i.vertexStart=this._nextVertexStart,i.reservedVertexCount=n===-1?e.getAttribute("position").count:n;const a=e.getIndex();if(a!==null&&(i.indexStart=this._nextIndexStart,i.reservedIndexCount=r===-1?a.count:r),i.indexStart!==-1&&i.indexStart+i.reservedIndexCount>this._maxIndexCount||i.vertexStart+i.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(RL),l=this._availableGeometryIds.shift(),s[l]=i):(l=this._geometryCount,this._geometryCount++,s.push(i)),this.setGeometryAt(l,e),this._nextIndexStart=i.indexStart+i.reservedIndexCount,this._nextVertexStart=i.vertexStart+i.reservedVertexCount,l}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,i=r.getIndex()!==null,s=r.getIndex(),a=n.getIndex(),o=this._geometryInfo[e];if(i&&a.count>o.reservedIndexCount||n.attributes.position.count>o.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const l=o.vertexStart,c=o.reservedVertexCount;o.vertexCount=n.getAttribute("position").count;for(const d in r.attributes){const f=n.getAttribute(d),h=r.getAttribute(d);jXe(f,h,l);const m=f.itemSize;for(let v=f.count,b=c;v<b;v++){const y=l+v;for(let w=0;w<m;w++)h.setComponent(y,w,0)}h.needsUpdate=!0,h.addUpdateRange(l*m,c*m)}if(i){const d=o.indexStart,f=o.reservedIndexCount;o.indexCount=n.getIndex().count;for(let h=0;h<a.count;h++)s.setX(d+h,l+a.getX(h));for(let h=a.count,m=f;h<m;h++)s.setX(d+h,l);s.needsUpdate=!0,s.addUpdateRange(d,o.reservedIndexCount)}return o.start=i?o.indexStart:o.vertexStart,o.count=i?o.indexCount:o.vertexCount,o.boundingBox=null,n.boundingBox!==null&&(o.boundingBox=n.boundingBox.clone()),o.boundingSphere=null,n.boundingSphere!==null&&(o.boundingSphere=n.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._geometryInfo;if(e>=n.length||n[e].active===!1)return this;const r=this._instanceInfo;for(let i=0,s=r.length;i<s;i++)r[i].active&&r[i].geometryIndex===e&&this.deleteInstance(i);return n[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,n=0;const r=this._geometryInfo,i=r.map((a,o)=>o).sort((a,o)=>r[a].vertexStart-r[o].vertexStart),s=this.geometry;for(let a=0,o=r.length;a<o;a++){const l=i[a],c=r[l];if(c.active!==!1){if(s.index!==null){if(c.indexStart!==n){const{indexStart:d,vertexStart:f,reservedIndexCount:h}=c,m=s.index,v=m.array,b=e-f;for(let y=d;y<d+h;y++)v[y]=v[y]+b;m.array.copyWithin(n,d,d+h),m.addUpdateRange(n,h),m.needsUpdate=!0,c.indexStart=n}n+=c.reservedIndexCount}if(c.vertexStart!==e){const{vertexStart:d,reservedVertexCount:f}=c,h=s.attributes;for(const m in h){const v=h[m],{array:b,itemSize:y}=v;b.copyWithin(e*y,d*y,(d+f)*y),v.addUpdateRange(e*y,f*y),v.needsUpdate=!0}c.vertexStart=e}e+=c.reservedVertexCount,c.start=s.index?c.indexStart:c.vertexStart,this._nextIndexStart=s.index?c.indexStart+c.reservedIndexCount:0,this._nextVertexStart=c.vertexStart+c.reservedVertexCount}}return this._visibilityChanged=!0,this}getBoundingBoxAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingBox===null){const s=new Ta,a=r.index,o=r.attributes.position;for(let l=i.start,c=i.start+i.count;l<c;l++){let d=l;a&&(d=a.getX(d)),s.expandByPoint(s1.fromBufferAttribute(o,d))}i.boundingBox=s}return n.copy(i.boundingBox),n}getBoundingSphereAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingSphere===null){const s=new oa;this.getBoundingBoxAt(e,YT),YT.getCenter(s.center);const a=r.index,o=r.attributes.position;let l=0;for(let c=i.start,d=i.start+i.count;c<d;c++){let f=c;a&&(f=a.getX(f)),s1.fromBufferAttribute(o,f),l=Math.max(l,s.center.distanceToSquared(s1))}s.radius=Math.sqrt(l),i.boundingSphere=s}return n.copy(i.boundingSphere),n}setMatrixAt(e,n){this.validateInstanceId(e);const r=this._matricesTexture,i=this._matricesTexture.image.data;return n.toArray(i,e*16),r.needsUpdate=!0,this}getMatrixAt(e,n){return this.validateInstanceId(e),n.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,n){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),n.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,n){return this.validateInstanceId(e),n.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,n){return this.validateInstanceId(e),this._instanceInfo[e].visible===n?this:(this._instanceInfo[e].visible=n,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,n){return this.validateInstanceId(e),this.validateGeometryId(n),this._instanceInfo[e].geometryIndex=n,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,n={}){this.validateGeometryId(e);const r=this._geometryInfo[e];return n.vertexStart=r.vertexStart,n.vertexCount=r.vertexCount,n.reservedVertexCount=r.reservedVertexCount,n.indexStart=r.indexStart,n.indexCount=r.indexCount,n.reservedIndexCount=r.reservedIndexCount,n.start=r.start,n.count=r.count,n}setInstanceCount(e){const n=this._availableInstanceIds,r=this._instanceInfo;for(n.sort(RL);n[n.length-1]===r.length-1;)r.pop(),n.pop();if(e<r.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const i=new Int32Array(e),s=new Int32Array(e);qm(this._multiDrawCounts,i),qm(this._multiDrawStarts,s),this._multiDrawCounts=i,this._multiDrawStarts=s,this._maxInstanceCount=e;const a=this._indirectTexture,o=this._matricesTexture,l=this._colorsTexture;a.dispose(),this._initIndirectTexture(),qm(a.image.data,this._indirectTexture.image.data),o.dispose(),this._initMatricesTexture(),qm(o.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),qm(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,n){const r=[...this._geometryInfo].filter(o=>o.active);if(Math.max(...r.map(o=>o.vertexStart+o.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${n}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...r.map(l=>l.indexStart+l.reservedIndexCount))>n)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${n}. Cannot shrink further.`);const s=this.geometry;s.dispose(),this._maxVertexCount=e,this._maxIndexCount=n,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new jn,this._initializeGeometry(s));const a=this.geometry;s.index&&qm(s.index.array,a.index.array);for(const o in s.attributes)qm(s.attributes[o].array,a.attributes[o].array)}raycast(e,n){const r=this._instanceInfo,i=this._geometryInfo,s=this.matrixWorld,a=this.geometry;ya.material=this.material,ya.geometry.index=a.index,ya.geometry.attributes=a.attributes,ya.geometry.boundingBox===null&&(ya.geometry.boundingBox=new Ta),ya.geometry.boundingSphere===null&&(ya.geometry.boundingSphere=new oa);for(let o=0,l=r.length;o<l;o++){if(!r[o].visible||!r[o].active)continue;const c=r[o].geometryIndex,d=i[c];ya.geometry.setDrawRange(d.start,d.count),this.getMatrixAt(o,ya.matrixWorld).premultiply(s),this.getBoundingBoxAt(c,ya.geometry.boundingBox),this.getBoundingSphereAt(c,ya.geometry.boundingSphere),ya.raycast(e,KT);for(let f=0,h=KT.length;f<h;f++){const m=KT[f];m.object=this,m.batchId=o,n.push(m)}KT.length=0}ya.material=null,ya.geometry.index=null,ya.geometry.attributes={},ya.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(n=>({...n,boundingBox:n.boundingBox!==null?n.boundingBox.clone():null,boundingSphere:n.boundingSphere!==null?n.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(n=>({...n})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,n,r,i,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const a=i.getIndex(),o=a===null?1:a.array.BYTES_PER_ELEMENT,l=this._instanceInfo,c=this._multiDrawStarts,d=this._multiDrawCounts,f=this._geometryInfo,h=this.perObjectFrustumCulled,m=this._indirectTexture,v=m.image.data,b=r.isArrayCamera?RXe:QQ;h&&!r.isArrayCamera&&(wo.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),QQ.setFromProjectionMatrix(wo,r.coordinateSystem,r.reversedDepth));let y=0;if(this.sortObjects){wo.copy(this.matrixWorld).invert(),s1.setFromMatrixPosition(r.matrixWorld).applyMatrix4(wo),JQ.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(wo);for(let M=0,T=l.length;M<T;M++)if(l[M].visible&&l[M].active){const A=l[M].geometryIndex;this.getMatrixAt(M,wo),this.getBoundingSphereAt(A,Gm).applyMatrix4(wo);let C=!1;if(h&&(C=!b.intersectsSphere(Gm,r)),!C){const j=f[A],L=OXe.subVectors(Gm.center,s1).dot(JQ);OL.push(j.start,j.count,L,M)}}const w=OL.list,S=this.customSort;S===null?w.sort(s.transparent?CXe:AXe):S.call(this,w,r);for(let M=0,T=w.length;M<T;M++){const A=w[M];c[y]=A.start*o,d[y]=A.count,v[y]=A.index,y++}OL.reset()}else for(let w=0,S=l.length;w<S;w++)if(l[w].visible&&l[w].active){const M=l[w].geometryIndex;let T=!1;if(h&&(this.getMatrixAt(w,wo),this.getBoundingSphereAt(M,Gm).applyMatrix4(wo),T=!b.intersectsSphere(Gm,r)),!T){const A=f[M];c[y]=A.start*o,d[y]=A.count,v[y]=w,y++}}m.needsUpdate=!0,this._multiDrawCount=y,this._visibilityChanged=!1}onBeforeShadow(e,n,r,i,s,a){this.onBeforeRender(e,null,i,s,a)}}class so extends la{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Lt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const RP=new ie,OP=new ie,eJ=new Pn,a1=new T0,ZT=new oa,jL=new ie,tJ=new ie;let kp=class extends xr{constructor(e=new jn,n=new so){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,s=n.count;i<s;i++)RP.fromBufferAttribute(n,i-1),OP.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=RP.distanceTo(OP);e.setAttribute("lineDistance",new Xt(r,1))}else At("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),ZT.copy(r.boundingSphere),ZT.applyMatrix4(i),ZT.radius+=s,e.ray.intersectsSphere(ZT)===!1)return;eJ.copy(i).invert(),a1.copy(e.ray).applyMatrix4(eJ);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=this.isLineSegments?2:1,d=r.index,h=r.attributes.position;if(d!==null){const m=Math.max(0,a.start),v=Math.min(d.count,a.start+a.count);for(let b=m,y=v-1;b<y;b+=c){const w=d.getX(b),S=d.getX(b+1),M=QT(this,e,a1,l,w,S,b);M&&n.push(M)}if(this.isLineLoop){const b=d.getX(v-1),y=d.getX(m),w=QT(this,e,a1,l,b,y,v-1);w&&n.push(w)}}else{const m=Math.max(0,a.start),v=Math.min(h.count,a.start+a.count);for(let b=m,y=v-1;b<y;b+=c){const w=QT(this,e,a1,l,b,b+1,b);w&&n.push(w)}if(this.isLineLoop){const b=QT(this,e,a1,l,v-1,m,v-1);b&&n.push(b)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const o=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}};function QT(t,e,n,r,i,s,a){const o=t.geometry.attributes.position;if(RP.fromBufferAttribute(o,i),OP.fromBufferAttribute(o,s),n.distanceSqToSegment(RP,OP,jL,tJ)>r)return;jL.applyMatrix4(t.matrixWorld);const c=e.ray.origin.distanceTo(jL);if(!(c<e.near||c>e.far))return{distance:c,point:tJ.clone().applyMatrix4(t.matrixWorld),index:a,face:null,faceIndex:null,barycoord:null,object:t}}const nJ=new ie,rJ=new ie;class yd extends kp{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,s=n.count;i<s;i+=2)nJ.fromBufferAttribute(n,i),rJ.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+nJ.distanceTo(rJ);e.setAttribute("lineDistance",new Xt(r,1))}else At("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class tpe extends kp{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class U8 extends la{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Lt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const iJ=new Pn,iU=new T0,JT=new oa,e2=new ie;class npe extends xr{constructor(e=new jn,n=new U8){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),JT.copy(r.boundingSphere),JT.applyMatrix4(i),JT.radius+=s,e.ray.intersectsSphere(JT)===!1)return;iJ.copy(i).invert(),iU.copy(e.ray).applyMatrix4(iJ);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=r.index,f=r.attributes.position;if(c!==null){const h=Math.max(0,a.start),m=Math.min(c.count,a.start+a.count);for(let v=h,b=m;v<b;v++){const y=c.getX(v);e2.fromBufferAttribute(f,y),sJ(e2,y,l,i,e,n,this)}}else{const h=Math.max(0,a.start),m=Math.min(f.count,a.start+a.count);for(let v=h,b=m;v<b;v++)e2.fromBufferAttribute(f,v),sJ(e2,v,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const o=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}}function sJ(t,e,n,r,i,s,a){const o=iU.distanceSqToPoint(t);if(o<n){const l=new ie;iU.closestPointToPoint(t,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(o),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:a})}}class rpe extends Si{constructor(e,n,r,i,s=si,a=si,o,l,c){super(e,n,r,i,s,a,o,l,c),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const d=this;function f(){d.needsUpdate=!0,d._requestVideoFrameCallbackId=e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(f))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&(this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),this._requestVideoFrameCallbackId=0),super.dispose()}}class IXe extends rpe{constructor(e,n,r,i,s,a,o,l){super({},e,n,r,i,s,a,o,l),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class kXe extends Si{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=Gi,this.minFilter=Gi,this.generateMipmaps=!1,this.needsUpdate=!0}}class eO extends Si{constructor(e,n,r,i,s,a,o,l,c,d,f,h){super(null,a,o,l,c,d,i,s,f,h),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class DXe extends eO{constructor(e,n,r,i,s,a){super(e,n,r,s,a),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Po,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class LXe extends eO{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,ld),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class FXe extends Si{constructor(e,n,r,i,s,a,o,l,c){super(e,n,r,i,s,a,o,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Zx extends Si{constructor(e,n,r=Xl,i,s,a,o=Gi,l=Gi,c,d=ud,f=1){if(d!==ud&&d!==ip)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const h={width:e,height:n,depth:f};super(h,i,s,a,o,l,d,r,c),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new sp(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class ipe extends Zx{constructor(e,n=Xl,r=ld,i,s,a=Gi,o=Gi,l,c=ud){const d={width:e,height:e,depth:1},f=[d,d,d,d,d,d];super(e,e,n,r,i,s,a,o,l,c),this.image=f,this.isCubeDepthTexture=!0,this.isCubeTexture=!0}get images(){return this.image}set images(e){this.image=e}}class B8 extends Si{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class tO extends jn{constructor(e=1,n=1,r=4,i=8,s=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:n,capSegments:r,radialSegments:i,heightSegments:s},n=Math.max(0,n),r=Math.max(1,Math.floor(r)),i=Math.max(3,Math.floor(i)),s=Math.max(1,Math.floor(s));const a=[],o=[],l=[],c=[],d=n/2,f=Math.PI/2*e,h=n,m=2*f+h,v=r*2+s,b=i+1,y=new ie,w=new ie;for(let S=0;S<=v;S++){let M=0,T=0,A=0,C=0;if(S<=r){const O=S/r,k=O*Math.PI/2;T=-d-e*Math.cos(k),A=e*Math.sin(k),C=-e*Math.cos(k),M=O*f}else if(S<=r+s){const O=(S-r)/s;T=-d+O*n,A=e,C=0,M=f+O*h}else{const O=(S-r-s)/r,k=O*Math.PI/2;T=d+e*Math.sin(k),A=e*Math.cos(k),C=e*Math.sin(k),M=f+h+O*f}const j=Math.max(0,Math.min(1,M/m));let L=0;S===0?L=.5/i:S===v&&(L=-.5/i);for(let O=0;O<=i;O++){const k=O/i,F=k*Math.PI*2,G=Math.sin(F),Y=Math.cos(F);w.x=-A*Y,w.y=T,w.z=A*G,o.push(w.x,w.y,w.z),y.set(-A*Y,C,A*G),y.normalize(),l.push(y.x,y.y,y.z),c.push(k+L,j)}if(S>0){const O=(S-1)*b;for(let k=0;k<i;k++){const F=O+k,G=O+k+1,Y=S*b+k,U=S*b+k+1;a.push(F,G,Y),a.push(G,U,Y)}}}this.setIndex(a),this.setAttribute("position",new Xt(o,3)),this.setAttribute("normal",new Xt(l,3)),this.setAttribute("uv",new Xt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new tO(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class nO extends jn{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const s=[],a=[],o=[],l=[],c=new ie,d=new Ge;a.push(0,0,0),o.push(0,0,1),l.push(.5,.5);for(let f=0,h=3;f<=n;f++,h+=3){const m=r+f/n*i;c.x=e*Math.cos(m),c.y=e*Math.sin(m),a.push(c.x,c.y,c.z),o.push(0,0,1),d.x=(a[h]/e+1)/2,d.y=(a[h+1]/e+1)/2,l.push(d.x,d.y)}for(let f=1;f<=n;f++)s.push(f,f+1,0);this.setIndex(s),this.setAttribute("position",new Xt(a,3)),this.setAttribute("normal",new Xt(o,3)),this.setAttribute("uv",new Xt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new nO(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class BE extends jn{constructor(e=1,n=1,r=1,i=32,s=1,a=!1,o=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:a,thetaStart:o,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const d=[],f=[],h=[],m=[];let v=0;const b=[],y=r/2;let w=0;S(),a===!1&&(e>0&&M(!0),n>0&&M(!1)),this.setIndex(d),this.setAttribute("position",new Xt(f,3)),this.setAttribute("normal",new Xt(h,3)),this.setAttribute("uv",new Xt(m,2));function S(){const T=new ie,A=new ie;let C=0;const j=(n-e)/r;for(let L=0;L<=s;L++){const O=[],k=L/s,F=k*(n-e)+e;for(let G=0;G<=i;G++){const Y=G/i,U=Y*l+o,W=Math.sin(U),q=Math.cos(U);A.x=F*W,A.y=-k*r+y,A.z=F*q,f.push(A.x,A.y,A.z),T.set(W,j,q).normalize(),h.push(T.x,T.y,T.z),m.push(Y,1-k),O.push(v++)}b.push(O)}for(let L=0;L<i;L++)for(let O=0;O<s;O++){const k=b[O][L],F=b[O+1][L],G=b[O+1][L+1],Y=b[O][L+1];(e>0||O!==0)&&(d.push(k,F,Y),C+=3),(n>0||O!==s-1)&&(d.push(F,G,Y),C+=3)}c.addGroup(w,C,0),w+=C}function M(T){const A=v,C=new Ge,j=new ie;let L=0;const O=T===!0?e:n,k=T===!0?1:-1;for(let G=1;G<=i;G++)f.push(0,y*k,0),h.push(0,k,0),m.push(.5,.5),v++;const F=v;for(let G=0;G<=i;G++){const U=G/i*l+o,W=Math.cos(U),q=Math.sin(U);j.x=O*q,j.y=y*k,j.z=O*W,f.push(j.x,j.y,j.z),h.push(0,k,0),C.x=W*.5+.5,C.y=q*.5*k+.5,m.push(C.x,C.y),v++}for(let G=0;G<i;G++){const Y=A+G,U=F+G;T===!0?d.push(U,U+1,Y):d.push(U+1,U,Y),L+=3}c.addGroup(w,L,T===!0?1:2),w+=L}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new BE(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class zE extends BE{constructor(e=1,n=1,r=32,i=1,s=!1,a=0,o=Math.PI*2){super(0,e,n,r,i,s,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:a,thetaLength:o}}static fromJSON(e){return new zE(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Xp extends jn{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const s=[],a=[];o(i),c(r),d(),this.setAttribute("position",new Xt(s,3)),this.setAttribute("normal",new Xt(s.slice(),3)),this.setAttribute("uv",new Xt(a,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function o(S){const M=new ie,T=new ie,A=new ie;for(let C=0;C<n.length;C+=3)m(n[C+0],M),m(n[C+1],T),m(n[C+2],A),l(M,T,A,S)}function l(S,M,T,A){const C=A+1,j=[];for(let L=0;L<=C;L++){j[L]=[];const O=S.clone().lerp(T,L/C),k=M.clone().lerp(T,L/C),F=C-L;for(let G=0;G<=F;G++)G===0&&L===C?j[L][G]=O:j[L][G]=O.clone().lerp(k,G/F)}for(let L=0;L<C;L++)for(let O=0;O<2*(C-L)-1;O++){const k=Math.floor(O/2);O%2===0?(h(j[L][k+1]),h(j[L+1][k]),h(j[L][k])):(h(j[L][k+1]),h(j[L+1][k+1]),h(j[L+1][k]))}}function c(S){const M=new ie;for(let T=0;T<s.length;T+=3)M.x=s[T+0],M.y=s[T+1],M.z=s[T+2],M.normalize().multiplyScalar(S),s[T+0]=M.x,s[T+1]=M.y,s[T+2]=M.z}function d(){const S=new ie;for(let M=0;M<s.length;M+=3){S.x=s[M+0],S.y=s[M+1],S.z=s[M+2];const T=y(S)/2/Math.PI+.5,A=w(S)/Math.PI+.5;a.push(T,1-A)}v(),f()}function f(){for(let S=0;S<a.length;S+=6){const M=a[S+0],T=a[S+2],A=a[S+4],C=Math.max(M,T,A),j=Math.min(M,T,A);C>.9&&j<.1&&(M<.2&&(a[S+0]+=1),T<.2&&(a[S+2]+=1),A<.2&&(a[S+4]+=1))}}function h(S){s.push(S.x,S.y,S.z)}function m(S,M){const T=S*3;M.x=e[T+0],M.y=e[T+1],M.z=e[T+2]}function v(){const S=new ie,M=new ie,T=new ie,A=new ie,C=new Ge,j=new Ge,L=new Ge;for(let O=0,k=0;O<s.length;O+=9,k+=6){S.set(s[O+0],s[O+1],s[O+2]),M.set(s[O+3],s[O+4],s[O+5]),T.set(s[O+6],s[O+7],s[O+8]),C.set(a[k+0],a[k+1]),j.set(a[k+2],a[k+3]),L.set(a[k+4],a[k+5]),A.copy(S).add(M).add(T).divideScalar(3);const F=y(A);b(C,k+0,S,F),b(j,k+2,M,F),b(L,k+4,T,F)}}function b(S,M,T,A){A<0&&S.x===1&&(a[M]=S.x-1),T.x===0&&T.z===0&&(a[M]=A/2/Math.PI+.5)}function y(S){return Math.atan2(S.z,-S.x)}function w(S){return Math.atan2(-S.y,Math.sqrt(S.x*S.x+S.z*S.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Xp(e.vertices,e.indices,e.radius,e.detail)}}class rO extends Xp{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,a,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new rO(e.radius,e.detail)}}const t2=new ie,n2=new ie,IL=new ie,r2=new To;class spe extends jn{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),s=Math.cos(Fg*n),a=e.getIndex(),o=e.getAttribute("position"),l=a?a.count:o.count,c=[0,0,0],d=["a","b","c"],f=new Array(3),h={},m=[];for(let v=0;v<l;v+=3){a?(c[0]=a.getX(v),c[1]=a.getX(v+1),c[2]=a.getX(v+2)):(c[0]=v,c[1]=v+1,c[2]=v+2);const{a:b,b:y,c:w}=r2;if(b.fromBufferAttribute(o,c[0]),y.fromBufferAttribute(o,c[1]),w.fromBufferAttribute(o,c[2]),r2.getNormal(IL),f[0]=`${Math.round(b.x*i)},${Math.round(b.y*i)},${Math.round(b.z*i)}`,f[1]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,f[2]=`${Math.round(w.x*i)},${Math.round(w.y*i)},${Math.round(w.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let S=0;S<3;S++){const M=(S+1)%3,T=f[S],A=f[M],C=r2[d[S]],j=r2[d[M]],L=`${T}_${A}`,O=`${A}_${T}`;O in h&&h[O]?(IL.dot(h[O].normal)<=s&&(m.push(C.x,C.y,C.z),m.push(j.x,j.y,j.z)),h[O]=null):L in h||(h[L]={index0:c[S],index1:c[M],normal:IL.clone()})}}for(const v in h)if(h[v]){const{index0:b,index1:y}=h[v];t2.fromBufferAttribute(o,b),n2.fromBufferAttribute(o,y),m.push(t2.x,t2.y,t2.z),m.push(n2.x,n2.y,n2.z)}this.setAttribute("position",new Xt(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class lu{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){At("Curve: .getPoint() not implemented.")}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),s=0;n.push(0);for(let a=1;a<=e;a++)r=this.getPoint(a/e),s+=r.distanceTo(i),n.push(s),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n=null){const r=this.getLengths();let i=0;const s=r.length;let a;n?a=n:a=e*r[s-1];let o=0,l=s-1,c;for(;o<=l;)if(i=Math.floor(o+(l-o)/2),c=r[i]-a,c<0)o=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===a)return i/(s-1);const d=r[i],h=r[i+1]-d,m=(a-d)/h;return(i+m)/(s-1)}getTangent(e,n){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const a=this.getPoint(i),o=this.getPoint(s),l=n||(a.isVector2?new Ge:new ie);return l.copy(o).sub(a).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n=!1){const r=new ie,i=[],s=[],a=[],o=new ie,l=new Pn;for(let m=0;m<=e;m++){const v=m/e;i[m]=this.getTangentAt(v,new ie)}s[0]=new ie,a[0]=new ie;let c=Number.MAX_VALUE;const d=Math.abs(i[0].x),f=Math.abs(i[0].y),h=Math.abs(i[0].z);d<=c&&(c=d,r.set(1,0,0)),f<=c&&(c=f,r.set(0,1,0)),h<=c&&r.set(0,0,1),o.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],o),a[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),a[m]=a[m-1].clone(),o.crossVectors(i[m-1],i[m]),o.length()>Number.EPSILON){o.normalize();const v=Math.acos(Tn(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(o,v))}a[m].crossVectors(i[m],s[m])}if(n===!0){let m=Math.acos(Tn(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(o.crossVectors(s[0],s[e]))>0&&(m=-m);for(let v=1;v<=e;v++)s[v].applyMatrix4(l.makeRotationAxis(i[v],m*v)),a[v].crossVectors(i[v],s[v])}return{tangents:i,normals:s,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class iO extends lu{constructor(e=0,n=0,r=1,i=1,s=0,a=Math.PI*2,o=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=a,this.aClockwise=o,this.aRotation=l}getPoint(e,n=new Ge){const r=n,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const a=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(a?s=0:s=i),this.aClockwise===!0&&!a&&(s===i?s=-i:s=s-i);const o=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(o),c=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){const d=Math.cos(this.aRotation),f=Math.sin(this.aRotation),h=l-this.aX,m=c-this.aY;l=h*d-m*f+this.aX,c=h*f+m*d+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class ape extends iO{constructor(e,n,r,i,s,a){super(e,n,r,r,i,s,a),this.isArcCurve=!0,this.type="ArcCurve"}}function z8(){let t=0,e=0,n=0,r=0;function i(s,a,o,l){t=s,e=o,n=-3*s+3*a-2*o-l,r=2*s-2*a+o+l}return{initCatmullRom:function(s,a,o,l,c){i(a,o,c*(o-s),c*(l-a))},initNonuniformCatmullRom:function(s,a,o,l,c,d,f){let h=(a-s)/c-(o-s)/(c+d)+(o-a)/d,m=(o-a)/d-(l-a)/(d+f)+(l-o)/f;h*=d,m*=d,i(a,o,h,m)},calc:function(s){const a=s*s,o=a*s;return t+e*s+n*a+r*o}}}const i2=new ie,kL=new z8,DL=new z8,LL=new z8;class ope extends lu{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new ie){const r=n,i=this.points,s=i.length,a=(s-(this.closed?0:1))*e;let o=Math.floor(a),l=a-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/s)+1)*s:l===0&&o===s-1&&(o=s-2,l=1);let c,d;this.closed||o>0?c=i[(o-1)%s]:(i2.subVectors(i[0],i[1]).add(i[0]),c=i2);const f=i[o%s],h=i[(o+1)%s];if(this.closed||o+2<s?d=i[(o+2)%s]:(i2.subVectors(i[s-1],i[s-2]).add(i[s-1]),d=i2),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let v=Math.pow(c.distanceToSquared(f),m),b=Math.pow(f.distanceToSquared(h),m),y=Math.pow(h.distanceToSquared(d),m);b<1e-4&&(b=1),v<1e-4&&(v=b),y<1e-4&&(y=b),kL.initNonuniformCatmullRom(c.x,f.x,h.x,d.x,v,b,y),DL.initNonuniformCatmullRom(c.y,f.y,h.y,d.y,v,b,y),LL.initNonuniformCatmullRom(c.z,f.z,h.z,d.z,v,b,y)}else this.curveType==="catmullrom"&&(kL.initCatmullRom(c.x,f.x,h.x,d.x,this.tension),DL.initCatmullRom(c.y,f.y,h.y,d.y,this.tension),LL.initCatmullRom(c.z,f.z,h.z,d.z,this.tension));return r.set(kL.calc(l),DL.calc(l),LL.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new ie().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function aJ(t,e,n,r,i){const s=(r-e)*.5,a=(i-n)*.5,o=t*t,l=t*o;return(2*n-2*r+s+a)*l+(-3*n+3*r-2*s-a)*o+s*t+n}function UXe(t,e){const n=1-t;return n*n*e}function BXe(t,e){return 2*(1-t)*t*e}function zXe(t,e){return t*t*e}function i_(t,e,n,r){return UXe(t,e)+BXe(t,n)+zXe(t,r)}function VXe(t,e){const n=1-t;return n*n*n*e}function $Xe(t,e){const n=1-t;return 3*n*n*t*e}function HXe(t,e){return 3*(1-t)*t*t*e}function WXe(t,e){return t*t*t*e}function s_(t,e,n,r,i){return VXe(t,e)+$Xe(t,n)+HXe(t,r)+WXe(t,i)}class V8 extends lu{constructor(e=new Ge,n=new Ge,r=new Ge,i=new Ge){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new Ge){const r=n,i=this.v0,s=this.v1,a=this.v2,o=this.v3;return r.set(s_(e,i.x,s.x,a.x,o.x),s_(e,i.y,s.y,a.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class lpe extends lu{constructor(e=new ie,n=new ie,r=new ie,i=new ie){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new ie){const r=n,i=this.v0,s=this.v1,a=this.v2,o=this.v3;return r.set(s_(e,i.x,s.x,a.x,o.x),s_(e,i.y,s.y,a.y,o.y),s_(e,i.z,s.z,a.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class $8 extends lu{constructor(e=new Ge,n=new Ge){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new Ge){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Ge){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class cpe extends lu{constructor(e=new ie,n=new ie){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new ie){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new ie){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class H8 extends lu{constructor(e=new Ge,n=new Ge,r=new Ge){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new Ge){const r=n,i=this.v0,s=this.v1,a=this.v2;return r.set(i_(e,i.x,s.x,a.x),i_(e,i.y,s.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class W8 extends lu{constructor(e=new ie,n=new ie,r=new ie){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new ie){const r=n,i=this.v0,s=this.v1,a=this.v2;return r.set(i_(e,i.x,s.x,a.x),i_(e,i.y,s.y,a.y),i_(e,i.z,s.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class G8 extends lu{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new Ge){const r=n,i=this.points,s=(i.length-1)*e,a=Math.floor(s),o=s-a,l=i[a===0?a:a-1],c=i[a],d=i[a>i.length-2?i.length-1:a+1],f=i[a>i.length-3?i.length-1:a+2];return r.set(aJ(o,l.x,c.x,d.x,f.x),aJ(o,l.y,c.y,d.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new Ge().fromArray(i))}return this}}var jP=Object.freeze({__proto__:null,ArcCurve:ape,CatmullRomCurve3:ope,CubicBezierCurve:V8,CubicBezierCurve3:lpe,EllipseCurve:iO,LineCurve:$8,LineCurve3:cpe,QuadraticBezierCurve:H8,QuadraticBezierCurve3:W8,SplineCurve:G8});class upe extends lu{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new jP[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const a=i[s]-r,o=this.curves[s],l=o.getLength(),c=l===0?0:1-a/l;return o.getPointAt(c,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const a=s[i],o=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,l=a.getPoints(o);for(let c=0;c<l.length;c++){const d=l[c];r&&r.equals(d)||(n.push(d),r=d)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new jP[i.type]().fromJSON(i))}return this}}class IP extends upe{constructor(e){super(),this.type="Path",this.currentPoint=new Ge,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new $8(this.currentPoint.clone(),new Ge(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const s=new H8(this.currentPoint.clone(),new Ge(e,n),new Ge(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,s,a){const o=new V8(this.currentPoint.clone(),new Ge(e,n),new Ge(r,i),new Ge(s,a));return this.curves.push(o),this.currentPoint.set(s,a),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new G8(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,s,a){const o=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+o,n+l,r,i,s,a),this}absarc(e,n,r,i,s,a){return this.absellipse(e,n,r,r,i,s,a),this}ellipse(e,n,r,i,s,a,o,l){const c=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+c,n+d,r,i,s,a,o,l),this}absellipse(e,n,r,i,s,a,o,l){const c=new iO(e,n,r,i,s,a,o,l);if(this.curves.length>0){const f=c.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(c);const d=c.getPoint(1);return this.currentPoint.copy(d),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class pp extends IP{constructor(e){super(e),this.uuid=dl(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new IP().fromJSON(i))}return this}}function GXe(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let s=dpe(t,0,i,n,!0);const a=[];if(!s||s.next===s.prev)return a;let o,l,c;if(r&&(s=ZXe(t,e,s,n)),t.length>80*n){o=t[0],l=t[1];let d=o,f=l;for(let h=n;h<i;h+=n){const m=t[h],v=t[h+1];m<o&&(o=m),v<l&&(l=v),m>d&&(d=m),v>f&&(f=v)}c=Math.max(d-o,f-l),c=c!==0?32767/c:0}return LS(s,a,n,o,l,c,0),a}function dpe(t,e,n,r,i){let s;if(i===lYe(t,e,n,r)>0)for(let a=e;a<n;a+=r)s=oJ(a/r|0,t[a],t[a+1],s);else for(let a=n-r;a>=e;a-=r)s=oJ(a/r|0,t[a],t[a+1],s);return s&&Qx(s,s.next)&&(US(s),s=s.next),s}function d0(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(Qx(n,n.next)||bi(n.prev,n,n.next)===0)){if(US(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function LS(t,e,n,r,i,s,a){if(!t)return;!a&&s&&nYe(t,r,i,s);let o=t;for(;t.prev!==t.next;){const l=t.prev,c=t.next;if(s?XXe(t,r,i,s):qXe(t)){e.push(l.i,t.i,c.i),US(t),t=c.next,o=c.next;continue}if(t=c,t===o){a?a===1?(t=YXe(d0(t),e),LS(t,e,n,r,i,s,2)):a===2&&KXe(t,e,n,r,i,s):LS(d0(t),e,n,r,i,s,1);break}}}function qXe(t){const e=t.prev,n=t,r=t.next;if(bi(e,n,r)>=0)return!1;const i=e.x,s=n.x,a=r.x,o=e.y,l=n.y,c=r.y,d=Math.min(i,s,a),f=Math.min(o,l,c),h=Math.max(i,s,a),m=Math.max(o,l,c);let v=r.next;for(;v!==e;){if(v.x>=d&&v.x<=h&&v.y>=f&&v.y<=m&&M1(i,o,s,l,a,c,v.x,v.y)&&bi(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function XXe(t,e,n,r){const i=t.prev,s=t,a=t.next;if(bi(i,s,a)>=0)return!1;const o=i.x,l=s.x,c=a.x,d=i.y,f=s.y,h=a.y,m=Math.min(o,l,c),v=Math.min(d,f,h),b=Math.max(o,l,c),y=Math.max(d,f,h),w=sU(m,v,e,n,r),S=sU(b,y,e,n,r);let M=t.prevZ,T=t.nextZ;for(;M&&M.z>=w&&T&&T.z<=S;){if(M.x>=m&&M.x<=b&&M.y>=v&&M.y<=y&&M!==i&&M!==a&&M1(o,d,l,f,c,h,M.x,M.y)&&bi(M.prev,M,M.next)>=0||(M=M.prevZ,T.x>=m&&T.x<=b&&T.y>=v&&T.y<=y&&T!==i&&T!==a&&M1(o,d,l,f,c,h,T.x,T.y)&&bi(T.prev,T,T.next)>=0))return!1;T=T.nextZ}for(;M&&M.z>=w;){if(M.x>=m&&M.x<=b&&M.y>=v&&M.y<=y&&M!==i&&M!==a&&M1(o,d,l,f,c,h,M.x,M.y)&&bi(M.prev,M,M.next)>=0)return!1;M=M.prevZ}for(;T&&T.z<=S;){if(T.x>=m&&T.x<=b&&T.y>=v&&T.y<=y&&T!==i&&T!==a&&M1(o,d,l,f,c,h,T.x,T.y)&&bi(T.prev,T,T.next)>=0)return!1;T=T.nextZ}return!0}function YXe(t,e){let n=t;do{const r=n.prev,i=n.next.next;!Qx(r,i)&&hpe(r,n,n.next,i)&&FS(r,i)&&FS(i,r)&&(e.push(r.i,n.i,i.i),US(n),US(n.next),n=t=i),n=n.next}while(n!==t);return d0(n)}function KXe(t,e,n,r,i,s){let a=t;do{let o=a.next.next;for(;o!==a.prev;){if(a.i!==o.i&&sYe(a,o)){let l=ppe(a,o);a=d0(a,a.next),l=d0(l,l.next),LS(a,e,n,r,i,s,0),LS(l,e,n,r,i,s,0);return}o=o.next}a=a.next}while(a!==t)}function ZXe(t,e,n,r){const i=[];for(let s=0,a=e.length;s<a;s++){const o=e[s]*r,l=s<a-1?e[s+1]*r:t.length,c=dpe(t,o,l,r,!1);c===c.next&&(c.steiner=!0),i.push(iYe(c))}i.sort(QXe);for(let s=0;s<i.length;s++)n=JXe(i[s],n);return n}function QXe(t,e){let n=t.x-e.x;if(n===0&&(n=t.y-e.y,n===0)){const r=(t.next.y-t.y)/(t.next.x-t.x),i=(e.next.y-e.y)/(e.next.x-e.x);n=r-i}return n}function JXe(t,e){const n=eYe(t,e);if(!n)return e;const r=ppe(n,t);return d0(r,r.next),d0(n,n.next)}function eYe(t,e){let n=e;const r=t.x,i=t.y;let s=-1/0,a;if(Qx(t,n))return n;do{if(Qx(t,n.next))return n.next;if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){const f=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(f<=r&&f>s&&(s=f,a=n.x<n.next.x?n:n.next,f===r))return a}n=n.next}while(n!==e);if(!a)return null;const o=a,l=a.x,c=a.y;let d=1/0;n=a;do{if(r>=n.x&&n.x>=l&&r!==n.x&&fpe(i<c?r:s,i,l,c,i<c?s:r,i,n.x,n.y)){const f=Math.abs(i-n.y)/(r-n.x);FS(n,t)&&(f<d||f===d&&(n.x>a.x||n.x===a.x&&tYe(a,n)))&&(a=n,d=f)}n=n.next}while(n!==o);return a}function tYe(t,e){return bi(t.prev,t,e.prev)<0&&bi(e.next,t,t.next)<0}function nYe(t,e,n,r){let i=t;do i.z===0&&(i.z=sU(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,rYe(i)}function rYe(t){let e,n=1;do{let r=t,i;t=null;let s=null;for(e=0;r;){e++;let a=r,o=0;for(let c=0;c<n&&(o++,a=a.nextZ,!!a);c++);let l=n;for(;o>0||l>0&&a;)o!==0&&(l===0||!a||r.z<=a.z)?(i=r,r=r.nextZ,o--):(i=a,a=a.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=a}s.nextZ=null,n*=2}while(e>1);return t}function sU(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function iYe(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function fpe(t,e,n,r,i,s,a,o){return(i-a)*(e-o)>=(t-a)*(s-o)&&(t-a)*(r-o)>=(n-a)*(e-o)&&(n-a)*(s-o)>=(i-a)*(r-o)}function M1(t,e,n,r,i,s,a,o){return!(t===a&&e===o)&&fpe(t,e,n,r,i,s,a,o)}function sYe(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!aYe(t,e)&&(FS(t,e)&&FS(e,t)&&oYe(t,e)&&(bi(t.prev,t,e.prev)||bi(t,e.prev,e))||Qx(t,e)&&bi(t.prev,t,t.next)>0&&bi(e.prev,e,e.next)>0)}function bi(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Qx(t,e){return t.x===e.x&&t.y===e.y}function hpe(t,e,n,r){const i=a2(bi(t,e,n)),s=a2(bi(t,e,r)),a=a2(bi(n,r,t)),o=a2(bi(n,r,e));return!!(i!==s&&a!==o||i===0&&s2(t,n,e)||s===0&&s2(t,r,e)||a===0&&s2(n,t,r)||o===0&&s2(n,e,r))}function s2(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function a2(t){return t>0?1:t<0?-1:0}function aYe(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&hpe(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function FS(t,e){return bi(t.prev,t,t.next)<0?bi(t,e,t.next)>=0&&bi(t,t.prev,e)>=0:bi(t,e,t.prev)<0||bi(t,t.next,e)<0}function oYe(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function ppe(t,e){const n=aU(t.i,t.x,t.y),r=aU(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function oJ(t,e,n,r){const i=aU(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function US(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function aU(t,e,n){return{i:t,x:e,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function lYe(t,e,n,r){let i=0;for(let s=e,a=n-r;s<n;s+=r)i+=(t[a]-t[s])*(t[s+1]+t[a+1]),a=s;return i}class cYe{static triangulate(e,n,r=2){return GXe(e,n,r)}}class Hc{static area(e){const n=e.length;let r=0;for(let i=n-1,s=0;s<n;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return Hc.area(e)<0}static triangulateShape(e,n){const r=[],i=[],s=[];lJ(e),cJ(r,e);let a=e.length;n.forEach(lJ);for(let l=0;l<n.length;l++)i.push(a),a+=n[l].length,cJ(r,n[l]);const o=cYe.triangulate(r,i);for(let l=0;l<o.length;l+=3)s.push(o.slice(l,l+3));return s}}function lJ(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function cJ(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class sO extends jn{constructor(e=new pp([new Ge(.5,.5),new Ge(-.5,.5),new Ge(-.5,-.5),new Ge(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let o=0,l=e.length;o<l;o++){const c=e[o];a(c)}this.setAttribute("position",new Xt(i,3)),this.setAttribute("uv",new Xt(s,2)),this.computeVertexNormals();function a(o){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,d=n.steps!==void 0?n.steps:1,f=n.depth!==void 0?n.depth:1;let h=n.bevelEnabled!==void 0?n.bevelEnabled:!0,m=n.bevelThickness!==void 0?n.bevelThickness:.2,v=n.bevelSize!==void 0?n.bevelSize:m-.1,b=n.bevelOffset!==void 0?n.bevelOffset:0,y=n.bevelSegments!==void 0?n.bevelSegments:3;const w=n.extrudePath,S=n.UVGenerator!==void 0?n.UVGenerator:uYe;let M,T=!1,A,C,j,L;if(w){M=w.getSpacedPoints(d),T=!0,h=!1;const Ce=w.isCatmullRomCurve3?w.closed:!1;A=w.computeFrenetFrames(d,Ce),C=new ie,j=new ie,L=new ie}h||(y=0,m=0,v=0,b=0);const O=o.extractPoints(c);let k=O.shape;const F=O.holes;if(!Hc.isClockWise(k)){k=k.reverse();for(let Ce=0,$e=F.length;Ce<$e;Ce++){const Be=F[Ce];Hc.isClockWise(Be)&&(F[Ce]=Be.reverse())}}function Y(Ce){const Be=10000000000000001e-36;let Ye=Ce[0];for(let ae=1;ae<=Ce.length;ae++){const Ot=ae%Ce.length,dt=Ce[Ot],jt=dt.x-Ye.x,re=dt.y-Ye.y,K=jt*jt+re*re,H=Math.max(Math.abs(dt.x),Math.abs(dt.y),Math.abs(Ye.x),Math.abs(Ye.y)),oe=Be*H*H;if(K<=oe){Ce.splice(Ot,1),ae--;continue}Ye=dt}}Y(k),F.forEach(Y);const U=F.length,W=k;for(let Ce=0;Ce<U;Ce++){const $e=F[Ce];k=k.concat($e)}function q(Ce,$e,Be){return $e||dn("ExtrudeGeometry: vec does not exist"),Ce.clone().addScaledVector($e,Be)}const Z=k.length;function V(Ce,$e,Be){let Ye,ae,Ot;const dt=Ce.x-$e.x,jt=Ce.y-$e.y,re=Be.x-Ce.x,K=Be.y-Ce.y,H=dt*dt+jt*jt,oe=dt*K-jt*re;if(Math.abs(oe)>Number.EPSILON){const he=Math.sqrt(H),me=Math.sqrt(re*re+K*K),ye=$e.x-jt/he,nt=$e.y+dt/he,Ke=Be.x-K/me,pt=Be.y+re/me,cn=((Ke-ye)*K-(pt-nt)*re)/(dt*K-jt*re);Ye=ye+dt*cn-Ce.x,ae=nt+jt*cn-Ce.y;const Je=Ye*Ye+ae*ae;if(Je<=2)return new Ge(Ye,ae);Ot=Math.sqrt(Je/2)}else{let he=!1;dt>Number.EPSILON?re>Number.EPSILON&&(he=!0):dt<-Number.EPSILON?re<-Number.EPSILON&&(he=!0):Math.sign(jt)===Math.sign(K)&&(he=!0),he?(Ye=-jt,ae=dt,Ot=Math.sqrt(H)):(Ye=dt,ae=jt,Ot=Math.sqrt(H/2))}return new Ge(Ye/Ot,ae/Ot)}const Q=[];for(let Ce=0,$e=W.length,Be=$e-1,Ye=Ce+1;Ce<$e;Ce++,Be++,Ye++)Be===$e&&(Be=0),Ye===$e&&(Ye=0),Q[Ce]=V(W[Ce],W[Be],W[Ye]);const ee=[];let $,J=Q.concat();for(let Ce=0,$e=U;Ce<$e;Ce++){const Be=F[Ce];$=[];for(let Ye=0,ae=Be.length,Ot=ae-1,dt=Ye+1;Ye<ae;Ye++,Ot++,dt++)Ot===ae&&(Ot=0),dt===ae&&(dt=0),$[Ye]=V(Be[Ye],Be[Ot],Be[dt]);ee.push($),J=J.concat($)}let de;if(y===0)de=Hc.triangulateShape(W,F);else{const Ce=[],$e=[];for(let Be=0;Be<y;Be++){const Ye=Be/y,ae=m*Math.cos(Ye*Math.PI/2),Ot=v*Math.sin(Ye*Math.PI/2)+b;for(let dt=0,jt=W.length;dt<jt;dt++){const re=q(W[dt],Q[dt],Ot);xe(re.x,re.y,-ae),Ye===0&&Ce.push(re)}for(let dt=0,jt=U;dt<jt;dt++){const re=F[dt];$=ee[dt];const K=[];for(let H=0,oe=re.length;H<oe;H++){const he=q(re[H],$[H],Ot);xe(he.x,he.y,-ae),Ye===0&&K.push(he)}Ye===0&&$e.push(K)}}de=Hc.triangulateShape(Ce,$e)}const Ae=de.length,Ue=v+b;for(let Ce=0;Ce<Z;Ce++){const $e=h?q(k[Ce],J[Ce],Ue):k[Ce];T?(j.copy(A.normals[0]).multiplyScalar($e.x),C.copy(A.binormals[0]).multiplyScalar($e.y),L.copy(M[0]).add(j).add(C),xe(L.x,L.y,L.z)):xe($e.x,$e.y,0)}for(let Ce=1;Ce<=d;Ce++)for(let $e=0;$e<Z;$e++){const Be=h?q(k[$e],J[$e],Ue):k[$e];T?(j.copy(A.normals[Ce]).multiplyScalar(Be.x),C.copy(A.binormals[Ce]).multiplyScalar(Be.y),L.copy(M[Ce]).add(j).add(C),xe(L.x,L.y,L.z)):xe(Be.x,Be.y,f/d*Ce)}for(let Ce=y-1;Ce>=0;Ce--){const $e=Ce/y,Be=m*Math.cos($e*Math.PI/2),Ye=v*Math.sin($e*Math.PI/2)+b;for(let ae=0,Ot=W.length;ae<Ot;ae++){const dt=q(W[ae],Q[ae],Ye);xe(dt.x,dt.y,f+Be)}for(let ae=0,Ot=F.length;ae<Ot;ae++){const dt=F[ae];$=ee[ae];for(let jt=0,re=dt.length;jt<re;jt++){const K=q(dt[jt],$[jt],Ye);T?xe(K.x,K.y+M[d-1].y,M[d-1].x+Be):xe(K.x,K.y,f+Be)}}}ge(),pe();function ge(){const Ce=i.length/3;if(h){let $e=0,Be=Z*$e;for(let Ye=0;Ye<Ae;Ye++){const ae=de[Ye];Me(ae[2]+Be,ae[1]+Be,ae[0]+Be)}$e=d+y*2,Be=Z*$e;for(let Ye=0;Ye<Ae;Ye++){const ae=de[Ye];Me(ae[0]+Be,ae[1]+Be,ae[2]+Be)}}else{for(let $e=0;$e<Ae;$e++){const Be=de[$e];Me(Be[2],Be[1],Be[0])}for(let $e=0;$e<Ae;$e++){const Be=de[$e];Me(Be[0]+Z*d,Be[1]+Z*d,Be[2]+Z*d)}}r.addGroup(Ce,i.length/3-Ce,0)}function pe(){const Ce=i.length/3;let $e=0;Oe(W,$e),$e+=W.length;for(let Be=0,Ye=F.length;Be<Ye;Be++){const ae=F[Be];Oe(ae,$e),$e+=ae.length}r.addGroup(Ce,i.length/3-Ce,1)}function Oe(Ce,$e){let Be=Ce.length;for(;--Be>=0;){const Ye=Be;let ae=Be-1;ae<0&&(ae=Ce.length-1);for(let Ot=0,dt=d+y*2;Ot<dt;Ot++){const jt=Z*Ot,re=Z*(Ot+1),K=$e+Ye+jt,H=$e+ae+jt,oe=$e+ae+re,he=$e+Ye+re;Ie(K,H,oe,he)}}}function xe(Ce,$e,Be){l.push(Ce),l.push($e),l.push(Be)}function Me(Ce,$e,Be){Te(Ce),Te($e),Te(Be);const Ye=i.length/3,ae=S.generateTopUV(r,i,Ye-3,Ye-2,Ye-1);Xe(ae[0]),Xe(ae[1]),Xe(ae[2])}function Ie(Ce,$e,Be,Ye){Te(Ce),Te($e),Te(Ye),Te($e),Te(Be),Te(Ye);const ae=i.length/3,Ot=S.generateSideWallUV(r,i,ae-6,ae-3,ae-2,ae-1);Xe(Ot[0]),Xe(Ot[1]),Xe(Ot[3]),Xe(Ot[1]),Xe(Ot[2]),Xe(Ot[3])}function Te(Ce){i.push(l[Ce*3+0]),i.push(l[Ce*3+1]),i.push(l[Ce*3+2])}function Xe(Ce){s.push(Ce.x),s.push(Ce.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return dYe(n,r,e)}static fromJSON(e,n){const r=[];for(let s=0,a=e.shapes.length;s<a;s++){const o=n[e.shapes[s]];r.push(o)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new jP[i.type]().fromJSON(i)),new sO(r,e.options)}}const uYe={generateTopUV:function(t,e,n,r,i){const s=e[n*3],a=e[n*3+1],o=e[r*3],l=e[r*3+1],c=e[i*3],d=e[i*3+1];return[new Ge(s,a),new Ge(o,l),new Ge(c,d)]},generateSideWallUV:function(t,e,n,r,i,s){const a=e[n*3],o=e[n*3+1],l=e[n*3+2],c=e[r*3],d=e[r*3+1],f=e[r*3+2],h=e[i*3],m=e[i*3+1],v=e[i*3+2],b=e[s*3],y=e[s*3+1],w=e[s*3+2];return Math.abs(o-d)<Math.abs(a-c)?[new Ge(a,1-l),new Ge(c,1-f),new Ge(h,1-v),new Ge(b,1-w)]:[new Ge(o,1-l),new Ge(d,1-f),new Ge(m,1-v),new Ge(y,1-w)]}};function dYe(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const s=t[r];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class aO extends Xp{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new aO(e.radius,e.detail)}}class oO extends jn{constructor(e=[new Ge(0,-.5),new Ge(.5,0),new Ge(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=Tn(i,0,Math.PI*2);const s=[],a=[],o=[],l=[],c=[],d=1/n,f=new ie,h=new Ge,m=new ie,v=new ie,b=new ie;let y=0,w=0;for(let S=0;S<=e.length-1;S++)switch(S){case 0:y=e[S+1].x-e[S].x,w=e[S+1].y-e[S].y,m.x=w*1,m.y=-y,m.z=w*0,b.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(b.x,b.y,b.z);break;default:y=e[S+1].x-e[S].x,w=e[S+1].y-e[S].y,m.x=w*1,m.y=-y,m.z=w*0,v.copy(m),m.x+=b.x,m.y+=b.y,m.z+=b.z,m.normalize(),l.push(m.x,m.y,m.z),b.copy(v)}for(let S=0;S<=n;S++){const M=r+S*d*i,T=Math.sin(M),A=Math.cos(M);for(let C=0;C<=e.length-1;C++){f.x=e[C].x*T,f.y=e[C].y,f.z=e[C].x*A,a.push(f.x,f.y,f.z),h.x=S/n,h.y=C/(e.length-1),o.push(h.x,h.y);const j=l[3*C+0]*T,L=l[3*C+1],O=l[3*C+0]*A;c.push(j,L,O)}}for(let S=0;S<n;S++)for(let M=0;M<e.length-1;M++){const T=M+S*e.length,A=T,C=T+e.length,j=T+e.length+1,L=T+1;s.push(A,C,L),s.push(j,L,C)}this.setIndex(s),this.setAttribute("position",new Xt(a,3)),this.setAttribute("uv",new Xt(o,2)),this.setAttribute("normal",new Xt(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new oO(e.points,e.segments,e.phiStart,e.phiLength)}}class VE extends Xp{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new VE(e.radius,e.detail)}}class C0 extends jn{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,a=n/2,o=Math.floor(r),l=Math.floor(i),c=o+1,d=l+1,f=e/o,h=n/l,m=[],v=[],b=[],y=[];for(let w=0;w<d;w++){const S=w*h-a;for(let M=0;M<c;M++){const T=M*f-s;v.push(T,-S,0),b.push(0,0,1),y.push(M/o),y.push(1-w/l)}}for(let w=0;w<l;w++)for(let S=0;S<o;S++){const M=S+c*w,T=S+c*(w+1),A=S+1+c*(w+1),C=S+1+c*w;m.push(M,T,C),m.push(T,A,C)}this.setIndex(m),this.setAttribute("position",new Xt(v,3)),this.setAttribute("normal",new Xt(b,3)),this.setAttribute("uv",new Xt(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new C0(e.width,e.height,e.widthSegments,e.heightSegments)}}class lO extends jn{constructor(e=.5,n=1,r=32,i=1,s=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:a},r=Math.max(3,r),i=Math.max(1,i);const o=[],l=[],c=[],d=[];let f=e;const h=(n-e)/i,m=new ie,v=new Ge;for(let b=0;b<=i;b++){for(let y=0;y<=r;y++){const w=s+y/r*a;m.x=f*Math.cos(w),m.y=f*Math.sin(w),l.push(m.x,m.y,m.z),c.push(0,0,1),v.x=(m.x/n+1)/2,v.y=(m.y/n+1)/2,d.push(v.x,v.y)}f+=h}for(let b=0;b<i;b++){const y=b*(r+1);for(let w=0;w<r;w++){const S=w+y,M=S,T=S+r+1,A=S+r+2,C=S+1;o.push(M,T,C),o.push(T,A,C)}}this.setIndex(o),this.setAttribute("position",new Xt(l,3)),this.setAttribute("normal",new Xt(c,3)),this.setAttribute("uv",new Xt(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new lO(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class cO extends jn{constructor(e=new pp([new Ge(0,.5),new Ge(-.5,-.5),new Ge(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],s=[],a=[];let o=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let d=0;d<e.length;d++)c(e[d]),this.addGroup(o,l,d),o+=l,l=0;this.setIndex(r),this.setAttribute("position",new Xt(i,3)),this.setAttribute("normal",new Xt(s,3)),this.setAttribute("uv",new Xt(a,2));function c(d){const f=i.length/3,h=d.extractPoints(n);let m=h.shape;const v=h.holes;Hc.isClockWise(m)===!1&&(m=m.reverse());for(let y=0,w=v.length;y<w;y++){const S=v[y];Hc.isClockWise(S)===!0&&(v[y]=S.reverse())}const b=Hc.triangulateShape(m,v);for(let y=0,w=v.length;y<w;y++){const S=v[y];m=m.concat(S)}for(let y=0,w=m.length;y<w;y++){const S=m[y];i.push(S.x,S.y,0),s.push(0,0,1),a.push(S.x,S.y)}for(let y=0,w=b.length;y<w;y++){const S=b[y],M=S[0]+f,T=S[1]+f,A=S[2]+f;r.push(M,T,A),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return fYe(n,e)}static fromJSON(e,n){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const a=n[e.shapes[i]];r.push(a)}return new cO(r,e.curveSegments)}}function fYe(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class $E extends jn{constructor(e=1,n=32,r=16,i=0,s=Math.PI*2,a=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:s,thetaStart:a,thetaLength:o},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(a+o,Math.PI);let c=0;const d=[],f=new ie,h=new ie,m=[],v=[],b=[],y=[];for(let w=0;w<=r;w++){const S=[],M=w/r;let T=0;w===0&&a===0?T=.5/n:w===r&&l===Math.PI&&(T=-.5/n);for(let A=0;A<=n;A++){const C=A/n;f.x=-e*Math.cos(i+C*s)*Math.sin(a+M*o),f.y=e*Math.cos(a+M*o),f.z=e*Math.sin(i+C*s)*Math.sin(a+M*o),v.push(f.x,f.y,f.z),h.copy(f).normalize(),b.push(h.x,h.y,h.z),y.push(C+T,1-M),S.push(c++)}d.push(S)}for(let w=0;w<r;w++)for(let S=0;S<n;S++){const M=d[w][S+1],T=d[w][S],A=d[w+1][S],C=d[w+1][S+1];(w!==0||a>0)&&m.push(M,T,C),(w!==r-1||l<Math.PI)&&m.push(T,A,C)}this.setIndex(m),this.setAttribute("position",new Xt(v,3)),this.setAttribute("normal",new Xt(b,3)),this.setAttribute("uv",new Xt(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $E(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class uO extends Xp{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new uO(e.radius,e.detail)}}class dO extends jn{constructor(e=1,n=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const a=[],o=[],l=[],c=[],d=new ie,f=new ie,h=new ie;for(let m=0;m<=r;m++)for(let v=0;v<=i;v++){const b=v/i*s,y=m/r*Math.PI*2;f.x=(e+n*Math.cos(y))*Math.cos(b),f.y=(e+n*Math.cos(y))*Math.sin(b),f.z=n*Math.sin(y),o.push(f.x,f.y,f.z),d.x=e*Math.cos(b),d.y=e*Math.sin(b),h.subVectors(f,d).normalize(),l.push(h.x,h.y,h.z),c.push(v/i),c.push(m/r)}for(let m=1;m<=r;m++)for(let v=1;v<=i;v++){const b=(i+1)*m+v-1,y=(i+1)*(m-1)+v-1,w=(i+1)*(m-1)+v,S=(i+1)*m+v;a.push(b,y,S),a.push(y,w,S)}this.setIndex(a),this.setAttribute("position",new Xt(o,3)),this.setAttribute("normal",new Xt(l,3)),this.setAttribute("uv",new Xt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new dO(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class fO extends jn{constructor(e=1,n=.4,r=64,i=8,s=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:s,q:a},r=Math.floor(r),i=Math.floor(i);const o=[],l=[],c=[],d=[],f=new ie,h=new ie,m=new ie,v=new ie,b=new ie,y=new ie,w=new ie;for(let M=0;M<=r;++M){const T=M/r*s*Math.PI*2;S(T,s,a,e,m),S(T+.01,s,a,e,v),y.subVectors(v,m),w.addVectors(v,m),b.crossVectors(y,w),w.crossVectors(b,y),b.normalize(),w.normalize();for(let A=0;A<=i;++A){const C=A/i*Math.PI*2,j=-n*Math.cos(C),L=n*Math.sin(C);f.x=m.x+(j*w.x+L*b.x),f.y=m.y+(j*w.y+L*b.y),f.z=m.z+(j*w.z+L*b.z),l.push(f.x,f.y,f.z),h.subVectors(f,m).normalize(),c.push(h.x,h.y,h.z),d.push(M/r),d.push(A/i)}}for(let M=1;M<=r;M++)for(let T=1;T<=i;T++){const A=(i+1)*(M-1)+(T-1),C=(i+1)*M+(T-1),j=(i+1)*M+T,L=(i+1)*(M-1)+T;o.push(A,C,L),o.push(C,j,L)}this.setIndex(o),this.setAttribute("position",new Xt(l,3)),this.setAttribute("normal",new Xt(c,3)),this.setAttribute("uv",new Xt(d,2));function S(M,T,A,C,j){const L=Math.cos(M),O=Math.sin(M),k=A/T*M,F=Math.cos(k);j.x=C*(2+F)*.5*L,j.y=C*(2+F)*O*.5,j.z=C*Math.sin(k)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new fO(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class hO extends jn{constructor(e=new W8(new ie(-1,-1,0),new ie(-1,1,0),new ie(1,1,0)),n=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:s};const a=e.computeFrenetFrames(n,s);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const o=new ie,l=new ie,c=new Ge;let d=new ie;const f=[],h=[],m=[],v=[];b(),this.setIndex(v),this.setAttribute("position",new Xt(f,3)),this.setAttribute("normal",new Xt(h,3)),this.setAttribute("uv",new Xt(m,2));function b(){for(let M=0;M<n;M++)y(M);y(s===!1?n:0),S(),w()}function y(M){d=e.getPointAt(M/n,d);const T=a.normals[M],A=a.binormals[M];for(let C=0;C<=i;C++){const j=C/i*Math.PI*2,L=Math.sin(j),O=-Math.cos(j);l.x=O*T.x+L*A.x,l.y=O*T.y+L*A.y,l.z=O*T.z+L*A.z,l.normalize(),h.push(l.x,l.y,l.z),o.x=d.x+r*l.x,o.y=d.y+r*l.y,o.z=d.z+r*l.z,f.push(o.x,o.y,o.z)}}function w(){for(let M=1;M<=n;M++)for(let T=1;T<=i;T++){const A=(i+1)*(M-1)+(T-1),C=(i+1)*M+(T-1),j=(i+1)*M+T,L=(i+1)*(M-1)+T;v.push(A,C,L),v.push(C,j,L)}}function S(){for(let M=0;M<=n;M++)for(let T=0;T<=i;T++)c.x=M/n,c.y=T/i,m.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new hO(new jP[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class mpe extends jn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new ie,s=new ie;if(e.index!==null){const a=e.attributes.position,o=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:o.count,materialIndex:0}]);for(let c=0,d=l.length;c<d;++c){const f=l[c],h=f.start,m=f.count;for(let v=h,b=h+m;v<b;v+=3)for(let y=0;y<3;y++){const w=o.getX(v+y),S=o.getX(v+(y+1)%3);i.fromBufferAttribute(a,w),s.fromBufferAttribute(a,S),uJ(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}}else{const a=e.attributes.position;for(let o=0,l=a.count/3;o<l;o++)for(let c=0;c<3;c++){const d=3*o+c,f=3*o+(c+1)%3;i.fromBufferAttribute(a,d),s.fromBufferAttribute(a,f),uJ(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new Xt(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function uJ(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var dJ=Object.freeze({__proto__:null,BoxGeometry:A0,CapsuleGeometry:tO,CircleGeometry:nO,ConeGeometry:zE,CylinderGeometry:BE,DodecahedronGeometry:rO,EdgesGeometry:spe,ExtrudeGeometry:sO,IcosahedronGeometry:aO,LatheGeometry:oO,OctahedronGeometry:VE,PlaneGeometry:C0,PolyhedronGeometry:Xp,RingGeometry:lO,ShapeGeometry:cO,SphereGeometry:$E,TetrahedronGeometry:uO,TorusGeometry:dO,TorusKnotGeometry:fO,TubeGeometry:hO,WireframeGeometry:mpe});class gpe extends la{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Lt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class q8 extends Ro{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class X8 extends la{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Lt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Lt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gp,this.normalScale=new Ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new hl,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class vpe extends X8{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ge(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Tn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Lt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Lt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Lt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class ype extends la{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Lt(16777215),this.specular=new Lt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Lt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gp,this.normalScale=new Ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new hl,this.combine=DE,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class xpe extends la{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Lt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Lt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gp,this.normalScale=new Ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class bpe extends la{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gp,this.normalScale=new Ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class wpe extends la{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Lt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Lt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gp,this.normalScale=new Ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new hl,this.combine=DE,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class pO extends la{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=jhe,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Y8 extends la{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class _pe extends la{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Lt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gp,this.normalScale=new Ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Spe extends so{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Ag(t,e){return!t||t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function Epe(t){function e(i,s){return t[i]-t[s]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function oU(t,e,n){const r=t.length,i=new t.constructor(r);for(let s=0,a=0;a!==r;++s){const o=n[s]*e;for(let l=0;l!==e;++l)i[a++]=t[o+l]}return i}function K8(t,e,n,r){let i=1,s=t[0];for(;s!==void 0&&s[r]===void 0;)s=t[i++];if(s===void 0)return;let a=s[r];if(a!==void 0)if(Array.isArray(a))do a=s[r],a!==void 0&&(e.push(s.time),n.push(...a)),s=t[i++];while(s!==void 0);else if(a.toArray!==void 0)do a=s[r],a!==void 0&&(e.push(s.time),a.toArray(n,n.length)),s=t[i++];while(s!==void 0);else do a=s[r],a!==void 0&&(e.push(s.time),n.push(a)),s=t[i++];while(s!==void 0)}function hYe(t,e,n,r,i=30){const s=t.clone();s.name=e;const a=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],d=c.getValueSize(),f=[],h=[];for(let m=0;m<c.times.length;++m){const v=c.times[m]*i;if(!(v<n||v>=r)){f.push(c.times[m]);for(let b=0;b<d;++b)h.push(c.values[m*d+b])}}f.length!==0&&(c.times=Ag(f,c.times.constructor),c.values=Ag(h,c.values.constructor),a.push(c))}s.tracks=a;let o=1/0;for(let l=0;l<s.tracks.length;++l)o>s.tracks[l].times[0]&&(o=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*o);return s.resetDuration(),s}function pYe(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,s=e/r;for(let a=0;a<i;++a){const o=n.tracks[a],l=o.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(w){return w.name===o.name&&w.ValueTypeName===l});if(c===void 0)continue;let d=0;const f=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=f/3);let h=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=m/3);const v=o.times.length-1;let b;if(s<=o.times[0]){const w=d,S=f-d;b=o.values.slice(w,S)}else if(s>=o.times[v]){const w=v*f+d,S=w+f-d;b=o.values.slice(w,S)}else{const w=o.createInterpolant(),S=d,M=f-d;w.evaluate(s),b=w.resultBuffer.slice(S,M)}l==="quaternion"&&new Ma().fromArray(b).normalize().conjugate().toArray(b);const y=c.times.length;for(let w=0;w<y;++w){const S=w*m+h;if(l==="quaternion")Ma.multiplyQuaternionsFlat(c.values,S,b,0,c.values,S);else{const M=m-h*2;for(let T=0;T<M;++T)c.values[S+T]-=b[T]}}}return t.blendMode=R8,t}class mYe{static convertArray(e,n){return Ag(e,n)}static isTypedArray(e){return Vhe(e)}static getKeyframeOrder(e){return Epe(e)}static sortedArray(e,n,r){return oU(e,n,r)}static flattenJSON(e,n,r,i){K8(e,n,r,i)}static subclip(e,n,r,i,s=30){return hYe(e,n,r,i,s)}static makeClipAdditive(e,n=0,r=e,i=30){return pYe(e,n,r,i)}}class HE{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],s=n[r-1];e:{t:{let a;n:{r:if(!(e<i)){for(let o=r+2;;){if(i===void 0){if(e<s)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===o)break;if(s=i,i=n[++r],e<i)break t}a=n.length;break n}if(!(e>=s)){const o=n[1];e<o&&(r=2,s=o);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=n[--r-1],e>=s)break t}a=r,r=0;break n}break e}for(;r<a;){const o=r+a>>>1;e<n[o]?a=o:r=o+1}if(i=n[r],s=n[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let a=0;a!==i;++a)n[a]=r[s+a];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Mpe extends HE{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Mg,endingEnd:Mg}}intervalChanged_(e,n,r){const i=this.parameterPositions;let s=e-2,a=e+1,o=i[s],l=i[a];if(o===void 0)switch(this.getSettings_().endingStart){case Tg:s=e,o=2*n-r;break;case OS:s=i.length-2,o=n+i[s]-i[s+1];break;default:s=e,o=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Tg:a=e,l=2*r-n;break;case OS:a=1,l=r+i[1]-i[0];break;default:a=e-1,l=n}const c=(r-n)*.5,d=this.valueSize;this._weightPrev=c/(n-o),this._weightNext=c/(l-r),this._offsetPrev=s*d,this._offsetNext=a*d}interpolate_(e,n,r,i){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,d=this._offsetPrev,f=this._offsetNext,h=this._weightPrev,m=this._weightNext,v=(r-n)/(i-n),b=v*v,y=b*v,w=-h*y+2*h*b-h*v,S=(1+h)*y+(-1.5-2*h)*b+(-.5+h)*v+1,M=(-1-m)*y+(1.5+m)*b+.5*v,T=m*y-m*b;for(let A=0;A!==o;++A)s[A]=w*a[d+A]+S*a[c+A]+M*a[l+A]+T*a[f+A];return s}}class Z8 extends HE{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,d=(r-n)/(i-n),f=1-d;for(let h=0;h!==o;++h)s[h]=a[c+h]*f+a[l+h]*d;return s}}class Tpe extends HE{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Jl{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Ag(n,this.TimeBufferType),this.values=Ag(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:Ag(e.times,Array),values:Ag(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new Tpe(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new Z8(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Mpe(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case RS:n=this.InterpolantFactoryMethodDiscrete;break;case PP:n=this.InterpolantFactoryMethodLinear;break;case $2:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return At("KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return RS;case this.InterpolantFactoryMethodLinear:return PP;case this.InterpolantFactoryMethodSmooth:return $2}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let s=0,a=i-1;for(;s!==i&&r[s]<e;)++s;for(;a!==-1&&r[a]>n;)--a;if(++a,s!==0||a!==i){s>=a&&(a=Math.max(a,1),s=a-1);const o=this.getValueSize();this.times=r.slice(s,a),this.values=this.values.slice(s*o,a*o)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(dn("KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(dn("KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let o=0;o!==s;o++){const l=r[o];if(typeof l=="number"&&isNaN(l)){dn("KeyframeTrack: Time is not a valid number.",this,o,l),e=!1;break}if(a!==null&&a>l){dn("KeyframeTrack: Out of order keys.",this,o,l,a),e=!1;break}a=l}if(i!==void 0&&Vhe(i))for(let o=0,l=i.length;o!==l;++o){const c=i[o];if(isNaN(c)){dn("KeyframeTrack: Value is not a valid number.",this,o,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===$2,s=e.length-1;let a=1;for(let o=1;o<s;++o){let l=!1;const c=e[o],d=e[o+1];if(c!==d&&(o!==1||c!==e[0]))if(i)l=!0;else{const f=o*r,h=f-r,m=f+r;for(let v=0;v!==r;++v){const b=n[f+v];if(b!==n[h+v]||b!==n[m+v]){l=!0;break}}}if(l){if(o!==a){e[a]=e[o];const f=o*r,h=a*r;for(let m=0;m!==r;++m)n[h+m]=n[f+m]}++a}}if(s>0){e[a]=e[s];for(let o=s*r,l=a*r,c=0;c!==r;++c)n[l+c]=n[o+c];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=n.slice(0,a*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}Jl.prototype.ValueTypeName="";Jl.prototype.TimeBufferType=Float32Array;Jl.prototype.ValueBufferType=Float32Array;Jl.prototype.DefaultInterpolation=PP;class P0 extends Jl{constructor(e,n,r){super(e,n,r)}}P0.prototype.ValueTypeName="bool";P0.prototype.ValueBufferType=Array;P0.prototype.DefaultInterpolation=RS;P0.prototype.InterpolantFactoryMethodLinear=void 0;P0.prototype.InterpolantFactoryMethodSmooth=void 0;class Q8 extends Jl{constructor(e,n,r,i){super(e,n,r,i)}}Q8.prototype.ValueTypeName="color";class BS extends Jl{constructor(e,n,r,i){super(e,n,r,i)}}BS.prototype.ValueTypeName="number";class Ape extends HE{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=(r-n)/(i-n);let c=e*o;for(let d=c+o;c!==d;c+=4)Ma.slerpFlat(s,0,a,c-o,a,c,l);return s}}class WE extends Jl{constructor(e,n,r,i){super(e,n,r,i)}InterpolantFactoryMethodLinear(e){return new Ape(this.times,this.values,this.getValueSize(),e)}}WE.prototype.ValueTypeName="quaternion";WE.prototype.InterpolantFactoryMethodSmooth=void 0;class N0 extends Jl{constructor(e,n,r){super(e,n,r)}}N0.prototype.ValueTypeName="string";N0.prototype.ValueBufferType=Array;N0.prototype.DefaultInterpolation=RS;N0.prototype.InterpolantFactoryMethodLinear=void 0;N0.prototype.InterpolantFactoryMethodSmooth=void 0;class zS extends Jl{constructor(e,n,r,i){super(e,n,r,i)}}zS.prototype.ValueTypeName="vector";class VS{constructor(e="",n=-1,r=[],i=HR){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=dl(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let a=0,o=r.length;a!==o;++a)n.push(vYe(r[a]).scale(i));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s.userData=JSON.parse(e.userData||"{}"),s}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let s=0,a=r.length;s!==a;++s)n.push(Jl.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const s=n.length,a=[];for(let o=0;o<s;o++){let l=[],c=[];l.push((o+s-1)%s,o,(o+1)%s),c.push(0,1,0);const d=Epe(l);l=oU(l,1,d),c=oU(c,1,d),!i&&l[0]===0&&(l.push(s),c.push(c[0])),a.push(new BS(".morphTargetInfluences["+n[o].name+"]",l,c).scale(1/r))}return new this(e,-1,a)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let o=0,l=e.length;o<l;o++){const c=e[o],d=c.name.match(s);if(d&&d.length>1){const f=d[1];let h=i[f];h||(i[f]=h=[]),h.push(c)}}const a=[];for(const o in i)a.push(this.CreateFromMorphTargetSequence(o,i[o],n,r));return a}static parseAnimation(e,n){if(At("AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return dn("AnimationClip: No animation in JSONLoader data."),null;const r=function(f,h,m,v,b){if(m.length!==0){const y=[],w=[];K8(m,y,w,v),y.length!==0&&b.push(new f(h,y,w))}},i=[],s=e.name||"default",a=e.fps||30,o=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let f=0;f<c.length;f++){const h=c[f].keys;if(!(!h||h.length===0))if(h[0].morphTargets){const m={};let v;for(v=0;v<h.length;v++)if(h[v].morphTargets)for(let b=0;b<h[v].morphTargets.length;b++)m[h[v].morphTargets[b]]=-1;for(const b in m){const y=[],w=[];for(let S=0;S!==h[v].morphTargets.length;++S){const M=h[v];y.push(M.time),w.push(M.morphTarget===b?1:0)}i.push(new BS(".morphTargetInfluence["+b+"]",y,w))}l=m.length*a}else{const m=".bones["+n[f].name+"]";r(zS,m+".position",h,"pos",i),r(WE,m+".quaternion",h,"rot",i),r(zS,m+".scale",h,"scl",i)}}return i.length===0?null:new this(s,l,i,o)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let r=0;r<this.tracks.length;r++)e.push(this.tracks[r].clone());const n=new this.constructor(this.name,this.duration,e,this.blendMode);return n.userData=JSON.parse(JSON.stringify(this.userData)),n}toJSON(){return this.constructor.toJSON(this)}}function gYe(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return BS;case"vector":case"vector2":case"vector3":case"vector4":return zS;case"color":return Q8;case"quaternion":return WE;case"bool":case"boolean":return P0;case"string":return N0}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function vYe(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=gYe(t.type);if(t.times===void 0){const n=[],r=[];K8(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Hu={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class J8{constructor(e,n,r){const i=this;let s=!1,a=0,o=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this._abortController=null,this.itemStart=function(d){o++,s===!1&&i.onStart!==void 0&&i.onStart(d,a,o),s=!0},this.itemEnd=function(d){a++,i.onProgress!==void 0&&i.onProgress(d,a,o),a===o&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(d){i.onError!==void 0&&i.onError(d)},this.resolveURL=function(d){return l?l(d):d},this.setURLModifier=function(d){return l=d,this},this.addHandler=function(d,f){return c.push(d,f),this},this.removeHandler=function(d){const f=c.indexOf(d);return f!==-1&&c.splice(f,2),this},this.getHandler=function(d){for(let f=0,h=c.length;f<h;f+=2){const m=c[f],v=c[f+1];if(m.global&&(m.lastIndex=0),m.test(d))return v}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}}const Cpe=new J8;class ko{constructor(e){this.manager=e!==void 0?e:Cpe,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,s){r.load(e,i,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}ko.DEFAULT_MATERIAL_NAME="__DEFAULT";const hf={};class yYe extends Error{constructor(e,n){super(e),this.response=n}}class qf extends ko{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Hu.get(`file:${e}`);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(hf[e]!==void 0){hf[e].push({onLoad:n,onProgress:r,onError:i});return}hf[e]=[],hf[e].push({onLoad:n,onProgress:r,onError:i});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),o=this.mimeType,l=this.responseType;fetch(a).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&At("FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const d=hf[e],f=c.body.getReader(),h=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),m=h?parseInt(h):0,v=m!==0;let b=0;const y=new ReadableStream({start(w){S();function S(){f.read().then(({done:M,value:T})=>{if(M)w.close();else{b+=T.byteLength;const A=new ProgressEvent("progress",{lengthComputable:v,loaded:b,total:m});for(let C=0,j=d.length;C<j;C++){const L=d[C];L.onProgress&&L.onProgress(A)}w.enqueue(T),S()}},M=>{w.error(M)})}}});return new Response(y)}else throw new yYe(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(d=>new DOMParser().parseFromString(d,o));case"json":return c.json();default:if(o==="")return c.text();{const f=/charset="?([^;"\s]*)"?/i.exec(o),h=f&&f[1]?f[1].toLowerCase():void 0,m=new TextDecoder(h);return c.arrayBuffer().then(v=>m.decode(v))}}}).then(c=>{Hu.add(`file:${e}`,c);const d=hf[e];delete hf[e];for(let f=0,h=d.length;f<h;f++){const m=d[f];m.onLoad&&m.onLoad(c)}}).catch(c=>{const d=hf[e];if(d===void 0)throw this.manager.itemError(e),c;delete hf[e];for(let f=0,h=d.length;f<h;f++){const m=d[f];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class xYe extends ko{constructor(e){super(e)}load(e,n,r,i){const s=this,a=new qf(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(o){try{n(s.parse(JSON.parse(o)))}catch(l){i?i(l):dn(l),s.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=VS.parse(e[r]);n.push(i)}return n}}class bYe extends ko{constructor(e){super(e)}load(e,n,r,i){const s=this,a=[],o=new eO,l=new qf(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function d(f){l.load(e[f],function(h){const m=s.parse(h,!0);a[f]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(o.minFilter=si),o.image=a,o.format=m.format,o.needsUpdate=!0,n&&n(o))},r,i)}if(Array.isArray(e))for(let f=0,h=e.length;f<h;++f)d(f);else l.load(e,function(f){const h=s.parse(f,!0);if(h.isCubemap){const m=h.mipmaps.length/h.mipmapCount;for(let v=0;v<m;v++){a[v]={mipmaps:[]};for(let b=0;b<h.mipmapCount;b++)a[v].mipmaps.push(h.mipmaps[v*h.mipmapCount+b]),a[v].format=h.format,a[v].width=h.width,a[v].height=h.height}o.image=a}else o.image.width=h.width,o.image.height=h.height,o.mipmaps=h.mipmaps;h.mipmapCount===1&&(o.minFilter=si),o.format=h.format,o.needsUpdate=!0,n&&n(o)},r,i);return o}}const oy=new WeakMap;class $S extends ko{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=Hu.get(`image:${e}`);if(a!==void 0){if(a.complete===!0)s.manager.itemStart(e),setTimeout(function(){n&&n(a),s.manager.itemEnd(e)},0);else{let f=oy.get(a);f===void 0&&(f=[],oy.set(a,f)),f.push({onLoad:n,onError:i})}return a}const o=kS("img");function l(){d(),n&&n(this);const f=oy.get(this)||[];for(let h=0;h<f.length;h++){const m=f[h];m.onLoad&&m.onLoad(this)}oy.delete(this),s.manager.itemEnd(e)}function c(f){d(),i&&i(f),Hu.remove(`image:${e}`);const h=oy.get(this)||[];for(let m=0;m<h.length;m++){const v=h[m];v.onError&&v.onError(f)}oy.delete(this),s.manager.itemError(e),s.manager.itemEnd(e)}function d(){o.removeEventListener("load",l,!1),o.removeEventListener("error",c,!1)}return o.addEventListener("load",l,!1),o.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),Hu.add(`image:${e}`,o),s.manager.itemStart(e),o.src=e,o}}class wYe extends ko{constructor(e){super(e)}load(e,n,r,i){const s=new UE;s.colorSpace=Eo;const a=new $S(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let o=0;function l(c){a.load(e[c],function(d){s.images[c]=d,o++,o===6&&(s.needsUpdate=!0,n&&n(s))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return s}}class _Ye extends ko{constructor(e){super(e)}load(e,n,r,i){const s=this,a=new Kc,o=new qf(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(s.withCredentials),o.load(e,function(l){let c;try{c=s.parse(l)}catch(d){if(i!==void 0)i(d);else{d(d);return}}c.image!==void 0?a.image=c.image:c.data!==void 0&&(a.image.width=c.width,a.image.height=c.height,a.image.data=c.data),a.wrapS=c.wrapS!==void 0?c.wrapS:Po,a.wrapT=c.wrapT!==void 0?c.wrapT:Po,a.magFilter=c.magFilter!==void 0?c.magFilter:si,a.minFilter=c.minFilter!==void 0?c.minFilter:si,a.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(a.colorSpace=c.colorSpace),c.flipY!==void 0&&(a.flipY=c.flipY),c.format!==void 0&&(a.format=c.format),c.type!==void 0&&(a.type=c.type),c.mipmaps!==void 0&&(a.mipmaps=c.mipmaps,a.minFilter=$u),c.mipmapCount===1&&(a.minFilter=si),c.generateMipmaps!==void 0&&(a.generateMipmaps=c.generateMipmaps),a.needsUpdate=!0,n&&n(a,c)},r,i),a}}class SYe extends ko{constructor(e){super(e)}load(e,n,r,i){const s=new Si,a=new $S(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(o){s.image=o,s.needsUpdate=!0,n!==void 0&&n(s)},r,i),s}}class Yp extends xr{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Lt(e),this.intensity=n}dispose(){this.dispatchEvent({type:"dispose"})}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,n}}class Ppe extends Yp{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(xr.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Lt(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}toJSON(e){const n=super.toJSON(e);return n.object.groundColor=this.groundColor.getHex(),n}}const FL=new Pn,fJ=new ie,hJ=new ie;class eV{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ge(512,512),this.mapType=Xa,this.map=null,this.mapPass=null,this.matrix=new Pn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Rb,this._frameExtents=new Ge(1,1),this._viewportCount=1,this._viewports=[new Wr(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;fJ.setFromMatrixPosition(e.matrixWorld),n.position.copy(fJ),hJ.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(hJ),n.updateMatrixWorld(),FL.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(FL,n.coordinateSystem,n.reversedDepth),n.reversedDepth?r.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(FL)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class EYe extends eV{constructor(){super(new yi(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const n=this.camera,r=Xx*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height*this.aspect,s=e.distance||n.far;(r!==n.fov||i!==n.aspect||s!==n.far)&&(n.fov=r,n.aspect=i,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Npe extends Yp{constructor(e,n,r=0,i=Math.PI/3,s=0,a=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(xr.DEFAULT_UP),this.updateMatrix(),this.target=new xr,this.distance=r,this.angle=i,this.penumbra=s,this.decay=a,this.map=null,this.shadow=new EYe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){super.dispose(),this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.map=e.map,this.shadow=e.shadow.clone(),this}toJSON(e){const n=super.toJSON(e);return n.object.distance=this.distance,n.object.angle=this.angle,n.object.decay=this.decay,n.object.penumbra=this.penumbra,n.object.target=this.target.uuid,this.map&&this.map.isTexture&&(n.object.map=this.map.toJSON(e).uuid),n.object.shadow=this.shadow.toJSON(),n}}class MYe extends eV{constructor(){super(new yi(90,1,.5,500)),this.isPointLightShadow=!0}}class Rpe extends Yp{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new MYe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){super.dispose(),this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}toJSON(e){const n=super.toJSON(e);return n.object.distance=this.distance,n.object.decay=this.decay,n.object.shadow=this.shadow.toJSON(),n}}class Zc extends FE{constructor(e=-1,n=1,r=1,i=-1,s=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,a=r+e,o=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,a=s+c*this.view.width,o-=d*this.view.offsetY,l=o-d*this.view.height}this.projectionMatrix.makeOrthographic(s,a,o,l,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}class TYe extends eV{constructor(){super(new Zc(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Ope extends Yp{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(xr.DEFAULT_UP),this.updateMatrix(),this.target=new xr,this.shadow=new TYe}dispose(){super.dispose(),this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}toJSON(e){const n=super.toJSON(e);return n.object.shadow=this.shadow.toJSON(),n.object.target=this.target.uuid,n}}class jpe extends Yp{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class Ipe extends Yp{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class tV{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ie)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,s=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.282095),n.addScaledVector(a[1],.488603*i),n.addScaledVector(a[2],.488603*s),n.addScaledVector(a[3],.488603*r),n.addScaledVector(a[4],1.092548*(r*i)),n.addScaledVector(a[5],1.092548*(i*s)),n.addScaledVector(a[6],.315392*(3*s*s-1)),n.addScaledVector(a[7],1.092548*(r*s)),n.addScaledVector(a[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,s=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.886227),n.addScaledVector(a[1],2*.511664*i),n.addScaledVector(a[2],2*.511664*s),n.addScaledVector(a[3],2*.511664*r),n.addScaledVector(a[4],2*.429043*r*i),n.addScaledVector(a[5],2*.429043*i*s),n.addScaledVector(a[6],.743125*s*s-.247708),n.addScaledVector(a[7],2*.429043*r*s),n.addScaledVector(a[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,s=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*s,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*r*s,n[8]=.546274*(r*r-i*i)}}class kpe extends Yp{constructor(e=new tV,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class mO extends ko{constructor(e){super(e),this.textures={}}load(e,n,r,i){const s=this,a=new qf(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(o){try{n(s.parse(JSON.parse(o)))}catch(l){i?i(l):dn(l),s.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(s){return n[s]===void 0&&At("MaterialLoader: Undefined texture",s),n[s]}const i=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Lt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(i.dispersion=e.dispersion),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.allowOverride!==void 0&&(i.allowOverride=e.allowOverride),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const a=e.uniforms[s];switch(i.uniforms[s]={},a.type){case"t":i.uniforms[s].value=r(a.value);break;case"c":i.uniforms[s].value=new Lt().setHex(a.value);break;case"v2":i.uniforms[s].value=new Ge().fromArray(a.value);break;case"v3":i.uniforms[s].value=new ie().fromArray(a.value);break;case"v4":i.uniforms[s].value=new Wr().fromArray(a.value);break;case"m3":i.uniforms[s].value=new Fn().fromArray(a.value);break;case"m4":i.uniforms[s].value=new Pn().fromArray(a.value);break;default:i.uniforms[s].value=a.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new Ge().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Ge().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return mO.createMaterialFromType(e)}static createMaterialFromType(e){const n={ShadowMaterial:gpe,SpriteMaterial:L8,RawShaderMaterial:q8,ShaderMaterial:Ro,PointsMaterial:U8,MeshPhysicalMaterial:vpe,MeshStandardMaterial:X8,MeshPhongMaterial:ype,MeshToonMaterial:xpe,MeshNormalMaterial:bpe,MeshLambertMaterial:wpe,MeshDepthMaterial:pO,MeshDistanceMaterial:Y8,MeshBasicMaterial:qp,MeshMatcapMaterial:_pe,LineDashedMaterial:Spe,LineBasicMaterial:so,Material:la};return new n[e]}}class lU{static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class Dpe extends jn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Lpe extends ko{constructor(e){super(e)}load(e,n,r,i){const s=this,a=new qf(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(o){try{n(s.parse(JSON.parse(o)))}catch(l){i?i(l):dn(l),s.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(m,v){if(n[v]!==void 0)return n[v];const y=m.interleavedBuffers[v],w=s(m,y.buffer),S=jy(y.type,w),M=new ZR(S,y.stride);return M.uuid=y.uuid,n[v]=M,M}function s(m,v){if(r[v]!==void 0)return r[v];const y=m.arrayBuffers[v],w=new Uint32Array(y).buffer;return r[v]=w,w}const a=e.isInstancedBufferGeometry?new Dpe:new jn,o=e.data.index;if(o!==void 0){const m=jy(o.type,o.array);a.setIndex(new kr(m,1))}const l=e.data.attributes;for(const m in l){const v=l[m];let b;if(v.isInterleavedBufferAttribute){const y=i(e.data,v.data);b=new u0(y,v.itemSize,v.offset,v.normalized)}else{const y=jy(v.type,v.array),w=v.isInstancedBufferAttribute?Kx:kr;b=new w(y,v.itemSize,v.normalized)}v.name!==void 0&&(b.name=v.name),v.usage!==void 0&&b.setUsage(v.usage),a.setAttribute(m,b)}const c=e.data.morphAttributes;if(c)for(const m in c){const v=c[m],b=[];for(let y=0,w=v.length;y<w;y++){const S=v[y];let M;if(S.isInterleavedBufferAttribute){const T=i(e.data,S.data);M=new u0(T,S.itemSize,S.offset,S.normalized)}else{const T=jy(S.type,S.array);M=new kr(T,S.itemSize,S.normalized)}S.name!==void 0&&(M.name=S.name),b.push(M)}a.morphAttributes[m]=b}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let m=0,v=f.length;m!==v;++m){const b=f[m];a.addGroup(b.start,b.count,b.materialIndex)}const h=e.data.boundingSphere;return h!==void 0&&(a.boundingSphere=new oa().fromJSON(h)),e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class AYe extends ko{constructor(e){super(e)}load(e,n,r,i){const s=this,a=this.path===""?lU.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const o=new qf(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(f){i!==void 0&&i(f),f("ObjectLoader: Can't parse "+e+".",f.message);return}const d=c.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),dn("ObjectLoader: Can't load "+e);return}s.parse(c,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?lU.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new qf(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const a=await s.loadAsync(e,n),o=JSON.parse(a),l=o.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(o)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),a=this.parseImages(e.images,function(){n!==void 0&&n(c)}),o=this.parseTextures(e.textures,a),l=this.parseMaterials(e.materials,o),c=this.parseObject(e.object,s,l,o,r),d=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,d),this.bindLightTargets(c),n!==void 0){let f=!1;for(const h in a)if(a[h].data instanceof HTMLImageElement){f=!0;break}f===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,s),o=this.parseMaterials(e.materials,a),l=this.parseObject(e.object,i,o,a,n),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),this.bindLightTargets(l),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new pp().fromJSON(e[r]);n[s.uuid]=s}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,a=e.length;s<a;s++){const o=new QR().fromJSON(e[s],i);r[o.uuid]=o}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new Lpe;for(let s=0,a=e.length;s<a;s++){let o;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":o=i.parse(l);break;default:l.type in dJ?o=dJ[l.type].fromJSON(l,n):At(`ObjectLoader: Unsupported geometry type "${l.type}"`)}o.uuid=l.uuid,l.name!==void 0&&(o.name=l.name),l.userData!==void 0&&(o.userData=l.userData),r[l.uuid]=o}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const s=new mO;s.setTextures(n);for(let a=0,o=e.length;a<o;a++){const l=e[a];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=VS.parse(i);n[s.uuid]=s}return n}parseImages(e,n){const r=this,i={};let s;function a(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function o(l){if(typeof l=="string"){const c=l,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return a(d)}else return l.data?{data:jy(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new J8(n);s=new $S(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,d=e.length;c<d;c++){const f=e[c],h=f.url;if(Array.isArray(h)){const m=[];for(let v=0,b=h.length;v<b;v++){const y=h[v],w=o(y);w!==null&&(w instanceof HTMLImageElement?m.push(w):m.push(new Kc(w.data,w.width,w.height)))}i[f.uuid]=new sp(m)}else{const m=o(f.url);i[f.uuid]=new sp(m)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function s(a){if(typeof a=="string"){const o=a,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(o)?o:n.resourcePath+o;return await i.loadAsync(l)}else return a.data?{data:jy(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){i=new $S(this.manager),i.setCrossOrigin(this.crossOrigin);for(let a=0,o=e.length;a<o;a++){const l=e[a],c=l.url;if(Array.isArray(c)){const d=[];for(let f=0,h=c.length;f<h;f++){const m=c[f],v=await s(m);v!==null&&(v instanceof HTMLImageElement?d.push(v):d.push(new Kc(v.data,v.width,v.height)))}r[l.uuid]=new sp(d)}else{const d=await s(l.url);r[l.uuid]=new sp(d)}}}return r}parseTextures(e,n){function r(s,a){return typeof s=="number"?s:(At("ObjectLoader.parseTexture: Constant should be in numeric form.",s),a[s])}const i={};if(e!==void 0)for(let s=0,a=e.length;s<a;s++){const o=e[s];o.image===void 0&&At('ObjectLoader: No "image" specified for',o.uuid),n[o.image]===void 0&&At("ObjectLoader: Undefined image",o.image);const l=n[o.image],c=l.data;let d;Array.isArray(c)?(d=new UE,c.length===6&&(d.needsUpdate=!0)):(c&&c.data?d=new Kc:d=new Si,c&&(d.needsUpdate=!0)),d.source=l,d.uuid=o.uuid,o.name!==void 0&&(d.name=o.name),o.mapping!==void 0&&(d.mapping=r(o.mapping,CYe)),o.channel!==void 0&&(d.channel=o.channel),o.offset!==void 0&&d.offset.fromArray(o.offset),o.repeat!==void 0&&d.repeat.fromArray(o.repeat),o.center!==void 0&&d.center.fromArray(o.center),o.rotation!==void 0&&(d.rotation=o.rotation),o.wrap!==void 0&&(d.wrapS=r(o.wrap[0],pJ),d.wrapT=r(o.wrap[1],pJ)),o.format!==void 0&&(d.format=o.format),o.internalFormat!==void 0&&(d.internalFormat=o.internalFormat),o.type!==void 0&&(d.type=o.type),o.colorSpace!==void 0&&(d.colorSpace=o.colorSpace),o.minFilter!==void 0&&(d.minFilter=r(o.minFilter,mJ)),o.magFilter!==void 0&&(d.magFilter=r(o.magFilter,mJ)),o.anisotropy!==void 0&&(d.anisotropy=o.anisotropy),o.flipY!==void 0&&(d.flipY=o.flipY),o.generateMipmaps!==void 0&&(d.generateMipmaps=o.generateMipmaps),o.premultiplyAlpha!==void 0&&(d.premultiplyAlpha=o.premultiplyAlpha),o.unpackAlignment!==void 0&&(d.unpackAlignment=o.unpackAlignment),o.compareFunction!==void 0&&(d.compareFunction=o.compareFunction),o.userData!==void 0&&(d.userData=o.userData),i[o.uuid]=d}return i}parseObject(e,n,r,i,s){let a;function o(h){return n[h]===void 0&&At("ObjectLoader: Undefined geometry",h),n[h]}function l(h){if(h!==void 0){if(Array.isArray(h)){const m=[];for(let v=0,b=h.length;v<b;v++){const y=h[v];r[y]===void 0&&At("ObjectLoader: Undefined material",y),m.push(r[y])}return m}return r[h]===void 0&&At("ObjectLoader: Undefined material",h),r[h]}}function c(h){return i[h]===void 0&&At("ObjectLoader: Undefined texture",h),i[h]}let d,f;switch(e.type){case"Scene":a=new NP,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new Lt(e.background):a.background=c(e.background)),e.environment!==void 0&&(a.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new KR(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new YR(e.fog.color,e.fog.density)),e.fog.name!==""&&(a.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(a.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&a.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(a.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&a.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":a=new yi(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new Zc(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new jpe(e.color,e.intensity);break;case"DirectionalLight":a=new Ope(e.color,e.intensity),a.target=e.target||"";break;case"PointLight":a=new Rpe(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new Ipe(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new Npe(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),a.target=e.target||"";break;case"HemisphereLight":a=new Ppe(e.color,e.groundColor,e.intensity);break;case"LightProbe":const h=new tV().fromArray(e.sh);a=new kpe(h,e.intensity);break;case"SkinnedMesh":d=o(e.geometry),f=l(e.material),a=new Qhe(d,f),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":d=o(e.geometry),f=l(e.material),a=new Yi(d,f);break;case"InstancedMesh":d=o(e.geometry),f=l(e.material);const m=e.count,v=e.instanceMatrix,b=e.instanceColor;a=new Jhe(d,f,m),a.instanceMatrix=new Kx(new Float32Array(v.array),16),b!==void 0&&(a.instanceColor=new Kx(new Float32Array(b.array),b.itemSize));break;case"BatchedMesh":d=o(e.geometry),f=l(e.material),a=new epe(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,f),a.geometry=d,a.perObjectFrustumCulled=e.perObjectFrustumCulled,a.sortObjects=e.sortObjects,a._drawRanges=e.drawRanges,a._reservedRanges=e.reservedRanges,a._geometryInfo=e.geometryInfo.map(y=>{let w=null,S=null;return y.boundingBox!==void 0&&(w=new Ta().fromJSON(y.boundingBox)),y.boundingSphere!==void 0&&(S=new oa().fromJSON(y.boundingSphere)),{...y,boundingBox:w,boundingSphere:S}}),a._instanceInfo=e.instanceInfo,a._availableInstanceIds=e._availableInstanceIds,a._availableGeometryIds=e._availableGeometryIds,a._nextIndexStart=e.nextIndexStart,a._nextVertexStart=e.nextVertexStart,a._geometryCount=e.geometryCount,a._maxInstanceCount=e.maxInstanceCount,a._maxVertexCount=e.maxVertexCount,a._maxIndexCount=e.maxIndexCount,a._geometryInitialized=e.geometryInitialized,a._matricesTexture=c(e.matricesTexture.uuid),a._indirectTexture=c(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(a._colorsTexture=c(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(a.boundingSphere=new oa().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(a.boundingBox=new Ta().fromJSON(e.boundingBox));break;case"LOD":a=new Zhe;break;case"Line":a=new kp(o(e.geometry),l(e.material));break;case"LineLoop":a=new tpe(o(e.geometry),l(e.material));break;case"LineSegments":a=new yd(o(e.geometry),l(e.material));break;case"PointCloud":case"Points":a=new npe(o(e.geometry),l(e.material));break;case"Sprite":a=new Khe(l(e.material));break;case"Group":a=new Iy;break;case"Bone":a=new F8;break;default:a=new xr}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.up!==void 0&&a.up.fromArray(e.up),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(a.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const h=e.children;for(let m=0;m<h.length;m++)a.add(this.parseObject(h[m],n,r,i,s))}if(e.animations!==void 0){const h=e.animations;for(let m=0;m<h.length;m++){const v=h[m];a.animations.push(s[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const h=e.levels;for(let m=0;m<h.length;m++){const v=h[m],b=a.getObjectByProperty("uuid",v.object);b!==void 0&&a.addLevel(b,v.distance,v.hysteresis)}}return a}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?At("ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}bindLightTargets(e){e.traverse(function(n){if(n.isDirectionalLight||n.isSpotLight){const r=n.target,i=e.getObjectByProperty("uuid",r);i!==void 0?n.target=i:n.target=new xr}})}}const CYe={UVMapping:LR,CubeReflectionMapping:ld,CubeRefractionMapping:jp,EquirectangularReflectionMapping:AS,EquirectangularRefractionMapping:CS,CubeUVReflectionMapping:Nb},pJ={RepeatWrapping:PS,ClampToEdgeWrapping:Po,MirroredRepeatWrapping:NS},mJ={NearestFilter:Gi,NearestMipmapNearestFilter:E8,NearestMipmapLinearFilter:Oy,LinearFilter:si,LinearMipmapNearestFilter:Q1,LinearMipmapLinearFilter:$u},UL=new WeakMap;class PYe extends ko{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&At("ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&At("ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=Hu.get(`image-bitmap:${e}`);if(a!==void 0){if(s.manager.itemStart(e),a.then){a.then(c=>{if(UL.has(a)===!0)i&&i(UL.get(a)),s.manager.itemError(e),s.manager.itemEnd(e);else return n&&n(c),s.manager.itemEnd(e),c});return}return setTimeout(function(){n&&n(a),s.manager.itemEnd(e)},0),a}const o={};o.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",o.headers=this.requestHeader,o.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const l=fetch(e,o).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(c){return Hu.add(`image-bitmap:${e}`,c),n&&n(c),s.manager.itemEnd(e),c}).catch(function(c){i&&i(c),UL.set(l,c),Hu.remove(`image-bitmap:${e}`),s.manager.itemError(e),s.manager.itemEnd(e)});Hu.add(`image-bitmap:${e}`,l),s.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let o2;class nV{static getContext(){return o2===void 0&&(o2=new(window.AudioContext||window.webkitAudioContext)),o2}static setContext(e){o2=e}}class NYe extends ko{constructor(e){super(e)}load(e,n,r,i){const s=this,a=new qf(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{const c=l.slice(0);nV.getContext().decodeAudioData(c,function(f){n(f)}).catch(o)}catch(c){o(c)}},r,i);function o(l){i?i(l):dn(l),s.manager.itemError(e)}}}const gJ=new Pn,vJ=new Pn,Xm=new Pn;class RYe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new yi,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new yi,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,Xm.copy(e.projectionMatrix);const i=n.eyeSep/2,s=i*n.near/n.focus,a=n.near*Math.tan(Fg*n.fov*.5)/n.zoom;let o,l;vJ.elements[12]=-i,gJ.elements[12]=i,o=-a*n.aspect+s,l=a*n.aspect+s,Xm.elements[0]=2*n.near/(l-o),Xm.elements[8]=(l+o)/(l-o),this.cameraL.projectionMatrix.copy(Xm),o=-a*n.aspect-s,l=a*n.aspect-s,Xm.elements[0]=2*n.near/(l-o),Xm.elements[8]=(l+o)/(l-o),this.cameraR.projectionMatrix.copy(Xm)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(vJ),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(gJ)}}class Fpe extends yi{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class rV{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=performance.now();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}const Ym=new ie,BL=new Ma,OYe=new ie,Km=new ie,Zm=new ie;class jYe extends xr{constructor(){super(),this.type="AudioListener",this.context=nV.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new rV}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Ym,BL,OYe),Km.set(0,0,-1).applyQuaternion(BL),Zm.set(0,1,0).applyQuaternion(BL),n.positionX){const r=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(Ym.x,r),n.positionY.linearRampToValueAtTime(Ym.y,r),n.positionZ.linearRampToValueAtTime(Ym.z,r),n.forwardX.linearRampToValueAtTime(Km.x,r),n.forwardY.linearRampToValueAtTime(Km.y,r),n.forwardZ.linearRampToValueAtTime(Km.z,r),n.upX.linearRampToValueAtTime(Zm.x,r),n.upY.linearRampToValueAtTime(Zm.y,r),n.upZ.linearRampToValueAtTime(Zm.z,r)}else n.setPosition(Ym.x,Ym.y,Ym.z),n.setOrientation(Km.x,Km.y,Km.z,Zm.x,Zm.y,Zm.z)}}class Upe extends xr{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){At("Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){At("Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){At("Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){At("Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){At("Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(At("Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){At("Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,n){return super.copy(e,n),e.sourceType!=="buffer"?(At("Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Qm=new ie,yJ=new Ma,IYe=new ie,Jm=new ie;class kYe extends Upe{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Qm,yJ,IYe),Jm.set(0,0,1).applyQuaternion(yJ);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Qm.x,r),n.positionY.linearRampToValueAtTime(Qm.y,r),n.positionZ.linearRampToValueAtTime(Qm.z,r),n.orientationX.linearRampToValueAtTime(Jm.x,r),n.orientationY.linearRampToValueAtTime(Jm.y,r),n.orientationZ.linearRampToValueAtTime(Jm.z,r)}else n.setPosition(Qm.x,Qm.y,Qm.z),n.setOrientation(Jm.x,Jm.y,Jm.z)}}class DYe{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class Bpe{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,s,a;switch(n){case"quaternion":i=this._slerp,s=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,s=e*i+i;let a=this.cumulativeWeight;if(a===0){for(let o=0;o!==i;++o)r[s+o]=r[o];a=n}else{a+=n;const o=n/a;this._mixBufferRegion(r,s,0,o,i)}this.cumulativeWeight=a}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,s=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-s,n)}a>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,c=n+n;l!==c;++l)if(r[l]!==r[l+n]){o.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let s=r,a=i;s!==a;++s)n[s]=n[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,s){if(i>=.5)for(let a=0;a!==s;++a)e[n+a]=e[r+a]}_slerp(e,n,r,i){Ma.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,s){const a=this._workIndex*s;Ma.multiplyQuaternionsFlat(e,a,e,n,e,r),Ma.slerpFlat(e,n,e,n,e,a,i)}_lerp(e,n,r,i,s){const a=1-i;for(let o=0;o!==s;++o){const l=n+o;e[l]=e[l]*a+e[r+o]*i}}_lerpAdditive(e,n,r,i,s){for(let a=0;a!==s;++a){const o=n+a;e[o]=e[o]+e[r+a]*i}}}const iV="\\[\\]\\.:\\/",LYe=new RegExp("["+iV+"]","g"),sV="[^"+iV+"]",FYe="[^"+iV.replace("\\.","")+"]",UYe=/((?:WC+[\/:])*)/.source.replace("WC",sV),BYe=/(WCOD+)?/.source.replace("WCOD",FYe),zYe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",sV),VYe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",sV),$Ye=new RegExp("^"+UYe+BYe+zYe+VYe+"$"),HYe=["material","materials","bones","map"];class WYe{constructor(e,n,r){const i=r||vr.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class vr{constructor(e,n,r){this.path=n,this.parsedPath=r||vr.parseTrackName(n),this.node=vr.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new vr.Composite(e,n,r):new vr(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(LYe,"")}static parseTrackName(e){const n=$Ye.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);HYe.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(s){for(let a=0;a<s.length;a++){const o=s[a];if(o.name===n||o.uuid===n)return o;const l=r(o.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let s=n.propertyIndex;if(e||(e=vr.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){At("PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let c=n.objectIndex;switch(r){case"materials":if(!e.material){dn("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){dn("PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){dn("PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===c){c=d;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){dn("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){dn("PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){dn("PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){dn("PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const a=e[i];if(a===void 0){const c=n.nodeName;dn("PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?o=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){dn("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){dn("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=s}else a.fromArray!==void 0&&a.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(l=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}vr.Composite=WYe;vr.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};vr.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};vr.prototype.GetterByBindingType=[vr.prototype._getValue_direct,vr.prototype._getValue_array,vr.prototype._getValue_arrayElement,vr.prototype._getValue_toArray];vr.prototype.SetterByBindingTypeAndVersioning=[[vr.prototype._setValue_direct,vr.prototype._setValue_direct_setNeedsUpdate,vr.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[vr.prototype._setValue_array,vr.prototype._setValue_array_setNeedsUpdate,vr.prototype._setValue_array_setMatrixWorldNeedsUpdate],[vr.prototype._setValue_arrayElement,vr.prototype._setValue_arrayElement_setNeedsUpdate,vr.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[vr.prototype._setValue_fromArray,vr.prototype._setValue_fromArray_setNeedsUpdate,vr.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class GYe{constructor(){this.isAnimationObjectGroup=!0,this.uuid=dl(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,a=s.length;let o,l=e.length,c=this.nCachedObjects_;for(let d=0,f=arguments.length;d!==f;++d){const h=arguments[d],m=h.uuid;let v=n[m];if(v===void 0){v=l++,n[m]=v,e.push(h);for(let b=0,y=a;b!==y;++b)s[b].push(new vr(h,r[b],i[b]))}else if(v<c){o=e[v];const b=--c,y=e[b];n[y.uuid]=v,e[v]=y,n[m]=b,e[b]=h;for(let w=0,S=a;w!==S;++w){const M=s[w],T=M[b];let A=M[v];M[v]=T,A===void 0&&(A=new vr(h,r[w],i[w])),M[b]=A}}else e[v]!==o&&dn("AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let a=0,o=arguments.length;a!==o;++a){const l=arguments[a],c=l.uuid,d=n[c];if(d!==void 0&&d>=s){const f=s++,h=e[f];n[h.uuid]=d,e[d]=h,n[c]=f,e[f]=l;for(let m=0,v=i;m!==v;++m){const b=r[m],y=b[f],w=b[d];b[d]=y,b[f]=w}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,a=e.length;for(let o=0,l=arguments.length;o!==l;++o){const c=arguments[o],d=c.uuid,f=n[d];if(f!==void 0)if(delete n[d],f<s){const h=--s,m=e[h],v=--a,b=e[v];n[m.uuid]=f,e[f]=m,n[b.uuid]=h,e[h]=b,e.pop();for(let y=0,w=i;y!==w;++y){const S=r[y],M=S[h],T=S[v];S[f]=M,S[h]=T,S.pop()}}else{const h=--a,m=e[h];h>0&&(n[m.uuid]=f),e[f]=m,e.pop();for(let v=0,b=i;v!==b;++v){const y=r[v];y[f]=y[h],y.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const a=this._paths,o=this._parsedPaths,l=this._objects,c=l.length,d=this.nCachedObjects_,f=new Array(c);i=s.length,r[e]=i,a.push(e),o.push(n),s.push(f);for(let h=d,m=l.length;h!==m;++h){const v=l[h];f[h]=new vr(v,e,n)}return f}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,a=this._bindings,o=a.length-1,l=a[o],c=e[o];n[c]=r,a[r]=l,a.pop(),s[r]=s[o],s.pop(),i[r]=i[o],i.pop()}}}class zpe{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const s=n.tracks,a=s.length,o=new Array(a),l={endingStart:Mg,endingEnd:Mg};for(let c=0;c!==a;++c){const d=s[c].createInterpolant(null);o[c]=d,d.settings=l}this._interpolantSettings=l,this._interpolants=o,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Rhe,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r=!1){if(e.fadeOut(n),this.fadeIn(n),r===!0){const i=this._clip.duration,s=e._clip.duration,a=s/i,o=i/s;e.warp(1,a,n),this.warp(o,1,n)}return this}crossFadeTo(e,n,r=!1){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,s=i.time,a=this.timeScale;let o=this._timeScaleInterpolant;o===null&&(o=i._lendControlInterpolant(),this._timeScaleInterpolant=o);const l=o.parameterPositions,c=o.sampleValues;return l[0]=s,l[1]=s+r,c[0]=e/a,c[1]=n/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const a=this._updateTime(n),o=this._updateWeight(e);if(o>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case R8:for(let d=0,f=l.length;d!==f;++d)l[d].evaluate(a),c[d].accumulateAdditive(o);break;case HR:default:for(let d=0,f=l.length;d!==f;++d)l[d].evaluate(a),c[d].accumulate(i,o)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const a=r===Ohe;if(e===0)return s===-1?i:a&&(s&1)===1?n-i:i;if(r===Nhe){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),i>=n||i<0){const o=Math.floor(i/n);i-=n*o,s+=Math.abs(o);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,a)}else this._setEndings(!1,!1,a);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=i;if(a&&(s&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=Tg,i.endingEnd=Tg):(e?i.endingStart=this.zeroSlopeAtStart?Tg:Mg:i.endingStart=OS,n?i.endingEnd=this.zeroSlopeAtEnd?Tg:Mg:i.endingEnd=OS)}_scheduleFading(e,n,r){const i=this._mixer,s=i.time;let a=this._weightInterpolant;a===null&&(a=i._lendControlInterpolant(),this._weightInterpolant=a);const o=a.parameterPositions,l=a.sampleValues;return o[0]=s,l[0]=n,o[1]=s+e,l[1]=r,this}}const qYe=new Float32Array(1);class XYe extends vd{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,a=e._propertyBindings,o=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let d=c[l];d===void 0&&(d={},c[l]=d);for(let f=0;f!==s;++f){const h=i[f],m=h.name;let v=d[m];if(v!==void 0)++v.referenceCount,a[f]=v;else{if(v=a[f],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,m));continue}const b=n&&n._propertyBindings[f].binding.parsedPath;v=new Bpe(vr.create(r,m,b),h.ValueTypeName,h.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,m),a[f]=v}o[f].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,s=this._actionsByClip;let a=s[n];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=a;else{const o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=i.length,i.push(e),a.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,a=this._actionsByClip,o=a[s],l=o.knownActions,c=l[l.length-1],d=e._byClipCacheIndex;c._byClipCacheIndex=d,l[d]=c,l.pop(),e._byClipCacheIndex=null;const f=o.actionByRoot,h=(e._localRoot||this._root).uuid;delete f[h],l.length===0&&delete a[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,s=this._bindings;let a=i[n];a===void 0&&(a={},i[n]=a),a[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,a=this._bindingsByRootAndName,o=a[i],l=n[n.length-1],c=e._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete o[s],Object.keys(o).length===0&&delete a[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new Z8(new Float32Array(2),new Float32Array(2),1,qYe),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=n[i];e.__cacheIndex=i,n[i]=e,s.__cacheIndex=r,n[r]=s}clipAction(e,n,r){const i=n||this._root,s=i.uuid;let a=typeof e=="string"?VS.findByName(i,e):e;const o=a!==null?a.uuid:e,l=this._actionsByClip[o];let c=null;if(r===void 0&&(a!==null?r=a.blendMode:r=HR),l!==void 0){const f=l.actionByRoot[s];if(f!==void 0&&f.blendMode===r)return f;c=l.knownActions[0],a===null&&(a=c._clip)}if(a===null)return null;const d=new zpe(this,a,n,r);return this._bindAction(d,c),this._addInactiveAction(d,o,s),d}existingAction(e,n){const r=n||this._root,i=r.uuid,s=typeof e=="string"?VS.findByName(r,e):e,a=s?s.uuid:e,o=this._actionsByClip[a];return o!==void 0&&o.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),a=this._accuIndex^=1;for(let c=0;c!==r;++c)n[c]._update(i,e,s,a);const o=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)o[c].apply(a);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const a=s.knownActions;for(let o=0,l=a.length;o!==l;++o){const c=a[o];this._deactivateAction(c);const d=c._cacheIndex,f=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,f._cacheIndex=d,n[d]=f,n.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const a in r){const o=r[a].actionByRoot,l=o[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[n];if(s!==void 0)for(const a in s){const o=s[a];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class YYe extends j8{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isRenderTarget3D=!0,this.depth=r,this.texture=new XR(null,e,n,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class aV{constructor(e){this.value=e}clone(){return new aV(this.value.clone===void 0?this.value:this.value.clone())}}let KYe=0;class ZYe extends vd{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:KYe++}),this.name="",this.usage=IS,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++){const s=Array.isArray(n[r])?n[r]:[n[r]];for(let a=0;a<s.length;a++)this.uniforms.push(s[a].clone())}return this}clone(){return new this.constructor().copy(this)}}class QYe extends ZR{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class JYe{constructor(e,n,r,i,s,a=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=s,this.normalized=a,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const xJ=new Pn;class Vpe{constructor(e,n,r=0,i=1/0){this.ray=new T0(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new Ug,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):dn("Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return xJ.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(xJ),this}intersectObject(e,n=!0,r=[]){return cU(e,this,r,n),r.sort(bJ),r}intersectObjects(e,n=!0,r=[]){for(let i=0,s=e.length;i<s;i++)cU(e[i],this,r,n);return r.sort(bJ),r}}function bJ(t,e){return t.distance-e.distance}function cU(t,e,n,r){let i=!0;if(t.layers.test(e.layers)&&t.raycast(e,n)===!1&&(i=!1),i===!0&&r===!0){const s=t.children;for(let a=0,o=s.length;a<o;a++)cU(s[a],e,n,!0)}}let eKe=class{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=tKe.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}};function tKe(){this._document.hidden===!1&&this.reset()}class uU{constructor(e=1,n=0,r=0){this.radius=e,this.phi=n,this.theta=r}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Tn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Tn(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class nKe{constructor(e=1,n=0,r=0){this.radius=e,this.theta=n,this.y=r}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}class oV{constructor(e,n,r,i){oV.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,n,r,i)}identity(){return this.set(1,0,0,1),this}fromArray(e,n=0){for(let r=0;r<4;r++)this.elements[r]=e[r+n];return this}set(e,n,r,i){const s=this.elements;return s[0]=e,s[2]=n,s[1]=r,s[3]=i,this}}const wJ=new Ge;class rKe{constructor(e=new Ge(1/0,1/0),n=new Ge(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=wJ.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,wJ).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const _J=new ie,l2=new ie,ly=new ie,cy=new ie,zL=new ie,iKe=new ie,sKe=new ie;class aKe{constructor(e=new ie,n=new ie){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){_J.subVectors(e,this.start),l2.subVectors(this.end,this.start);const r=l2.dot(l2);let s=l2.dot(_J)/r;return n&&(s=Tn(s,0,1)),s}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}distanceSqToLine3(e,n=iKe,r=sKe){const i=10000000000000001e-32;let s,a;const o=this.start,l=e.start,c=this.end,d=e.end;ly.subVectors(c,o),cy.subVectors(d,l),zL.subVectors(o,l);const f=ly.dot(ly),h=cy.dot(cy),m=cy.dot(zL);if(f<=i&&h<=i)return n.copy(o),r.copy(l),n.sub(r),n.dot(n);if(f<=i)s=0,a=m/h,a=Tn(a,0,1);else{const v=ly.dot(zL);if(h<=i)a=0,s=Tn(-v/f,0,1);else{const b=ly.dot(cy),y=f*h-b*b;y!==0?s=Tn((b*m-v*h)/y,0,1):s=0,a=(b*s+m)/h,a<0?(a=0,s=Tn(-v/f,0,1)):a>1&&(a=1,s=Tn((b-v)/f,0,1))}}return n.copy(o).add(ly.multiplyScalar(s)),r.copy(l).add(cy.multiplyScalar(a)),n.sub(r),n.dot(n)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const SJ=new ie;class oKe extends xr{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new jn,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,o=1,l=32;a<l;a++,o++){const c=a/l*Math.PI*2,d=o/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(d),Math.sin(d),1)}r.setAttribute("position",new Xt(i,3));const s=new so({fog:!1,toneMapped:!1});this.cone=new yd(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),SJ.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(SJ),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const $h=new ie,c2=new Pn,VL=new Pn;class lKe extends yd{constructor(e){const n=$pe(e),r=new jn,i=[],s=[];for(let c=0;c<n.length;c++){const d=n[c];d.parent&&d.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(0,0,0),s.push(0,0,0))}r.setAttribute("position",new Xt(i,3)),r.setAttribute("color",new Xt(s,3));const a=new so({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,a),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const o=new Lt(255),l=new Lt(65280);this.setColors(o,l)}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");VL.copy(this.root.matrixWorld).invert();for(let s=0,a=0;s<n.length;s++){const o=n[s];o.parent&&o.parent.isBone&&(c2.multiplyMatrices(VL,o.matrixWorld),$h.setFromMatrixPosition(c2),i.setXYZ(a,$h.x,$h.y,$h.z),c2.multiplyMatrices(VL,o.parent.matrixWorld),$h.setFromMatrixPosition(c2),i.setXYZ(a+1,$h.x,$h.y,$h.z),a+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,n){const i=this.geometry.getAttribute("color");for(let s=0;s<i.count;s+=2)i.setXYZ(s,e.r,e.g,e.b),i.setXYZ(s+1,n.r,n.g,n.b);return i.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function $pe(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push(...$pe(t.children[n]));return e}class cKe extends Yi{constructor(e,n,r){const i=new $E(n,4,2),s=new qp({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const uKe=new ie,EJ=new Lt,MJ=new Lt;class dKe extends xr{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new VE(n);i.rotateY(Math.PI*.5),this.material=new qp({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),a=new Float32Array(s.count*3);i.setAttribute("color",new kr(a,3)),this.add(new Yi(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");EJ.copy(this.light.color),MJ.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const s=r<i/2?EJ:MJ;n.setXYZ(r,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(uKe.setFromMatrixPosition(this.light.matrixWorld).negate())}}class fKe extends yd{constructor(e=10,n=10,r=4473924,i=8947848){r=new Lt(r),i=new Lt(i);const s=n/2,a=e/n,o=e/2,l=[],c=[];for(let h=0,m=0,v=-o;h<=n;h++,v+=a){l.push(-o,0,v,o,0,v),l.push(v,0,-o,v,0,o);const b=h===s?r:i;b.toArray(c,m),m+=3,b.toArray(c,m),m+=3,b.toArray(c,m),m+=3,b.toArray(c,m),m+=3}const d=new jn;d.setAttribute("position",new Xt(l,3)),d.setAttribute("color",new Xt(c,3));const f=new so({vertexColors:!0,toneMapped:!1});super(d,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class hKe extends yd{constructor(e=10,n=16,r=8,i=64,s=4473924,a=8947848){s=new Lt(s),a=new Lt(a);const o=[],l=[];if(n>1)for(let f=0;f<n;f++){const h=f/n*(Math.PI*2),m=Math.sin(h)*e,v=Math.cos(h)*e;o.push(0,0,0),o.push(m,0,v);const b=f&1?s:a;l.push(b.r,b.g,b.b),l.push(b.r,b.g,b.b)}for(let f=0;f<r;f++){const h=f&1?s:a,m=e-e/r*f;for(let v=0;v<i;v++){let b=v/i*(Math.PI*2),y=Math.sin(b)*m,w=Math.cos(b)*m;o.push(y,0,w),l.push(h.r,h.g,h.b),b=(v+1)/i*(Math.PI*2),y=Math.sin(b)*m,w=Math.cos(b)*m,o.push(y,0,w),l.push(h.r,h.g,h.b)}}const c=new jn;c.setAttribute("position",new Xt(o,3)),c.setAttribute("color",new Xt(l,3));const d=new so({vertexColors:!0,toneMapped:!1});super(c,d),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const TJ=new ie,u2=new ie,AJ=new ie;class pKe extends xr{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new jn;i.setAttribute("position",new Xt([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new so({fog:!1,toneMapped:!1});this.lightPlane=new kp(i,s),this.add(this.lightPlane),i=new jn,i.setAttribute("position",new Xt([0,0,0,0,0,1],3)),this.targetLine=new kp(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),TJ.setFromMatrixPosition(this.light.matrixWorld),u2.setFromMatrixPosition(this.light.target.matrixWorld),AJ.subVectors(u2,TJ),this.lightPlane.lookAt(u2),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(u2),this.targetLine.scale.z=AJ.length()}}const d2=new ie,Pi=new FE;class mKe extends yd{constructor(e){const n=new jn,r=new so({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],a={};o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4");function o(v,b){l(v),l(b)}function l(v){i.push(0,0,0),s.push(0,0,0),a[v]===void 0&&(a[v]=[]),a[v].push(i.length/3-1)}n.setAttribute("position",new Xt(i,3)),n.setAttribute("color",new Xt(s,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const c=new Lt(16755200),d=new Lt(16711680),f=new Lt(43775),h=new Lt(16777215),m=new Lt(3355443);this.setColors(c,d,f,h,m)}setColors(e,n,r,i,s){const o=this.geometry.getAttribute("color");return o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,n.r,n.g,n.b),o.setXYZ(25,n.r,n.g,n.b),o.setXYZ(26,n.r,n.g,n.b),o.setXYZ(27,n.r,n.g,n.b),o.setXYZ(28,n.r,n.g,n.b),o.setXYZ(29,n.r,n.g,n.b),o.setXYZ(30,n.r,n.g,n.b),o.setXYZ(31,n.r,n.g,n.b),o.setXYZ(32,r.r,r.g,r.b),o.setXYZ(33,r.r,r.g,r.b),o.setXYZ(34,r.r,r.g,r.b),o.setXYZ(35,r.r,r.g,r.b),o.setXYZ(36,r.r,r.g,r.b),o.setXYZ(37,r.r,r.g,r.b),o.setXYZ(38,i.r,i.g,i.b),o.setXYZ(39,i.r,i.g,i.b),o.setXYZ(40,s.r,s.g,s.b),o.setXYZ(41,s.r,s.g,s.b),o.setXYZ(42,s.r,s.g,s.b),o.setXYZ(43,s.r,s.g,s.b),o.setXYZ(44,s.r,s.g,s.b),o.setXYZ(45,s.r,s.g,s.b),o.setXYZ(46,s.r,s.g,s.b),o.setXYZ(47,s.r,s.g,s.b),o.setXYZ(48,s.r,s.g,s.b),o.setXYZ(49,s.r,s.g,s.b),o.needsUpdate=!0,this}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;let s,a;if(Pi.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)s=1,a=0;else if(this.camera.coordinateSystem===al)s=-1,a=1;else if(this.camera.coordinateSystem===Gx)s=0,a=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);Vi("c",n,e,Pi,0,0,s),Vi("t",n,e,Pi,0,0,a),Vi("n1",n,e,Pi,-r,-i,s),Vi("n2",n,e,Pi,r,-i,s),Vi("n3",n,e,Pi,-r,i,s),Vi("n4",n,e,Pi,r,i,s),Vi("f1",n,e,Pi,-r,-i,a),Vi("f2",n,e,Pi,r,-i,a),Vi("f3",n,e,Pi,-r,i,a),Vi("f4",n,e,Pi,r,i,a),Vi("u1",n,e,Pi,r*.7,i*1.1,s),Vi("u2",n,e,Pi,-r*.7,i*1.1,s),Vi("u3",n,e,Pi,0,i*2,s),Vi("cf1",n,e,Pi,-r,0,a),Vi("cf2",n,e,Pi,r,0,a),Vi("cf3",n,e,Pi,0,-i,a),Vi("cf4",n,e,Pi,0,i,a),Vi("cn1",n,e,Pi,-r,0,s),Vi("cn2",n,e,Pi,r,0,s),Vi("cn3",n,e,Pi,0,-i,s),Vi("cn4",n,e,Pi,0,i,s),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Vi(t,e,n,r,i,s,a){d2.set(i,s,a).unproject(r);const o=e[t];if(o!==void 0){const l=n.getAttribute("position");for(let c=0,d=o.length;c<d;c++)l.setXYZ(o[c],d2.x,d2.y,d2.z)}}const f2=new Ta;class gKe extends yd{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),s=new jn;s.setIndex(new kr(r,1)),s.setAttribute("position",new kr(i,3)),super(s,new so({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&f2.setFromObject(this.object),f2.isEmpty())return;const e=f2.min,n=f2.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=e.x,i[4]=n.y,i[5]=n.z,i[6]=e.x,i[7]=e.y,i[8]=n.z,i[9]=n.x,i[10]=e.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=e.z,i[15]=e.x,i[16]=n.y,i[17]=e.z,i[18]=e.x,i[19]=e.y,i[20]=e.z,i[21]=n.x,i[22]=e.y,i[23]=e.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class vKe extends yd{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new jn;s.setIndex(new kr(r,1)),s.setAttribute("position",new Xt(i,3)),super(s,new so({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class yKe extends kp{constructor(e,n=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new jn;a.setAttribute("position",new Xt(s,3)),a.computeBoundingSphere(),super(a,new so({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const o=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new jn;l.setAttribute("position",new Xt(o,3)),l.computeBoundingSphere(),this.add(new Yi(l,new qp({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const CJ=new ie;let h2,$L;class xKe extends xr{constructor(e=new ie(0,0,1),n=new ie(0,0,0),r=1,i=16776960,s=r*.2,a=s*.2){super(),this.type="ArrowHelper",h2===void 0&&(h2=new jn,h2.setAttribute("position",new Xt([0,0,0,0,1,0],3)),$L=new zE(.5,1,5,1),$L.translate(0,-.5,0)),this.position.copy(n),this.line=new kp(h2,new so({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Yi($L,new qp({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{CJ.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(CJ,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class bKe extends yd{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new jn;i.setAttribute("position",new Xt(n,3)),i.setAttribute("color",new Xt(r,3));const s=new so({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,n,r){const i=new Lt,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(n),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class wKe{constructor(){this.type="ShapePath",this.color=new Lt,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new IP,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,s,a){return this.currentPath.bezierCurveTo(e,n,r,i,s,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(w){const S=[];for(let M=0,T=w.length;M<T;M++){const A=w[M],C=new pp;C.curves=A.curves,S.push(C)}return S}function r(w,S){const M=S.length;let T=!1;for(let A=M-1,C=0;C<M;A=C++){let j=S[A],L=S[C],O=L.x-j.x,k=L.y-j.y;if(Math.abs(k)>Number.EPSILON){if(k<0&&(j=S[C],O=-O,L=S[A],k=-k),w.y<j.y||w.y>L.y)continue;if(w.y===j.y){if(w.x===j.x)return!0}else{const F=k*(w.x-j.x)-O*(w.y-j.y);if(F===0)return!0;if(F<0)continue;T=!T}}else{if(w.y!==j.y)continue;if(L.x<=w.x&&w.x<=j.x||j.x<=w.x&&w.x<=L.x)return!0}}return T}const i=Hc.isClockWise,s=this.subPaths;if(s.length===0)return[];let a,o,l;const c=[];if(s.length===1)return o=s[0],l=new pp,l.curves=o.curves,c.push(l),c;let d=!i(s[0].getPoints());d=e?!d:d;const f=[],h=[];let m=[],v=0,b;h[v]=void 0,m[v]=[];for(let w=0,S=s.length;w<S;w++)o=s[w],b=o.getPoints(),a=i(b),a=e?!a:a,a?(!d&&h[v]&&v++,h[v]={s:new pp,p:b},h[v].s.curves=o.curves,d&&v++,m[v]=[]):m[v].push({h:o,p:b[0]});if(!h[0])return n(s);if(h.length>1){let w=!1,S=0;for(let M=0,T=h.length;M<T;M++)f[M]=[];for(let M=0,T=h.length;M<T;M++){const A=m[M];for(let C=0;C<A.length;C++){const j=A[C];let L=!0;for(let O=0;O<h.length;O++)r(j.p,h[O].p)&&(M!==O&&S++,L?(L=!1,f[O].push(j)):w=!0);L&&f[M].push(j)}}S>0&&w===!1&&(m=f)}let y;for(let w=0,S=h.length;w<S;w++){l=h[w].s,c.push(l),y=m[w];for(let M=0,T=y.length;M<T;M++)l.holes.push(y[M].h)}return c}}class _Ke extends vd{constructor(e,n=null){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){At("Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function SKe(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2):(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0),t}function EKe(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0):(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2),t}function MKe(t){return t.repeat.x=1,t.repeat.y=1,t.offset.x=0,t.offset.y=0,t}function dU(t,e,n,r){const i=TKe(r);switch(n){case P8:return t*e;case zR:return t*e/i.components*i.byteLength;case LE:return t*e/i.components*i.byteLength;case l0:return t*e*2/i.components*i.byteLength;case VR:return t*e*2/i.components*i.byteLength;case N8:return t*e*3/i.components*i.byteLength;case Ea:return t*e*4/i.components*i.byteLength;case $R:return t*e*4/i.components*i.byteLength;case J1:case e_:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case t_:case n_:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case QC:case eP:return Math.max(t,16)*Math.max(e,8)/4;case ZC:case JC:return Math.max(t,8)*Math.max(e,8)/2;case tP:case nP:case iP:case sP:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case rP:case aP:case oP:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case lP:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case cP:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case uP:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case dP:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case fP:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case hP:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case pP:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case mP:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case gP:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case vP:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case yP:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case xP:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case bP:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case wP:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case _P:case SP:case EP:return Math.ceil(t/4)*Math.ceil(e/4)*16;case MP:case TP:return Math.ceil(t/4)*Math.ceil(e/4)*8;case AP:case CP:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function TKe(t){switch(t){case Xa:case M8:return{byteLength:1,components:1};case Hx:case T8:case cd:return{byteLength:2,components:1};case UR:case BR:return{byteLength:2,components:4};case Xl:case FR:case Qa:return{byteLength:4,components:1};case A8:case C8:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}class AKe{static contain(e,n){return SKe(e,n)}static cover(e,n){return EKe(e,n)}static fill(e){return MKe(e)}static getByteLength(e,n,r,i){return dU(e,n,r,i)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:kR}}));typeof window<"u"&&(window.__THREE__?At("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=kR);function Hpe(){let t=null,e=!1,n=null,r=null;function i(s,a){n(s,a),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function CKe(t){const e=new WeakMap;function n(o,l){const c=o.array,d=o.usage,f=c.byteLength,h=t.createBuffer();t.bindBuffer(l,h),t.bufferData(l,c,d),o.onUploadCallback();let m;if(c instanceof Float32Array)m=t.FLOAT;else if(typeof Float16Array<"u"&&c instanceof Float16Array)m=t.HALF_FLOAT;else if(c instanceof Uint16Array)o.isFloat16BufferAttribute?m=t.HALF_FLOAT:m=t.UNSIGNED_SHORT;else if(c instanceof Int16Array)m=t.SHORT;else if(c instanceof Uint32Array)m=t.UNSIGNED_INT;else if(c instanceof Int32Array)m=t.INT;else if(c instanceof Int8Array)m=t.BYTE;else if(c instanceof Uint8Array)m=t.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)m=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:h,type:m,bytesPerElement:c.BYTES_PER_ELEMENT,version:o.version,size:f}}function r(o,l,c){const d=l.array,f=l.updateRanges;if(t.bindBuffer(c,o),f.length===0)t.bufferSubData(c,0,d);else{f.sort((m,v)=>m.start-v.start);let h=0;for(let m=1;m<f.length;m++){const v=f[h],b=f[m];b.start<=v.start+v.count+1?v.count=Math.max(v.count,b.start+b.count-v.start):(++h,f[h]=b)}f.length=h+1;for(let m=0,v=f.length;m<v;m++){const b=f[m];t.bufferSubData(c,b.start*d.BYTES_PER_ELEMENT,d,b.start,b.count)}l.clearUpdateRanges()}l.onUploadCallback()}function i(o){return o.isInterleavedBufferAttribute&&(o=o.data),e.get(o)}function s(o){o.isInterleavedBufferAttribute&&(o=o.data);const l=e.get(o);l&&(t.deleteBuffer(l.buffer),e.delete(o))}function a(o,l){if(o.isInterleavedBufferAttribute&&(o=o.data),o.isGLBufferAttribute){const d=e.get(o);(!d||d.version<o.version)&&e.set(o,{buffer:o.buffer,type:o.type,bytesPerElement:o.elementSize,version:o.version});return}const c=e.get(o);if(c===void 0)e.set(o,n(o,l));else if(c.version<o.version){if(c.size!==o.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(c.buffer,o,l),c.version=o.version}}return{get:i,remove:s,update:a}}var PKe=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,NKe=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,RKe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,OKe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,jKe=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,IKe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,kKe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,DKe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,LKe=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,FKe=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,UKe=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,BKe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,zKe=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,VKe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,$Ke=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,HKe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,WKe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,GKe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,qKe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,XKe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,YKe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,KKe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,ZKe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,QKe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,JKe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,eZe=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,tZe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,nZe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,rZe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,iZe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,sZe="gl_FragColor = linearToOutputTexel( gl_FragColor );",aZe=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,oZe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,lZe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,cZe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,uZe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,dZe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fZe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,hZe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,pZe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,mZe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gZe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,vZe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,yZe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,xZe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,bZe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,wZe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,_Ze=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,SZe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,EZe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,MZe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,TZe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.diffuseContribution = diffuseColor.rgb * ( 1.0 - metalnessFactor );
material.metalness = metalnessFactor;
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor;
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = vec3( 0.04 );
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.0001, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,AZe=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	vec3 diffuseContribution;
	vec3 specularColor;
	vec3 specularColorBlended;
	float roughness;
	float metalness;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
		vec3 iridescenceFresnelDielectric;
		vec3 iridescenceFresnelMetallic;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return v;
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColorBlended;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float rInv = 1.0 / ( roughness + 0.1 );
	float a = -1.9362 + 1.0678 * roughness + 0.4573 * r2 - 0.8469 * rInv;
	float b = -0.6014 + 0.5538 * roughness - 0.4670 * r2 - 0.1255 * rInv;
	float DG = exp( a * dotNV + b );
	return saturate( DG );
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = texture2D( dfgLUT, vec2( material.roughness, dotNV ) ).rg;
	vec2 dfgL = texture2D( dfgLUT, vec2( material.roughness, dotNL ) ).rg;
	vec3 FssEss_V = material.specularColorBlended * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColorBlended * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColorBlended + ( 1.0 - material.specularColorBlended ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColorBlended * t2.x + ( vec3( 1.0 ) - material.specularColorBlended ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseContribution * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
 
 		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
 
 		float sheenAlbedoV = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
 		float sheenAlbedoL = IBLSheenBRDF( geometryNormal, directLight.direction, material.sheenRoughness );
 
 		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * max( sheenAlbedoV, sheenAlbedoL );
 
 		irradiance *= sheenEnergyComp;
 
 	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseContribution );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 diffuse = irradiance * BRDF_Lambert( material.diffuseContribution );
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		diffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectDiffuse += diffuse;
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness ) * RECIPROCAL_PI;
 	#endif
	vec3 singleScatteringDielectric = vec3( 0.0 );
	vec3 multiScatteringDielectric = vec3( 0.0 );
	vec3 singleScatteringMetallic = vec3( 0.0 );
	vec3 multiScatteringMetallic = vec3( 0.0 );
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnelDielectric, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.iridescence, material.iridescenceFresnelMetallic, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscattering( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#endif
	vec3 singleScattering = mix( singleScatteringDielectric, singleScatteringMetallic, material.metalness );
	vec3 multiScattering = mix( multiScatteringDielectric, multiScatteringMetallic, material.metalness );
	vec3 totalScatteringDielectric = singleScatteringDielectric + multiScatteringDielectric;
	vec3 diffuse = material.diffuseContribution * ( 1.0 - totalScatteringDielectric );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	vec3 indirectSpecular = radiance * singleScattering;
	indirectSpecular += multiScattering * cosineWeightedIrradiance;
	vec3 indirectDiffuse = diffuse * cosineWeightedIrradiance;
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		indirectSpecular *= sheenEnergyComp;
		indirectDiffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectSpecular += indirectSpecular;
	reflectedLight.indirectDiffuse += indirectDiffuse;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,CZe=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnelDielectric = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceFresnelMetallic = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.diffuseColor );
		material.iridescenceFresnel = mix( material.iridescenceFresnelDielectric, material.iridescenceFresnelMetallic, material.metalness );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS ) && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,PZe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,NZe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,RZe=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,OZe=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,jZe=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,IZe=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,kZe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,DZe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,LZe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,FZe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,UZe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,BZe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,zZe=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,VZe=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,$Ze=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,HZe=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,WZe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,GZe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,qZe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,XZe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,YZe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,KZe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,ZZe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,QZe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,JZe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,eQe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,tQe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,nQe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,rQe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,iQe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,sQe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,aQe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,oQe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,lQe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,cQe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,uQe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#else
			uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#endif
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#else
			uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#endif
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform samplerCubeShadow pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#elif defined( SHADOWMAP_TYPE_BASIC )
			uniform samplerCube pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#endif
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float interleavedGradientNoise( vec2 position ) {
			return fract( 52.9829189 * fract( dot( position, vec2( 0.06711056, 0.00583715 ) ) ) );
		}
		vec2 vogelDiskSample( int sampleIndex, int samplesCount, float phi ) {
			const float goldenAngle = 2.399963229728653;
			float r = sqrt( ( float( sampleIndex ) + 0.5 ) / float( samplesCount ) );
			float theta = float( sampleIndex ) * goldenAngle + phi;
			return vec2( cos( theta ), sin( theta ) ) * r;
		}
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float getShadow( sampler2DShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
				float radius = shadowRadius * texelSize.x;
				float phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;
				shadow = (
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 0, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 1, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 2, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 3, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 4, 5, phi ) * radius, shadowCoord.z ) )
				) * 0.2;
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#elif defined( SHADOWMAP_TYPE_VSM )
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 distribution = texture2D( shadowMap, shadowCoord.xy ).rg;
				float mean = distribution.x;
				float variance = distribution.y * distribution.y;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					float hard_shadow = step( mean, shadowCoord.z );
				#else
					float hard_shadow = step( shadowCoord.z, mean );
				#endif
				if ( hard_shadow == 1.0 ) {
					shadow = 1.0;
				} else {
					variance = max( variance, 0.0000001 );
					float d = shadowCoord.z - mean;
					float p_max = variance / ( variance + d * d );
					p_max = clamp( ( p_max - 0.3 ) / 0.65, 0.0, 1.0 );
					shadow = max( hard_shadow, p_max );
				}
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#else
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				float depth = texture2D( shadowMap, shadowCoord.xy ).r;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					shadow = step( depth, shadowCoord.z );
				#else
					shadow = step( shadowCoord.z, depth );
				#endif
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#if defined( SHADOWMAP_TYPE_PCF )
	float getPointShadow( samplerCubeShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			float texelSize = shadowRadius / shadowMapSize.x;
			vec3 absDir = abs( bd3D );
			vec3 tangent = absDir.x > absDir.z ? vec3( 0.0, 1.0, 0.0 ) : vec3( 1.0, 0.0, 0.0 );
			tangent = normalize( cross( bd3D, tangent ) );
			vec3 bitangent = cross( bd3D, tangent );
			float phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;
			shadow = (
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 0, 5, phi ).x + bitangent * vogelDiskSample( 0, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 1, 5, phi ).x + bitangent * vogelDiskSample( 1, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 2, 5, phi ).x + bitangent * vogelDiskSample( 2, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 3, 5, phi ).x + bitangent * vogelDiskSample( 3, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 4, 5, phi ).x + bitangent * vogelDiskSample( 4, 5, phi ).y ) * texelSize, dp ) )
			) * 0.2;
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#elif defined( SHADOWMAP_TYPE_BASIC )
	float getPointShadow( samplerCube shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			float depth = textureCube( shadowMap, bd3D ).r;
			#ifdef USE_REVERSED_DEPTH_BUFFER
				shadow = step( depth, dp );
			#else
				shadow = step( dp, depth );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#endif
	#endif
#endif`,dQe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,fQe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,hQe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0 && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,pQe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,mQe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,gQe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,vQe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,yQe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,xQe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,bQe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,wQe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,_Qe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseContribution, material.specularColorBlended, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,SQe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,EQe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,MQe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,TQe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,AQe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const CQe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,PQe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,NQe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,RQe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,OQe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,jQe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,IQe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,kQe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,DQe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,LQe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = vec4( dist, 0.0, 0.0, 1.0 );
}`,FQe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,UQe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,BQe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,zQe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,VQe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,$Qe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,HQe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,WQe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,GQe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,qQe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,XQe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,YQe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( normalize( normal ) * 0.5 + 0.5, diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,KQe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ZQe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,QQe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,JQe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
 
		outgoingLight = outgoingLight + sheenSpecularDirect + sheenSpecularIndirect;
 
 	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,eJe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,tJe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,nJe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,rJe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,iJe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,sJe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,aJe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,oJe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,qn={alphahash_fragment:PKe,alphahash_pars_fragment:NKe,alphamap_fragment:RKe,alphamap_pars_fragment:OKe,alphatest_fragment:jKe,alphatest_pars_fragment:IKe,aomap_fragment:kKe,aomap_pars_fragment:DKe,batching_pars_vertex:LKe,batching_vertex:FKe,begin_vertex:UKe,beginnormal_vertex:BKe,bsdfs:zKe,iridescence_fragment:VKe,bumpmap_pars_fragment:$Ke,clipping_planes_fragment:HKe,clipping_planes_pars_fragment:WKe,clipping_planes_pars_vertex:GKe,clipping_planes_vertex:qKe,color_fragment:XKe,color_pars_fragment:YKe,color_pars_vertex:KKe,color_vertex:ZKe,common:QKe,cube_uv_reflection_fragment:JKe,defaultnormal_vertex:eZe,displacementmap_pars_vertex:tZe,displacementmap_vertex:nZe,emissivemap_fragment:rZe,emissivemap_pars_fragment:iZe,colorspace_fragment:sZe,colorspace_pars_fragment:aZe,envmap_fragment:oZe,envmap_common_pars_fragment:lZe,envmap_pars_fragment:cZe,envmap_pars_vertex:uZe,envmap_physical_pars_fragment:wZe,envmap_vertex:dZe,fog_vertex:fZe,fog_pars_vertex:hZe,fog_fragment:pZe,fog_pars_fragment:mZe,gradientmap_pars_fragment:gZe,lightmap_pars_fragment:vZe,lights_lambert_fragment:yZe,lights_lambert_pars_fragment:xZe,lights_pars_begin:bZe,lights_toon_fragment:_Ze,lights_toon_pars_fragment:SZe,lights_phong_fragment:EZe,lights_phong_pars_fragment:MZe,lights_physical_fragment:TZe,lights_physical_pars_fragment:AZe,lights_fragment_begin:CZe,lights_fragment_maps:PZe,lights_fragment_end:NZe,logdepthbuf_fragment:RZe,logdepthbuf_pars_fragment:OZe,logdepthbuf_pars_vertex:jZe,logdepthbuf_vertex:IZe,map_fragment:kZe,map_pars_fragment:DZe,map_particle_fragment:LZe,map_particle_pars_fragment:FZe,metalnessmap_fragment:UZe,metalnessmap_pars_fragment:BZe,morphinstance_vertex:zZe,morphcolor_vertex:VZe,morphnormal_vertex:$Ze,morphtarget_pars_vertex:HZe,morphtarget_vertex:WZe,normal_fragment_begin:GZe,normal_fragment_maps:qZe,normal_pars_fragment:XZe,normal_pars_vertex:YZe,normal_vertex:KZe,normalmap_pars_fragment:ZZe,clearcoat_normal_fragment_begin:QZe,clearcoat_normal_fragment_maps:JZe,clearcoat_pars_fragment:eQe,iridescence_pars_fragment:tQe,opaque_fragment:nQe,packing:rQe,premultiplied_alpha_fragment:iQe,project_vertex:sQe,dithering_fragment:aQe,dithering_pars_fragment:oQe,roughnessmap_fragment:lQe,roughnessmap_pars_fragment:cQe,shadowmap_pars_fragment:uQe,shadowmap_pars_vertex:dQe,shadowmap_vertex:fQe,shadowmask_pars_fragment:hQe,skinbase_vertex:pQe,skinning_pars_vertex:mQe,skinning_vertex:gQe,skinnormal_vertex:vQe,specularmap_fragment:yQe,specularmap_pars_fragment:xQe,tonemapping_fragment:bQe,tonemapping_pars_fragment:wQe,transmission_fragment:_Qe,transmission_pars_fragment:SQe,uv_pars_fragment:EQe,uv_pars_vertex:MQe,uv_vertex:TQe,worldpos_vertex:AQe,background_vert:CQe,background_frag:PQe,backgroundCube_vert:NQe,backgroundCube_frag:RQe,cube_vert:OQe,cube_frag:jQe,depth_vert:IQe,depth_frag:kQe,distance_vert:DQe,distance_frag:LQe,equirect_vert:FQe,equirect_frag:UQe,linedashed_vert:BQe,linedashed_frag:zQe,meshbasic_vert:VQe,meshbasic_frag:$Qe,meshlambert_vert:HQe,meshlambert_frag:WQe,meshmatcap_vert:GQe,meshmatcap_frag:qQe,meshnormal_vert:XQe,meshnormal_frag:YQe,meshphong_vert:KQe,meshphong_frag:ZQe,meshphysical_vert:QQe,meshphysical_frag:JQe,meshtoon_vert:eJe,meshtoon_frag:tJe,points_vert:nJe,points_frag:rJe,shadow_vert:iJe,shadow_frag:sJe,sprite_vert:aJe,sprite_frag:oJe},Nt={common:{diffuse:{value:new Lt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Fn},alphaMap:{value:null},alphaMapTransform:{value:new Fn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Fn}},envmap:{envMap:{value:null},envMapRotation:{value:new Fn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Fn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Fn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Fn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Fn},normalScale:{value:new Ge(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Fn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Fn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Fn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Fn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Lt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Lt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Fn},alphaTest:{value:0},uvTransform:{value:new Fn}},sprite:{diffuse:{value:new Lt(16777215)},opacity:{value:1},center:{value:new Ge(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Fn},alphaMap:{value:null},alphaMapTransform:{value:new Fn},alphaTest:{value:0}}},kc={basic:{uniforms:Va([Nt.common,Nt.specularmap,Nt.envmap,Nt.aomap,Nt.lightmap,Nt.fog]),vertexShader:qn.meshbasic_vert,fragmentShader:qn.meshbasic_frag},lambert:{uniforms:Va([Nt.common,Nt.specularmap,Nt.envmap,Nt.aomap,Nt.lightmap,Nt.emissivemap,Nt.bumpmap,Nt.normalmap,Nt.displacementmap,Nt.fog,Nt.lights,{emissive:{value:new Lt(0)}}]),vertexShader:qn.meshlambert_vert,fragmentShader:qn.meshlambert_frag},phong:{uniforms:Va([Nt.common,Nt.specularmap,Nt.envmap,Nt.aomap,Nt.lightmap,Nt.emissivemap,Nt.bumpmap,Nt.normalmap,Nt.displacementmap,Nt.fog,Nt.lights,{emissive:{value:new Lt(0)},specular:{value:new Lt(1118481)},shininess:{value:30}}]),vertexShader:qn.meshphong_vert,fragmentShader:qn.meshphong_frag},standard:{uniforms:Va([Nt.common,Nt.envmap,Nt.aomap,Nt.lightmap,Nt.emissivemap,Nt.bumpmap,Nt.normalmap,Nt.displacementmap,Nt.roughnessmap,Nt.metalnessmap,Nt.fog,Nt.lights,{emissive:{value:new Lt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:qn.meshphysical_vert,fragmentShader:qn.meshphysical_frag},toon:{uniforms:Va([Nt.common,Nt.aomap,Nt.lightmap,Nt.emissivemap,Nt.bumpmap,Nt.normalmap,Nt.displacementmap,Nt.gradientmap,Nt.fog,Nt.lights,{emissive:{value:new Lt(0)}}]),vertexShader:qn.meshtoon_vert,fragmentShader:qn.meshtoon_frag},matcap:{uniforms:Va([Nt.common,Nt.bumpmap,Nt.normalmap,Nt.displacementmap,Nt.fog,{matcap:{value:null}}]),vertexShader:qn.meshmatcap_vert,fragmentShader:qn.meshmatcap_frag},points:{uniforms:Va([Nt.points,Nt.fog]),vertexShader:qn.points_vert,fragmentShader:qn.points_frag},dashed:{uniforms:Va([Nt.common,Nt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:qn.linedashed_vert,fragmentShader:qn.linedashed_frag},depth:{uniforms:Va([Nt.common,Nt.displacementmap]),vertexShader:qn.depth_vert,fragmentShader:qn.depth_frag},normal:{uniforms:Va([Nt.common,Nt.bumpmap,Nt.normalmap,Nt.displacementmap,{opacity:{value:1}}]),vertexShader:qn.meshnormal_vert,fragmentShader:qn.meshnormal_frag},sprite:{uniforms:Va([Nt.sprite,Nt.fog]),vertexShader:qn.sprite_vert,fragmentShader:qn.sprite_frag},background:{uniforms:{uvTransform:{value:new Fn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:qn.background_vert,fragmentShader:qn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Fn}},vertexShader:qn.backgroundCube_vert,fragmentShader:qn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:qn.cube_vert,fragmentShader:qn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:qn.equirect_vert,fragmentShader:qn.equirect_frag},distance:{uniforms:Va([Nt.common,Nt.displacementmap,{referencePosition:{value:new ie},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:qn.distance_vert,fragmentShader:qn.distance_frag},shadow:{uniforms:Va([Nt.lights,Nt.fog,{color:{value:new Lt(0)},opacity:{value:1}}]),vertexShader:qn.shadow_vert,fragmentShader:qn.shadow_frag}};kc.physical={uniforms:Va([kc.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Fn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Fn},clearcoatNormalScale:{value:new Ge(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Fn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Fn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Fn},sheen:{value:0},sheenColor:{value:new Lt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Fn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Fn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Fn},transmissionSamplerSize:{value:new Ge},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Fn},attenuationDistance:{value:0},attenuationColor:{value:new Lt(0)},specularColor:{value:new Lt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Fn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Fn},anisotropyVector:{value:new Ge},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Fn}}]),vertexShader:qn.meshphysical_vert,fragmentShader:qn.meshphysical_frag};const p2={r:0,b:0,g:0},eg=new hl,lJe=new Pn;function cJe(t,e,n,r,i,s,a){const o=new Lt(0);let l=s===!0?0:1,c,d,f=null,h=0,m=null;function v(M){let T=M.isScene===!0?M.background:null;return T&&T.isTexture&&(T=(M.backgroundBlurriness>0?n:e).get(T)),T}function b(M){let T=!1;const A=v(M);A===null?w(o,l):A&&A.isColor&&(w(A,1),T=!0);const C=t.xr.getEnvironmentBlendMode();C==="additive"?r.buffers.color.setClear(0,0,0,1,a):C==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,a),(t.autoClear||T)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function y(M,T){const A=v(T);A&&(A.isCubeTexture||A.mapping===Nb)?(d===void 0&&(d=new Yi(new A0(1,1,1),new Ro({name:"BackgroundCubeMaterial",uniforms:Yx(kc.backgroundCube.uniforms),vertexShader:kc.backgroundCube.vertexShader,fragmentShader:kc.backgroundCube.fragmentShader,side:Ja,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(C,j,L){this.matrixWorld.copyPosition(L.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(d)),eg.copy(T.backgroundRotation),eg.x*=-1,eg.y*=-1,eg.z*=-1,A.isCubeTexture&&A.isRenderTargetTexture===!1&&(eg.y*=-1,eg.z*=-1),d.material.uniforms.envMap.value=A,d.material.uniforms.flipEnvMap.value=A.isCubeTexture&&A.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=T.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=T.backgroundIntensity,d.material.uniforms.backgroundRotation.value.setFromMatrix4(lJe.makeRotationFromEuler(eg)),d.material.toneMapped=cr.getTransfer(A.colorSpace)!==Pr,(f!==A||h!==A.version||m!==t.toneMapping)&&(d.material.needsUpdate=!0,f=A,h=A.version,m=t.toneMapping),d.layers.enableAll(),M.unshift(d,d.geometry,d.material,0,0,null)):A&&A.isTexture&&(c===void 0&&(c=new Yi(new C0(2,2),new Ro({name:"BackgroundMaterial",uniforms:Yx(kc.background.uniforms),vertexShader:kc.background.vertexShader,fragmentShader:kc.background.fragmentShader,side:Gf,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=A,c.material.uniforms.backgroundIntensity.value=T.backgroundIntensity,c.material.toneMapped=cr.getTransfer(A.colorSpace)!==Pr,A.matrixAutoUpdate===!0&&A.updateMatrix(),c.material.uniforms.uvTransform.value.copy(A.matrix),(f!==A||h!==A.version||m!==t.toneMapping)&&(c.material.needsUpdate=!0,f=A,h=A.version,m=t.toneMapping),c.layers.enableAll(),M.unshift(c,c.geometry,c.material,0,0,null))}function w(M,T){M.getRGB(p2,Ghe(t)),r.buffers.color.setClear(p2.r,p2.g,p2.b,T,a)}function S(){d!==void 0&&(d.geometry.dispose(),d.material.dispose(),d=void 0),c!==void 0&&(c.geometry.dispose(),c.material.dispose(),c=void 0)}return{getClearColor:function(){return o},setClearColor:function(M,T=1){o.set(M),l=T,w(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(M){l=M,w(o,l)},render:b,addToRenderList:y,dispose:S}}function uJe(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},i=h(null);let s=i,a=!1;function o(k,F,G,Y,U){let W=!1;const q=f(Y,G,F);s!==q&&(s=q,c(s.object)),W=m(k,Y,G,U),W&&v(k,Y,G,U),U!==null&&e.update(U,t.ELEMENT_ARRAY_BUFFER),(W||a)&&(a=!1,T(k,F,G,Y),U!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(U).buffer))}function l(){return t.createVertexArray()}function c(k){return t.bindVertexArray(k)}function d(k){return t.deleteVertexArray(k)}function f(k,F,G){const Y=G.wireframe===!0;let U=r[k.id];U===void 0&&(U={},r[k.id]=U);let W=U[F.id];W===void 0&&(W={},U[F.id]=W);let q=W[Y];return q===void 0&&(q=h(l()),W[Y]=q),q}function h(k){const F=[],G=[],Y=[];for(let U=0;U<n;U++)F[U]=0,G[U]=0,Y[U]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:F,enabledAttributes:G,attributeDivisors:Y,object:k,attributes:{},index:null}}function m(k,F,G,Y){const U=s.attributes,W=F.attributes;let q=0;const Z=G.getAttributes();for(const V in Z)if(Z[V].location>=0){const ee=U[V];let $=W[V];if($===void 0&&(V==="instanceMatrix"&&k.instanceMatrix&&($=k.instanceMatrix),V==="instanceColor"&&k.instanceColor&&($=k.instanceColor)),ee===void 0||ee.attribute!==$||$&&ee.data!==$.data)return!0;q++}return s.attributesNum!==q||s.index!==Y}function v(k,F,G,Y){const U={},W=F.attributes;let q=0;const Z=G.getAttributes();for(const V in Z)if(Z[V].location>=0){let ee=W[V];ee===void 0&&(V==="instanceMatrix"&&k.instanceMatrix&&(ee=k.instanceMatrix),V==="instanceColor"&&k.instanceColor&&(ee=k.instanceColor));const $={};$.attribute=ee,ee&&ee.data&&($.data=ee.data),U[V]=$,q++}s.attributes=U,s.attributesNum=q,s.index=Y}function b(){const k=s.newAttributes;for(let F=0,G=k.length;F<G;F++)k[F]=0}function y(k){w(k,0)}function w(k,F){const G=s.newAttributes,Y=s.enabledAttributes,U=s.attributeDivisors;G[k]=1,Y[k]===0&&(t.enableVertexAttribArray(k),Y[k]=1),U[k]!==F&&(t.vertexAttribDivisor(k,F),U[k]=F)}function S(){const k=s.newAttributes,F=s.enabledAttributes;for(let G=0,Y=F.length;G<Y;G++)F[G]!==k[G]&&(t.disableVertexAttribArray(G),F[G]=0)}function M(k,F,G,Y,U,W,q){q===!0?t.vertexAttribIPointer(k,F,G,U,W):t.vertexAttribPointer(k,F,G,Y,U,W)}function T(k,F,G,Y){b();const U=Y.attributes,W=G.getAttributes(),q=F.defaultAttributeValues;for(const Z in W){const V=W[Z];if(V.location>=0){let Q=U[Z];if(Q===void 0&&(Z==="instanceMatrix"&&k.instanceMatrix&&(Q=k.instanceMatrix),Z==="instanceColor"&&k.instanceColor&&(Q=k.instanceColor)),Q!==void 0){const ee=Q.normalized,$=Q.itemSize,J=e.get(Q);if(J===void 0)continue;const de=J.buffer,Ae=J.type,Ue=J.bytesPerElement,ge=Ae===t.INT||Ae===t.UNSIGNED_INT||Q.gpuType===FR;if(Q.isInterleavedBufferAttribute){const pe=Q.data,Oe=pe.stride,xe=Q.offset;if(pe.isInstancedInterleavedBuffer){for(let Me=0;Me<V.locationSize;Me++)w(V.location+Me,pe.meshPerAttribute);k.isInstancedMesh!==!0&&Y._maxInstanceCount===void 0&&(Y._maxInstanceCount=pe.meshPerAttribute*pe.count)}else for(let Me=0;Me<V.locationSize;Me++)y(V.location+Me);t.bindBuffer(t.ARRAY_BUFFER,de);for(let Me=0;Me<V.locationSize;Me++)M(V.location+Me,$/V.locationSize,Ae,ee,Oe*Ue,(xe+$/V.locationSize*Me)*Ue,ge)}else{if(Q.isInstancedBufferAttribute){for(let pe=0;pe<V.locationSize;pe++)w(V.location+pe,Q.meshPerAttribute);k.isInstancedMesh!==!0&&Y._maxInstanceCount===void 0&&(Y._maxInstanceCount=Q.meshPerAttribute*Q.count)}else for(let pe=0;pe<V.locationSize;pe++)y(V.location+pe);t.bindBuffer(t.ARRAY_BUFFER,de);for(let pe=0;pe<V.locationSize;pe++)M(V.location+pe,$/V.locationSize,Ae,ee,$*Ue,$/V.locationSize*pe*Ue,ge)}}else if(q!==void 0){const ee=q[Z];if(ee!==void 0)switch(ee.length){case 2:t.vertexAttrib2fv(V.location,ee);break;case 3:t.vertexAttrib3fv(V.location,ee);break;case 4:t.vertexAttrib4fv(V.location,ee);break;default:t.vertexAttrib1fv(V.location,ee)}}}}S()}function A(){L();for(const k in r){const F=r[k];for(const G in F){const Y=F[G];for(const U in Y)d(Y[U].object),delete Y[U];delete F[G]}delete r[k]}}function C(k){if(r[k.id]===void 0)return;const F=r[k.id];for(const G in F){const Y=F[G];for(const U in Y)d(Y[U].object),delete Y[U];delete F[G]}delete r[k.id]}function j(k){for(const F in r){const G=r[F];if(G[k.id]===void 0)continue;const Y=G[k.id];for(const U in Y)d(Y[U].object),delete Y[U];delete G[k.id]}}function L(){O(),a=!0,s!==i&&(s=i,c(s.object))}function O(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:o,reset:L,resetDefaultState:O,dispose:A,releaseStatesOfGeometry:C,releaseStatesOfProgram:j,initAttributes:b,enableAttribute:y,disableUnusedAttributes:S}}function dJe(t,e,n){let r;function i(c){r=c}function s(c,d){t.drawArrays(r,c,d),n.update(d,r,1)}function a(c,d,f){f!==0&&(t.drawArraysInstanced(r,c,d,f),n.update(d,r,f))}function o(c,d,f){if(f===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,c,0,d,0,f);let m=0;for(let v=0;v<f;v++)m+=d[v];n.update(m,r,1)}function l(c,d,f,h){if(f===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let v=0;v<c.length;v++)a(c[v],d[v],h[v]);else{m.multiDrawArraysInstancedWEBGL(r,c,0,d,0,h,0,f);let v=0;for(let b=0;b<f;b++)v+=d[b]*h[b];n.update(v,r,1)}}this.setMode=i,this.render=s,this.renderInstances=a,this.renderMultiDraw=o,this.renderMultiDrawInstances=l}function fJe(t,e,n,r){let i;function s(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const j=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(j.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function a(j){return!(j!==Ea&&r.convert(j)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function o(j){const L=j===cd&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(j!==Xa&&r.convert(j)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&j!==Qa&&!L)}function l(j){if(j==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";j="mediump"}return j==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=n.precision!==void 0?n.precision:"highp";const d=l(c);d!==c&&(At("WebGLRenderer:",c,"not supported, using",d,"instead."),c=d);const f=n.logarithmicDepthBuffer===!0,h=n.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),m=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),v=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),b=t.getParameter(t.MAX_TEXTURE_SIZE),y=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),w=t.getParameter(t.MAX_VERTEX_ATTRIBS),S=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),M=t.getParameter(t.MAX_VARYING_VECTORS),T=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),A=t.getParameter(t.MAX_SAMPLES),C=t.getParameter(t.SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:l,textureFormatReadable:a,textureTypeReadable:o,precision:c,logarithmicDepthBuffer:f,reversedDepthBuffer:h,maxTextures:m,maxVertexTextures:v,maxTextureSize:b,maxCubemapSize:y,maxAttributes:w,maxVertexUniforms:S,maxVaryings:M,maxFragmentUniforms:T,maxSamples:A,samples:C}}function hJe(t){const e=this;let n=null,r=0,i=!1,s=!1;const a=new xf,o=new Fn,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,h){const m=f.length!==0||h||r!==0||i;return i=h,r=f.length,m},this.beginShadows=function(){s=!0,d(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(f,h){n=d(f,h,0)},this.setState=function(f,h,m){const v=f.clippingPlanes,b=f.clipIntersection,y=f.clipShadows,w=t.get(f);if(!i||v===null||v.length===0||s&&!y)s?d(null):c();else{const S=s?0:r,M=S*4;let T=w.clippingState||null;l.value=T,T=d(v,h,M,m);for(let A=0;A!==M;++A)T[A]=n[A];w.clippingState=T,this.numIntersection=b?this.numPlanes:0,this.numPlanes+=S}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function d(f,h,m,v){const b=f!==null?f.length:0;let y=null;if(b!==0){if(y=l.value,v!==!0||y===null){const w=m+b*4,S=h.matrixWorldInverse;o.getNormalMatrix(S),(y===null||y.length<w)&&(y=new Float32Array(w));for(let M=0,T=m;M!==b;++M,T+=4)a.copy(f[M]).applyMatrix4(S,o),a.normal.toArray(y,T),y[T+3]=a.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=b,e.numIntersection=0,y}}function pJe(t){let e=new WeakMap;function n(a,o){return o===AS?a.mapping=ld:o===CS&&(a.mapping=jp),a}function r(a){if(a&&a.isTexture){const o=a.mapping;if(o===AS||o===CS)if(e.has(a)){const l=e.get(a).texture;return n(l,a.mapping)}else{const l=a.image;if(l&&l.height>0){const c=new D8(l.height);return c.fromEquirectangularTexture(t,a),e.set(a,c),a.addEventListener("dispose",i),n(c.texture,a.mapping)}else return null}}return a}function i(a){const o=a.target;o.removeEventListener("dispose",i);const l=e.get(o);l!==void 0&&(e.delete(o),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}const ap=4,PJ=[.125,.215,.35,.446,.526,.582],mg=20,mJe=256,o1=new Zc,NJ=new Lt;let HL=null,WL=0,GL=0,qL=!1;const gJe=new ie;class fU{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,n=0,r=.1,i=100,s={}){const{size:a=256,position:o=gJe}=s;HL=this._renderer.getRenderTarget(),WL=this._renderer.getActiveCubeFace(),GL=this._renderer.getActiveMipmapLevel(),qL=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(a);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,r,i,l,o),n>0&&this._blur(l,0,0,n),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=jJ(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=OJ(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(HL,WL,GL),this._renderer.xr.enabled=qL,e.scissorTest=!1,uy(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===ld||e.mapping===jp?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),HL=this._renderer.getRenderTarget(),WL=this._renderer.getActiveCubeFace(),GL=this._renderer.getActiveMipmapLevel(),qL=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:si,minFilter:si,generateMipmaps:!1,type:cd,format:Ea,colorSpace:c0,depthBuffer:!1},i=RJ(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=RJ(e,n,r);const{_lodMax:s}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=vJe(s)),this._blurMaterial=xJe(s,e,n),this._ggxMaterial=yJe(s,e,n)}return i}_compileMaterial(e){const n=new Yi(new jn,e);this._renderer.compile(n,o1)}_sceneToCubeUV(e,n,r,i,s){const l=new yi(90,1,n,r),c=[1,-1,1,1,1,1],d=[1,1,1,-1,-1,-1],f=this._renderer,h=f.autoClear,m=f.toneMapping;f.getClearColor(NJ),f.toneMapping=Gl,f.autoClear=!1,f.state.buffers.depth.getReversed()&&(f.setRenderTarget(i),f.clearDepth(),f.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new Yi(new A0,new qp({name:"PMREM.Background",side:Ja,depthWrite:!1,depthTest:!1})));const b=this._backgroundBox,y=b.material;let w=!1;const S=e.background;S?S.isColor&&(y.color.copy(S),e.background=null,w=!0):(y.color.copy(NJ),w=!0);for(let M=0;M<6;M++){const T=M%3;T===0?(l.up.set(0,c[M],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x+d[M],s.y,s.z)):T===1?(l.up.set(0,0,c[M]),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y+d[M],s.z)):(l.up.set(0,c[M],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y,s.z+d[M]));const A=this._cubeSize;uy(i,T*A,M>2?A:0,A,A),f.setRenderTarget(i),w&&f.render(b,l),f.render(e,l)}f.toneMapping=m,f.autoClear=h,e.background=S}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===ld||e.mapping===jp;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=jJ()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=OJ());const s=i?this._cubemapMaterial:this._equirectMaterial,a=this._lodMeshes[0];a.material=s;const o=s.uniforms;o.envMap.value=e;const l=this._cubeSize;uy(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(a,o1)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const i=this._lodMeshes.length;for(let s=1;s<i;s++)this._applyGGXFilter(e,s-1,s);n.autoClear=r}_applyGGXFilter(e,n,r){const i=this._renderer,s=this._pingPongRenderTarget,a=this._ggxMaterial,o=this._lodMeshes[r];o.material=a;const l=a.uniforms,c=r/(this._lodMeshes.length-1),d=n/(this._lodMeshes.length-1),f=Math.sqrt(c*c-d*d),h=0+c*1.25,m=f*h,{_lodMax:v}=this,b=this._sizeLods[r],y=3*b*(r>v-ap?r-v+ap:0),w=4*(this._cubeSize-b);l.envMap.value=e.texture,l.roughness.value=m,l.mipInt.value=v-n,uy(s,y,w,3*b,2*b),i.setRenderTarget(s),i.render(o,o1),l.envMap.value=s.texture,l.roughness.value=0,l.mipInt.value=v-r,uy(e,y,w,3*b,2*b),i.setRenderTarget(e),i.render(o,o1)}_blur(e,n,r,i,s){const a=this._pingPongRenderTarget;this._halfBlur(e,a,n,r,i,"latitudinal",s),this._halfBlur(a,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,a,o){const l=this._renderer,c=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&dn("blur direction must be either latitudinal or longitudinal!");const d=3,f=this._lodMeshes[i];f.material=c;const h=c.uniforms,m=this._sizeLods[r]-1,v=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*mg-1),b=s/v,y=isFinite(s)?1+Math.floor(d*b):mg;y>mg&&At(`sigmaRadians, ${s}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${mg}`);const w=[];let S=0;for(let j=0;j<mg;++j){const L=j/b,O=Math.exp(-L*L/2);w.push(O),j===0?S+=O:j<y&&(S+=2*O)}for(let j=0;j<w.length;j++)w[j]=w[j]/S;h.envMap.value=e.texture,h.samples.value=y,h.weights.value=w,h.latitudinal.value=a==="latitudinal",o&&(h.poleAxis.value=o);const{_lodMax:M}=this;h.dTheta.value=v,h.mipInt.value=M-r;const T=this._sizeLods[i],A=3*T*(i>M-ap?i-M+ap:0),C=4*(this._cubeSize-T);uy(n,A,C,3*T,2*T),l.setRenderTarget(n),l.render(f,o1)}}function vJe(t){const e=[],n=[],r=[];let i=t;const s=t-ap+1+PJ.length;for(let a=0;a<s;a++){const o=Math.pow(2,i);e.push(o);let l=1/o;a>t-ap?l=PJ[a-t+ap-1]:a===0&&(l=0),n.push(l);const c=1/(o-2),d=-c,f=1+c,h=[d,d,f,d,f,f,d,d,f,f,d,f],m=6,v=6,b=3,y=2,w=1,S=new Float32Array(b*v*m),M=new Float32Array(y*v*m),T=new Float32Array(w*v*m);for(let C=0;C<m;C++){const j=C%3*2/3-1,L=C>2?0:-1,O=[j,L,0,j+2/3,L,0,j+2/3,L+1,0,j,L,0,j+2/3,L+1,0,j,L+1,0];S.set(O,b*v*C),M.set(h,y*v*C);const k=[C,C,C,C,C,C];T.set(k,w*v*C)}const A=new jn;A.setAttribute("position",new kr(S,b)),A.setAttribute("uv",new kr(M,y)),A.setAttribute("faceIndex",new kr(T,w)),r.push(new Yi(A,null)),i>ap&&i--}return{lodMeshes:r,sizeLods:e,sigmas:n}}function RJ(t,e,n){const r=new eo(t,e,n);return r.texture.mapping=Nb,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function uy(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function yJe(t,e,n){return new Ro({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:mJe,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:gO(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 3.2: Transform view direction to hemisphere configuration
				vec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));

				// Section 4.1: Orthonormal basis
				float lensq = Vh.x * Vh.x + Vh.y * Vh.y;
				vec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(Vh, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + Vh.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:ed,depthTest:!1,depthWrite:!1})}function xJe(t,e,n){const r=new Float32Array(mg),i=new ie(0,1,0);return new Ro({name:"SphericalGaussianBlur",defines:{n:mg,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:gO(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:ed,depthTest:!1,depthWrite:!1})}function OJ(){return new Ro({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:gO(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:ed,depthTest:!1,depthWrite:!1})}function jJ(){return new Ro({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:gO(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:ed,depthTest:!1,depthWrite:!1})}function gO(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function bJe(t){let e=new WeakMap,n=null;function r(o){if(o&&o.isTexture){const l=o.mapping,c=l===AS||l===CS,d=l===ld||l===jp;if(c||d){let f=e.get(o);const h=f!==void 0?f.texture.pmremVersion:0;if(o.isRenderTargetTexture&&o.pmremVersion!==h)return n===null&&(n=new fU(t)),f=c?n.fromEquirectangular(o,f):n.fromCubemap(o,f),f.texture.pmremVersion=o.pmremVersion,e.set(o,f),f.texture;if(f!==void 0)return f.texture;{const m=o.image;return c&&m&&m.height>0||d&&m&&i(m)?(n===null&&(n=new fU(t)),f=c?n.fromEquirectangular(o):n.fromCubemap(o),f.texture.pmremVersion=o.pmremVersion,e.set(o,f),o.addEventListener("dispose",s),f.texture):null}}}return o}function i(o){let l=0;const c=6;for(let d=0;d<c;d++)o[d]!==void 0&&l++;return l===c}function s(o){const l=o.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function a(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:a}}function wJe(t){const e={};function n(r){if(e[r]!==void 0)return e[r];const i=t.getExtension(r);return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const i=n(r);return i===null&&qx("WebGLRenderer: "+r+" extension not supported."),i}}}function _Je(t,e,n,r){const i={},s=new WeakMap;function a(f){const h=f.target;h.index!==null&&e.remove(h.index);for(const v in h.attributes)e.remove(h.attributes[v]);h.removeEventListener("dispose",a),delete i[h.id];const m=s.get(h);m&&(e.remove(m),s.delete(h)),r.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,n.memory.geometries--}function o(f,h){return i[h.id]===!0||(h.addEventListener("dispose",a),i[h.id]=!0,n.memory.geometries++),h}function l(f){const h=f.attributes;for(const m in h)e.update(h[m],t.ARRAY_BUFFER)}function c(f){const h=[],m=f.index,v=f.attributes.position;let b=0;if(m!==null){const S=m.array;b=m.version;for(let M=0,T=S.length;M<T;M+=3){const A=S[M+0],C=S[M+1],j=S[M+2];h.push(A,C,C,j,j,A)}}else if(v!==void 0){const S=v.array;b=v.version;for(let M=0,T=S.length/3-1;M<T;M+=3){const A=M+0,C=M+1,j=M+2;h.push(A,C,C,j,j,A)}}else return;const y=new(zhe(h)?k8:I8)(h,1);y.version=b;const w=s.get(f);w&&e.remove(w),s.set(f,y)}function d(f){const h=s.get(f);if(h){const m=f.index;m!==null&&h.version<m.version&&c(f)}else c(f);return s.get(f)}return{get:o,update:l,getWireframeAttribute:d}}function SJe(t,e,n){let r;function i(h){r=h}let s,a;function o(h){s=h.type,a=h.bytesPerElement}function l(h,m){t.drawElements(r,m,s,h*a),n.update(m,r,1)}function c(h,m,v){v!==0&&(t.drawElementsInstanced(r,m,s,h*a,v),n.update(m,r,v))}function d(h,m,v){if(v===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,m,0,s,h,0,v);let y=0;for(let w=0;w<v;w++)y+=m[w];n.update(y,r,1)}function f(h,m,v,b){if(v===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let w=0;w<h.length;w++)c(h[w]/a,m[w],b[w]);else{y.multiDrawElementsInstancedWEBGL(r,m,0,s,h,0,b,0,v);let w=0;for(let S=0;S<v;S++)w+=m[S]*b[S];n.update(w,r,1)}}this.setMode=i,this.setIndex=o,this.render=l,this.renderInstances=c,this.renderMultiDraw=d,this.renderMultiDrawInstances=f}function EJe(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,a,o){switch(n.calls++,a){case t.TRIANGLES:n.triangles+=o*(s/3);break;case t.LINES:n.lines+=o*(s/2);break;case t.LINE_STRIP:n.lines+=o*(s-1);break;case t.LINE_LOOP:n.lines+=o*s;break;case t.POINTS:n.points+=o*s;break;default:dn("WebGLInfo: Unknown draw mode:",a);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function MJe(t,e,n){const r=new WeakMap,i=new Wr;function s(a,o,l){const c=a.morphTargetInfluences,d=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,f=d!==void 0?d.length:0;let h=r.get(o);if(h===void 0||h.count!==f){let k=function(){L.dispose(),r.delete(o),o.removeEventListener("dispose",k)};var m=k;h!==void 0&&h.texture.dispose();const v=o.morphAttributes.position!==void 0,b=o.morphAttributes.normal!==void 0,y=o.morphAttributes.color!==void 0,w=o.morphAttributes.position||[],S=o.morphAttributes.normal||[],M=o.morphAttributes.color||[];let T=0;v===!0&&(T=1),b===!0&&(T=2),y===!0&&(T=3);let A=o.attributes.position.count*T,C=1;A>e.maxTextureSize&&(C=Math.ceil(A/e.maxTextureSize),A=e.maxTextureSize);const j=new Float32Array(A*C*4*f),L=new qR(j,A,C,f);L.type=Qa,L.needsUpdate=!0;const O=T*4;for(let F=0;F<f;F++){const G=w[F],Y=S[F],U=M[F],W=A*C*4*F;for(let q=0;q<G.count;q++){const Z=q*O;v===!0&&(i.fromBufferAttribute(G,q),j[W+Z+0]=i.x,j[W+Z+1]=i.y,j[W+Z+2]=i.z,j[W+Z+3]=0),b===!0&&(i.fromBufferAttribute(Y,q),j[W+Z+4]=i.x,j[W+Z+5]=i.y,j[W+Z+6]=i.z,j[W+Z+7]=0),y===!0&&(i.fromBufferAttribute(U,q),j[W+Z+8]=i.x,j[W+Z+9]=i.y,j[W+Z+10]=i.z,j[W+Z+11]=U.itemSize===4?i.w:1)}}h={count:f,texture:L,size:new Ge(A,C)},r.set(o,h),o.addEventListener("dispose",k)}if(a.isInstancedMesh===!0&&a.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",a.morphTexture,n);else{let v=0;for(let y=0;y<c.length;y++)v+=c[y];const b=o.morphTargetsRelative?1:1-v;l.getUniforms().setValue(t,"morphTargetBaseInfluence",b),l.getUniforms().setValue(t,"morphTargetInfluences",c)}l.getUniforms().setValue(t,"morphTargetsTexture",h.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",h.size)}return{update:s}}function TJe(t,e,n,r){let i=new WeakMap;function s(l){const c=r.render.frame,d=l.geometry,f=e.get(l,d);if(i.get(f)!==c&&(e.update(f),i.set(f,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",o)===!1&&l.addEventListener("dispose",o),i.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const h=l.skeleton;i.get(h)!==c&&(h.update(),i.set(h,c))}return f}function a(){i=new WeakMap}function o(l){const c=l.target;c.removeEventListener("dispose",o),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:s,dispose:a}}const AJe={[y8]:"LINEAR_TONE_MAPPING",[x8]:"REINHARD_TONE_MAPPING",[b8]:"CINEON_TONE_MAPPING",[DR]:"ACES_FILMIC_TONE_MAPPING",[_8]:"AGX_TONE_MAPPING",[S8]:"NEUTRAL_TONE_MAPPING",[w8]:"CUSTOM_TONE_MAPPING"};function CJe(t,e,n,r,i){const s=new eo(e,n,{type:t,depthBuffer:r,stencilBuffer:i}),a=new eo(e,n,{type:cd,depthBuffer:!1,stencilBuffer:!1}),o=new jn;o.setAttribute("position",new Xt([-1,3,0,-1,-1,0,3,-1,0],3)),o.setAttribute("uv",new Xt([0,2,0,0,2,0],2));const l=new q8({uniforms:{tDiffuse:{value:null}},vertexShader:`
			precision highp float;

			uniform mat4 modelViewMatrix;
			uniform mat4 projectionMatrix;

			attribute vec3 position;
			attribute vec2 uv;

			varying vec2 vUv;

			void main() {
				vUv = uv;
				gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			}`,fragmentShader:`
			precision highp float;

			uniform sampler2D tDiffuse;

			varying vec2 vUv;

			#include <tonemapping_pars_fragment>
			#include <colorspace_pars_fragment>

			void main() {
				gl_FragColor = texture2D( tDiffuse, vUv );

				#ifdef LINEAR_TONE_MAPPING
					gl_FragColor.rgb = LinearToneMapping( gl_FragColor.rgb );
				#elif defined( REINHARD_TONE_MAPPING )
					gl_FragColor.rgb = ReinhardToneMapping( gl_FragColor.rgb );
				#elif defined( CINEON_TONE_MAPPING )
					gl_FragColor.rgb = CineonToneMapping( gl_FragColor.rgb );
				#elif defined( ACES_FILMIC_TONE_MAPPING )
					gl_FragColor.rgb = ACESFilmicToneMapping( gl_FragColor.rgb );
				#elif defined( AGX_TONE_MAPPING )
					gl_FragColor.rgb = AgXToneMapping( gl_FragColor.rgb );
				#elif defined( NEUTRAL_TONE_MAPPING )
					gl_FragColor.rgb = NeutralToneMapping( gl_FragColor.rgb );
				#elif defined( CUSTOM_TONE_MAPPING )
					gl_FragColor.rgb = CustomToneMapping( gl_FragColor.rgb );
				#endif

				#ifdef SRGB_TRANSFER
					gl_FragColor = sRGBTransferOETF( gl_FragColor );
				#endif
			}`,depthTest:!1,depthWrite:!1}),c=new Yi(o,l),d=new Zc(-1,1,1,-1,0,1);let f=null,h=null,m=!1,v,b=null,y=[],w=!1;this.setSize=function(S,M){s.setSize(S,M),a.setSize(S,M);for(let T=0;T<y.length;T++){const A=y[T];A.setSize&&A.setSize(S,M)}},this.setEffects=function(S){y=S,w=y.length>0&&y[0].isRenderPass===!0;const M=s.width,T=s.height;for(let A=0;A<y.length;A++){const C=y[A];C.setSize&&C.setSize(M,T)}},this.begin=function(S,M){if(m||S.toneMapping===Gl&&y.length===0)return!1;if(b=M,M!==null){const T=M.width,A=M.height;(s.width!==T||s.height!==A)&&this.setSize(T,A)}return w===!1&&S.setRenderTarget(s),v=S.toneMapping,S.toneMapping=Gl,!0},this.hasRenderPass=function(){return w},this.end=function(S,M){S.toneMapping=v,m=!0;let T=s,A=a;for(let C=0;C<y.length;C++){const j=y[C];if(j.enabled!==!1&&(j.render(S,A,T,M),j.needsSwap!==!1)){const L=T;T=A,A=L}}if(f!==S.outputColorSpace||h!==S.toneMapping){f=S.outputColorSpace,h=S.toneMapping,l.defines={},cr.getTransfer(f)===Pr&&(l.defines.SRGB_TRANSFER="");const C=AJe[h];C&&(l.defines[C]=""),l.needsUpdate=!0}l.uniforms.tDiffuse.value=T.texture,S.setRenderTarget(b),S.render(c,d),b=null,m=!1},this.isCompositing=function(){return m},this.dispose=function(){s.dispose(),a.dispose(),o.dispose(),l.dispose()}}const Wpe=new Si,hU=new Zx(1,1),Gpe=new qR,qpe=new XR,Xpe=new UE,IJ=[],kJ=[],DJ=new Float32Array(16),LJ=new Float32Array(9),FJ=new Float32Array(4);function Ob(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=IJ[i];if(s===void 0&&(s=new Float32Array(i),IJ[i]=s),e!==0){r.toArray(s,0);for(let a=1,o=0;a!==e;++a)o+=n,t[a].toArray(s,o)}return s}function _s(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Ss(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function vO(t,e){let n=kJ[e];n===void 0&&(n=new Int32Array(e),kJ[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function PJe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function NJe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(_s(n,e))return;t.uniform2fv(this.addr,e),Ss(n,e)}}function RJe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(_s(n,e))return;t.uniform3fv(this.addr,e),Ss(n,e)}}function OJe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(_s(n,e))return;t.uniform4fv(this.addr,e),Ss(n,e)}}function jJe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(_s(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Ss(n,e)}else{if(_s(n,r))return;FJ.set(r),t.uniformMatrix2fv(this.addr,!1,FJ),Ss(n,r)}}function IJe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(_s(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Ss(n,e)}else{if(_s(n,r))return;LJ.set(r),t.uniformMatrix3fv(this.addr,!1,LJ),Ss(n,r)}}function kJe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(_s(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Ss(n,e)}else{if(_s(n,r))return;DJ.set(r),t.uniformMatrix4fv(this.addr,!1,DJ),Ss(n,r)}}function DJe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function LJe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(_s(n,e))return;t.uniform2iv(this.addr,e),Ss(n,e)}}function FJe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(_s(n,e))return;t.uniform3iv(this.addr,e),Ss(n,e)}}function UJe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(_s(n,e))return;t.uniform4iv(this.addr,e),Ss(n,e)}}function BJe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function zJe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(_s(n,e))return;t.uniform2uiv(this.addr,e),Ss(n,e)}}function VJe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(_s(n,e))return;t.uniform3uiv(this.addr,e),Ss(n,e)}}function $Je(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(_s(n,e))return;t.uniform4uiv(this.addr,e),Ss(n,e)}}function HJe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);let s;this.type===t.SAMPLER_2D_SHADOW?(hU.compareFunction=n.isReversedDepthBuffer()?GR:WR,s=hU):s=Wpe,n.setTexture2D(e||s,i)}function WJe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||qpe,i)}function GJe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||Xpe,i)}function qJe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||Gpe,i)}function XJe(t){switch(t){case 5126:return PJe;case 35664:return NJe;case 35665:return RJe;case 35666:return OJe;case 35674:return jJe;case 35675:return IJe;case 35676:return kJe;case 5124:case 35670:return DJe;case 35667:case 35671:return LJe;case 35668:case 35672:return FJe;case 35669:case 35673:return UJe;case 5125:return BJe;case 36294:return zJe;case 36295:return VJe;case 36296:return $Je;case 35678:case 36198:case 36298:case 36306:case 35682:return HJe;case 35679:case 36299:case 36307:return WJe;case 35680:case 36300:case 36308:case 36293:return GJe;case 36289:case 36303:case 36311:case 36292:return qJe}}function YJe(t,e){t.uniform1fv(this.addr,e)}function KJe(t,e){const n=Ob(e,this.size,2);t.uniform2fv(this.addr,n)}function ZJe(t,e){const n=Ob(e,this.size,3);t.uniform3fv(this.addr,n)}function QJe(t,e){const n=Ob(e,this.size,4);t.uniform4fv(this.addr,n)}function JJe(t,e){const n=Ob(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function eet(t,e){const n=Ob(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function tet(t,e){const n=Ob(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function net(t,e){t.uniform1iv(this.addr,e)}function ret(t,e){t.uniform2iv(this.addr,e)}function iet(t,e){t.uniform3iv(this.addr,e)}function set(t,e){t.uniform4iv(this.addr,e)}function aet(t,e){t.uniform1uiv(this.addr,e)}function oet(t,e){t.uniform2uiv(this.addr,e)}function cet(t,e){t.uniform3uiv(this.addr,e)}function uet(t,e){t.uniform4uiv(this.addr,e)}function det(t,e,n){const r=this.cache,i=e.length,s=vO(n,i);_s(r,s)||(t.uniform1iv(this.addr,s),Ss(r,s));let a;this.type===t.SAMPLER_2D_SHADOW?a=hU:a=Wpe;for(let o=0;o!==i;++o)n.setTexture2D(e[o]||a,s[o])}function fet(t,e,n){const r=this.cache,i=e.length,s=vO(n,i);_s(r,s)||(t.uniform1iv(this.addr,s),Ss(r,s));for(let a=0;a!==i;++a)n.setTexture3D(e[a]||qpe,s[a])}function het(t,e,n){const r=this.cache,i=e.length,s=vO(n,i);_s(r,s)||(t.uniform1iv(this.addr,s),Ss(r,s));for(let a=0;a!==i;++a)n.setTextureCube(e[a]||Xpe,s[a])}function pet(t,e,n){const r=this.cache,i=e.length,s=vO(n,i);_s(r,s)||(t.uniform1iv(this.addr,s),Ss(r,s));for(let a=0;a!==i;++a)n.setTexture2DArray(e[a]||Gpe,s[a])}function met(t){switch(t){case 5126:return YJe;case 35664:return KJe;case 35665:return ZJe;case 35666:return QJe;case 35674:return JJe;case 35675:return eet;case 35676:return tet;case 5124:case 35670:return net;case 35667:case 35671:return ret;case 35668:case 35672:return iet;case 35669:case 35673:return set;case 5125:return aet;case 36294:return oet;case 36295:return cet;case 36296:return uet;case 35678:case 36198:case 36298:case 36306:case 35682:return det;case 35679:case 36299:case 36307:return fet;case 35680:case 36300:case 36308:case 36293:return het;case 36289:case 36303:case 36311:case 36292:return pet}}class get{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=XJe(n.type)}}class vet{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=met(n.type)}}class yet{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,a=i.length;s!==a;++s){const o=i[s];o.setValue(e,n[o.id],r)}}}const XL=/(\w+)(\])?(\[|\.)?/g;function UJ(t,e){t.seq.push(e),t.map[e.id]=e}function xet(t,e,n){const r=t.name,i=r.length;for(XL.lastIndex=0;;){const s=XL.exec(r),a=XL.lastIndex;let o=s[1];const l=s[2]==="]",c=s[3];if(l&&(o=o|0),c===void 0||c==="["&&a+2===i){UJ(n,c===void 0?new get(o,t,e):new vet(o,t,e));break}else{let f=n.map[o];f===void 0&&(f=new yet(o),UJ(n,f)),n=f}}}class W2{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let a=0;a<r;++a){const o=e.getActiveUniform(n,a),l=e.getUniformLocation(n,o.name);xet(o,l,this)}const i=[],s=[];for(const a of this.seq)a.type===e.SAMPLER_2D_SHADOW||a.type===e.SAMPLER_CUBE_SHADOW||a.type===e.SAMPLER_2D_ARRAY_SHADOW?i.push(a):s.push(a);i.length>0&&(this.seq=i.concat(s))}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,a=n.length;s!==a;++s){const o=n[s],l=r[o.id];l.needsUpdate!==!1&&o.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const a=e[i];a.id in n&&r.push(a)}return r}}function BJ(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const bet=37297;let wet=0;function _et(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let a=i;a<s;a++){const o=a+1;r.push(`${o===e?">":" "} ${o}: ${n[a]}`)}return r.join(`
`)}const zJ=new Fn;function Eet(t){cr._getMatrix(zJ,cr.workingColorSpace,t);const e=`mat3( ${zJ.elements.map(n=>n.toFixed(4))} )`;switch(cr.getTransfer(t)){case jS:return[e,"LinearTransferOETF"];case Pr:return[e,"sRGBTransferOETF"];default:return At("WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function VJ(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),s=(t.getShaderInfoLog(e)||"").trim();if(r&&s==="")return"";const a=/ERROR: 0:(\d+)/.exec(s);if(a){const o=parseInt(a[1]);return n.toUpperCase()+`

`+s+`

`+_et(t.getShaderSource(e),o)}else return s}function Met(t,e){const n=Eet(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}const Tet={[y8]:"Linear",[x8]:"Reinhard",[b8]:"Cineon",[DR]:"ACESFilmic",[_8]:"AgX",[S8]:"Neutral",[w8]:"Custom"};function Aet(t,e){const n=Tet[e];return n===void 0?(At("WebGLProgram: Unsupported toneMapping:",e),"vec3 "+t+"( vec3 color ) { return LinearToneMapping( color ); }"):"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const m2=new ie;function Cet(){cr.getLuminanceCoefficients(m2);const t=m2.x.toFixed(4),e=m2.y.toFixed(4),n=m2.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function Pet(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(T1).join(`
`)}function Net(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function Ret(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),a=s.name;let o=1;s.type===t.FLOAT_MAT2&&(o=2),s.type===t.FLOAT_MAT3&&(o=3),s.type===t.FLOAT_MAT4&&(o=4),n[a]={type:s.type,location:t.getAttribLocation(e,a),locationSize:o}}return n}function T1(t){return t!==""}function $J(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function HJ(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Oet=/^[ \t]*#include +<([\w\d./]+)>/gm;function pU(t){return t.replace(Oet,Iet)}const jet=new Map;function Iet(t,e){let n=qn[e];if(n===void 0){const r=jet.get(e);if(r!==void 0)n=qn[r],At('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return pU(n)}const ket=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function WJ(t){return t.replace(ket,Det)}function Det(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function GJ(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}const Let={[Zy]:"SHADOWMAP_TYPE_PCF",[Eg]:"SHADOWMAP_TYPE_VSM"};function Fet(t){return Let[t.shadowMapType]||"SHADOWMAP_TYPE_BASIC"}const Uet={[ld]:"ENVMAP_TYPE_CUBE",[jp]:"ENVMAP_TYPE_CUBE",[Nb]:"ENVMAP_TYPE_CUBE_UV"};function Bet(t){return t.envMap===!1?"ENVMAP_TYPE_CUBE":Uet[t.envMapMode]||"ENVMAP_TYPE_CUBE"}const zet={[jp]:"ENVMAP_MODE_REFRACTION"};function Vet(t){return t.envMap===!1?"ENVMAP_MODE_REFLECTION":zet[t.envMapMode]||"ENVMAP_MODE_REFLECTION"}const $et={[DE]:"ENVMAP_BLENDING_MULTIPLY",[Ahe]:"ENVMAP_BLENDING_MIX",[Che]:"ENVMAP_BLENDING_ADD"};function Het(t){return t.envMap===!1?"ENVMAP_BLENDING_NONE":$et[t.combine]||"ENVMAP_BLENDING_NONE"}function Wet(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}function Get(t,e,n,r){const i=t.getContext(),s=n.defines;let a=n.vertexShader,o=n.fragmentShader;const l=Fet(n),c=Bet(n),d=Vet(n),f=Het(n),h=Wet(n),m=Pet(n),v=Net(s),b=i.createProgram();let y,w,S=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(y=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v].filter(T1).join(`
`),y.length>0&&(y+=`
`),w=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v].filter(T1).join(`
`),w.length>0&&(w+=`
`)):(y=[GJ(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(T1).join(`
`),w=[GJ(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+d:"",n.envMap?"#define "+f:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Gl?"#define TONE_MAPPING":"",n.toneMapping!==Gl?qn.tonemapping_pars_fragment:"",n.toneMapping!==Gl?Aet("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",qn.colorspace_pars_fragment,Met("linearToOutputTexel",n.outputColorSpace),Cet(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(T1).join(`
`)),a=pU(a),a=$J(a,n),a=HJ(a,n),o=pU(o),o=$J(o,n),o=HJ(o,n),a=WJ(a),o=WJ(o),n.isRawShaderMaterial!==!0&&(S=`#version 300 es
`,y=[m,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,w=["#define varying in",n.glslVersion===rU?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===rU?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+w);const M=S+y+a,T=S+w+o,A=BJ(i,i.VERTEX_SHADER,M),C=BJ(i,i.FRAGMENT_SHADER,T);i.attachShader(b,A),i.attachShader(b,C),n.index0AttributeName!==void 0?i.bindAttribLocation(b,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(b,0,"position"),i.linkProgram(b);function j(F){if(t.debug.checkShaderErrors){const G=i.getProgramInfoLog(b)||"",Y=i.getShaderInfoLog(A)||"",U=i.getShaderInfoLog(C)||"",W=G.trim(),q=Y.trim(),Z=U.trim();let V=!0,Q=!0;if(i.getProgramParameter(b,i.LINK_STATUS)===!1)if(V=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,b,A,C);else{const ee=VJ(i,A,"vertex"),$=VJ(i,C,"fragment");dn("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(b,i.VALIDATE_STATUS)+`

Material Name: `+F.name+`
Material Type: `+F.type+`

Program Info Log: `+W+`
`+ee+`
`+$)}else W!==""?At("WebGLProgram: Program Info Log:",W):(q===""||Z==="")&&(Q=!1);Q&&(F.diagnostics={runnable:V,programLog:W,vertexShader:{log:q,prefix:y},fragmentShader:{log:Z,prefix:w}})}i.deleteShader(A),i.deleteShader(C),L=new W2(i,b),O=Ret(i,b)}let L;this.getUniforms=function(){return L===void 0&&j(this),L};let O;this.getAttributes=function(){return O===void 0&&j(this),O};let k=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return k===!1&&(k=i.getProgramParameter(b,bet)),k},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(b),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=wet++,this.cacheKey=e,this.usedTimes=1,this.program=b,this.vertexShader=A,this.fragmentShader=C,this}let qet=0;class Xet{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),a=this._getShaderCacheForMaterial(e);return a.has(i)===!1&&(a.add(i),i.usedTimes++),a.has(s)===!1&&(a.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new Yet(e),n.set(e,r)),r}}class Yet{constructor(e){this.id=qet++,this.code=e,this.usedTimes=0}}function Ket(t,e,n,r,i,s,a){const o=new Ug,l=new Xet,c=new Set,d=[],f=new Map,h=i.logarithmicDepthBuffer;let m=i.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distance",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function b(O){return c.add(O),O===0?"uv":`uv${O}`}function y(O,k,F,G,Y){const U=G.fog,W=Y.geometry,q=O.isMeshStandardMaterial?G.environment:null,Z=(O.isMeshStandardMaterial?n:e).get(O.envMap||q),V=Z&&Z.mapping===Nb?Z.image.height:null,Q=v[O.type];O.precision!==null&&(m=i.getMaxPrecision(O.precision),m!==O.precision&&At("WebGLProgram.getParameters:",O.precision,"not supported, using",m,"instead."));const ee=W.morphAttributes.position||W.morphAttributes.normal||W.morphAttributes.color,$=ee!==void 0?ee.length:0;let J=0;W.morphAttributes.position!==void 0&&(J=1),W.morphAttributes.normal!==void 0&&(J=2),W.morphAttributes.color!==void 0&&(J=3);let de,Ae,Ue,ge;if(Q){const Un=kc[Q];de=Un.vertexShader,Ae=Un.fragmentShader}else de=O.vertexShader,Ae=O.fragmentShader,l.update(O),Ue=l.getVertexShaderID(O),ge=l.getFragmentShaderID(O);const pe=t.getRenderTarget(),Oe=t.state.buffers.depth.getReversed(),xe=Y.isInstancedMesh===!0,Me=Y.isBatchedMesh===!0,Ie=!!O.map,Te=!!O.matcap,Xe=!!Z,Ce=!!O.aoMap,$e=!!O.lightMap,Be=!!O.bumpMap,Ye=!!O.normalMap,ae=!!O.displacementMap,Ot=!!O.emissiveMap,dt=!!O.metalnessMap,jt=!!O.roughnessMap,re=O.anisotropy>0,K=O.clearcoat>0,H=O.dispersion>0,oe=O.iridescence>0,he=O.sheen>0,me=O.transmission>0,ye=re&&!!O.anisotropyMap,nt=K&&!!O.clearcoatMap,Ke=K&&!!O.clearcoatNormalMap,pt=K&&!!O.clearcoatRoughnessMap,cn=oe&&!!O.iridescenceMap,Je=oe&&!!O.iridescenceThicknessMap,mt=he&&!!O.sheenColorMap,Dt=he&&!!O.sheenRoughnessMap,ue=!!O.specularMap,Pe=!!O.specularColorMap,lt=!!O.specularIntensityMap,fe=me&&!!O.transmissionMap,at=me&&!!O.thicknessMap,et=!!O.gradientMap,yt=!!O.alphaMap,it=O.alphaTest>0,qe=!!O.alphaHash,ct=!!O.extensions;let an=Gl;O.toneMapped&&(pe===null||pe.isXRRenderTarget===!0)&&(an=t.toneMapping);const er={shaderID:Q,shaderType:O.type,shaderName:O.name,vertexShader:de,fragmentShader:Ae,defines:O.defines,customVertexShaderID:Ue,customFragmentShaderID:ge,isRawShaderMaterial:O.isRawShaderMaterial===!0,glslVersion:O.glslVersion,precision:m,batching:Me,batchingColor:Me&&Y._colorsTexture!==null,instancing:xe,instancingColor:xe&&Y.instanceColor!==null,instancingMorph:xe&&Y.morphTexture!==null,outputColorSpace:pe===null?t.outputColorSpace:pe.isXRRenderTarget===!0?pe.texture.colorSpace:c0,alphaToCoverage:!!O.alphaToCoverage,map:Ie,matcap:Te,envMap:Xe,envMapMode:Xe&&Z.mapping,envMapCubeUVHeight:V,aoMap:Ce,lightMap:$e,bumpMap:Be,normalMap:Ye,displacementMap:ae,emissiveMap:Ot,normalMapObjectSpace:Ye&&O.normalMapType===Ihe,normalMapTangentSpace:Ye&&O.normalMapType===Gp,metalnessMap:dt,roughnessMap:jt,anisotropy:re,anisotropyMap:ye,clearcoat:K,clearcoatMap:nt,clearcoatNormalMap:Ke,clearcoatRoughnessMap:pt,dispersion:H,iridescence:oe,iridescenceMap:cn,iridescenceThicknessMap:Je,sheen:he,sheenColorMap:mt,sheenRoughnessMap:Dt,specularMap:ue,specularColorMap:Pe,specularIntensityMap:lt,transmission:me,transmissionMap:fe,thicknessMap:at,gradientMap:et,opaque:O.transparent===!1&&O.blending===Lg&&O.alphaToCoverage===!1,alphaMap:yt,alphaTest:it,alphaHash:qe,combine:O.combine,mapUv:Ie&&b(O.map.channel),aoMapUv:Ce&&b(O.aoMap.channel),lightMapUv:$e&&b(O.lightMap.channel),bumpMapUv:Be&&b(O.bumpMap.channel),normalMapUv:Ye&&b(O.normalMap.channel),displacementMapUv:ae&&b(O.displacementMap.channel),emissiveMapUv:Ot&&b(O.emissiveMap.channel),metalnessMapUv:dt&&b(O.metalnessMap.channel),roughnessMapUv:jt&&b(O.roughnessMap.channel),anisotropyMapUv:ye&&b(O.anisotropyMap.channel),clearcoatMapUv:nt&&b(O.clearcoatMap.channel),clearcoatNormalMapUv:Ke&&b(O.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:pt&&b(O.clearcoatRoughnessMap.channel),iridescenceMapUv:cn&&b(O.iridescenceMap.channel),iridescenceThicknessMapUv:Je&&b(O.iridescenceThicknessMap.channel),sheenColorMapUv:mt&&b(O.sheenColorMap.channel),sheenRoughnessMapUv:Dt&&b(O.sheenRoughnessMap.channel),specularMapUv:ue&&b(O.specularMap.channel),specularColorMapUv:Pe&&b(O.specularColorMap.channel),specularIntensityMapUv:lt&&b(O.specularIntensityMap.channel),transmissionMapUv:fe&&b(O.transmissionMap.channel),thicknessMapUv:at&&b(O.thicknessMap.channel),alphaMapUv:yt&&b(O.alphaMap.channel),vertexTangents:!!W.attributes.tangent&&(Ye||re),vertexColors:O.vertexColors,vertexAlphas:O.vertexColors===!0&&!!W.attributes.color&&W.attributes.color.itemSize===4,pointsUvs:Y.isPoints===!0&&!!W.attributes.uv&&(Ie||yt),fog:!!U,useFog:O.fog===!0,fogExp2:!!U&&U.isFogExp2,flatShading:O.flatShading===!0&&O.wireframe===!1,sizeAttenuation:O.sizeAttenuation===!0,logarithmicDepthBuffer:h,reversedDepthBuffer:Oe,skinning:Y.isSkinnedMesh===!0,morphTargets:W.morphAttributes.position!==void 0,morphNormals:W.morphAttributes.normal!==void 0,morphColors:W.morphAttributes.color!==void 0,morphTargetsCount:$,morphTextureStride:J,numDirLights:k.directional.length,numPointLights:k.point.length,numSpotLights:k.spot.length,numSpotLightMaps:k.spotLightMap.length,numRectAreaLights:k.rectArea.length,numHemiLights:k.hemi.length,numDirLightShadows:k.directionalShadowMap.length,numPointLightShadows:k.pointShadowMap.length,numSpotLightShadows:k.spotShadowMap.length,numSpotLightShadowsWithMaps:k.numSpotLightShadowsWithMaps,numLightProbes:k.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:O.dithering,shadowMapEnabled:t.shadowMap.enabled&&F.length>0,shadowMapType:t.shadowMap.type,toneMapping:an,decodeVideoTexture:Ie&&O.map.isVideoTexture===!0&&cr.getTransfer(O.map.colorSpace)===Pr,decodeVideoTextureEmissive:Ot&&O.emissiveMap.isVideoTexture===!0&&cr.getTransfer(O.emissiveMap.colorSpace)===Pr,premultipliedAlpha:O.premultipliedAlpha,doubleSided:O.side===Ll,flipSided:O.side===Ja,useDepthPacking:O.depthPacking>=0,depthPacking:O.depthPacking||0,index0AttributeName:O.index0AttributeName,extensionClipCullDistance:ct&&O.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(ct&&O.extensions.multiDraw===!0||Me)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:O.customProgramCacheKey()};return er.vertexUv1s=c.has(1),er.vertexUv2s=c.has(2),er.vertexUv3s=c.has(3),c.clear(),er}function w(O){const k=[];if(O.shaderID?k.push(O.shaderID):(k.push(O.customVertexShaderID),k.push(O.customFragmentShaderID)),O.defines!==void 0)for(const F in O.defines)k.push(F),k.push(O.defines[F]);return O.isRawShaderMaterial===!1&&(S(k,O),M(k,O),k.push(t.outputColorSpace)),k.push(O.customProgramCacheKey),k.join()}function S(O,k){O.push(k.precision),O.push(k.outputColorSpace),O.push(k.envMapMode),O.push(k.envMapCubeUVHeight),O.push(k.mapUv),O.push(k.alphaMapUv),O.push(k.lightMapUv),O.push(k.aoMapUv),O.push(k.bumpMapUv),O.push(k.normalMapUv),O.push(k.displacementMapUv),O.push(k.emissiveMapUv),O.push(k.metalnessMapUv),O.push(k.roughnessMapUv),O.push(k.anisotropyMapUv),O.push(k.clearcoatMapUv),O.push(k.clearcoatNormalMapUv),O.push(k.clearcoatRoughnessMapUv),O.push(k.iridescenceMapUv),O.push(k.iridescenceThicknessMapUv),O.push(k.sheenColorMapUv),O.push(k.sheenRoughnessMapUv),O.push(k.specularMapUv),O.push(k.specularColorMapUv),O.push(k.specularIntensityMapUv),O.push(k.transmissionMapUv),O.push(k.thicknessMapUv),O.push(k.combine),O.push(k.fogExp2),O.push(k.sizeAttenuation),O.push(k.morphTargetsCount),O.push(k.morphAttributeCount),O.push(k.numDirLights),O.push(k.numPointLights),O.push(k.numSpotLights),O.push(k.numSpotLightMaps),O.push(k.numHemiLights),O.push(k.numRectAreaLights),O.push(k.numDirLightShadows),O.push(k.numPointLightShadows),O.push(k.numSpotLightShadows),O.push(k.numSpotLightShadowsWithMaps),O.push(k.numLightProbes),O.push(k.shadowMapType),O.push(k.toneMapping),O.push(k.numClippingPlanes),O.push(k.numClipIntersection),O.push(k.depthPacking)}function M(O,k){o.disableAll(),k.instancing&&o.enable(0),k.instancingColor&&o.enable(1),k.instancingMorph&&o.enable(2),k.matcap&&o.enable(3),k.envMap&&o.enable(4),k.normalMapObjectSpace&&o.enable(5),k.normalMapTangentSpace&&o.enable(6),k.clearcoat&&o.enable(7),k.iridescence&&o.enable(8),k.alphaTest&&o.enable(9),k.vertexColors&&o.enable(10),k.vertexAlphas&&o.enable(11),k.vertexUv1s&&o.enable(12),k.vertexUv2s&&o.enable(13),k.vertexUv3s&&o.enable(14),k.vertexTangents&&o.enable(15),k.anisotropy&&o.enable(16),k.alphaHash&&o.enable(17),k.batching&&o.enable(18),k.dispersion&&o.enable(19),k.batchingColor&&o.enable(20),k.gradientMap&&o.enable(21),O.push(o.mask),o.disableAll(),k.fog&&o.enable(0),k.useFog&&o.enable(1),k.flatShading&&o.enable(2),k.logarithmicDepthBuffer&&o.enable(3),k.reversedDepthBuffer&&o.enable(4),k.skinning&&o.enable(5),k.morphTargets&&o.enable(6),k.morphNormals&&o.enable(7),k.morphColors&&o.enable(8),k.premultipliedAlpha&&o.enable(9),k.shadowMapEnabled&&o.enable(10),k.doubleSided&&o.enable(11),k.flipSided&&o.enable(12),k.useDepthPacking&&o.enable(13),k.dithering&&o.enable(14),k.transmission&&o.enable(15),k.sheen&&o.enable(16),k.opaque&&o.enable(17),k.pointsUvs&&o.enable(18),k.decodeVideoTexture&&o.enable(19),k.decodeVideoTextureEmissive&&o.enable(20),k.alphaToCoverage&&o.enable(21),O.push(o.mask)}function T(O){const k=v[O.type];let F;if(k){const G=kc[k];F=qhe.clone(G.uniforms)}else F=O.uniforms;return F}function A(O,k){let F=f.get(k);return F!==void 0?++F.usedTimes:(F=new Get(t,k,O,s),d.push(F),f.set(k,F)),F}function C(O){if(--O.usedTimes===0){const k=d.indexOf(O);d[k]=d[d.length-1],d.pop(),f.delete(O.cacheKey),O.destroy()}}function j(O){l.remove(O)}function L(){l.dispose()}return{getParameters:y,getProgramCacheKey:w,getUniforms:T,acquireProgram:A,releaseProgram:C,releaseShaderCache:j,programs:d,dispose:L}}function Zet(){let t=new WeakMap;function e(a){return t.has(a)}function n(a){let o=t.get(a);return o===void 0&&(o={},t.set(a,o)),o}function r(a){t.delete(a)}function i(a,o,l){t.get(a)[o]=l}function s(){t=new WeakMap}return{has:e,get:n,remove:r,update:i,dispose:s}}function Qet(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function qJ(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function XJ(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function a(f,h,m,v,b,y){let w=t[e];return w===void 0?(w={id:f.id,object:f,geometry:h,material:m,groupOrder:v,renderOrder:f.renderOrder,z:b,group:y},t[e]=w):(w.id=f.id,w.object=f,w.geometry=h,w.material=m,w.groupOrder=v,w.renderOrder=f.renderOrder,w.z=b,w.group=y),e++,w}function o(f,h,m,v,b,y){const w=a(f,h,m,v,b,y);m.transmission>0?r.push(w):m.transparent===!0?i.push(w):n.push(w)}function l(f,h,m,v,b,y){const w=a(f,h,m,v,b,y);m.transmission>0?r.unshift(w):m.transparent===!0?i.unshift(w):n.unshift(w)}function c(f,h){n.length>1&&n.sort(f||Qet),r.length>1&&r.sort(h||qJ),i.length>1&&i.sort(h||qJ)}function d(){for(let f=e,h=t.length;f<h;f++){const m=t[f];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:o,unshift:l,finish:d,sort:c}}function Jet(){let t=new WeakMap;function e(r,i){const s=t.get(r);let a;return s===void 0?(a=new XJ,t.set(r,[a])):i>=s.length?(a=new XJ,s.push(a)):a=s[i],a}function n(){t=new WeakMap}return{get:e,dispose:n}}function ett(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new ie,color:new Lt};break;case"SpotLight":n={position:new ie,direction:new ie,color:new Lt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new ie,color:new Lt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new ie,skyColor:new Lt,groundColor:new Lt};break;case"RectAreaLight":n={color:new Lt,position:new ie,halfWidth:new ie,halfHeight:new ie};break}return t[e.id]=n,n}}}function ttt(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ge};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ge};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ge,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let ntt=0;function rtt(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function itt(t){const e=new ett,n=ttt(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)r.probe.push(new ie);const i=new ie,s=new Pn,a=new Pn;function o(c){let d=0,f=0,h=0;for(let O=0;O<9;O++)r.probe[O].set(0,0,0);let m=0,v=0,b=0,y=0,w=0,S=0,M=0,T=0,A=0,C=0,j=0;c.sort(rtt);for(let O=0,k=c.length;O<k;O++){const F=c[O],G=F.color,Y=F.intensity,U=F.distance;let W=null;if(F.shadow&&F.shadow.map&&(F.shadow.map.texture.format===l0?W=F.shadow.map.texture:W=F.shadow.map.depthTexture||F.shadow.map.texture),F.isAmbientLight)d+=G.r*Y,f+=G.g*Y,h+=G.b*Y;else if(F.isLightProbe){for(let q=0;q<9;q++)r.probe[q].addScaledVector(F.sh.coefficients[q],Y);j++}else if(F.isDirectionalLight){const q=e.get(F);if(q.color.copy(F.color).multiplyScalar(F.intensity),F.castShadow){const Z=F.shadow,V=n.get(F);V.shadowIntensity=Z.intensity,V.shadowBias=Z.bias,V.shadowNormalBias=Z.normalBias,V.shadowRadius=Z.radius,V.shadowMapSize=Z.mapSize,r.directionalShadow[m]=V,r.directionalShadowMap[m]=W,r.directionalShadowMatrix[m]=F.shadow.matrix,S++}r.directional[m]=q,m++}else if(F.isSpotLight){const q=e.get(F);q.position.setFromMatrixPosition(F.matrixWorld),q.color.copy(G).multiplyScalar(Y),q.distance=U,q.coneCos=Math.cos(F.angle),q.penumbraCos=Math.cos(F.angle*(1-F.penumbra)),q.decay=F.decay,r.spot[b]=q;const Z=F.shadow;if(F.map&&(r.spotLightMap[A]=F.map,A++,Z.updateMatrices(F),F.castShadow&&C++),r.spotLightMatrix[b]=Z.matrix,F.castShadow){const V=n.get(F);V.shadowIntensity=Z.intensity,V.shadowBias=Z.bias,V.shadowNormalBias=Z.normalBias,V.shadowRadius=Z.radius,V.shadowMapSize=Z.mapSize,r.spotShadow[b]=V,r.spotShadowMap[b]=W,T++}b++}else if(F.isRectAreaLight){const q=e.get(F);q.color.copy(G).multiplyScalar(Y),q.halfWidth.set(F.width*.5,0,0),q.halfHeight.set(0,F.height*.5,0),r.rectArea[y]=q,y++}else if(F.isPointLight){const q=e.get(F);if(q.color.copy(F.color).multiplyScalar(F.intensity),q.distance=F.distance,q.decay=F.decay,F.castShadow){const Z=F.shadow,V=n.get(F);V.shadowIntensity=Z.intensity,V.shadowBias=Z.bias,V.shadowNormalBias=Z.normalBias,V.shadowRadius=Z.radius,V.shadowMapSize=Z.mapSize,V.shadowCameraNear=Z.camera.near,V.shadowCameraFar=Z.camera.far,r.pointShadow[v]=V,r.pointShadowMap[v]=W,r.pointShadowMatrix[v]=F.shadow.matrix,M++}r.point[v]=q,v++}else if(F.isHemisphereLight){const q=e.get(F);q.skyColor.copy(F.color).multiplyScalar(Y),q.groundColor.copy(F.groundColor).multiplyScalar(Y),r.hemi[w]=q,w++}}y>0&&(t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Nt.LTC_FLOAT_1,r.rectAreaLTC2=Nt.LTC_FLOAT_2):(r.rectAreaLTC1=Nt.LTC_HALF_1,r.rectAreaLTC2=Nt.LTC_HALF_2)),r.ambient[0]=d,r.ambient[1]=f,r.ambient[2]=h;const L=r.hash;(L.directionalLength!==m||L.pointLength!==v||L.spotLength!==b||L.rectAreaLength!==y||L.hemiLength!==w||L.numDirectionalShadows!==S||L.numPointShadows!==M||L.numSpotShadows!==T||L.numSpotMaps!==A||L.numLightProbes!==j)&&(r.directional.length=m,r.spot.length=b,r.rectArea.length=y,r.point.length=v,r.hemi.length=w,r.directionalShadow.length=S,r.directionalShadowMap.length=S,r.pointShadow.length=M,r.pointShadowMap.length=M,r.spotShadow.length=T,r.spotShadowMap.length=T,r.directionalShadowMatrix.length=S,r.pointShadowMatrix.length=M,r.spotLightMatrix.length=T+A-C,r.spotLightMap.length=A,r.numSpotLightShadowsWithMaps=C,r.numLightProbes=j,L.directionalLength=m,L.pointLength=v,L.spotLength=b,L.rectAreaLength=y,L.hemiLength=w,L.numDirectionalShadows=S,L.numPointShadows=M,L.numSpotShadows=T,L.numSpotMaps=A,L.numLightProbes=j,r.version=ntt++)}function l(c,d){let f=0,h=0,m=0,v=0,b=0;const y=d.matrixWorldInverse;for(let w=0,S=c.length;w<S;w++){const M=c[w];if(M.isDirectionalLight){const T=r.directional[f];T.direction.setFromMatrixPosition(M.matrixWorld),i.setFromMatrixPosition(M.target.matrixWorld),T.direction.sub(i),T.direction.transformDirection(y),f++}else if(M.isSpotLight){const T=r.spot[m];T.position.setFromMatrixPosition(M.matrixWorld),T.position.applyMatrix4(y),T.direction.setFromMatrixPosition(M.matrixWorld),i.setFromMatrixPosition(M.target.matrixWorld),T.direction.sub(i),T.direction.transformDirection(y),m++}else if(M.isRectAreaLight){const T=r.rectArea[v];T.position.setFromMatrixPosition(M.matrixWorld),T.position.applyMatrix4(y),a.identity(),s.copy(M.matrixWorld),s.premultiply(y),a.extractRotation(s),T.halfWidth.set(M.width*.5,0,0),T.halfHeight.set(0,M.height*.5,0),T.halfWidth.applyMatrix4(a),T.halfHeight.applyMatrix4(a),v++}else if(M.isPointLight){const T=r.point[h];T.position.setFromMatrixPosition(M.matrixWorld),T.position.applyMatrix4(y),h++}else if(M.isHemisphereLight){const T=r.hemi[b];T.direction.setFromMatrixPosition(M.matrixWorld),T.direction.transformDirection(y),b++}}}return{setup:o,setupView:l,state:r}}function YJ(t){const e=new itt(t),n=[],r=[];function i(d){c.camera=d,n.length=0,r.length=0}function s(d){n.push(d)}function a(d){r.push(d)}function o(){e.setup(n)}function l(d){e.setupView(n,d)}const c={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:c,setupLights:o,setupLightsView:l,pushLight:s,pushShadow:a}}function stt(t){let e=new WeakMap;function n(i,s=0){const a=e.get(i);let o;return a===void 0?(o=new YJ(t),e.set(i,[o])):s>=a.length?(o=new YJ(t),a.push(o)):o=a[s],o}function r(){e=new WeakMap}return{get:n,dispose:r}}const att=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,ott=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ).rg;
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ).r;
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( max( 0.0, squared_mean - mean * mean ) );
	gl_FragColor = vec4( mean, std_dev, 0.0, 1.0 );
}`,ltt=[new ie(1,0,0),new ie(-1,0,0),new ie(0,1,0),new ie(0,-1,0),new ie(0,0,1),new ie(0,0,-1)],ctt=[new ie(0,-1,0),new ie(0,-1,0),new ie(0,0,1),new ie(0,0,-1),new ie(0,-1,0),new ie(0,-1,0)],KJ=new Pn,l1=new ie,YL=new ie;function utt(t,e,n){let r=new Rb;const i=new Ge,s=new Ge,a=new Wr,o=new pO,l=new Y8,c={},d=n.maxTextureSize,f={[Gf]:Ja,[Ja]:Gf,[Ll]:Ll},h=new Ro({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ge},radius:{value:4}},vertexShader:att,fragmentShader:ott}),m=h.clone();m.defines.HORIZONTAL_PASS=1;const v=new jn;v.setAttribute("position",new kr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const b=new Yi(v,h),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Zy;let w=this.type;this.render=function(C,j,L){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||C.length===0)return;C.type===Z1&&(At("WebGLShadowMap: PCFSoftShadowMap has been deprecated. Using PCFShadowMap instead."),C.type=Zy);const O=t.getRenderTarget(),k=t.getActiveCubeFace(),F=t.getActiveMipmapLevel(),G=t.state;G.setBlending(ed),G.buffers.depth.getReversed()===!0?G.buffers.color.setClear(0,0,0,0):G.buffers.color.setClear(1,1,1,1),G.buffers.depth.setTest(!0),G.setScissorTest(!1);const Y=w!==this.type;Y&&j.traverse(function(U){U.material&&(Array.isArray(U.material)?U.material.forEach(W=>W.needsUpdate=!0):U.material.needsUpdate=!0)});for(let U=0,W=C.length;U<W;U++){const q=C[U],Z=q.shadow;if(Z===void 0){At("WebGLShadowMap:",q,"has no shadow.");continue}if(Z.autoUpdate===!1&&Z.needsUpdate===!1)continue;i.copy(Z.mapSize);const V=Z.getFrameExtents();if(i.multiply(V),s.copy(Z.mapSize),(i.x>d||i.y>d)&&(i.x>d&&(s.x=Math.floor(d/V.x),i.x=s.x*V.x,Z.mapSize.x=s.x),i.y>d&&(s.y=Math.floor(d/V.y),i.y=s.y*V.y,Z.mapSize.y=s.y)),Z.map===null||Y===!0){if(Z.map!==null&&(Z.map.depthTexture!==null&&(Z.map.depthTexture.dispose(),Z.map.depthTexture=null),Z.map.dispose()),this.type===Eg){if(q.isPointLight){At("WebGLShadowMap: VSM shadow maps are not supported for PointLights. Use PCF or BasicShadowMap instead.");continue}Z.map=new eo(i.x,i.y,{format:l0,type:cd,minFilter:si,magFilter:si,generateMipmaps:!1}),Z.map.texture.name=q.name+".shadowMap",Z.map.depthTexture=new Zx(i.x,i.y,Qa),Z.map.depthTexture.name=q.name+".shadowMapDepth",Z.map.depthTexture.format=ud,Z.map.depthTexture.compareFunction=null,Z.map.depthTexture.minFilter=Gi,Z.map.depthTexture.magFilter=Gi}else{q.isPointLight?(Z.map=new D8(i.x),Z.map.depthTexture=new ipe(i.x,Xl)):(Z.map=new eo(i.x,i.y),Z.map.depthTexture=new Zx(i.x,i.y,Xl)),Z.map.depthTexture.name=q.name+".shadowMap",Z.map.depthTexture.format=ud;const ee=t.state.buffers.depth.getReversed();this.type===Zy?(Z.map.depthTexture.compareFunction=ee?GR:WR,Z.map.depthTexture.minFilter=si,Z.map.depthTexture.magFilter=si):(Z.map.depthTexture.compareFunction=null,Z.map.depthTexture.minFilter=Gi,Z.map.depthTexture.magFilter=Gi)}Z.camera.updateProjectionMatrix()}const Q=Z.map.isWebGLCubeRenderTarget?6:1;for(let ee=0;ee<Q;ee++){if(Z.map.isWebGLCubeRenderTarget)t.setRenderTarget(Z.map,ee),t.clear();else{ee===0&&(t.setRenderTarget(Z.map),t.clear());const $=Z.getViewport(ee);a.set(s.x*$.x,s.y*$.y,s.x*$.z,s.y*$.w),G.viewport(a)}if(q.isPointLight){const $=Z.camera,J=Z.matrix,de=q.distance||$.far;de!==$.far&&($.far=de,$.updateProjectionMatrix()),l1.setFromMatrixPosition(q.matrixWorld),$.position.copy(l1),YL.copy($.position),YL.add(ltt[ee]),$.up.copy(ctt[ee]),$.lookAt(YL),$.updateMatrixWorld(),J.makeTranslation(-l1.x,-l1.y,-l1.z),KJ.multiplyMatrices($.projectionMatrix,$.matrixWorldInverse),Z._frustum.setFromProjectionMatrix(KJ,$.coordinateSystem,$.reversedDepth)}else Z.updateMatrices(q);r=Z.getFrustum(),T(j,L,Z.camera,q,this.type)}Z.isPointLightShadow!==!0&&this.type===Eg&&S(Z,L),Z.needsUpdate=!1}w=this.type,y.needsUpdate=!1,t.setRenderTarget(O,k,F)};function S(C,j){const L=e.update(b);h.defines.VSM_SAMPLES!==C.blurSamples&&(h.defines.VSM_SAMPLES=C.blurSamples,m.defines.VSM_SAMPLES=C.blurSamples,h.needsUpdate=!0,m.needsUpdate=!0),C.mapPass===null&&(C.mapPass=new eo(i.x,i.y,{format:l0,type:cd})),h.uniforms.shadow_pass.value=C.map.depthTexture,h.uniforms.resolution.value=C.mapSize,h.uniforms.radius.value=C.radius,t.setRenderTarget(C.mapPass),t.clear(),t.renderBufferDirect(j,null,L,h,b,null),m.uniforms.shadow_pass.value=C.mapPass.texture,m.uniforms.resolution.value=C.mapSize,m.uniforms.radius.value=C.radius,t.setRenderTarget(C.map),t.clear(),t.renderBufferDirect(j,null,L,m,b,null)}function M(C,j,L,O){let k=null;const F=L.isPointLight===!0?C.customDistanceMaterial:C.customDepthMaterial;if(F!==void 0)k=F;else if(k=L.isPointLight===!0?l:o,t.localClippingEnabled&&j.clipShadows===!0&&Array.isArray(j.clippingPlanes)&&j.clippingPlanes.length!==0||j.displacementMap&&j.displacementScale!==0||j.alphaMap&&j.alphaTest>0||j.map&&j.alphaTest>0||j.alphaToCoverage===!0){const G=k.uuid,Y=j.uuid;let U=c[G];U===void 0&&(U={},c[G]=U);let W=U[Y];W===void 0&&(W=k.clone(),U[Y]=W,j.addEventListener("dispose",A)),k=W}if(k.visible=j.visible,k.wireframe=j.wireframe,O===Eg?k.side=j.shadowSide!==null?j.shadowSide:j.side:k.side=j.shadowSide!==null?j.shadowSide:f[j.side],k.alphaMap=j.alphaMap,k.alphaTest=j.alphaToCoverage===!0?.5:j.alphaTest,k.map=j.map,k.clipShadows=j.clipShadows,k.clippingPlanes=j.clippingPlanes,k.clipIntersection=j.clipIntersection,k.displacementMap=j.displacementMap,k.displacementScale=j.displacementScale,k.displacementBias=j.displacementBias,k.wireframeLinewidth=j.wireframeLinewidth,k.linewidth=j.linewidth,L.isPointLight===!0&&k.isMeshDistanceMaterial===!0){const G=t.properties.get(k);G.light=L}return k}function T(C,j,L,O,k){if(C.visible===!1)return;if(C.layers.test(j.layers)&&(C.isMesh||C.isLine||C.isPoints)&&(C.castShadow||C.receiveShadow&&k===Eg)&&(!C.frustumCulled||r.intersectsObject(C))){C.modelViewMatrix.multiplyMatrices(L.matrixWorldInverse,C.matrixWorld);const Y=e.update(C),U=C.material;if(Array.isArray(U)){const W=Y.groups;for(let q=0,Z=W.length;q<Z;q++){const V=W[q],Q=U[V.materialIndex];if(Q&&Q.visible){const ee=M(C,Q,O,k);C.onBeforeShadow(t,C,j,L,Y,ee,V),t.renderBufferDirect(L,null,Y,ee,C,V),C.onAfterShadow(t,C,j,L,Y,ee,V)}}}else if(U.visible){const W=M(C,U,O,k);C.onBeforeShadow(t,C,j,L,Y,W,null),t.renderBufferDirect(L,null,Y,W,C,null),C.onAfterShadow(t,C,j,L,Y,W,null)}}const G=C.children;for(let Y=0,U=G.length;Y<U;Y++)T(G[Y],j,L,O,k)}function A(C){C.target.removeEventListener("dispose",A);for(const L in c){const O=c[L],k=C.target.uuid;k in O&&(O[k].dispose(),delete O[k])}}}const dtt={[HC]:WC,[GC]:YC,[qC]:KC,[o0]:XC,[WC]:HC,[YC]:GC,[KC]:qC,[XC]:o0};function ftt(t,e){function n(){let fe=!1;const at=new Wr;let et=null;const yt=new Wr(0,0,0,0);return{setMask:function(it){et!==it&&!fe&&(t.colorMask(it,it,it,it),et=it)},setLocked:function(it){fe=it},setClear:function(it,qe,ct,an,er){er===!0&&(it*=an,qe*=an,ct*=an),at.set(it,qe,ct,an),yt.equals(at)===!1&&(t.clearColor(it,qe,ct,an),yt.copy(at))},reset:function(){fe=!1,et=null,yt.set(-1,0,0,0)}}}function r(){let fe=!1,at=!1,et=null,yt=null,it=null;return{setReversed:function(qe){if(at!==qe){const ct=e.get("EXT_clip_control");qe?ct.clipControlEXT(ct.LOWER_LEFT_EXT,ct.ZERO_TO_ONE_EXT):ct.clipControlEXT(ct.LOWER_LEFT_EXT,ct.NEGATIVE_ONE_TO_ONE_EXT),at=qe;const an=it;it=null,this.setClear(an)}},getReversed:function(){return at},setTest:function(qe){qe?pe(t.DEPTH_TEST):Oe(t.DEPTH_TEST)},setMask:function(qe){et!==qe&&!fe&&(t.depthMask(qe),et=qe)},setFunc:function(qe){if(at&&(qe=dtt[qe]),yt!==qe){switch(qe){case HC:t.depthFunc(t.NEVER);break;case WC:t.depthFunc(t.ALWAYS);break;case GC:t.depthFunc(t.LESS);break;case o0:t.depthFunc(t.LEQUAL);break;case qC:t.depthFunc(t.EQUAL);break;case XC:t.depthFunc(t.GEQUAL);break;case YC:t.depthFunc(t.GREATER);break;case KC:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}yt=qe}},setLocked:function(qe){fe=qe},setClear:function(qe){it!==qe&&(at&&(qe=1-qe),t.clearDepth(qe),it=qe)},reset:function(){fe=!1,et=null,yt=null,it=null,at=!1}}}function i(){let fe=!1,at=null,et=null,yt=null,it=null,qe=null,ct=null,an=null,er=null;return{setTest:function(Un){fe||(Un?pe(t.STENCIL_TEST):Oe(t.STENCIL_TEST))},setMask:function(Un){at!==Un&&!fe&&(t.stencilMask(Un),at=Un)},setFunc:function(Un,Ei,Mi){(et!==Un||yt!==Ei||it!==Mi)&&(t.stencilFunc(Un,Ei,Mi),et=Un,yt=Ei,it=Mi)},setOp:function(Un,Ei,Mi){(qe!==Un||ct!==Ei||an!==Mi)&&(t.stencilOp(Un,Ei,Mi),qe=Un,ct=Ei,an=Mi)},setLocked:function(Un){fe=Un},setClear:function(Un){er!==Un&&(t.clearStencil(Un),er=Un)},reset:function(){fe=!1,at=null,et=null,yt=null,it=null,qe=null,ct=null,an=null,er=null}}}const s=new n,a=new r,o=new i,l=new WeakMap,c=new WeakMap;let d={},f={},h=new WeakMap,m=[],v=null,b=!1,y=null,w=null,S=null,M=null,T=null,A=null,C=null,j=new Lt(0,0,0),L=0,O=!1,k=null,F=null,G=null,Y=null,U=null;const W=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let q=!1,Z=0;const V=t.getParameter(t.VERSION);V.indexOf("WebGL")!==-1?(Z=parseFloat(/^WebGL (\d)/.exec(V)[1]),q=Z>=1):V.indexOf("OpenGL ES")!==-1&&(Z=parseFloat(/^OpenGL ES (\d)/.exec(V)[1]),q=Z>=2);let Q=null,ee={};const $=t.getParameter(t.SCISSOR_BOX),J=t.getParameter(t.VIEWPORT),de=new Wr().fromArray($),Ae=new Wr().fromArray(J);function Ue(fe,at,et,yt){const it=new Uint8Array(4),qe=t.createTexture();t.bindTexture(fe,qe),t.texParameteri(fe,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(fe,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let ct=0;ct<et;ct++)fe===t.TEXTURE_3D||fe===t.TEXTURE_2D_ARRAY?t.texImage3D(at,0,t.RGBA,1,1,yt,0,t.RGBA,t.UNSIGNED_BYTE,it):t.texImage2D(at+ct,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,it);return qe}const ge={};ge[t.TEXTURE_2D]=Ue(t.TEXTURE_2D,t.TEXTURE_2D,1),ge[t.TEXTURE_CUBE_MAP]=Ue(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),ge[t.TEXTURE_2D_ARRAY]=Ue(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),ge[t.TEXTURE_3D]=Ue(t.TEXTURE_3D,t.TEXTURE_3D,1,1),s.setClear(0,0,0,1),a.setClear(1),o.setClear(0),pe(t.DEPTH_TEST),a.setFunc(o0),Be(!1),Ye(Z5),pe(t.CULL_FACE),Ce(ed);function pe(fe){d[fe]!==!0&&(t.enable(fe),d[fe]=!0)}function Oe(fe){d[fe]!==!1&&(t.disable(fe),d[fe]=!1)}function xe(fe,at){return f[fe]!==at?(t.bindFramebuffer(fe,at),f[fe]=at,fe===t.DRAW_FRAMEBUFFER&&(f[t.FRAMEBUFFER]=at),fe===t.FRAMEBUFFER&&(f[t.DRAW_FRAMEBUFFER]=at),!0):!1}function Me(fe,at){let et=m,yt=!1;if(fe){et=h.get(at),et===void 0&&(et=[],h.set(at,et));const it=fe.textures;if(et.length!==it.length||et[0]!==t.COLOR_ATTACHMENT0){for(let qe=0,ct=it.length;qe<ct;qe++)et[qe]=t.COLOR_ATTACHMENT0+qe;et.length=it.length,yt=!0}}else et[0]!==t.BACK&&(et[0]=t.BACK,yt=!0);yt&&t.drawBuffers(et)}function Ie(fe){return v!==fe?(t.useProgram(fe),v=fe,!0):!1}const Te={[np]:t.FUNC_ADD,[uhe]:t.FUNC_SUBTRACT,[dhe]:t.FUNC_REVERSE_SUBTRACT};Te[fhe]=t.MIN,Te[hhe]=t.MAX;const Xe={[phe]:t.ZERO,[mhe]:t.ONE,[ghe]:t.SRC_COLOR,[VC]:t.SRC_ALPHA,[_he]:t.SRC_ALPHA_SATURATE,[bhe]:t.DST_COLOR,[yhe]:t.DST_ALPHA,[vhe]:t.ONE_MINUS_SRC_COLOR,[$C]:t.ONE_MINUS_SRC_ALPHA,[whe]:t.ONE_MINUS_DST_COLOR,[xhe]:t.ONE_MINUS_DST_ALPHA,[She]:t.CONSTANT_COLOR,[Ehe]:t.ONE_MINUS_CONSTANT_COLOR,[Mhe]:t.CONSTANT_ALPHA,[The]:t.ONE_MINUS_CONSTANT_ALPHA};function Ce(fe,at,et,yt,it,qe,ct,an,er,Un){if(fe===ed){b===!0&&(Oe(t.BLEND),b=!1);return}if(b===!1&&(pe(t.BLEND),b=!0),fe!==che){if(fe!==y||Un!==O){if((w!==np||T!==np)&&(t.blendEquation(t.FUNC_ADD),w=np,T=np),Un)switch(fe){case Lg:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case Q5:t.blendFunc(t.ONE,t.ONE);break;case J5:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case eU:t.blendFuncSeparate(t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ZERO,t.ONE);break;default:dn("WebGLState: Invalid blending: ",fe);break}else switch(fe){case Lg:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case Q5:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE,t.ONE,t.ONE);break;case J5:dn("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case eU:dn("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:dn("WebGLState: Invalid blending: ",fe);break}S=null,M=null,A=null,C=null,j.set(0,0,0),L=0,y=fe,O=Un}return}it=it||at,qe=qe||et,ct=ct||yt,(at!==w||it!==T)&&(t.blendEquationSeparate(Te[at],Te[it]),w=at,T=it),(et!==S||yt!==M||qe!==A||ct!==C)&&(t.blendFuncSeparate(Xe[et],Xe[yt],Xe[qe],Xe[ct]),S=et,M=yt,A=qe,C=ct),(an.equals(j)===!1||er!==L)&&(t.blendColor(an.r,an.g,an.b,er),j.copy(an),L=er),y=fe,O=!1}function $e(fe,at){fe.side===Ll?Oe(t.CULL_FACE):pe(t.CULL_FACE);let et=fe.side===Ja;at&&(et=!et),Be(et),fe.blending===Lg&&fe.transparent===!1?Ce(ed):Ce(fe.blending,fe.blendEquation,fe.blendSrc,fe.blendDst,fe.blendEquationAlpha,fe.blendSrcAlpha,fe.blendDstAlpha,fe.blendColor,fe.blendAlpha,fe.premultipliedAlpha),a.setFunc(fe.depthFunc),a.setTest(fe.depthTest),a.setMask(fe.depthWrite),s.setMask(fe.colorWrite);const yt=fe.stencilWrite;o.setTest(yt),yt&&(o.setMask(fe.stencilWriteMask),o.setFunc(fe.stencilFunc,fe.stencilRef,fe.stencilFuncMask),o.setOp(fe.stencilFail,fe.stencilZFail,fe.stencilZPass)),Ot(fe.polygonOffset,fe.polygonOffsetFactor,fe.polygonOffsetUnits),fe.alphaToCoverage===!0?pe(t.SAMPLE_ALPHA_TO_COVERAGE):Oe(t.SAMPLE_ALPHA_TO_COVERAGE)}function Be(fe){k!==fe&&(fe?t.frontFace(t.CW):t.frontFace(t.CCW),k=fe)}function Ye(fe){fe!==ahe?(pe(t.CULL_FACE),fe!==F&&(fe===Z5?t.cullFace(t.BACK):fe===ohe?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Oe(t.CULL_FACE),F=fe}function ae(fe){fe!==G&&(q&&t.lineWidth(fe),G=fe)}function Ot(fe,at,et){fe?(pe(t.POLYGON_OFFSET_FILL),(Y!==at||U!==et)&&(t.polygonOffset(at,et),Y=at,U=et)):Oe(t.POLYGON_OFFSET_FILL)}function dt(fe){fe?pe(t.SCISSOR_TEST):Oe(t.SCISSOR_TEST)}function jt(fe){fe===void 0&&(fe=t.TEXTURE0+W-1),Q!==fe&&(t.activeTexture(fe),Q=fe)}function re(fe,at,et){et===void 0&&(Q===null?et=t.TEXTURE0+W-1:et=Q);let yt=ee[et];yt===void 0&&(yt={type:void 0,texture:void 0},ee[et]=yt),(yt.type!==fe||yt.texture!==at)&&(Q!==et&&(t.activeTexture(et),Q=et),t.bindTexture(fe,at||ge[fe]),yt.type=fe,yt.texture=at)}function K(){const fe=ee[Q];fe!==void 0&&fe.type!==void 0&&(t.bindTexture(fe.type,null),fe.type=void 0,fe.texture=void 0)}function H(){try{t.compressedTexImage2D(...arguments)}catch(fe){dn("WebGLState:",fe)}}function oe(){try{t.compressedTexImage3D(...arguments)}catch(fe){dn("WebGLState:",fe)}}function he(){try{t.texSubImage2D(...arguments)}catch(fe){dn("WebGLState:",fe)}}function me(){try{t.texSubImage3D(...arguments)}catch(fe){dn("WebGLState:",fe)}}function ye(){try{t.compressedTexSubImage2D(...arguments)}catch(fe){dn("WebGLState:",fe)}}function nt(){try{t.compressedTexSubImage3D(...arguments)}catch(fe){dn("WebGLState:",fe)}}function Ke(){try{t.texStorage2D(...arguments)}catch(fe){dn("WebGLState:",fe)}}function pt(){try{t.texStorage3D(...arguments)}catch(fe){dn("WebGLState:",fe)}}function cn(){try{t.texImage2D(...arguments)}catch(fe){dn("WebGLState:",fe)}}function Je(){try{t.texImage3D(...arguments)}catch(fe){dn("WebGLState:",fe)}}function mt(fe){de.equals(fe)===!1&&(t.scissor(fe.x,fe.y,fe.z,fe.w),de.copy(fe))}function Dt(fe){Ae.equals(fe)===!1&&(t.viewport(fe.x,fe.y,fe.z,fe.w),Ae.copy(fe))}function ue(fe,at){let et=c.get(at);et===void 0&&(et=new WeakMap,c.set(at,et));let yt=et.get(fe);yt===void 0&&(yt=t.getUniformBlockIndex(at,fe.name),et.set(fe,yt))}function Pe(fe,at){const yt=c.get(at).get(fe);l.get(at)!==yt&&(t.uniformBlockBinding(at,yt,fe.__bindingPointIndex),l.set(at,yt))}function lt(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),a.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),d={},Q=null,ee={},f={},h=new WeakMap,m=[],v=null,b=!1,y=null,w=null,S=null,M=null,T=null,A=null,C=null,j=new Lt(0,0,0),L=0,O=!1,k=null,F=null,G=null,Y=null,U=null,de.set(0,0,t.canvas.width,t.canvas.height),Ae.set(0,0,t.canvas.width,t.canvas.height),s.reset(),a.reset(),o.reset()}return{buffers:{color:s,depth:a,stencil:o},enable:pe,disable:Oe,bindFramebuffer:xe,drawBuffers:Me,useProgram:Ie,setBlending:Ce,setMaterial:$e,setFlipSided:Be,setCullFace:Ye,setLineWidth:ae,setPolygonOffset:Ot,setScissorTest:dt,activeTexture:jt,bindTexture:re,unbindTexture:K,compressedTexImage2D:H,compressedTexImage3D:oe,texImage2D:cn,texImage3D:Je,updateUBOMapping:ue,uniformBlockBinding:Pe,texStorage2D:Ke,texStorage3D:pt,texSubImage2D:he,texSubImage3D:me,compressedTexSubImage2D:ye,compressedTexSubImage3D:nt,scissor:mt,viewport:Dt,reset:lt}}function htt(t,e,n,r,i,s,a){const o=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new Ge,d=new WeakMap;let f;const h=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function v(K,H){return m?new OffscreenCanvas(K,H):kS("canvas")}function b(K,H,oe){let he=1;const me=re(K);if((me.width>oe||me.height>oe)&&(he=oe/Math.max(me.width,me.height)),he<1)if(typeof HTMLImageElement<"u"&&K instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&K instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&K instanceof ImageBitmap||typeof VideoFrame<"u"&&K instanceof VideoFrame){const ye=Math.floor(he*me.width),nt=Math.floor(he*me.height);f===void 0&&(f=v(ye,nt));const Ke=H?v(ye,nt):f;return Ke.width=ye,Ke.height=nt,Ke.getContext("2d").drawImage(K,0,0,ye,nt),At("WebGLRenderer: Texture has been resized from ("+me.width+"x"+me.height+") to ("+ye+"x"+nt+")."),Ke}else return"data"in K&&At("WebGLRenderer: Image in DataTexture is too big ("+me.width+"x"+me.height+")."),K;return K}function y(K){return K.generateMipmaps}function w(K){t.generateMipmap(K)}function S(K){return K.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:K.isWebGL3DRenderTarget?t.TEXTURE_3D:K.isWebGLArrayRenderTarget||K.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function M(K,H,oe,he,me=!1){if(K!==null){if(t[K]!==void 0)return t[K];At("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+K+"'")}let ye=H;if(H===t.RED&&(oe===t.FLOAT&&(ye=t.R32F),oe===t.HALF_FLOAT&&(ye=t.R16F),oe===t.UNSIGNED_BYTE&&(ye=t.R8)),H===t.RED_INTEGER&&(oe===t.UNSIGNED_BYTE&&(ye=t.R8UI),oe===t.UNSIGNED_SHORT&&(ye=t.R16UI),oe===t.UNSIGNED_INT&&(ye=t.R32UI),oe===t.BYTE&&(ye=t.R8I),oe===t.SHORT&&(ye=t.R16I),oe===t.INT&&(ye=t.R32I)),H===t.RG&&(oe===t.FLOAT&&(ye=t.RG32F),oe===t.HALF_FLOAT&&(ye=t.RG16F),oe===t.UNSIGNED_BYTE&&(ye=t.RG8)),H===t.RG_INTEGER&&(oe===t.UNSIGNED_BYTE&&(ye=t.RG8UI),oe===t.UNSIGNED_SHORT&&(ye=t.RG16UI),oe===t.UNSIGNED_INT&&(ye=t.RG32UI),oe===t.BYTE&&(ye=t.RG8I),oe===t.SHORT&&(ye=t.RG16I),oe===t.INT&&(ye=t.RG32I)),H===t.RGB_INTEGER&&(oe===t.UNSIGNED_BYTE&&(ye=t.RGB8UI),oe===t.UNSIGNED_SHORT&&(ye=t.RGB16UI),oe===t.UNSIGNED_INT&&(ye=t.RGB32UI),oe===t.BYTE&&(ye=t.RGB8I),oe===t.SHORT&&(ye=t.RGB16I),oe===t.INT&&(ye=t.RGB32I)),H===t.RGBA_INTEGER&&(oe===t.UNSIGNED_BYTE&&(ye=t.RGBA8UI),oe===t.UNSIGNED_SHORT&&(ye=t.RGBA16UI),oe===t.UNSIGNED_INT&&(ye=t.RGBA32UI),oe===t.BYTE&&(ye=t.RGBA8I),oe===t.SHORT&&(ye=t.RGBA16I),oe===t.INT&&(ye=t.RGBA32I)),H===t.RGB&&(oe===t.UNSIGNED_INT_5_9_9_9_REV&&(ye=t.RGB9_E5),oe===t.UNSIGNED_INT_10F_11F_11F_REV&&(ye=t.R11F_G11F_B10F)),H===t.RGBA){const nt=me?jS:cr.getTransfer(he);oe===t.FLOAT&&(ye=t.RGBA32F),oe===t.HALF_FLOAT&&(ye=t.RGBA16F),oe===t.UNSIGNED_BYTE&&(ye=nt===Pr?t.SRGB8_ALPHA8:t.RGBA8),oe===t.UNSIGNED_SHORT_4_4_4_4&&(ye=t.RGBA4),oe===t.UNSIGNED_SHORT_5_5_5_1&&(ye=t.RGB5_A1)}return(ye===t.R16F||ye===t.R32F||ye===t.RG16F||ye===t.RG32F||ye===t.RGBA16F||ye===t.RGBA32F)&&e.get("EXT_color_buffer_float"),ye}function T(K,H){let oe;return K?H===null||H===Xl||H===Wx?oe=t.DEPTH24_STENCIL8:H===Qa?oe=t.DEPTH32F_STENCIL8:H===Hx&&(oe=t.DEPTH24_STENCIL8,At("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):H===null||H===Xl||H===Wx?oe=t.DEPTH_COMPONENT24:H===Qa?oe=t.DEPTH_COMPONENT32F:H===Hx&&(oe=t.DEPTH_COMPONENT16),oe}function A(K,H){return y(K)===!0||K.isFramebufferTexture&&K.minFilter!==Gi&&K.minFilter!==si?Math.log2(Math.max(H.width,H.height))+1:K.mipmaps!==void 0&&K.mipmaps.length>0?K.mipmaps.length:K.isCompressedTexture&&Array.isArray(K.image)?H.mipmaps.length:1}function C(K){const H=K.target;H.removeEventListener("dispose",C),L(H),H.isVideoTexture&&d.delete(H)}function j(K){const H=K.target;H.removeEventListener("dispose",j),k(H)}function L(K){const H=r.get(K);if(H.__webglInit===void 0)return;const oe=K.source,he=h.get(oe);if(he){const me=he[H.__cacheKey];me.usedTimes--,me.usedTimes===0&&O(K),Object.keys(he).length===0&&h.delete(oe)}r.remove(K)}function O(K){const H=r.get(K);t.deleteTexture(H.__webglTexture);const oe=K.source,he=h.get(oe);delete he[H.__cacheKey],a.memory.textures--}function k(K){const H=r.get(K);if(K.depthTexture&&(K.depthTexture.dispose(),r.remove(K.depthTexture)),K.isWebGLCubeRenderTarget)for(let he=0;he<6;he++){if(Array.isArray(H.__webglFramebuffer[he]))for(let me=0;me<H.__webglFramebuffer[he].length;me++)t.deleteFramebuffer(H.__webglFramebuffer[he][me]);else t.deleteFramebuffer(H.__webglFramebuffer[he]);H.__webglDepthbuffer&&t.deleteRenderbuffer(H.__webglDepthbuffer[he])}else{if(Array.isArray(H.__webglFramebuffer))for(let he=0;he<H.__webglFramebuffer.length;he++)t.deleteFramebuffer(H.__webglFramebuffer[he]);else t.deleteFramebuffer(H.__webglFramebuffer);if(H.__webglDepthbuffer&&t.deleteRenderbuffer(H.__webglDepthbuffer),H.__webglMultisampledFramebuffer&&t.deleteFramebuffer(H.__webglMultisampledFramebuffer),H.__webglColorRenderbuffer)for(let he=0;he<H.__webglColorRenderbuffer.length;he++)H.__webglColorRenderbuffer[he]&&t.deleteRenderbuffer(H.__webglColorRenderbuffer[he]);H.__webglDepthRenderbuffer&&t.deleteRenderbuffer(H.__webglDepthRenderbuffer)}const oe=K.textures;for(let he=0,me=oe.length;he<me;he++){const ye=r.get(oe[he]);ye.__webglTexture&&(t.deleteTexture(ye.__webglTexture),a.memory.textures--),r.remove(oe[he])}r.remove(K)}let F=0;function G(){F=0}function Y(){const K=F;return K>=i.maxTextures&&At("WebGLTextures: Trying to use "+K+" texture units while this GPU supports only "+i.maxTextures),F+=1,K}function U(K){const H=[];return H.push(K.wrapS),H.push(K.wrapT),H.push(K.wrapR||0),H.push(K.magFilter),H.push(K.minFilter),H.push(K.anisotropy),H.push(K.internalFormat),H.push(K.format),H.push(K.type),H.push(K.generateMipmaps),H.push(K.premultiplyAlpha),H.push(K.flipY),H.push(K.unpackAlignment),H.push(K.colorSpace),H.join()}function W(K,H){const oe=r.get(K);if(K.isVideoTexture&&dt(K),K.isRenderTargetTexture===!1&&K.isExternalTexture!==!0&&K.version>0&&oe.__version!==K.version){const he=K.image;if(he===null)At("WebGLRenderer: Texture marked for update but no image data found.");else if(he.complete===!1)At("WebGLRenderer: Texture marked for update but image is incomplete");else{ge(oe,K,H);return}}else K.isExternalTexture&&(oe.__webglTexture=K.sourceTexture?K.sourceTexture:null);n.bindTexture(t.TEXTURE_2D,oe.__webglTexture,t.TEXTURE0+H)}function q(K,H){const oe=r.get(K);if(K.isRenderTargetTexture===!1&&K.version>0&&oe.__version!==K.version){ge(oe,K,H);return}else K.isExternalTexture&&(oe.__webglTexture=K.sourceTexture?K.sourceTexture:null);n.bindTexture(t.TEXTURE_2D_ARRAY,oe.__webglTexture,t.TEXTURE0+H)}function Z(K,H){const oe=r.get(K);if(K.isRenderTargetTexture===!1&&K.version>0&&oe.__version!==K.version){ge(oe,K,H);return}n.bindTexture(t.TEXTURE_3D,oe.__webglTexture,t.TEXTURE0+H)}function V(K,H){const oe=r.get(K);if(K.isCubeDepthTexture!==!0&&K.version>0&&oe.__version!==K.version){pe(oe,K,H);return}n.bindTexture(t.TEXTURE_CUBE_MAP,oe.__webglTexture,t.TEXTURE0+H)}const Q={[PS]:t.REPEAT,[Po]:t.CLAMP_TO_EDGE,[NS]:t.MIRRORED_REPEAT},ee={[Gi]:t.NEAREST,[E8]:t.NEAREST_MIPMAP_NEAREST,[Oy]:t.NEAREST_MIPMAP_LINEAR,[si]:t.LINEAR,[Q1]:t.LINEAR_MIPMAP_NEAREST,[$u]:t.LINEAR_MIPMAP_LINEAR},$={[khe]:t.NEVER,[Bhe]:t.ALWAYS,[Dhe]:t.LESS,[WR]:t.LEQUAL,[Lhe]:t.EQUAL,[GR]:t.GEQUAL,[Fhe]:t.GREATER,[Uhe]:t.NOTEQUAL};function J(K,H){if(H.type===Qa&&e.has("OES_texture_float_linear")===!1&&(H.magFilter===si||H.magFilter===Q1||H.magFilter===Oy||H.magFilter===$u||H.minFilter===si||H.minFilter===Q1||H.minFilter===Oy||H.minFilter===$u)&&At("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(K,t.TEXTURE_WRAP_S,Q[H.wrapS]),t.texParameteri(K,t.TEXTURE_WRAP_T,Q[H.wrapT]),(K===t.TEXTURE_3D||K===t.TEXTURE_2D_ARRAY)&&t.texParameteri(K,t.TEXTURE_WRAP_R,Q[H.wrapR]),t.texParameteri(K,t.TEXTURE_MAG_FILTER,ee[H.magFilter]),t.texParameteri(K,t.TEXTURE_MIN_FILTER,ee[H.minFilter]),H.compareFunction&&(t.texParameteri(K,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(K,t.TEXTURE_COMPARE_FUNC,$[H.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(H.magFilter===Gi||H.minFilter!==Oy&&H.minFilter!==$u||H.type===Qa&&e.has("OES_texture_float_linear")===!1)return;if(H.anisotropy>1||r.get(H).__currentAnisotropy){const oe=e.get("EXT_texture_filter_anisotropic");t.texParameterf(K,oe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(H.anisotropy,i.getMaxAnisotropy())),r.get(H).__currentAnisotropy=H.anisotropy}}}function de(K,H){let oe=!1;K.__webglInit===void 0&&(K.__webglInit=!0,H.addEventListener("dispose",C));const he=H.source;let me=h.get(he);me===void 0&&(me={},h.set(he,me));const ye=U(H);if(ye!==K.__cacheKey){me[ye]===void 0&&(me[ye]={texture:t.createTexture(),usedTimes:0},a.memory.textures++,oe=!0),me[ye].usedTimes++;const nt=me[K.__cacheKey];nt!==void 0&&(me[K.__cacheKey].usedTimes--,nt.usedTimes===0&&O(H)),K.__cacheKey=ye,K.__webglTexture=me[ye].texture}return oe}function Ae(K,H,oe){return Math.floor(Math.floor(K/oe)/H)}function Ue(K,H,oe,he){const ye=K.updateRanges;if(ye.length===0)n.texSubImage2D(t.TEXTURE_2D,0,0,0,H.width,H.height,oe,he,H.data);else{ye.sort((Je,mt)=>Je.start-mt.start);let nt=0;for(let Je=1;Je<ye.length;Je++){const mt=ye[nt],Dt=ye[Je],ue=mt.start+mt.count,Pe=Ae(Dt.start,H.width,4),lt=Ae(mt.start,H.width,4);Dt.start<=ue+1&&Pe===lt&&Ae(Dt.start+Dt.count-1,H.width,4)===Pe?mt.count=Math.max(mt.count,Dt.start+Dt.count-mt.start):(++nt,ye[nt]=Dt)}ye.length=nt+1;const Ke=t.getParameter(t.UNPACK_ROW_LENGTH),pt=t.getParameter(t.UNPACK_SKIP_PIXELS),cn=t.getParameter(t.UNPACK_SKIP_ROWS);t.pixelStorei(t.UNPACK_ROW_LENGTH,H.width);for(let Je=0,mt=ye.length;Je<mt;Je++){const Dt=ye[Je],ue=Math.floor(Dt.start/4),Pe=Math.ceil(Dt.count/4),lt=ue%H.width,fe=Math.floor(ue/H.width),at=Pe,et=1;t.pixelStorei(t.UNPACK_SKIP_PIXELS,lt),t.pixelStorei(t.UNPACK_SKIP_ROWS,fe),n.texSubImage2D(t.TEXTURE_2D,0,lt,fe,at,et,oe,he,H.data)}K.clearUpdateRanges(),t.pixelStorei(t.UNPACK_ROW_LENGTH,Ke),t.pixelStorei(t.UNPACK_SKIP_PIXELS,pt),t.pixelStorei(t.UNPACK_SKIP_ROWS,cn)}}function ge(K,H,oe){let he=t.TEXTURE_2D;(H.isDataArrayTexture||H.isCompressedArrayTexture)&&(he=t.TEXTURE_2D_ARRAY),H.isData3DTexture&&(he=t.TEXTURE_3D);const me=de(K,H),ye=H.source;n.bindTexture(he,K.__webglTexture,t.TEXTURE0+oe);const nt=r.get(ye);if(ye.version!==nt.__version||me===!0){n.activeTexture(t.TEXTURE0+oe);const Ke=cr.getPrimaries(cr.workingColorSpace),pt=H.colorSpace===wf?null:cr.getPrimaries(H.colorSpace),cn=H.colorSpace===wf||Ke===pt?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,H.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,H.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,H.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,cn);let Je=b(H.image,!1,i.maxTextureSize);Je=jt(H,Je);const mt=s.convert(H.format,H.colorSpace),Dt=s.convert(H.type);let ue=M(H.internalFormat,mt,Dt,H.colorSpace,H.isVideoTexture);J(he,H);let Pe;const lt=H.mipmaps,fe=H.isVideoTexture!==!0,at=nt.__version===void 0||me===!0,et=ye.dataReady,yt=A(H,Je);if(H.isDepthTexture)ue=T(H.format===ip,H.type),at&&(fe?n.texStorage2D(t.TEXTURE_2D,1,ue,Je.width,Je.height):n.texImage2D(t.TEXTURE_2D,0,ue,Je.width,Je.height,0,mt,Dt,null));else if(H.isDataTexture)if(lt.length>0){fe&&at&&n.texStorage2D(t.TEXTURE_2D,yt,ue,lt[0].width,lt[0].height);for(let it=0,qe=lt.length;it<qe;it++)Pe=lt[it],fe?et&&n.texSubImage2D(t.TEXTURE_2D,it,0,0,Pe.width,Pe.height,mt,Dt,Pe.data):n.texImage2D(t.TEXTURE_2D,it,ue,Pe.width,Pe.height,0,mt,Dt,Pe.data);H.generateMipmaps=!1}else fe?(at&&n.texStorage2D(t.TEXTURE_2D,yt,ue,Je.width,Je.height),et&&Ue(H,Je,mt,Dt)):n.texImage2D(t.TEXTURE_2D,0,ue,Je.width,Je.height,0,mt,Dt,Je.data);else if(H.isCompressedTexture)if(H.isCompressedArrayTexture){fe&&at&&n.texStorage3D(t.TEXTURE_2D_ARRAY,yt,ue,lt[0].width,lt[0].height,Je.depth);for(let it=0,qe=lt.length;it<qe;it++)if(Pe=lt[it],H.format!==Ea)if(mt!==null)if(fe){if(et)if(H.layerUpdates.size>0){const ct=dU(Pe.width,Pe.height,H.format,H.type);for(const an of H.layerUpdates){const er=Pe.data.subarray(an*ct/Pe.data.BYTES_PER_ELEMENT,(an+1)*ct/Pe.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,it,0,0,an,Pe.width,Pe.height,1,mt,er)}H.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,it,0,0,0,Pe.width,Pe.height,Je.depth,mt,Pe.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,it,ue,Pe.width,Pe.height,Je.depth,0,Pe.data,0,0);else At("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else fe?et&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,it,0,0,0,Pe.width,Pe.height,Je.depth,mt,Dt,Pe.data):n.texImage3D(t.TEXTURE_2D_ARRAY,it,ue,Pe.width,Pe.height,Je.depth,0,mt,Dt,Pe.data)}else{fe&&at&&n.texStorage2D(t.TEXTURE_2D,yt,ue,lt[0].width,lt[0].height);for(let it=0,qe=lt.length;it<qe;it++)Pe=lt[it],H.format!==Ea?mt!==null?fe?et&&n.compressedTexSubImage2D(t.TEXTURE_2D,it,0,0,Pe.width,Pe.height,mt,Pe.data):n.compressedTexImage2D(t.TEXTURE_2D,it,ue,Pe.width,Pe.height,0,Pe.data):At("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):fe?et&&n.texSubImage2D(t.TEXTURE_2D,it,0,0,Pe.width,Pe.height,mt,Dt,Pe.data):n.texImage2D(t.TEXTURE_2D,it,ue,Pe.width,Pe.height,0,mt,Dt,Pe.data)}else if(H.isDataArrayTexture)if(fe){if(at&&n.texStorage3D(t.TEXTURE_2D_ARRAY,yt,ue,Je.width,Je.height,Je.depth),et)if(H.layerUpdates.size>0){const it=dU(Je.width,Je.height,H.format,H.type);for(const qe of H.layerUpdates){const ct=Je.data.subarray(qe*it/Je.data.BYTES_PER_ELEMENT,(qe+1)*it/Je.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,qe,Je.width,Je.height,1,mt,Dt,ct)}H.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Je.width,Je.height,Je.depth,mt,Dt,Je.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,ue,Je.width,Je.height,Je.depth,0,mt,Dt,Je.data);else if(H.isData3DTexture)fe?(at&&n.texStorage3D(t.TEXTURE_3D,yt,ue,Je.width,Je.height,Je.depth),et&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Je.width,Je.height,Je.depth,mt,Dt,Je.data)):n.texImage3D(t.TEXTURE_3D,0,ue,Je.width,Je.height,Je.depth,0,mt,Dt,Je.data);else if(H.isFramebufferTexture){if(at)if(fe)n.texStorage2D(t.TEXTURE_2D,yt,ue,Je.width,Je.height);else{let it=Je.width,qe=Je.height;for(let ct=0;ct<yt;ct++)n.texImage2D(t.TEXTURE_2D,ct,ue,it,qe,0,mt,Dt,null),it>>=1,qe>>=1}}else if(lt.length>0){if(fe&&at){const it=re(lt[0]);n.texStorage2D(t.TEXTURE_2D,yt,ue,it.width,it.height)}for(let it=0,qe=lt.length;it<qe;it++)Pe=lt[it],fe?et&&n.texSubImage2D(t.TEXTURE_2D,it,0,0,mt,Dt,Pe):n.texImage2D(t.TEXTURE_2D,it,ue,mt,Dt,Pe);H.generateMipmaps=!1}else if(fe){if(at){const it=re(Je);n.texStorage2D(t.TEXTURE_2D,yt,ue,it.width,it.height)}et&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,mt,Dt,Je)}else n.texImage2D(t.TEXTURE_2D,0,ue,mt,Dt,Je);y(H)&&w(he),nt.__version=ye.version,H.onUpdate&&H.onUpdate(H)}K.__version=H.version}function pe(K,H,oe){if(H.image.length!==6)return;const he=de(K,H),me=H.source;n.bindTexture(t.TEXTURE_CUBE_MAP,K.__webglTexture,t.TEXTURE0+oe);const ye=r.get(me);if(me.version!==ye.__version||he===!0){n.activeTexture(t.TEXTURE0+oe);const nt=cr.getPrimaries(cr.workingColorSpace),Ke=H.colorSpace===wf?null:cr.getPrimaries(H.colorSpace),pt=H.colorSpace===wf||nt===Ke?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,H.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,H.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,H.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,pt);const cn=H.isCompressedTexture||H.image[0].isCompressedTexture,Je=H.image[0]&&H.image[0].isDataTexture,mt=[];for(let qe=0;qe<6;qe++)!cn&&!Je?mt[qe]=b(H.image[qe],!0,i.maxCubemapSize):mt[qe]=Je?H.image[qe].image:H.image[qe],mt[qe]=jt(H,mt[qe]);const Dt=mt[0],ue=s.convert(H.format,H.colorSpace),Pe=s.convert(H.type),lt=M(H.internalFormat,ue,Pe,H.colorSpace),fe=H.isVideoTexture!==!0,at=ye.__version===void 0||he===!0,et=me.dataReady;let yt=A(H,Dt);J(t.TEXTURE_CUBE_MAP,H);let it;if(cn){fe&&at&&n.texStorage2D(t.TEXTURE_CUBE_MAP,yt,lt,Dt.width,Dt.height);for(let qe=0;qe<6;qe++){it=mt[qe].mipmaps;for(let ct=0;ct<it.length;ct++){const an=it[ct];H.format!==Ea?ue!==null?fe?et&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+qe,ct,0,0,an.width,an.height,ue,an.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+qe,ct,lt,an.width,an.height,0,an.data):At("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):fe?et&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+qe,ct,0,0,an.width,an.height,ue,Pe,an.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+qe,ct,lt,an.width,an.height,0,ue,Pe,an.data)}}}else{if(it=H.mipmaps,fe&&at){it.length>0&&yt++;const qe=re(mt[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,yt,lt,qe.width,qe.height)}for(let qe=0;qe<6;qe++)if(Je){fe?et&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+qe,0,0,0,mt[qe].width,mt[qe].height,ue,Pe,mt[qe].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+qe,0,lt,mt[qe].width,mt[qe].height,0,ue,Pe,mt[qe].data);for(let ct=0;ct<it.length;ct++){const er=it[ct].image[qe].image;fe?et&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+qe,ct+1,0,0,er.width,er.height,ue,Pe,er.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+qe,ct+1,lt,er.width,er.height,0,ue,Pe,er.data)}}else{fe?et&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+qe,0,0,0,ue,Pe,mt[qe]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+qe,0,lt,ue,Pe,mt[qe]);for(let ct=0;ct<it.length;ct++){const an=it[ct];fe?et&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+qe,ct+1,0,0,ue,Pe,an.image[qe]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+qe,ct+1,lt,ue,Pe,an.image[qe])}}}y(H)&&w(t.TEXTURE_CUBE_MAP),ye.__version=me.version,H.onUpdate&&H.onUpdate(H)}K.__version=H.version}function Oe(K,H,oe,he,me,ye){const nt=s.convert(oe.format,oe.colorSpace),Ke=s.convert(oe.type),pt=M(oe.internalFormat,nt,Ke,oe.colorSpace),cn=r.get(H),Je=r.get(oe);if(Je.__renderTarget=H,!cn.__hasExternalTextures){const mt=Math.max(1,H.width>>ye),Dt=Math.max(1,H.height>>ye);me===t.TEXTURE_3D||me===t.TEXTURE_2D_ARRAY?n.texImage3D(me,ye,pt,mt,Dt,H.depth,0,nt,Ke,null):n.texImage2D(me,ye,pt,mt,Dt,0,nt,Ke,null)}n.bindFramebuffer(t.FRAMEBUFFER,K),Ot(H)?o.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,he,me,Je.__webglTexture,0,ae(H)):(me===t.TEXTURE_2D||me>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&me<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,he,me,Je.__webglTexture,ye),n.bindFramebuffer(t.FRAMEBUFFER,null)}function xe(K,H,oe){if(t.bindRenderbuffer(t.RENDERBUFFER,K),H.depthBuffer){const he=H.depthTexture,me=he&&he.isDepthTexture?he.type:null,ye=T(H.stencilBuffer,me),nt=H.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;Ot(H)?o.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ae(H),ye,H.width,H.height):oe?t.renderbufferStorageMultisample(t.RENDERBUFFER,ae(H),ye,H.width,H.height):t.renderbufferStorage(t.RENDERBUFFER,ye,H.width,H.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,nt,t.RENDERBUFFER,K)}else{const he=H.textures;for(let me=0;me<he.length;me++){const ye=he[me],nt=s.convert(ye.format,ye.colorSpace),Ke=s.convert(ye.type),pt=M(ye.internalFormat,nt,Ke,ye.colorSpace);Ot(H)?o.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ae(H),pt,H.width,H.height):oe?t.renderbufferStorageMultisample(t.RENDERBUFFER,ae(H),pt,H.width,H.height):t.renderbufferStorage(t.RENDERBUFFER,pt,H.width,H.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Me(K,H,oe){const he=H.isWebGLCubeRenderTarget===!0;if(n.bindFramebuffer(t.FRAMEBUFFER,K),!(H.depthTexture&&H.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const me=r.get(H.depthTexture);if(me.__renderTarget=H,(!me.__webglTexture||H.depthTexture.image.width!==H.width||H.depthTexture.image.height!==H.height)&&(H.depthTexture.image.width=H.width,H.depthTexture.image.height=H.height,H.depthTexture.needsUpdate=!0),he){if(me.__webglInit===void 0&&(me.__webglInit=!0,H.depthTexture.addEventListener("dispose",C)),me.__webglTexture===void 0){me.__webglTexture=t.createTexture(),n.bindTexture(t.TEXTURE_CUBE_MAP,me.__webglTexture),J(t.TEXTURE_CUBE_MAP,H.depthTexture);const cn=s.convert(H.depthTexture.format),Je=s.convert(H.depthTexture.type);let mt;H.depthTexture.format===ud?mt=t.DEPTH_COMPONENT24:H.depthTexture.format===ip&&(mt=t.DEPTH24_STENCIL8);for(let Dt=0;Dt<6;Dt++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Dt,0,mt,H.width,H.height,0,cn,Je,null)}}else W(H.depthTexture,0);const ye=me.__webglTexture,nt=ae(H),Ke=he?t.TEXTURE_CUBE_MAP_POSITIVE_X+oe:t.TEXTURE_2D,pt=H.depthTexture.format===ip?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;if(H.depthTexture.format===ud)Ot(H)?o.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,pt,Ke,ye,0,nt):t.framebufferTexture2D(t.FRAMEBUFFER,pt,Ke,ye,0);else if(H.depthTexture.format===ip)Ot(H)?o.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,pt,Ke,ye,0,nt):t.framebufferTexture2D(t.FRAMEBUFFER,pt,Ke,ye,0);else throw new Error("Unknown depthTexture format")}function Ie(K){const H=r.get(K),oe=K.isWebGLCubeRenderTarget===!0;if(H.__boundDepthTexture!==K.depthTexture){const he=K.depthTexture;if(H.__depthDisposeCallback&&H.__depthDisposeCallback(),he){const me=()=>{delete H.__boundDepthTexture,delete H.__depthDisposeCallback,he.removeEventListener("dispose",me)};he.addEventListener("dispose",me),H.__depthDisposeCallback=me}H.__boundDepthTexture=he}if(K.depthTexture&&!H.__autoAllocateDepthBuffer)if(oe)for(let he=0;he<6;he++)Me(H.__webglFramebuffer[he],K,he);else{const he=K.texture.mipmaps;he&&he.length>0?Me(H.__webglFramebuffer[0],K,0):Me(H.__webglFramebuffer,K,0)}else if(oe){H.__webglDepthbuffer=[];for(let he=0;he<6;he++)if(n.bindFramebuffer(t.FRAMEBUFFER,H.__webglFramebuffer[he]),H.__webglDepthbuffer[he]===void 0)H.__webglDepthbuffer[he]=t.createRenderbuffer(),xe(H.__webglDepthbuffer[he],K,!1);else{const me=K.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ye=H.__webglDepthbuffer[he];t.bindRenderbuffer(t.RENDERBUFFER,ye),t.framebufferRenderbuffer(t.FRAMEBUFFER,me,t.RENDERBUFFER,ye)}}else{const he=K.texture.mipmaps;if(he&&he.length>0?n.bindFramebuffer(t.FRAMEBUFFER,H.__webglFramebuffer[0]):n.bindFramebuffer(t.FRAMEBUFFER,H.__webglFramebuffer),H.__webglDepthbuffer===void 0)H.__webglDepthbuffer=t.createRenderbuffer(),xe(H.__webglDepthbuffer,K,!1);else{const me=K.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ye=H.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,ye),t.framebufferRenderbuffer(t.FRAMEBUFFER,me,t.RENDERBUFFER,ye)}}n.bindFramebuffer(t.FRAMEBUFFER,null)}function Te(K,H,oe){const he=r.get(K);H!==void 0&&Oe(he.__webglFramebuffer,K,K.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),oe!==void 0&&Ie(K)}function Xe(K){const H=K.texture,oe=r.get(K),he=r.get(H);K.addEventListener("dispose",j);const me=K.textures,ye=K.isWebGLCubeRenderTarget===!0,nt=me.length>1;if(nt||(he.__webglTexture===void 0&&(he.__webglTexture=t.createTexture()),he.__version=H.version,a.memory.textures++),ye){oe.__webglFramebuffer=[];for(let Ke=0;Ke<6;Ke++)if(H.mipmaps&&H.mipmaps.length>0){oe.__webglFramebuffer[Ke]=[];for(let pt=0;pt<H.mipmaps.length;pt++)oe.__webglFramebuffer[Ke][pt]=t.createFramebuffer()}else oe.__webglFramebuffer[Ke]=t.createFramebuffer()}else{if(H.mipmaps&&H.mipmaps.length>0){oe.__webglFramebuffer=[];for(let Ke=0;Ke<H.mipmaps.length;Ke++)oe.__webglFramebuffer[Ke]=t.createFramebuffer()}else oe.__webglFramebuffer=t.createFramebuffer();if(nt)for(let Ke=0,pt=me.length;Ke<pt;Ke++){const cn=r.get(me[Ke]);cn.__webglTexture===void 0&&(cn.__webglTexture=t.createTexture(),a.memory.textures++)}if(K.samples>0&&Ot(K)===!1){oe.__webglMultisampledFramebuffer=t.createFramebuffer(),oe.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,oe.__webglMultisampledFramebuffer);for(let Ke=0;Ke<me.length;Ke++){const pt=me[Ke];oe.__webglColorRenderbuffer[Ke]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,oe.__webglColorRenderbuffer[Ke]);const cn=s.convert(pt.format,pt.colorSpace),Je=s.convert(pt.type),mt=M(pt.internalFormat,cn,Je,pt.colorSpace,K.isXRRenderTarget===!0),Dt=ae(K);t.renderbufferStorageMultisample(t.RENDERBUFFER,Dt,mt,K.width,K.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ke,t.RENDERBUFFER,oe.__webglColorRenderbuffer[Ke])}t.bindRenderbuffer(t.RENDERBUFFER,null),K.depthBuffer&&(oe.__webglDepthRenderbuffer=t.createRenderbuffer(),xe(oe.__webglDepthRenderbuffer,K,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(ye){n.bindTexture(t.TEXTURE_CUBE_MAP,he.__webglTexture),J(t.TEXTURE_CUBE_MAP,H);for(let Ke=0;Ke<6;Ke++)if(H.mipmaps&&H.mipmaps.length>0)for(let pt=0;pt<H.mipmaps.length;pt++)Oe(oe.__webglFramebuffer[Ke][pt],K,H,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Ke,pt);else Oe(oe.__webglFramebuffer[Ke],K,H,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Ke,0);y(H)&&w(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(nt){for(let Ke=0,pt=me.length;Ke<pt;Ke++){const cn=me[Ke],Je=r.get(cn);let mt=t.TEXTURE_2D;(K.isWebGL3DRenderTarget||K.isWebGLArrayRenderTarget)&&(mt=K.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(mt,Je.__webglTexture),J(mt,cn),Oe(oe.__webglFramebuffer,K,cn,t.COLOR_ATTACHMENT0+Ke,mt,0),y(cn)&&w(mt)}n.unbindTexture()}else{let Ke=t.TEXTURE_2D;if((K.isWebGL3DRenderTarget||K.isWebGLArrayRenderTarget)&&(Ke=K.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(Ke,he.__webglTexture),J(Ke,H),H.mipmaps&&H.mipmaps.length>0)for(let pt=0;pt<H.mipmaps.length;pt++)Oe(oe.__webglFramebuffer[pt],K,H,t.COLOR_ATTACHMENT0,Ke,pt);else Oe(oe.__webglFramebuffer,K,H,t.COLOR_ATTACHMENT0,Ke,0);y(H)&&w(Ke),n.unbindTexture()}K.depthBuffer&&Ie(K)}function Ce(K){const H=K.textures;for(let oe=0,he=H.length;oe<he;oe++){const me=H[oe];if(y(me)){const ye=S(K),nt=r.get(me).__webglTexture;n.bindTexture(ye,nt),w(ye),n.unbindTexture()}}}const $e=[],Be=[];function Ye(K){if(K.samples>0){if(Ot(K)===!1){const H=K.textures,oe=K.width,he=K.height;let me=t.COLOR_BUFFER_BIT;const ye=K.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,nt=r.get(K),Ke=H.length>1;if(Ke)for(let cn=0;cn<H.length;cn++)n.bindFramebuffer(t.FRAMEBUFFER,nt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+cn,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,nt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+cn,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,nt.__webglMultisampledFramebuffer);const pt=K.texture.mipmaps;pt&&pt.length>0?n.bindFramebuffer(t.DRAW_FRAMEBUFFER,nt.__webglFramebuffer[0]):n.bindFramebuffer(t.DRAW_FRAMEBUFFER,nt.__webglFramebuffer);for(let cn=0;cn<H.length;cn++){if(K.resolveDepthBuffer&&(K.depthBuffer&&(me|=t.DEPTH_BUFFER_BIT),K.stencilBuffer&&K.resolveStencilBuffer&&(me|=t.STENCIL_BUFFER_BIT)),Ke){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,nt.__webglColorRenderbuffer[cn]);const Je=r.get(H[cn]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Je,0)}t.blitFramebuffer(0,0,oe,he,0,0,oe,he,me,t.NEAREST),l===!0&&($e.length=0,Be.length=0,$e.push(t.COLOR_ATTACHMENT0+cn),K.depthBuffer&&K.resolveDepthBuffer===!1&&($e.push(ye),Be.push(ye),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,Be)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,$e))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),Ke)for(let cn=0;cn<H.length;cn++){n.bindFramebuffer(t.FRAMEBUFFER,nt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+cn,t.RENDERBUFFER,nt.__webglColorRenderbuffer[cn]);const Je=r.get(H[cn]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,nt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+cn,t.TEXTURE_2D,Je,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,nt.__webglMultisampledFramebuffer)}else if(K.depthBuffer&&K.resolveDepthBuffer===!1&&l){const H=K.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[H])}}}function ae(K){return Math.min(i.maxSamples,K.samples)}function Ot(K){const H=r.get(K);return K.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&H.__useRenderToTexture!==!1}function dt(K){const H=a.render.frame;d.get(K)!==H&&(d.set(K,H),K.update())}function jt(K,H){const oe=K.colorSpace,he=K.format,me=K.type;return K.isCompressedTexture===!0||K.isVideoTexture===!0||oe!==c0&&oe!==wf&&(cr.getTransfer(oe)===Pr?(he!==Ea||me!==Xa)&&At("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):dn("WebGLTextures: Unsupported texture color space:",oe)),H}function re(K){return typeof HTMLImageElement<"u"&&K instanceof HTMLImageElement?(c.width=K.naturalWidth||K.width,c.height=K.naturalHeight||K.height):typeof VideoFrame<"u"&&K instanceof VideoFrame?(c.width=K.displayWidth,c.height=K.displayHeight):(c.width=K.width,c.height=K.height),c}this.allocateTextureUnit=Y,this.resetTextureUnits=G,this.setTexture2D=W,this.setTexture2DArray=q,this.setTexture3D=Z,this.setTextureCube=V,this.rebindTextures=Te,this.setupRenderTarget=Xe,this.updateRenderTargetMipmap=Ce,this.updateMultisampleRenderTarget=Ye,this.setupDepthRenderbuffer=Ie,this.setupFrameBufferTexture=Oe,this.useMultisampledRTT=Ot,this.isReversedDepthBuffer=function(){return n.buffers.depth.getReversed()}}function Ype(t,e){function n(r,i=wf){let s;const a=cr.getTransfer(i);if(r===Xa)return t.UNSIGNED_BYTE;if(r===UR)return t.UNSIGNED_SHORT_4_4_4_4;if(r===BR)return t.UNSIGNED_SHORT_5_5_5_1;if(r===A8)return t.UNSIGNED_INT_5_9_9_9_REV;if(r===C8)return t.UNSIGNED_INT_10F_11F_11F_REV;if(r===M8)return t.BYTE;if(r===T8)return t.SHORT;if(r===Hx)return t.UNSIGNED_SHORT;if(r===FR)return t.INT;if(r===Xl)return t.UNSIGNED_INT;if(r===Qa)return t.FLOAT;if(r===cd)return t.HALF_FLOAT;if(r===P8)return t.ALPHA;if(r===N8)return t.RGB;if(r===Ea)return t.RGBA;if(r===ud)return t.DEPTH_COMPONENT;if(r===ip)return t.DEPTH_STENCIL;if(r===zR)return t.RED;if(r===LE)return t.RED_INTEGER;if(r===l0)return t.RG;if(r===VR)return t.RG_INTEGER;if(r===$R)return t.RGBA_INTEGER;if(r===J1||r===e_||r===t_||r===n_)if(a===Pr)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(r===J1)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===e_)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===t_)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===n_)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(r===J1)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===e_)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===t_)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===n_)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===ZC||r===QC||r===JC||r===eP)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(r===ZC)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===QC)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===JC)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===eP)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===tP||r===nP||r===rP||r===iP||r===sP||r===aP||r===oP)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(r===tP||r===nP)return a===Pr?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(r===rP)return a===Pr?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC;if(r===iP)return s.COMPRESSED_R11_EAC;if(r===sP)return s.COMPRESSED_SIGNED_R11_EAC;if(r===aP)return s.COMPRESSED_RG11_EAC;if(r===oP)return s.COMPRESSED_SIGNED_RG11_EAC}else return null;if(r===lP||r===cP||r===uP||r===dP||r===fP||r===hP||r===pP||r===mP||r===gP||r===vP||r===yP||r===xP||r===bP||r===wP)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(r===lP)return a===Pr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===cP)return a===Pr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===uP)return a===Pr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===dP)return a===Pr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===fP)return a===Pr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===hP)return a===Pr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===pP)return a===Pr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===mP)return a===Pr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===gP)return a===Pr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===vP)return a===Pr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===yP)return a===Pr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===xP)return a===Pr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===bP)return a===Pr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===wP)return a===Pr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===_P||r===SP||r===EP)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(r===_P)return a===Pr?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===SP)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===EP)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===MP||r===TP||r===AP||r===CP)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(r===MP)return s.COMPRESSED_RED_RGTC1_EXT;if(r===TP)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===AP)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===CP)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===Wx?t.UNSIGNED_INT_24_8:t[r]!==void 0?t[r]:null}return{convert:n}}const ptt=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,mtt=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class gtt{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n){if(this.texture===null){const r=new B8(e.texture);(e.depthNear!==n.depthNear||e.depthFar!==n.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,r=new Ro({vertexShader:ptt,fragmentShader:mtt,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new Yi(new C0(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class vtt extends vd{constructor(e,n){super();const r=this;let i=null,s=1,a=null,o="local-floor",l=1,c=null,d=null,f=null,h=null,m=null,v=null;const b=typeof XRWebGLBinding<"u",y=new gtt,w={},S=n.getContextAttributes();let M=null,T=null;const A=[],C=[],j=new Ge;let L=null;const O=new yi;O.viewport=new Wr;const k=new yi;k.viewport=new Wr;const F=[O,k],G=new Fpe;let Y=null,U=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ge){let pe=A[ge];return pe===void 0&&(pe=new H2,A[ge]=pe),pe.getTargetRaySpace()},this.getControllerGrip=function(ge){let pe=A[ge];return pe===void 0&&(pe=new H2,A[ge]=pe),pe.getGripSpace()},this.getHand=function(ge){let pe=A[ge];return pe===void 0&&(pe=new H2,A[ge]=pe),pe.getHandSpace()};function W(ge){const pe=C.indexOf(ge.inputSource);if(pe===-1)return;const Oe=A[pe];Oe!==void 0&&(Oe.update(ge.inputSource,ge.frame,c||a),Oe.dispatchEvent({type:ge.type,data:ge.inputSource}))}function q(){i.removeEventListener("select",W),i.removeEventListener("selectstart",W),i.removeEventListener("selectend",W),i.removeEventListener("squeeze",W),i.removeEventListener("squeezestart",W),i.removeEventListener("squeezeend",W),i.removeEventListener("end",q),i.removeEventListener("inputsourceschange",Z);for(let ge=0;ge<A.length;ge++){const pe=C[ge];pe!==null&&(C[ge]=null,A[ge].disconnect(pe))}Y=null,U=null,y.reset();for(const ge in w)delete w[ge];e.setRenderTarget(M),m=null,h=null,f=null,i=null,T=null,Ue.stop(),r.isPresenting=!1,e.setPixelRatio(L),e.setSize(j.width,j.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ge){s=ge,r.isPresenting===!0&&At("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ge){o=ge,r.isPresenting===!0&&At("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||a},this.setReferenceSpace=function(ge){c=ge},this.getBaseLayer=function(){return h!==null?h:m},this.getBinding=function(){return f===null&&b&&(f=new XRWebGLBinding(i,n)),f},this.getFrame=function(){return v},this.getSession=function(){return i},this.setSession=async function(ge){if(i=ge,i!==null){if(M=e.getRenderTarget(),i.addEventListener("select",W),i.addEventListener("selectstart",W),i.addEventListener("selectend",W),i.addEventListener("squeeze",W),i.addEventListener("squeezestart",W),i.addEventListener("squeezeend",W),i.addEventListener("end",q),i.addEventListener("inputsourceschange",Z),S.xrCompatible!==!0&&await n.makeXRCompatible(),L=e.getPixelRatio(),e.getSize(j),b&&"createProjectionLayer"in XRWebGLBinding.prototype){let Oe=null,xe=null,Me=null;S.depth&&(Me=S.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,Oe=S.stencil?ip:ud,xe=S.stencil?Wx:Xl);const Ie={colorFormat:n.RGBA8,depthFormat:Me,scaleFactor:s};f=this.getBinding(),h=f.createProjectionLayer(Ie),i.updateRenderState({layers:[h]}),e.setPixelRatio(1),e.setSize(h.textureWidth,h.textureHeight,!1),T=new eo(h.textureWidth,h.textureHeight,{format:Ea,type:Xa,depthTexture:new Zx(h.textureWidth,h.textureHeight,xe,void 0,void 0,void 0,void 0,void 0,void 0,Oe),stencilBuffer:S.stencil,colorSpace:e.outputColorSpace,samples:S.antialias?4:0,resolveDepthBuffer:h.ignoreDepthValues===!1,resolveStencilBuffer:h.ignoreDepthValues===!1})}else{const Oe={antialias:S.antialias,alpha:!0,depth:S.depth,stencil:S.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(i,n,Oe),i.updateRenderState({baseLayer:m}),e.setPixelRatio(1),e.setSize(m.framebufferWidth,m.framebufferHeight,!1),T=new eo(m.framebufferWidth,m.framebufferHeight,{format:Ea,type:Xa,colorSpace:e.outputColorSpace,stencilBuffer:S.stencil,resolveDepthBuffer:m.ignoreDepthValues===!1,resolveStencilBuffer:m.ignoreDepthValues===!1})}T.isXRRenderTarget=!0,this.setFoveation(l),c=null,a=await i.requestReferenceSpace(o),Ue.setContext(i),Ue.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return y.getDepthTexture()};function Z(ge){for(let pe=0;pe<ge.removed.length;pe++){const Oe=ge.removed[pe],xe=C.indexOf(Oe);xe>=0&&(C[xe]=null,A[xe].disconnect(Oe))}for(let pe=0;pe<ge.added.length;pe++){const Oe=ge.added[pe];let xe=C.indexOf(Oe);if(xe===-1){for(let Ie=0;Ie<A.length;Ie++)if(Ie>=C.length){C.push(Oe),xe=Ie;break}else if(C[Ie]===null){C[Ie]=Oe,xe=Ie;break}if(xe===-1)break}const Me=A[xe];Me&&Me.connect(Oe)}}const V=new ie,Q=new ie;function ee(ge,pe,Oe){V.setFromMatrixPosition(pe.matrixWorld),Q.setFromMatrixPosition(Oe.matrixWorld);const xe=V.distanceTo(Q),Me=pe.projectionMatrix.elements,Ie=Oe.projectionMatrix.elements,Te=Me[14]/(Me[10]-1),Xe=Me[14]/(Me[10]+1),Ce=(Me[9]+1)/Me[5],$e=(Me[9]-1)/Me[5],Be=(Me[8]-1)/Me[0],Ye=(Ie[8]+1)/Ie[0],ae=Te*Be,Ot=Te*Ye,dt=xe/(-Be+Ye),jt=dt*-Be;if(pe.matrixWorld.decompose(ge.position,ge.quaternion,ge.scale),ge.translateX(jt),ge.translateZ(dt),ge.matrixWorld.compose(ge.position,ge.quaternion,ge.scale),ge.matrixWorldInverse.copy(ge.matrixWorld).invert(),Me[10]===-1)ge.projectionMatrix.copy(pe.projectionMatrix),ge.projectionMatrixInverse.copy(pe.projectionMatrixInverse);else{const re=Te+dt,K=Xe+dt,H=ae-jt,oe=Ot+(xe-jt),he=Ce*Xe/K*re,me=$e*Xe/K*re;ge.projectionMatrix.makePerspective(H,oe,he,me,re,K),ge.projectionMatrixInverse.copy(ge.projectionMatrix).invert()}}function $(ge,pe){pe===null?ge.matrixWorld.copy(ge.matrix):ge.matrixWorld.multiplyMatrices(pe.matrixWorld,ge.matrix),ge.matrixWorldInverse.copy(ge.matrixWorld).invert()}this.updateCamera=function(ge){if(i===null)return;let pe=ge.near,Oe=ge.far;y.texture!==null&&(y.depthNear>0&&(pe=y.depthNear),y.depthFar>0&&(Oe=y.depthFar)),G.near=k.near=O.near=pe,G.far=k.far=O.far=Oe,(Y!==G.near||U!==G.far)&&(i.updateRenderState({depthNear:G.near,depthFar:G.far}),Y=G.near,U=G.far),G.layers.mask=ge.layers.mask|6,O.layers.mask=G.layers.mask&3,k.layers.mask=G.layers.mask&5;const xe=ge.parent,Me=G.cameras;$(G,xe);for(let Ie=0;Ie<Me.length;Ie++)$(Me[Ie],xe);Me.length===2?ee(G,O,k):G.projectionMatrix.copy(O.projectionMatrix),J(ge,G,xe)};function J(ge,pe,Oe){Oe===null?ge.matrix.copy(pe.matrixWorld):(ge.matrix.copy(Oe.matrixWorld),ge.matrix.invert(),ge.matrix.multiply(pe.matrixWorld)),ge.matrix.decompose(ge.position,ge.quaternion,ge.scale),ge.updateMatrixWorld(!0),ge.projectionMatrix.copy(pe.projectionMatrix),ge.projectionMatrixInverse.copy(pe.projectionMatrixInverse),ge.isPerspectiveCamera&&(ge.fov=Xx*2*Math.atan(1/ge.projectionMatrix.elements[5]),ge.zoom=1)}this.getCamera=function(){return G},this.getFoveation=function(){if(!(h===null&&m===null))return l},this.setFoveation=function(ge){l=ge,h!==null&&(h.fixedFoveation=ge),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=ge)},this.hasDepthSensing=function(){return y.texture!==null},this.getDepthSensingMesh=function(){return y.getMesh(G)},this.getCameraTexture=function(ge){return w[ge]};let de=null;function Ae(ge,pe){if(d=pe.getViewerPose(c||a),v=pe,d!==null){const Oe=d.views;m!==null&&(e.setRenderTargetFramebuffer(T,m.framebuffer),e.setRenderTarget(T));let xe=!1;Oe.length!==G.cameras.length&&(G.cameras.length=0,xe=!0);for(let Xe=0;Xe<Oe.length;Xe++){const Ce=Oe[Xe];let $e=null;if(m!==null)$e=m.getViewport(Ce);else{const Ye=f.getViewSubImage(h,Ce);$e=Ye.viewport,Xe===0&&(e.setRenderTargetTextures(T,Ye.colorTexture,Ye.depthStencilTexture),e.setRenderTarget(T))}let Be=F[Xe];Be===void 0&&(Be=new yi,Be.layers.enable(Xe),Be.viewport=new Wr,F[Xe]=Be),Be.matrix.fromArray(Ce.transform.matrix),Be.matrix.decompose(Be.position,Be.quaternion,Be.scale),Be.projectionMatrix.fromArray(Ce.projectionMatrix),Be.projectionMatrixInverse.copy(Be.projectionMatrix).invert(),Be.viewport.set($e.x,$e.y,$e.width,$e.height),Xe===0&&(G.matrix.copy(Be.matrix),G.matrix.decompose(G.position,G.quaternion,G.scale)),xe===!0&&G.cameras.push(Be)}const Me=i.enabledFeatures;if(Me&&Me.includes("depth-sensing")&&i.depthUsage=="gpu-optimized"&&b){f=r.getBinding();const Xe=f.getDepthInformation(Oe[0]);Xe&&Xe.isValid&&Xe.texture&&y.init(Xe,i.renderState)}if(Me&&Me.includes("camera-access")&&b){e.state.unbindTexture(),f=r.getBinding();for(let Xe=0;Xe<Oe.length;Xe++){const Ce=Oe[Xe].camera;if(Ce){let $e=w[Ce];$e||($e=new B8,w[Ce]=$e);const Be=f.getCameraImage(Ce);$e.sourceTexture=Be}}}}for(let Oe=0;Oe<A.length;Oe++){const xe=C[Oe],Me=A[Oe];xe!==null&&Me!==void 0&&Me.update(xe,pe,c||a)}de&&de(ge,pe),pe.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:pe}),v=null}const Ue=new Hpe;Ue.setAnimationLoop(Ae),this.setAnimationLoop=function(ge){de=ge},this.dispose=function(){}}}const tg=new hl,ytt=new Pn;function xtt(t,e){function n(y,w){y.matrixAutoUpdate===!0&&y.updateMatrix(),w.value.copy(y.matrix)}function r(y,w){w.color.getRGB(y.fogColor.value,Ghe(t)),w.isFog?(y.fogNear.value=w.near,y.fogFar.value=w.far):w.isFogExp2&&(y.fogDensity.value=w.density)}function i(y,w,S,M,T){w.isMeshBasicMaterial||w.isMeshLambertMaterial?s(y,w):w.isMeshToonMaterial?(s(y,w),f(y,w)):w.isMeshPhongMaterial?(s(y,w),d(y,w)):w.isMeshStandardMaterial?(s(y,w),h(y,w),w.isMeshPhysicalMaterial&&m(y,w,T)):w.isMeshMatcapMaterial?(s(y,w),v(y,w)):w.isMeshDepthMaterial?s(y,w):w.isMeshDistanceMaterial?(s(y,w),b(y,w)):w.isMeshNormalMaterial?s(y,w):w.isLineBasicMaterial?(a(y,w),w.isLineDashedMaterial&&o(y,w)):w.isPointsMaterial?l(y,w,S,M):w.isSpriteMaterial?c(y,w):w.isShadowMaterial?(y.color.value.copy(w.color),y.opacity.value=w.opacity):w.isShaderMaterial&&(w.uniformsNeedUpdate=!1)}function s(y,w){y.opacity.value=w.opacity,w.color&&y.diffuse.value.copy(w.color),w.emissive&&y.emissive.value.copy(w.emissive).multiplyScalar(w.emissiveIntensity),w.map&&(y.map.value=w.map,n(w.map,y.mapTransform)),w.alphaMap&&(y.alphaMap.value=w.alphaMap,n(w.alphaMap,y.alphaMapTransform)),w.bumpMap&&(y.bumpMap.value=w.bumpMap,n(w.bumpMap,y.bumpMapTransform),y.bumpScale.value=w.bumpScale,w.side===Ja&&(y.bumpScale.value*=-1)),w.normalMap&&(y.normalMap.value=w.normalMap,n(w.normalMap,y.normalMapTransform),y.normalScale.value.copy(w.normalScale),w.side===Ja&&y.normalScale.value.negate()),w.displacementMap&&(y.displacementMap.value=w.displacementMap,n(w.displacementMap,y.displacementMapTransform),y.displacementScale.value=w.displacementScale,y.displacementBias.value=w.displacementBias),w.emissiveMap&&(y.emissiveMap.value=w.emissiveMap,n(w.emissiveMap,y.emissiveMapTransform)),w.specularMap&&(y.specularMap.value=w.specularMap,n(w.specularMap,y.specularMapTransform)),w.alphaTest>0&&(y.alphaTest.value=w.alphaTest);const S=e.get(w),M=S.envMap,T=S.envMapRotation;M&&(y.envMap.value=M,tg.copy(T),tg.x*=-1,tg.y*=-1,tg.z*=-1,M.isCubeTexture&&M.isRenderTargetTexture===!1&&(tg.y*=-1,tg.z*=-1),y.envMapRotation.value.setFromMatrix4(ytt.makeRotationFromEuler(tg)),y.flipEnvMap.value=M.isCubeTexture&&M.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=w.reflectivity,y.ior.value=w.ior,y.refractionRatio.value=w.refractionRatio),w.lightMap&&(y.lightMap.value=w.lightMap,y.lightMapIntensity.value=w.lightMapIntensity,n(w.lightMap,y.lightMapTransform)),w.aoMap&&(y.aoMap.value=w.aoMap,y.aoMapIntensity.value=w.aoMapIntensity,n(w.aoMap,y.aoMapTransform))}function a(y,w){y.diffuse.value.copy(w.color),y.opacity.value=w.opacity,w.map&&(y.map.value=w.map,n(w.map,y.mapTransform))}function o(y,w){y.dashSize.value=w.dashSize,y.totalSize.value=w.dashSize+w.gapSize,y.scale.value=w.scale}function l(y,w,S,M){y.diffuse.value.copy(w.color),y.opacity.value=w.opacity,y.size.value=w.size*S,y.scale.value=M*.5,w.map&&(y.map.value=w.map,n(w.map,y.uvTransform)),w.alphaMap&&(y.alphaMap.value=w.alphaMap,n(w.alphaMap,y.alphaMapTransform)),w.alphaTest>0&&(y.alphaTest.value=w.alphaTest)}function c(y,w){y.diffuse.value.copy(w.color),y.opacity.value=w.opacity,y.rotation.value=w.rotation,w.map&&(y.map.value=w.map,n(w.map,y.mapTransform)),w.alphaMap&&(y.alphaMap.value=w.alphaMap,n(w.alphaMap,y.alphaMapTransform)),w.alphaTest>0&&(y.alphaTest.value=w.alphaTest)}function d(y,w){y.specular.value.copy(w.specular),y.shininess.value=Math.max(w.shininess,1e-4)}function f(y,w){w.gradientMap&&(y.gradientMap.value=w.gradientMap)}function h(y,w){y.metalness.value=w.metalness,w.metalnessMap&&(y.metalnessMap.value=w.metalnessMap,n(w.metalnessMap,y.metalnessMapTransform)),y.roughness.value=w.roughness,w.roughnessMap&&(y.roughnessMap.value=w.roughnessMap,n(w.roughnessMap,y.roughnessMapTransform)),w.envMap&&(y.envMapIntensity.value=w.envMapIntensity)}function m(y,w,S){y.ior.value=w.ior,w.sheen>0&&(y.sheenColor.value.copy(w.sheenColor).multiplyScalar(w.sheen),y.sheenRoughness.value=w.sheenRoughness,w.sheenColorMap&&(y.sheenColorMap.value=w.sheenColorMap,n(w.sheenColorMap,y.sheenColorMapTransform)),w.sheenRoughnessMap&&(y.sheenRoughnessMap.value=w.sheenRoughnessMap,n(w.sheenRoughnessMap,y.sheenRoughnessMapTransform))),w.clearcoat>0&&(y.clearcoat.value=w.clearcoat,y.clearcoatRoughness.value=w.clearcoatRoughness,w.clearcoatMap&&(y.clearcoatMap.value=w.clearcoatMap,n(w.clearcoatMap,y.clearcoatMapTransform)),w.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=w.clearcoatRoughnessMap,n(w.clearcoatRoughnessMap,y.clearcoatRoughnessMapTransform)),w.clearcoatNormalMap&&(y.clearcoatNormalMap.value=w.clearcoatNormalMap,n(w.clearcoatNormalMap,y.clearcoatNormalMapTransform),y.clearcoatNormalScale.value.copy(w.clearcoatNormalScale),w.side===Ja&&y.clearcoatNormalScale.value.negate())),w.dispersion>0&&(y.dispersion.value=w.dispersion),w.iridescence>0&&(y.iridescence.value=w.iridescence,y.iridescenceIOR.value=w.iridescenceIOR,y.iridescenceThicknessMinimum.value=w.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=w.iridescenceThicknessRange[1],w.iridescenceMap&&(y.iridescenceMap.value=w.iridescenceMap,n(w.iridescenceMap,y.iridescenceMapTransform)),w.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=w.iridescenceThicknessMap,n(w.iridescenceThicknessMap,y.iridescenceThicknessMapTransform))),w.transmission>0&&(y.transmission.value=w.transmission,y.transmissionSamplerMap.value=S.texture,y.transmissionSamplerSize.value.set(S.width,S.height),w.transmissionMap&&(y.transmissionMap.value=w.transmissionMap,n(w.transmissionMap,y.transmissionMapTransform)),y.thickness.value=w.thickness,w.thicknessMap&&(y.thicknessMap.value=w.thicknessMap,n(w.thicknessMap,y.thicknessMapTransform)),y.attenuationDistance.value=w.attenuationDistance,y.attenuationColor.value.copy(w.attenuationColor)),w.anisotropy>0&&(y.anisotropyVector.value.set(w.anisotropy*Math.cos(w.anisotropyRotation),w.anisotropy*Math.sin(w.anisotropyRotation)),w.anisotropyMap&&(y.anisotropyMap.value=w.anisotropyMap,n(w.anisotropyMap,y.anisotropyMapTransform))),y.specularIntensity.value=w.specularIntensity,y.specularColor.value.copy(w.specularColor),w.specularColorMap&&(y.specularColorMap.value=w.specularColorMap,n(w.specularColorMap,y.specularColorMapTransform)),w.specularIntensityMap&&(y.specularIntensityMap.value=w.specularIntensityMap,n(w.specularIntensityMap,y.specularIntensityMapTransform))}function v(y,w){w.matcap&&(y.matcap.value=w.matcap)}function b(y,w){const S=e.get(w).light;y.referencePosition.value.setFromMatrixPosition(S.matrixWorld),y.nearDistance.value=S.shadow.camera.near,y.farDistance.value=S.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function btt(t,e,n,r){let i={},s={},a=[];const o=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(S,M){const T=M.program;r.uniformBlockBinding(S,T)}function c(S,M){let T=i[S.id];T===void 0&&(v(S),T=d(S),i[S.id]=T,S.addEventListener("dispose",y));const A=M.program;r.updateUBOMapping(S,A);const C=e.render.frame;s[S.id]!==C&&(h(S),s[S.id]=C)}function d(S){const M=f();S.__bindingPointIndex=M;const T=t.createBuffer(),A=S.__size,C=S.usage;return t.bindBuffer(t.UNIFORM_BUFFER,T),t.bufferData(t.UNIFORM_BUFFER,A,C),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,M,T),T}function f(){for(let S=0;S<o;S++)if(a.indexOf(S)===-1)return a.push(S),S;return dn("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(S){const M=i[S.id],T=S.uniforms,A=S.__cache;t.bindBuffer(t.UNIFORM_BUFFER,M);for(let C=0,j=T.length;C<j;C++){const L=Array.isArray(T[C])?T[C]:[T[C]];for(let O=0,k=L.length;O<k;O++){const F=L[O];if(m(F,C,O,A)===!0){const G=F.__offset,Y=Array.isArray(F.value)?F.value:[F.value];let U=0;for(let W=0;W<Y.length;W++){const q=Y[W],Z=b(q);typeof q=="number"||typeof q=="boolean"?(F.__data[0]=q,t.bufferSubData(t.UNIFORM_BUFFER,G+U,F.__data)):q.isMatrix3?(F.__data[0]=q.elements[0],F.__data[1]=q.elements[1],F.__data[2]=q.elements[2],F.__data[3]=0,F.__data[4]=q.elements[3],F.__data[5]=q.elements[4],F.__data[6]=q.elements[5],F.__data[7]=0,F.__data[8]=q.elements[6],F.__data[9]=q.elements[7],F.__data[10]=q.elements[8],F.__data[11]=0):(q.toArray(F.__data,U),U+=Z.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,G,F.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function m(S,M,T,A){const C=S.value,j=M+"_"+T;if(A[j]===void 0)return typeof C=="number"||typeof C=="boolean"?A[j]=C:A[j]=C.clone(),!0;{const L=A[j];if(typeof C=="number"||typeof C=="boolean"){if(L!==C)return A[j]=C,!0}else if(L.equals(C)===!1)return L.copy(C),!0}return!1}function v(S){const M=S.uniforms;let T=0;const A=16;for(let j=0,L=M.length;j<L;j++){const O=Array.isArray(M[j])?M[j]:[M[j]];for(let k=0,F=O.length;k<F;k++){const G=O[k],Y=Array.isArray(G.value)?G.value:[G.value];for(let U=0,W=Y.length;U<W;U++){const q=Y[U],Z=b(q),V=T%A,Q=V%Z.boundary,ee=V+Q;T+=Q,ee!==0&&A-ee<Z.storage&&(T+=A-ee),G.__data=new Float32Array(Z.storage/Float32Array.BYTES_PER_ELEMENT),G.__offset=T,T+=Z.storage}}}const C=T%A;return C>0&&(T+=A-C),S.__size=T,S.__cache={},this}function b(S){const M={boundary:0,storage:0};return typeof S=="number"||typeof S=="boolean"?(M.boundary=4,M.storage=4):S.isVector2?(M.boundary=8,M.storage=8):S.isVector3||S.isColor?(M.boundary=16,M.storage=12):S.isVector4?(M.boundary=16,M.storage=16):S.isMatrix3?(M.boundary=48,M.storage=48):S.isMatrix4?(M.boundary=64,M.storage=64):S.isTexture?At("WebGLRenderer: Texture samplers can not be part of an uniforms group."):At("WebGLRenderer: Unsupported uniform value type.",S),M}function y(S){const M=S.target;M.removeEventListener("dispose",y);const T=a.indexOf(M.__bindingPointIndex);a.splice(T,1),t.deleteBuffer(i[M.id]),delete i[M.id],delete s[M.id]}function w(){for(const S in i)t.deleteBuffer(i[S]);a=[],i={},s={}}return{bind:l,update:c,dispose:w}}const wtt=new Uint16Array([12469,15057,12620,14925,13266,14620,13807,14376,14323,13990,14545,13625,14713,13328,14840,12882,14931,12528,14996,12233,15039,11829,15066,11525,15080,11295,15085,10976,15082,10705,15073,10495,13880,14564,13898,14542,13977,14430,14158,14124,14393,13732,14556,13410,14702,12996,14814,12596,14891,12291,14937,11834,14957,11489,14958,11194,14943,10803,14921,10506,14893,10278,14858,9960,14484,14039,14487,14025,14499,13941,14524,13740,14574,13468,14654,13106,14743,12678,14818,12344,14867,11893,14889,11509,14893,11180,14881,10751,14852,10428,14812,10128,14765,9754,14712,9466,14764,13480,14764,13475,14766,13440,14766,13347,14769,13070,14786,12713,14816,12387,14844,11957,14860,11549,14868,11215,14855,10751,14825,10403,14782,10044,14729,9651,14666,9352,14599,9029,14967,12835,14966,12831,14963,12804,14954,12723,14936,12564,14917,12347,14900,11958,14886,11569,14878,11247,14859,10765,14828,10401,14784,10011,14727,9600,14660,9289,14586,8893,14508,8533,15111,12234,15110,12234,15104,12216,15092,12156,15067,12010,15028,11776,14981,11500,14942,11205,14902,10752,14861,10393,14812,9991,14752,9570,14682,9252,14603,8808,14519,8445,14431,8145,15209,11449,15208,11451,15202,11451,15190,11438,15163,11384,15117,11274,15055,10979,14994,10648,14932,10343,14871,9936,14803,9532,14729,9218,14645,8742,14556,8381,14461,8020,14365,7603,15273,10603,15272,10607,15267,10619,15256,10631,15231,10614,15182,10535,15118,10389,15042,10167,14963,9787,14883,9447,14800,9115,14710,8665,14615,8318,14514,7911,14411,7507,14279,7198,15314,9675,15313,9683,15309,9712,15298,9759,15277,9797,15229,9773,15166,9668,15084,9487,14995,9274,14898,8910,14800,8539,14697,8234,14590,7790,14479,7409,14367,7067,14178,6621,15337,8619,15337,8631,15333,8677,15325,8769,15305,8871,15264,8940,15202,8909,15119,8775,15022,8565,14916,8328,14804,8009,14688,7614,14569,7287,14448,6888,14321,6483,14088,6171,15350,7402,15350,7419,15347,7480,15340,7613,15322,7804,15287,7973,15229,8057,15148,8012,15046,7846,14933,7611,14810,7357,14682,7069,14552,6656,14421,6316,14251,5948,14007,5528,15356,5942,15356,5977,15353,6119,15348,6294,15332,6551,15302,6824,15249,7044,15171,7122,15070,7050,14949,6861,14818,6611,14679,6349,14538,6067,14398,5651,14189,5311,13935,4958,15359,4123,15359,4153,15356,4296,15353,4646,15338,5160,15311,5508,15263,5829,15188,6042,15088,6094,14966,6001,14826,5796,14678,5543,14527,5287,14377,4985,14133,4586,13869,4257,15360,1563,15360,1642,15358,2076,15354,2636,15341,3350,15317,4019,15273,4429,15203,4732,15105,4911,14981,4932,14836,4818,14679,4621,14517,4386,14359,4156,14083,3795,13808,3437,15360,122,15360,137,15358,285,15355,636,15344,1274,15322,2177,15281,2765,15215,3223,15120,3451,14995,3569,14846,3567,14681,3466,14511,3305,14344,3121,14037,2800,13753,2467,15360,0,15360,1,15359,21,15355,89,15346,253,15325,479,15287,796,15225,1148,15133,1492,15008,1749,14856,1882,14685,1886,14506,1783,14324,1608,13996,1398,13702,1183]);let Tu=null;function _tt(){return Tu===null&&(Tu=new Kc(wtt,16,16,l0,cd),Tu.name="DFG_LUT",Tu.minFilter=si,Tu.magFilter=si,Tu.wrapS=Po,Tu.wrapT=Po,Tu.generateMipmaps=!1,Tu.needsUpdate=!0),Tu}class Kpe{constructor(e={}){const{canvas:n=$he(),context:r=null,depth:i=!0,stencil:s=!1,alpha:a=!1,antialias:o=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:d="default",failIfMajorPerformanceCaveat:f=!1,reversedDepthBuffer:h=!1,outputBufferType:m=Xa}=e;this.isWebGLRenderer=!0;let v;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");v=r.getContextAttributes().alpha}else v=a;const b=m,y=new Set([$R,VR,LE]),w=new Set([Xa,Xl,Hx,Wx,UR,BR]),S=new Uint32Array(4),M=new Int32Array(4);let T=null,A=null;const C=[],j=[];let L=null;this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Gl,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const O=this;let k=!1;this._outputColorSpace=Eo;let F=0,G=0,Y=null,U=-1,W=null;const q=new Wr,Z=new Wr;let V=null;const Q=new Lt(0);let ee=0,$=n.width,J=n.height,de=1,Ae=null,Ue=null;const ge=new Wr(0,0,$,J),pe=new Wr(0,0,$,J);let Oe=!1;const xe=new Rb;let Me=!1,Ie=!1;const Te=new Pn,Xe=new ie,Ce=new Wr,$e={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Be=!1;function Ye(){return Y===null?de:1}let ae=r;function Ot(ne,Se){return n.getContext(ne,Se)}try{const ne={alpha:!0,depth:i,stencil:s,antialias:o,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:d,failIfMajorPerformanceCaveat:f};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${kR}`),n.addEventListener("webglcontextlost",an,!1),n.addEventListener("webglcontextrestored",er,!1),n.addEventListener("webglcontextcreationerror",Un,!1),ae===null){const Se="webgl2";if(ae=Ot(Se,ne),ae===null)throw Ot(Se)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(ne){throw dn("WebGLRenderer: "+ne.message),ne}let dt,jt,re,K,H,oe,he,me,ye,nt,Ke,pt,cn,Je,mt,Dt,ue,Pe,lt,fe,at,et,yt,it;function qe(){dt=new wJe(ae),dt.init(),et=new Ype(ae,dt),jt=new fJe(ae,dt,e,et),re=new ftt(ae,dt),jt.reversedDepthBuffer&&h&&re.buffers.depth.setReversed(!0),K=new EJe(ae),H=new Zet,oe=new htt(ae,dt,re,H,jt,et,K),he=new pJe(O),me=new bJe(O),ye=new CKe(ae),yt=new uJe(ae,ye),nt=new _Je(ae,ye,K,yt),Ke=new TJe(ae,nt,ye,K),lt=new MJe(ae,jt,oe),Dt=new hJe(H),pt=new Ket(O,he,me,dt,jt,yt,Dt),cn=new xtt(O,H),Je=new Jet,mt=new stt(dt),Pe=new cJe(O,he,me,re,Ke,v,l),ue=new utt(O,Ke,jt),it=new btt(ae,K,jt,re),fe=new dJe(ae,dt,K),at=new SJe(ae,dt,K),K.programs=pt.programs,O.capabilities=jt,O.extensions=dt,O.properties=H,O.renderLists=Je,O.shadowMap=ue,O.state=re,O.info=K}qe(),b!==Xa&&(L=new CJe(b,n.width,n.height,i,s));const ct=new vtt(O,ae);this.xr=ct,this.getContext=function(){return ae},this.getContextAttributes=function(){return ae.getContextAttributes()},this.forceContextLoss=function(){const ne=dt.get("WEBGL_lose_context");ne&&ne.loseContext()},this.forceContextRestore=function(){const ne=dt.get("WEBGL_lose_context");ne&&ne.restoreContext()},this.getPixelRatio=function(){return de},this.setPixelRatio=function(ne){ne!==void 0&&(de=ne,this.setSize($,J,!1))},this.getSize=function(ne){return ne.set($,J)},this.setSize=function(ne,Se,Le=!0){if(ct.isPresenting){At("WebGLRenderer: Can't change size while VR device is presenting.");return}$=ne,J=Se,n.width=Math.floor(ne*de),n.height=Math.floor(Se*de),Le===!0&&(n.style.width=ne+"px",n.style.height=Se+"px"),L!==null&&L.setSize(n.width,n.height),this.setViewport(0,0,ne,Se)},this.getDrawingBufferSize=function(ne){return ne.set($*de,J*de).floor()},this.setDrawingBufferSize=function(ne,Se,Le){$=ne,J=Se,de=Le,n.width=Math.floor(ne*Le),n.height=Math.floor(Se*Le),this.setViewport(0,0,ne,Se)},this.setEffects=function(ne){if(b===Xa){console.error("THREE.WebGLRenderer: setEffects() requires outputBufferType set to HalfFloatType or FloatType.");return}if(ne){for(let Se=0;Se<ne.length;Se++)if(ne[Se].isOutputPass===!0){console.warn("THREE.WebGLRenderer: OutputPass is not needed in setEffects(). Tone mapping and color space conversion are applied automatically.");break}}L.setEffects(ne||[])},this.getCurrentViewport=function(ne){return ne.copy(q)},this.getViewport=function(ne){return ne.copy(ge)},this.setViewport=function(ne,Se,Le,De){ne.isVector4?ge.set(ne.x,ne.y,ne.z,ne.w):ge.set(ne,Se,Le,De),re.viewport(q.copy(ge).multiplyScalar(de).round())},this.getScissor=function(ne){return ne.copy(pe)},this.setScissor=function(ne,Se,Le,De){ne.isVector4?pe.set(ne.x,ne.y,ne.z,ne.w):pe.set(ne,Se,Le,De),re.scissor(Z.copy(pe).multiplyScalar(de).round())},this.getScissorTest=function(){return Oe},this.setScissorTest=function(ne){re.setScissorTest(Oe=ne)},this.setOpaqueSort=function(ne){Ae=ne},this.setTransparentSort=function(ne){Ue=ne},this.getClearColor=function(ne){return ne.copy(Pe.getClearColor())},this.setClearColor=function(){Pe.setClearColor(...arguments)},this.getClearAlpha=function(){return Pe.getClearAlpha()},this.setClearAlpha=function(){Pe.setClearAlpha(...arguments)},this.clear=function(ne=!0,Se=!0,Le=!0){let De=0;if(ne){let Ne=!1;if(Y!==null){const xt=Y.texture.format;Ne=y.has(xt)}if(Ne){const xt=Y.texture.type,Mt=w.has(xt),Ze=Pe.getClearColor(),ft=Pe.getClearAlpha(),Tt=Ze.r,$t=Ze.g,Ut=Ze.b;Mt?(S[0]=Tt,S[1]=$t,S[2]=Ut,S[3]=ft,ae.clearBufferuiv(ae.COLOR,0,S)):(M[0]=Tt,M[1]=$t,M[2]=Ut,M[3]=ft,ae.clearBufferiv(ae.COLOR,0,M))}else De|=ae.COLOR_BUFFER_BIT}Se&&(De|=ae.DEPTH_BUFFER_BIT),Le&&(De|=ae.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ae.clear(De)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",an,!1),n.removeEventListener("webglcontextrestored",er,!1),n.removeEventListener("webglcontextcreationerror",Un,!1),Pe.dispose(),Je.dispose(),mt.dispose(),H.dispose(),he.dispose(),me.dispose(),Ke.dispose(),yt.dispose(),it.dispose(),pt.dispose(),ct.dispose(),ct.removeEventListener("sessionstart",_d),ct.removeEventListener("sessionend",Do),Lo.stop()};function an(ne){ne.preventDefault(),DS("WebGLRenderer: Context Lost."),k=!0}function er(){DS("WebGLRenderer: Context Restored."),k=!1;const ne=K.autoReset,Se=ue.enabled,Le=ue.autoUpdate,De=ue.needsUpdate,Ne=ue.type;qe(),K.autoReset=ne,ue.enabled=Se,ue.autoUpdate=Le,ue.needsUpdate=De,ue.type=Ne}function Un(ne){dn("WebGLRenderer: A WebGL context could not be created. Reason: ",ne.statusMessage)}function Ei(ne){const Se=ne.target;Se.removeEventListener("dispose",Ei),Mi(Se)}function Mi(ne){Kp(ne),H.remove(ne)}function Kp(ne){const Se=H.get(ne).programs;Se!==void 0&&(Se.forEach(function(Le){pt.releaseProgram(Le)}),ne.isShaderMaterial&&pt.releaseShaderCache(ne))}this.renderBufferDirect=function(ne,Se,Le,De,Ne,xt){Se===null&&(Se=$e);const Mt=Ne.isMesh&&Ne.matrixWorld.determinant()<0,Ze=k0(ne,Se,Le,De,Ne);re.setMaterial(De,Mt);let ft=Le.index,Tt=1;if(De.wireframe===!0){if(ft=nt.getWireframeAttribute(Le),ft===void 0)return;Tt=2}const $t=Le.drawRange,Ut=Le.attributes.position;let Cn=$t.start*Tt,Yn=($t.start+$t.count)*Tt;xt!==null&&(Cn=Math.max(Cn,xt.start*Tt),Yn=Math.min(Yn,(xt.start+xt.count)*Tt)),ft!==null?(Cn=Math.max(Cn,0),Yn=Math.min(Yn,ft.count)):Ut!=null&&(Cn=Math.max(Cn,0),Yn=Math.min(Yn,Ut.count));const Bn=Yn-Cn;if(Bn<0||Bn===1/0)return;yt.setup(Ne,De,Ze,Le,ft);let mr,ar=fe;if(ft!==null&&(mr=ye.get(ft),ar=at,ar.setIndex(mr)),Ne.isMesh)De.wireframe===!0?(re.setLineWidth(De.wireframeLinewidth*Ye()),ar.setMode(ae.LINES)):ar.setMode(ae.TRIANGLES);else if(Ne.isLine){let fn=De.linewidth;fn===void 0&&(fn=1),re.setLineWidth(fn*Ye()),Ne.isLineSegments?ar.setMode(ae.LINES):Ne.isLineLoop?ar.setMode(ae.LINE_LOOP):ar.setMode(ae.LINE_STRIP)}else Ne.isPoints?ar.setMode(ae.POINTS):Ne.isSprite&&ar.setMode(ae.TRIANGLES);if(Ne.isBatchedMesh)if(Ne._multiDrawInstances!==null)qx("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),ar.renderMultiDrawInstances(Ne._multiDrawStarts,Ne._multiDrawCounts,Ne._multiDrawCount,Ne._multiDrawInstances);else if(dt.get("WEBGL_multi_draw"))ar.renderMultiDraw(Ne._multiDrawStarts,Ne._multiDrawCounts,Ne._multiDrawCount);else{const fn=Ne._multiDrawStarts,ir=Ne._multiDrawCounts,Qn=Ne._multiDrawCount,Dr=ft?ye.get(ft).bytesPerElement:1,pl=H.get(De).currentProgram.getUniforms();for(let Li=0;Li<Qn;Li++)pl.setValue(ae,"_gl_DrawID",Li),ar.render(fn[Li]/Dr,ir[Li])}else if(Ne.isInstancedMesh)ar.renderInstances(Cn,Bn,Ne.count);else if(Le.isInstancedBufferGeometry){const fn=Le._maxInstanceCount!==void 0?Le._maxInstanceCount:1/0,ir=Math.min(Le.instanceCount,fn);ar.renderInstances(Cn,Bn,ir)}else ar.render(Cn,Bn)};function uu(ne,Se,Le){ne.transparent===!0&&ne.side===Ll&&ne.forceSinglePass===!1?(ne.side=Ja,ne.needsUpdate=!0,Sd(ne,Se,Le),ne.side=Gf,ne.needsUpdate=!0,Sd(ne,Se,Le),ne.side=Ll):Sd(ne,Se,Le)}this.compile=function(ne,Se,Le=null){Le===null&&(Le=ne),A=mt.get(Le),A.init(Se),j.push(A),Le.traverseVisible(function(Ne){Ne.isLight&&Ne.layers.test(Se.layers)&&(A.pushLight(Ne),Ne.castShadow&&A.pushShadow(Ne))}),ne!==Le&&ne.traverseVisible(function(Ne){Ne.isLight&&Ne.layers.test(Se.layers)&&(A.pushLight(Ne),Ne.castShadow&&A.pushShadow(Ne))}),A.setupLights();const De=new Set;return ne.traverse(function(Ne){if(!(Ne.isMesh||Ne.isPoints||Ne.isLine||Ne.isSprite))return;const xt=Ne.material;if(xt)if(Array.isArray(xt))for(let Mt=0;Mt<xt.length;Mt++){const Ze=xt[Mt];uu(Ze,Le,Ne),De.add(Ze)}else uu(xt,Le,Ne),De.add(xt)}),A=j.pop(),De},this.compileAsync=function(ne,Se,Le=null){const De=this.compile(ne,Se,Le);return new Promise(Ne=>{function xt(){if(De.forEach(function(Mt){H.get(Mt).currentProgram.isReady()&&De.delete(Mt)}),De.size===0){Ne(ne);return}setTimeout(xt,10)}dt.get("KHR_parallel_shader_compile")!==null?xt():setTimeout(xt,10)})};let nh=null;function tc(ne){nh&&nh(ne)}function _d(){Lo.stop()}function Do(){Lo.start()}const Lo=new Hpe;Lo.setAnimationLoop(tc),typeof self<"u"&&Lo.setContext(self),this.setAnimationLoop=function(ne){nh=ne,ct.setAnimationLoop(ne),ne===null?Lo.stop():Lo.start()},ct.addEventListener("sessionstart",_d),ct.addEventListener("sessionend",Do),this.render=function(ne,Se){if(Se!==void 0&&Se.isCamera!==!0){dn("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(k===!0)return;const Le=ct.enabled===!0&&ct.isPresenting===!0,De=L!==null&&(Y===null||Le)&&L.begin(O,Y);if(ne.matrixWorldAutoUpdate===!0&&ne.updateMatrixWorld(),Se.parent===null&&Se.matrixWorldAutoUpdate===!0&&Se.updateMatrixWorld(),ct.enabled===!0&&ct.isPresenting===!0&&(L===null||L.isCompositing()===!1)&&(ct.cameraAutoUpdate===!0&&ct.updateCamera(Se),Se=ct.getCamera()),ne.isScene===!0&&ne.onBeforeRender(O,ne,Se,Y),A=mt.get(ne,j.length),A.init(Se),j.push(A),Te.multiplyMatrices(Se.projectionMatrix,Se.matrixWorldInverse),xe.setFromProjectionMatrix(Te,al,Se.reversedDepth),Ie=this.localClippingEnabled,Me=Dt.init(this.clippingPlanes,Ie),T=Je.get(ne,C.length),T.init(),C.push(T),ct.enabled===!0&&ct.isPresenting===!0){const Mt=O.xr.getDepthSensingMesh();Mt!==null&&Zp(Mt,Se,-1/0,O.sortObjects)}Zp(ne,Se,0,O.sortObjects),T.finish(),O.sortObjects===!0&&T.sort(Ae,Ue),Be=ct.enabled===!1||ct.isPresenting===!1||ct.hasDepthSensing()===!1,Be&&Pe.addToRenderList(T,ne),this.info.render.frame++,Me===!0&&Dt.beginShadows();const Ne=A.state.shadowsArray;if(ue.render(Ne,ne,Se),Me===!0&&Dt.endShadows(),this.info.autoReset===!0&&this.info.reset(),(De&&L.hasRenderPass())===!1){const Mt=T.opaque,Ze=T.transmissive;if(A.setupLights(),Se.isArrayCamera){const ft=Se.cameras;if(Ze.length>0)for(let Tt=0,$t=ft.length;Tt<$t;Tt++){const Ut=ft[Tt];I0(Mt,Ze,ne,Ut)}Be&&Pe.render(ne);for(let Tt=0,$t=ft.length;Tt<$t;Tt++){const Ut=ft[Tt];j0(T,ne,Ut,Ut.viewport)}}else Ze.length>0&&I0(Mt,Ze,ne,Se),Be&&Pe.render(ne),j0(T,ne,Se)}Y!==null&&G===0&&(oe.updateMultisampleRenderTarget(Y),oe.updateRenderTargetMipmap(Y)),De&&L.end(O),ne.isScene===!0&&ne.onAfterRender(O,ne,Se),yt.resetDefaultState(),U=-1,W=null,j.pop(),j.length>0?(A=j[j.length-1],Me===!0&&Dt.setGlobalState(O.clippingPlanes,A.state.camera)):A=null,C.pop(),C.length>0?T=C[C.length-1]:T=null};function Zp(ne,Se,Le,De){if(ne.visible===!1)return;if(ne.layers.test(Se.layers)){if(ne.isGroup)Le=ne.renderOrder;else if(ne.isLOD)ne.autoUpdate===!0&&ne.update(Se);else if(ne.isLight)A.pushLight(ne),ne.castShadow&&A.pushShadow(ne);else if(ne.isSprite){if(!ne.frustumCulled||xe.intersectsSprite(ne)){De&&Ce.setFromMatrixPosition(ne.matrixWorld).applyMatrix4(Te);const Mt=Ke.update(ne),Ze=ne.material;Ze.visible&&T.push(ne,Mt,Ze,Le,Ce.z,null)}}else if((ne.isMesh||ne.isLine||ne.isPoints)&&(!ne.frustumCulled||xe.intersectsObject(ne))){const Mt=Ke.update(ne),Ze=ne.material;if(De&&(ne.boundingSphere!==void 0?(ne.boundingSphere===null&&ne.computeBoundingSphere(),Ce.copy(ne.boundingSphere.center)):(Mt.boundingSphere===null&&Mt.computeBoundingSphere(),Ce.copy(Mt.boundingSphere.center)),Ce.applyMatrix4(ne.matrixWorld).applyMatrix4(Te)),Array.isArray(Ze)){const ft=Mt.groups;for(let Tt=0,$t=ft.length;Tt<$t;Tt++){const Ut=ft[Tt],Cn=Ze[Ut.materialIndex];Cn&&Cn.visible&&T.push(ne,Mt,Cn,Le,Ce.z,Ut)}}else Ze.visible&&T.push(ne,Mt,Ze,Le,Ce.z,null)}}const xt=ne.children;for(let Mt=0,Ze=xt.length;Mt<Ze;Mt++)Zp(xt[Mt],Se,Le,De)}function j0(ne,Se,Le,De){const{opaque:Ne,transmissive:xt,transparent:Mt}=ne;A.setupLightsView(Le),Me===!0&&Dt.setGlobalState(O.clippingPlanes,Le),De&&re.viewport(q.copy(De)),Ne.length>0&&ao(Ne,Se,Le),xt.length>0&&ao(xt,Se,Le),Mt.length>0&&ao(Mt,Se,Le),re.buffers.depth.setTest(!0),re.buffers.depth.setMask(!0),re.buffers.color.setMask(!0),re.setPolygonOffset(!1)}function I0(ne,Se,Le,De){if((Le.isScene===!0?Le.overrideMaterial:null)!==null)return;if(A.state.transmissionRenderTarget[De.id]===void 0){const Cn=dt.has("EXT_color_buffer_half_float")||dt.has("EXT_color_buffer_float");A.state.transmissionRenderTarget[De.id]=new eo(1,1,{generateMipmaps:!0,type:Cn?cd:Xa,minFilter:$u,samples:jt.samples,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:cr.workingColorSpace})}const xt=A.state.transmissionRenderTarget[De.id],Mt=De.viewport||q;xt.setSize(Mt.z*O.transmissionResolutionScale,Mt.w*O.transmissionResolutionScale);const Ze=O.getRenderTarget(),ft=O.getActiveCubeFace(),Tt=O.getActiveMipmapLevel();O.setRenderTarget(xt),O.getClearColor(Q),ee=O.getClearAlpha(),ee<1&&O.setClearColor(16777215,.5),O.clear(),Be&&Pe.render(Le);const $t=O.toneMapping;O.toneMapping=Gl;const Ut=De.viewport;if(De.viewport!==void 0&&(De.viewport=void 0),A.setupLightsView(De),Me===!0&&Dt.setGlobalState(O.clippingPlanes,De),ao(ne,Le,De),oe.updateMultisampleRenderTarget(xt),oe.updateRenderTargetMipmap(xt),dt.has("WEBGL_multisampled_render_to_texture")===!1){let Cn=!1;for(let Yn=0,Bn=Se.length;Yn<Bn;Yn++){const mr=Se[Yn],{object:ar,geometry:fn,material:ir,group:Qn}=mr;if(ir.side===Ll&&ar.layers.test(De.layers)){const Dr=ir.side;ir.side=Ja,ir.needsUpdate=!0,Qp(ar,Le,De,fn,ir,Qn),ir.side=Dr,ir.needsUpdate=!0,Cn=!0}}Cn===!0&&(oe.updateMultisampleRenderTarget(xt),oe.updateRenderTargetMipmap(xt))}O.setRenderTarget(Ze,ft,Tt),O.setClearColor(Q,ee),Ut!==void 0&&(De.viewport=Ut),O.toneMapping=$t}function ao(ne,Se,Le){const De=Se.isScene===!0?Se.overrideMaterial:null;for(let Ne=0,xt=ne.length;Ne<xt;Ne++){const Mt=ne[Ne],{object:Ze,geometry:ft,group:Tt}=Mt;let $t=Mt.material;$t.allowOverride===!0&&De!==null&&($t=De),Ze.layers.test(Le.layers)&&Qp(Ze,Se,Le,ft,$t,Tt)}}function Qp(ne,Se,Le,De,Ne,xt){ne.onBeforeRender(O,Se,Le,De,Ne,xt),ne.modelViewMatrix.multiplyMatrices(Le.matrixWorldInverse,ne.matrixWorld),ne.normalMatrix.getNormalMatrix(ne.modelViewMatrix),Ne.onBeforeRender(O,Se,Le,De,ne,xt),Ne.transparent===!0&&Ne.side===Ll&&Ne.forceSinglePass===!1?(Ne.side=Ja,Ne.needsUpdate=!0,O.renderBufferDirect(Le,Se,De,Ne,ne,xt),Ne.side=Gf,Ne.needsUpdate=!0,O.renderBufferDirect(Le,Se,De,Ne,ne,xt),Ne.side=Ll):O.renderBufferDirect(Le,Se,De,Ne,ne,xt),ne.onAfterRender(O,Se,Le,De,Ne,xt)}function Sd(ne,Se,Le){Se.isScene!==!0&&(Se=$e);const De=H.get(ne),Ne=A.state.lights,xt=A.state.shadowsArray,Mt=Ne.state.version,Ze=pt.getParameters(ne,Ne.state,xt,Se,Le),ft=pt.getProgramCacheKey(Ze);let Tt=De.programs;De.environment=ne.isMeshStandardMaterial?Se.environment:null,De.fog=Se.fog,De.envMap=(ne.isMeshStandardMaterial?me:he).get(ne.envMap||De.environment),De.envMapRotation=De.environment!==null&&ne.envMap===null?Se.environmentRotation:ne.envMapRotation,Tt===void 0&&(ne.addEventListener("dispose",Ei),Tt=new Map,De.programs=Tt);let $t=Tt.get(ft);if($t!==void 0){if(De.currentProgram===$t&&De.lightsStateVersion===Mt)return em(ne,Ze),$t}else Ze.uniforms=pt.getUniforms(ne),ne.onBeforeCompile(Ze,O),$t=pt.acquireProgram(Ze,ft),Tt.set(ft,$t),De.uniforms=Ze.uniforms;const Ut=De.uniforms;return(!ne.isShaderMaterial&&!ne.isRawShaderMaterial||ne.clipping===!0)&&(Ut.clippingPlanes=Dt.uniform),em(ne,Ze),De.needsLights=L0(ne),De.lightsStateVersion=Mt,De.needsLights&&(Ut.ambientLightColor.value=Ne.state.ambient,Ut.lightProbe.value=Ne.state.probe,Ut.directionalLights.value=Ne.state.directional,Ut.directionalLightShadows.value=Ne.state.directionalShadow,Ut.spotLights.value=Ne.state.spot,Ut.spotLightShadows.value=Ne.state.spotShadow,Ut.rectAreaLights.value=Ne.state.rectArea,Ut.ltc_1.value=Ne.state.rectAreaLTC1,Ut.ltc_2.value=Ne.state.rectAreaLTC2,Ut.pointLights.value=Ne.state.point,Ut.pointLightShadows.value=Ne.state.pointShadow,Ut.hemisphereLights.value=Ne.state.hemi,Ut.directionalShadowMap.value=Ne.state.directionalShadowMap,Ut.directionalShadowMatrix.value=Ne.state.directionalShadowMatrix,Ut.spotShadowMap.value=Ne.state.spotShadowMap,Ut.spotLightMatrix.value=Ne.state.spotLightMatrix,Ut.spotLightMap.value=Ne.state.spotLightMap,Ut.pointShadowMap.value=Ne.state.pointShadowMap,Ut.pointShadowMatrix.value=Ne.state.pointShadowMatrix),De.currentProgram=$t,De.uniformsList=null,$t}function Jp(ne){if(ne.uniformsList===null){const Se=ne.currentProgram.getUniforms();ne.uniformsList=W2.seqWithValue(Se.seq,ne.uniforms)}return ne.uniformsList}function em(ne,Se){const Le=H.get(ne);Le.outputColorSpace=Se.outputColorSpace,Le.batching=Se.batching,Le.batchingColor=Se.batchingColor,Le.instancing=Se.instancing,Le.instancingColor=Se.instancingColor,Le.instancingMorph=Se.instancingMorph,Le.skinning=Se.skinning,Le.morphTargets=Se.morphTargets,Le.morphNormals=Se.morphNormals,Le.morphColors=Se.morphColors,Le.morphTargetsCount=Se.morphTargetsCount,Le.numClippingPlanes=Se.numClippingPlanes,Le.numIntersection=Se.numClipIntersection,Le.vertexAlphas=Se.vertexAlphas,Le.vertexTangents=Se.vertexTangents,Le.toneMapping=Se.toneMapping}function k0(ne,Se,Le,De,Ne){Se.isScene!==!0&&(Se=$e),oe.resetTextureUnits();const xt=Se.fog,Mt=De.isMeshStandardMaterial?Se.environment:null,Ze=Y===null?O.outputColorSpace:Y.isXRRenderTarget===!0?Y.texture.colorSpace:c0,ft=(De.isMeshStandardMaterial?me:he).get(De.envMap||Mt),Tt=De.vertexColors===!0&&!!Le.attributes.color&&Le.attributes.color.itemSize===4,$t=!!Le.attributes.tangent&&(!!De.normalMap||De.anisotropy>0),Ut=!!Le.morphAttributes.position,Cn=!!Le.morphAttributes.normal,Yn=!!Le.morphAttributes.color;let Bn=Gl;De.toneMapped&&(Y===null||Y.isXRRenderTarget===!0)&&(Bn=O.toneMapping);const mr=Le.morphAttributes.position||Le.morphAttributes.normal||Le.morphAttributes.color,ar=mr!==void 0?mr.length:0,fn=H.get(De),ir=A.state.lights;if(Me===!0&&(Ie===!0||ne!==W)){const fi=ne===W&&De.id===U;Dt.setState(De,ne,fi)}let Qn=!1;De.version===fn.__version?(fn.needsLights&&fn.lightsStateVersion!==ir.state.version||fn.outputColorSpace!==Ze||Ne.isBatchedMesh&&fn.batching===!1||!Ne.isBatchedMesh&&fn.batching===!0||Ne.isBatchedMesh&&fn.batchingColor===!0&&Ne.colorTexture===null||Ne.isBatchedMesh&&fn.batchingColor===!1&&Ne.colorTexture!==null||Ne.isInstancedMesh&&fn.instancing===!1||!Ne.isInstancedMesh&&fn.instancing===!0||Ne.isSkinnedMesh&&fn.skinning===!1||!Ne.isSkinnedMesh&&fn.skinning===!0||Ne.isInstancedMesh&&fn.instancingColor===!0&&Ne.instanceColor===null||Ne.isInstancedMesh&&fn.instancingColor===!1&&Ne.instanceColor!==null||Ne.isInstancedMesh&&fn.instancingMorph===!0&&Ne.morphTexture===null||Ne.isInstancedMesh&&fn.instancingMorph===!1&&Ne.morphTexture!==null||fn.envMap!==ft||De.fog===!0&&fn.fog!==xt||fn.numClippingPlanes!==void 0&&(fn.numClippingPlanes!==Dt.numPlanes||fn.numIntersection!==Dt.numIntersection)||fn.vertexAlphas!==Tt||fn.vertexTangents!==$t||fn.morphTargets!==Ut||fn.morphNormals!==Cn||fn.morphColors!==Yn||fn.toneMapping!==Bn||fn.morphTargetsCount!==ar)&&(Qn=!0):(Qn=!0,fn.__version=De.version);let Dr=fn.currentProgram;Qn===!0&&(Dr=Sd(De,Se,Ne));let pl=!1,Li=!1,Ed=!1;const or=Dr.getUniforms(),Mn=fn.uniforms;if(re.useProgram(Dr.program)&&(pl=!0,Li=!0,Ed=!0),De.id!==U&&(U=De.id,Li=!0),pl||W!==ne){re.buffers.depth.getReversed()&&ne.reversedDepth!==!0&&(ne._reversedDepth=!0,ne.updateProjectionMatrix()),or.setValue(ae,"projectionMatrix",ne.projectionMatrix),or.setValue(ae,"viewMatrix",ne.matrixWorldInverse);const Ki=or.map.cameraPosition;Ki!==void 0&&Ki.setValue(ae,Xe.setFromMatrixPosition(ne.matrixWorld)),jt.logarithmicDepthBuffer&&or.setValue(ae,"logDepthBufFC",2/(Math.log(ne.far+1)/Math.LN2)),(De.isMeshPhongMaterial||De.isMeshToonMaterial||De.isMeshLambertMaterial||De.isMeshBasicMaterial||De.isMeshStandardMaterial||De.isShaderMaterial)&&or.setValue(ae,"isOrthographic",ne.isOrthographicCamera===!0),W!==ne&&(W=ne,Li=!0,Ed=!0)}if(fn.needsLights&&(ir.state.directionalShadowMap.length>0&&or.setValue(ae,"directionalShadowMap",ir.state.directionalShadowMap,oe),ir.state.spotShadowMap.length>0&&or.setValue(ae,"spotShadowMap",ir.state.spotShadowMap,oe),ir.state.pointShadowMap.length>0&&or.setValue(ae,"pointShadowMap",ir.state.pointShadowMap,oe)),Ne.isSkinnedMesh){or.setOptional(ae,Ne,"bindMatrix"),or.setOptional(ae,Ne,"bindMatrixInverse");const fi=Ne.skeleton;fi&&(fi.boneTexture===null&&fi.computeBoneTexture(),or.setValue(ae,"boneTexture",fi.boneTexture,oe))}Ne.isBatchedMesh&&(or.setOptional(ae,Ne,"batchingTexture"),or.setValue(ae,"batchingTexture",Ne._matricesTexture,oe),or.setOptional(ae,Ne,"batchingIdTexture"),or.setValue(ae,"batchingIdTexture",Ne._indirectTexture,oe),or.setOptional(ae,Ne,"batchingColorTexture"),Ne._colorsTexture!==null&&or.setValue(ae,"batchingColorTexture",Ne._colorsTexture,oe));const Fi=Le.morphAttributes;if((Fi.position!==void 0||Fi.normal!==void 0||Fi.color!==void 0)&&lt.update(Ne,Le,Dr),(Li||fn.receiveShadow!==Ne.receiveShadow)&&(fn.receiveShadow=Ne.receiveShadow,or.setValue(ae,"receiveShadow",Ne.receiveShadow)),De.isMeshGouraudMaterial&&De.envMap!==null&&(Mn.envMap.value=ft,Mn.flipEnvMap.value=ft.isCubeTexture&&ft.isRenderTargetTexture===!1?-1:1),De.isMeshStandardMaterial&&De.envMap===null&&Se.environment!==null&&(Mn.envMapIntensity.value=Se.environmentIntensity),Mn.dfgLUT!==void 0&&(Mn.dfgLUT.value=_tt()),Li&&(or.setValue(ae,"toneMappingExposure",O.toneMappingExposure),fn.needsLights&&D0(Mn,Ed),xt&&De.fog===!0&&cn.refreshFogUniforms(Mn,xt),cn.refreshMaterialUniforms(Mn,De,de,J,A.state.transmissionRenderTarget[ne.id]),W2.upload(ae,Jp(fn),Mn,oe)),De.isShaderMaterial&&De.uniformsNeedUpdate===!0&&(W2.upload(ae,Jp(fn),Mn,oe),De.uniformsNeedUpdate=!1),De.isSpriteMaterial&&or.setValue(ae,"center",Ne.center),or.setValue(ae,"modelViewMatrix",Ne.modelViewMatrix),or.setValue(ae,"normalMatrix",Ne.normalMatrix),or.setValue(ae,"modelMatrix",Ne.matrixWorld),De.isShaderMaterial||De.isRawShaderMaterial){const fi=De.uniformsGroups;for(let Ki=0,rh=fi.length;Ki<rh;Ki++){const oo=fi[Ki];it.update(oo,Dr),it.bind(oo,Dr)}}return Dr}function D0(ne,Se){ne.ambientLightColor.needsUpdate=Se,ne.lightProbe.needsUpdate=Se,ne.directionalLights.needsUpdate=Se,ne.directionalLightShadows.needsUpdate=Se,ne.pointLights.needsUpdate=Se,ne.pointLightShadows.needsUpdate=Se,ne.spotLights.needsUpdate=Se,ne.spotLightShadows.needsUpdate=Se,ne.rectAreaLights.needsUpdate=Se,ne.hemisphereLights.needsUpdate=Se}function L0(ne){return ne.isMeshLambertMaterial||ne.isMeshToonMaterial||ne.isMeshPhongMaterial||ne.isMeshStandardMaterial||ne.isShadowMaterial||ne.isShaderMaterial&&ne.lights===!0}this.getActiveCubeFace=function(){return F},this.getActiveMipmapLevel=function(){return G},this.getRenderTarget=function(){return Y},this.setRenderTargetTextures=function(ne,Se,Le){const De=H.get(ne);De.__autoAllocateDepthBuffer=ne.resolveDepthBuffer===!1,De.__autoAllocateDepthBuffer===!1&&(De.__useRenderToTexture=!1),H.get(ne.texture).__webglTexture=Se,H.get(ne.depthTexture).__webglTexture=De.__autoAllocateDepthBuffer?void 0:Le,De.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(ne,Se){const Le=H.get(ne);Le.__webglFramebuffer=Se,Le.__useDefaultFramebuffer=Se===void 0};const Ib=ae.createFramebuffer();this.setRenderTarget=function(ne,Se=0,Le=0){Y=ne,F=Se,G=Le;let De=null,Ne=!1,xt=!1;if(ne){const Ze=H.get(ne);if(Ze.__useDefaultFramebuffer!==void 0){re.bindFramebuffer(ae.FRAMEBUFFER,Ze.__webglFramebuffer),q.copy(ne.viewport),Z.copy(ne.scissor),V=ne.scissorTest,re.viewport(q),re.scissor(Z),re.setScissorTest(V),U=-1;return}else if(Ze.__webglFramebuffer===void 0)oe.setupRenderTarget(ne);else if(Ze.__hasExternalTextures)oe.rebindTextures(ne,H.get(ne.texture).__webglTexture,H.get(ne.depthTexture).__webglTexture);else if(ne.depthBuffer){const $t=ne.depthTexture;if(Ze.__boundDepthTexture!==$t){if($t!==null&&H.has($t)&&(ne.width!==$t.image.width||ne.height!==$t.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");oe.setupDepthRenderbuffer(ne)}}const ft=ne.texture;(ft.isData3DTexture||ft.isDataArrayTexture||ft.isCompressedArrayTexture)&&(xt=!0);const Tt=H.get(ne).__webglFramebuffer;ne.isWebGLCubeRenderTarget?(Array.isArray(Tt[Se])?De=Tt[Se][Le]:De=Tt[Se],Ne=!0):ne.samples>0&&oe.useMultisampledRTT(ne)===!1?De=H.get(ne).__webglMultisampledFramebuffer:Array.isArray(Tt)?De=Tt[Le]:De=Tt,q.copy(ne.viewport),Z.copy(ne.scissor),V=ne.scissorTest}else q.copy(ge).multiplyScalar(de).floor(),Z.copy(pe).multiplyScalar(de).floor(),V=Oe;if(Le!==0&&(De=Ib),re.bindFramebuffer(ae.FRAMEBUFFER,De)&&re.drawBuffers(ne,De),re.viewport(q),re.scissor(Z),re.setScissorTest(V),Ne){const Ze=H.get(ne.texture);ae.framebufferTexture2D(ae.FRAMEBUFFER,ae.COLOR_ATTACHMENT0,ae.TEXTURE_CUBE_MAP_POSITIVE_X+Se,Ze.__webglTexture,Le)}else if(xt){const Ze=Se;for(let ft=0;ft<ne.textures.length;ft++){const Tt=H.get(ne.textures[ft]);ae.framebufferTextureLayer(ae.FRAMEBUFFER,ae.COLOR_ATTACHMENT0+ft,Tt.__webglTexture,Le,Ze)}}else if(ne!==null&&Le!==0){const Ze=H.get(ne.texture);ae.framebufferTexture2D(ae.FRAMEBUFFER,ae.COLOR_ATTACHMENT0,ae.TEXTURE_2D,Ze.__webglTexture,Le)}U=-1},this.readRenderTargetPixels=function(ne,Se,Le,De,Ne,xt,Mt,Ze=0){if(!(ne&&ne.isWebGLRenderTarget)){dn("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ft=H.get(ne).__webglFramebuffer;if(ne.isWebGLCubeRenderTarget&&Mt!==void 0&&(ft=ft[Mt]),ft){re.bindFramebuffer(ae.FRAMEBUFFER,ft);try{const Tt=ne.textures[Ze],$t=Tt.format,Ut=Tt.type;if(!jt.textureFormatReadable($t)){dn("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!jt.textureTypeReadable(Ut)){dn("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Se>=0&&Se<=ne.width-De&&Le>=0&&Le<=ne.height-Ne&&(ne.textures.length>1&&ae.readBuffer(ae.COLOR_ATTACHMENT0+Ze),ae.readPixels(Se,Le,De,Ne,et.convert($t),et.convert(Ut),xt))}finally{const Tt=Y!==null?H.get(Y).__webglFramebuffer:null;re.bindFramebuffer(ae.FRAMEBUFFER,Tt)}}},this.readRenderTargetPixelsAsync=async function(ne,Se,Le,De,Ne,xt,Mt,Ze=0){if(!(ne&&ne.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let ft=H.get(ne).__webglFramebuffer;if(ne.isWebGLCubeRenderTarget&&Mt!==void 0&&(ft=ft[Mt]),ft)if(Se>=0&&Se<=ne.width-De&&Le>=0&&Le<=ne.height-Ne){re.bindFramebuffer(ae.FRAMEBUFFER,ft);const Tt=ne.textures[Ze],$t=Tt.format,Ut=Tt.type;if(!jt.textureFormatReadable($t))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!jt.textureTypeReadable(Ut))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Cn=ae.createBuffer();ae.bindBuffer(ae.PIXEL_PACK_BUFFER,Cn),ae.bufferData(ae.PIXEL_PACK_BUFFER,xt.byteLength,ae.STREAM_READ),ne.textures.length>1&&ae.readBuffer(ae.COLOR_ATTACHMENT0+Ze),ae.readPixels(Se,Le,De,Ne,et.convert($t),et.convert(Ut),0);const Yn=Y!==null?H.get(Y).__webglFramebuffer:null;re.bindFramebuffer(ae.FRAMEBUFFER,Yn);const Bn=ae.fenceSync(ae.SYNC_GPU_COMMANDS_COMPLETE,0);return ae.flush(),await Nqe(ae,Bn,4),ae.bindBuffer(ae.PIXEL_PACK_BUFFER,Cn),ae.getBufferSubData(ae.PIXEL_PACK_BUFFER,0,xt),ae.deleteBuffer(Cn),ae.deleteSync(Bn),xt}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(ne,Se=null,Le=0){const De=Math.pow(2,-Le),Ne=Math.floor(ne.image.width*De),xt=Math.floor(ne.image.height*De),Mt=Se!==null?Se.x:0,Ze=Se!==null?Se.y:0;oe.setTexture2D(ne,0),ae.copyTexSubImage2D(ae.TEXTURE_2D,Le,0,0,Mt,Ze,Ne,xt),re.unbindTexture()};const kb=ae.createFramebuffer(),zr=ae.createFramebuffer();this.copyTextureToTexture=function(ne,Se,Le=null,De=null,Ne=0,xt=null){xt===null&&(Ne!==0?(qx("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),xt=Ne,Ne=0):xt=0);let Mt,Ze,ft,Tt,$t,Ut,Cn,Yn,Bn;const mr=ne.isCompressedTexture?ne.mipmaps[xt]:ne.image;if(Le!==null)Mt=Le.max.x-Le.min.x,Ze=Le.max.y-Le.min.y,ft=Le.isBox3?Le.max.z-Le.min.z:1,Tt=Le.min.x,$t=Le.min.y,Ut=Le.isBox3?Le.min.z:0;else{const Fi=Math.pow(2,-Ne);Mt=Math.floor(mr.width*Fi),Ze=Math.floor(mr.height*Fi),ne.isDataArrayTexture?ft=mr.depth:ne.isData3DTexture?ft=Math.floor(mr.depth*Fi):ft=1,Tt=0,$t=0,Ut=0}De!==null?(Cn=De.x,Yn=De.y,Bn=De.z):(Cn=0,Yn=0,Bn=0);const ar=et.convert(Se.format),fn=et.convert(Se.type);let ir;Se.isData3DTexture?(oe.setTexture3D(Se,0),ir=ae.TEXTURE_3D):Se.isDataArrayTexture||Se.isCompressedArrayTexture?(oe.setTexture2DArray(Se,0),ir=ae.TEXTURE_2D_ARRAY):(oe.setTexture2D(Se,0),ir=ae.TEXTURE_2D),ae.pixelStorei(ae.UNPACK_FLIP_Y_WEBGL,Se.flipY),ae.pixelStorei(ae.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Se.premultiplyAlpha),ae.pixelStorei(ae.UNPACK_ALIGNMENT,Se.unpackAlignment);const Qn=ae.getParameter(ae.UNPACK_ROW_LENGTH),Dr=ae.getParameter(ae.UNPACK_IMAGE_HEIGHT),pl=ae.getParameter(ae.UNPACK_SKIP_PIXELS),Li=ae.getParameter(ae.UNPACK_SKIP_ROWS),Ed=ae.getParameter(ae.UNPACK_SKIP_IMAGES);ae.pixelStorei(ae.UNPACK_ROW_LENGTH,mr.width),ae.pixelStorei(ae.UNPACK_IMAGE_HEIGHT,mr.height),ae.pixelStorei(ae.UNPACK_SKIP_PIXELS,Tt),ae.pixelStorei(ae.UNPACK_SKIP_ROWS,$t),ae.pixelStorei(ae.UNPACK_SKIP_IMAGES,Ut);const or=ne.isDataArrayTexture||ne.isData3DTexture,Mn=Se.isDataArrayTexture||Se.isData3DTexture;if(ne.isDepthTexture){const Fi=H.get(ne),fi=H.get(Se),Ki=H.get(Fi.__renderTarget),rh=H.get(fi.__renderTarget);re.bindFramebuffer(ae.READ_FRAMEBUFFER,Ki.__webglFramebuffer),re.bindFramebuffer(ae.DRAW_FRAMEBUFFER,rh.__webglFramebuffer);for(let oo=0;oo<ft;oo++)or&&(ae.framebufferTextureLayer(ae.READ_FRAMEBUFFER,ae.COLOR_ATTACHMENT0,H.get(ne).__webglTexture,Ne,Ut+oo),ae.framebufferTextureLayer(ae.DRAW_FRAMEBUFFER,ae.COLOR_ATTACHMENT0,H.get(Se).__webglTexture,xt,Bn+oo)),ae.blitFramebuffer(Tt,$t,Mt,Ze,Cn,Yn,Mt,Ze,ae.DEPTH_BUFFER_BIT,ae.NEAREST);re.bindFramebuffer(ae.READ_FRAMEBUFFER,null),re.bindFramebuffer(ae.DRAW_FRAMEBUFFER,null)}else if(Ne!==0||ne.isRenderTargetTexture||H.has(ne)){const Fi=H.get(ne),fi=H.get(Se);re.bindFramebuffer(ae.READ_FRAMEBUFFER,kb),re.bindFramebuffer(ae.DRAW_FRAMEBUFFER,zr);for(let Ki=0;Ki<ft;Ki++)or?ae.framebufferTextureLayer(ae.READ_FRAMEBUFFER,ae.COLOR_ATTACHMENT0,Fi.__webglTexture,Ne,Ut+Ki):ae.framebufferTexture2D(ae.READ_FRAMEBUFFER,ae.COLOR_ATTACHMENT0,ae.TEXTURE_2D,Fi.__webglTexture,Ne),Mn?ae.framebufferTextureLayer(ae.DRAW_FRAMEBUFFER,ae.COLOR_ATTACHMENT0,fi.__webglTexture,xt,Bn+Ki):ae.framebufferTexture2D(ae.DRAW_FRAMEBUFFER,ae.COLOR_ATTACHMENT0,ae.TEXTURE_2D,fi.__webglTexture,xt),Ne!==0?ae.blitFramebuffer(Tt,$t,Mt,Ze,Cn,Yn,Mt,Ze,ae.COLOR_BUFFER_BIT,ae.NEAREST):Mn?ae.copyTexSubImage3D(ir,xt,Cn,Yn,Bn+Ki,Tt,$t,Mt,Ze):ae.copyTexSubImage2D(ir,xt,Cn,Yn,Tt,$t,Mt,Ze);re.bindFramebuffer(ae.READ_FRAMEBUFFER,null),re.bindFramebuffer(ae.DRAW_FRAMEBUFFER,null)}else Mn?ne.isDataTexture||ne.isData3DTexture?ae.texSubImage3D(ir,xt,Cn,Yn,Bn,Mt,Ze,ft,ar,fn,mr.data):Se.isCompressedArrayTexture?ae.compressedTexSubImage3D(ir,xt,Cn,Yn,Bn,Mt,Ze,ft,ar,mr.data):ae.texSubImage3D(ir,xt,Cn,Yn,Bn,Mt,Ze,ft,ar,fn,mr):ne.isDataTexture?ae.texSubImage2D(ae.TEXTURE_2D,xt,Cn,Yn,Mt,Ze,ar,fn,mr.data):ne.isCompressedTexture?ae.compressedTexSubImage2D(ae.TEXTURE_2D,xt,Cn,Yn,mr.width,mr.height,ar,mr.data):ae.texSubImage2D(ae.TEXTURE_2D,xt,Cn,Yn,Mt,Ze,ar,fn,mr);ae.pixelStorei(ae.UNPACK_ROW_LENGTH,Qn),ae.pixelStorei(ae.UNPACK_IMAGE_HEIGHT,Dr),ae.pixelStorei(ae.UNPACK_SKIP_PIXELS,pl),ae.pixelStorei(ae.UNPACK_SKIP_ROWS,Li),ae.pixelStorei(ae.UNPACK_SKIP_IMAGES,Ed),xt===0&&Se.generateMipmaps&&ae.generateMipmap(ir),re.unbindTexture()},this.initRenderTarget=function(ne){H.get(ne).__webglFramebuffer===void 0&&oe.setupRenderTarget(ne)},this.initTexture=function(ne){ne.isCubeTexture?oe.setTextureCube(ne,0):ne.isData3DTexture?oe.setTexture3D(ne,0):ne.isDataArrayTexture||ne.isCompressedArrayTexture?oe.setTexture2DArray(ne,0):oe.setTexture2D(ne,0),re.unbindTexture()},this.resetState=function(){F=0,G=0,Y=null,re.reset(),yt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return al}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=cr._getDrawingBufferColorSpace(e),n.unpackColorSpace=cr._getUnpackColorSpace()}}const Zpe=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:DR,AddEquation:np,AddOperation:Che,AdditiveAnimationBlendMode:R8,AdditiveBlending:Q5,AgXToneMapping:_8,AlphaFormat:P8,AlwaysCompare:Bhe,AlwaysDepth:WC,AlwaysStencilFunc:nU,AmbientLight:jpe,AnimationAction:zpe,AnimationClip:VS,AnimationLoader:xYe,AnimationMixer:XYe,AnimationObjectGroup:GYe,AnimationUtils:mYe,ArcCurve:ape,ArrayCamera:Fpe,ArrowHelper:xKe,AttachedBindMode:tU,Audio:Upe,AudioAnalyser:DYe,AudioContext:nV,AudioListener:jYe,AudioLoader:NYe,AxesHelper:bKe,BackSide:Ja,BasicDepthPacking:jhe,BasicShadowMap:lhe,BatchedMesh:epe,Bone:F8,BooleanKeyframeTrack:P0,Box2:rKe,Box3:Ta,Box3Helper:vKe,BoxGeometry:A0,BoxHelper:gKe,BufferAttribute:kr,BufferGeometry:jn,BufferGeometryLoader:Lpe,ByteType:M8,Cache:Hu,Camera:FE,CameraHelper:mKe,CanvasTexture:FXe,CapsuleGeometry:tO,CatmullRomCurve3:ope,CineonToneMapping:b8,CircleGeometry:nO,ClampToEdgeWrapping:Po,Clock:rV,Color:Lt,ColorKeyframeTrack:Q8,ColorManagement:cr,CompressedArrayTexture:DXe,CompressedCubeTexture:LXe,CompressedTexture:eO,CompressedTextureLoader:bYe,ConeGeometry:zE,ConstantAlphaFactor:Mhe,ConstantColorFactor:She,Controls:_Ke,CubeCamera:Xhe,CubeDepthTexture:ipe,CubeReflectionMapping:ld,CubeRefractionMapping:jp,CubeTexture:UE,CubeTextureLoader:wYe,CubeUVReflectionMapping:Nb,CubicBezierCurve:V8,CubicBezierCurve3:lpe,CubicInterpolant:Mpe,CullFaceBack:Z5,CullFaceFront:ohe,CullFaceFrontBack:BGe,CullFaceNone:ahe,Curve:lu,CurvePath:upe,CustomBlending:che,CustomToneMapping:w8,CylinderGeometry:BE,Cylindrical:nKe,Data3DTexture:XR,DataArrayTexture:qR,DataTexture:Kc,DataTextureLoader:_Ye,DataUtils:oXe,DecrementStencilOp:iqe,DecrementWrapStencilOp:aqe,DefaultLoadingManager:Cpe,DepthFormat:ud,DepthStencilFormat:ip,DepthTexture:Zx,DetachedBindMode:Phe,DirectionalLight:Ope,DirectionalLightHelper:pKe,DiscreteInterpolant:Tpe,DodecahedronGeometry:rO,DoubleSide:Ll,DstAlphaFactor:yhe,DstColorFactor:bhe,DynamicCopyUsage:wqe,DynamicDrawUsage:mqe,DynamicReadUsage:yqe,EdgesGeometry:spe,EllipseCurve:iO,EqualCompare:Lhe,EqualDepth:qC,EqualStencilFunc:uqe,EquirectangularReflectionMapping:AS,EquirectangularRefractionMapping:CS,Euler:hl,EventDispatcher:vd,ExternalTexture:B8,ExtrudeGeometry:sO,FileLoader:qf,Float16BufferAttribute:pXe,Float32BufferAttribute:Xt,FloatType:Qa,Fog:KR,FogExp2:YR,FramebufferTexture:kXe,FrontSide:Gf,Frustum:Rb,FrustumArray:JR,GLBufferAttribute:JYe,GLSL1:Sqe,GLSL3:rU,GreaterCompare:Fhe,GreaterDepth:YC,GreaterEqualCompare:GR,GreaterEqualDepth:XC,GreaterEqualStencilFunc:pqe,GreaterStencilFunc:fqe,GridHelper:fKe,Group:Iy,HalfFloatType:cd,HemisphereLight:Ppe,HemisphereLightHelper:dKe,IcosahedronGeometry:aO,ImageBitmapLoader:PYe,ImageLoader:$S,ImageUtils:Hhe,IncrementStencilOp:rqe,IncrementWrapStencilOp:sqe,InstancedBufferAttribute:Kx,InstancedBufferGeometry:Dpe,InstancedInterleavedBuffer:QYe,InstancedMesh:Jhe,Int16BufferAttribute:fXe,Int32BufferAttribute:hXe,Int8BufferAttribute:cXe,IntType:FR,InterleavedBuffer:ZR,InterleavedBufferAttribute:u0,Interpolant:HE,InterpolateDiscrete:RS,InterpolateLinear:PP,InterpolateSmooth:$2,InterpolationSamplingMode:Tqe,InterpolationSamplingType:Mqe,InvertStencilOp:oqe,KeepStencilOp:dg,KeyframeTrack:Jl,LOD:Zhe,LatheGeometry:oO,Layers:Ug,LessCompare:Dhe,LessDepth:GC,LessEqualCompare:WR,LessEqualDepth:o0,LessEqualStencilFunc:dqe,LessStencilFunc:cqe,Light:Yp,LightProbe:kpe,Line:kp,Line3:aKe,LineBasicMaterial:so,LineCurve:$8,LineCurve3:cpe,LineDashedMaterial:Spe,LineLoop:tpe,LineSegments:yd,LinearFilter:si,LinearInterpolant:Z8,LinearMipMapLinearFilter:HGe,LinearMipMapNearestFilter:$Ge,LinearMipmapLinearFilter:$u,LinearMipmapNearestFilter:Q1,LinearSRGBColorSpace:c0,LinearToneMapping:y8,LinearTransfer:jS,Loader:ko,LoaderUtils:lU,LoadingManager:J8,LoopOnce:Nhe,LoopPingPong:Ohe,LoopRepeat:Rhe,MOUSE:cg,Material:la,MaterialLoader:mO,MathUtils:S1,Matrix2:oV,Matrix3:Fn,Matrix4:Pn,MaxEquation:hhe,Mesh:Yi,MeshBasicMaterial:qp,MeshDepthMaterial:pO,MeshDistanceMaterial:Y8,MeshLambertMaterial:wpe,MeshMatcapMaterial:_pe,MeshNormalMaterial:bpe,MeshPhongMaterial:ype,MeshPhysicalMaterial:vpe,MeshStandardMaterial:X8,MeshToonMaterial:xpe,MinEquation:fhe,MirroredRepeatWrapping:NS,MixOperation:Ahe,MultiplyBlending:eU,MultiplyOperation:DE,NearestFilter:Gi,NearestMipMapLinearFilter:VGe,NearestMipMapNearestFilter:zGe,NearestMipmapLinearFilter:Oy,NearestMipmapNearestFilter:E8,NeutralToneMapping:S8,NeverCompare:khe,NeverDepth:HC,NeverStencilFunc:lqe,NoBlending:ed,NoColorSpace:wf,NoNormalPacking:QGe,NoToneMapping:Gl,NormalAnimationBlendMode:HR,NormalBlending:Lg,NormalGAPacking:eqe,NormalRGPacking:JGe,NotEqualCompare:Uhe,NotEqualDepth:KC,NotEqualStencilFunc:hqe,NumberKeyframeTrack:BS,Object3D:xr,ObjectLoader:AYe,ObjectSpaceNormalMap:Ihe,OctahedronGeometry:VE,OneFactor:mhe,OneMinusConstantAlphaFactor:The,OneMinusConstantColorFactor:Ehe,OneMinusDstAlphaFactor:xhe,OneMinusDstColorFactor:whe,OneMinusSrcAlphaFactor:$C,OneMinusSrcColorFactor:vhe,OrthographicCamera:Zc,PCFShadowMap:Zy,PCFSoftShadowMap:Z1,PMREMGenerator:fU,Path:IP,PerspectiveCamera:yi,Plane:xf,PlaneGeometry:C0,PlaneHelper:yKe,PointLight:Rpe,PointLightHelper:cKe,Points:npe,PointsMaterial:U8,PolarGridHelper:hKe,PolyhedronGeometry:Xp,PositionalAudio:kYe,PropertyBinding:vr,PropertyMixer:Bpe,QuadraticBezierCurve:H8,QuadraticBezierCurve3:W8,Quaternion:Ma,QuaternionKeyframeTrack:WE,QuaternionLinearInterpolant:Ape,R11_EAC_Format:iP,RED_GREEN_RGTC2_Format:AP,RED_RGTC1_Format:MP,REVISION:kR,RG11_EAC_Format:aP,RGBADepthPacking:YGe,RGBAFormat:Ea,RGBAIntegerFormat:$R,RGBA_ASTC_10x10_Format:xP,RGBA_ASTC_10x5_Format:gP,RGBA_ASTC_10x6_Format:vP,RGBA_ASTC_10x8_Format:yP,RGBA_ASTC_12x10_Format:bP,RGBA_ASTC_12x12_Format:wP,RGBA_ASTC_4x4_Format:lP,RGBA_ASTC_5x4_Format:cP,RGBA_ASTC_5x5_Format:uP,RGBA_ASTC_6x5_Format:dP,RGBA_ASTC_6x6_Format:fP,RGBA_ASTC_8x5_Format:hP,RGBA_ASTC_8x6_Format:pP,RGBA_ASTC_8x8_Format:mP,RGBA_BPTC_Format:_P,RGBA_ETC2_EAC_Format:rP,RGBA_PVRTC_2BPPV1_Format:eP,RGBA_PVRTC_4BPPV1_Format:JC,RGBA_S3TC_DXT1_Format:e_,RGBA_S3TC_DXT3_Format:t_,RGBA_S3TC_DXT5_Format:n_,RGBDepthPacking:KGe,RGBFormat:N8,RGBIntegerFormat:WGe,RGB_BPTC_SIGNED_Format:SP,RGB_BPTC_UNSIGNED_Format:EP,RGB_ETC1_Format:tP,RGB_ETC2_Format:nP,RGB_PVRTC_2BPPV1_Format:QC,RGB_PVRTC_4BPPV1_Format:ZC,RGB_S3TC_DXT1_Format:J1,RGDepthPacking:ZGe,RGFormat:l0,RGIntegerFormat:VR,RawShaderMaterial:q8,Ray:T0,Raycaster:Vpe,RectAreaLight:Ipe,RedFormat:zR,RedIntegerFormat:LE,ReinhardToneMapping:x8,RenderTarget:j8,RenderTarget3D:YYe,RepeatWrapping:PS,ReplaceStencilOp:nqe,ReverseSubtractEquation:dhe,RingGeometry:lO,SIGNED_R11_EAC_Format:sP,SIGNED_RED_GREEN_RGTC2_Format:CP,SIGNED_RED_RGTC1_Format:TP,SIGNED_RG11_EAC_Format:oP,SRGBColorSpace:Eo,SRGBTransfer:Pr,Scene:NP,ShaderChunk:qn,ShaderLib:kc,ShaderMaterial:Ro,ShadowMaterial:gpe,Shape:pp,ShapeGeometry:cO,ShapePath:wKe,ShapeUtils:Hc,ShortType:T8,Skeleton:QR,SkeletonHelper:lKe,SkinnedMesh:Qhe,Source:sp,Sphere:oa,SphereGeometry:$E,Spherical:uU,SphericalHarmonics3:tV,SplineCurve:G8,SpotLight:Npe,SpotLightHelper:oKe,Sprite:Khe,SpriteMaterial:L8,SrcAlphaFactor:VC,SrcAlphaSaturateFactor:_he,SrcColorFactor:ghe,StaticCopyUsage:bqe,StaticDrawUsage:IS,StaticReadUsage:vqe,StereoCamera:RYe,StreamCopyUsage:_qe,StreamDrawUsage:gqe,StreamReadUsage:xqe,StringKeyframeTrack:N0,SubtractEquation:uhe,SubtractiveBlending:J5,TOUCH:ug,TangentSpaceNormalMap:Gp,TetrahedronGeometry:uO,Texture:Si,TextureLoader:SYe,TextureUtils:AKe,Timer:eKe,TimestampQuery:Eqe,TorusGeometry:dO,TorusKnotGeometry:fO,Triangle:To,TriangleFanDrawMode:XGe,TriangleStripDrawMode:qGe,TrianglesDrawMode:GGe,TubeGeometry:hO,UVMapping:LR,Uint16BufferAttribute:I8,Uint32BufferAttribute:k8,Uint8BufferAttribute:uXe,Uint8ClampedBufferAttribute:dXe,Uniform:aV,UniformsGroup:ZYe,UniformsLib:Nt,UniformsUtils:qhe,UnsignedByteType:Xa,UnsignedInt101111Type:C8,UnsignedInt248Type:Wx,UnsignedInt5999Type:A8,UnsignedIntType:Xl,UnsignedShort4444Type:UR,UnsignedShort5551Type:BR,UnsignedShortType:Hx,VSMShadowMap:Eg,Vector2:Ge,Vector3:ie,Vector4:Wr,VectorKeyframeTrack:zS,VideoFrameTexture:IXe,VideoTexture:rpe,WebGL3DRenderTarget:Zqe,WebGLArrayRenderTarget:Kqe,WebGLCoordinateSystem:al,WebGLCubeRenderTarget:D8,WebGLRenderTarget:eo,WebGLRenderer:Kpe,WebGLUtils:Ype,WebGPUCoordinateSystem:Gx,WebXRController:H2,WireframeGeometry:mpe,WrapAroundEnding:OS,ZeroCurvatureEnding:Mg,ZeroFactor:phe,ZeroSlopeEnding:Tg,ZeroStencilOp:tqe,createCanvasElement:$he,error:dn,getConsoleFunction:Pqe,log:DS,setConsoleFunction:Cqe,warn:At,warnOnce:qx},Symbol.toStringTag,{value:"Module"}));var KL={exports:{}},Hh={};var ZJ;function Stt(){return ZJ||(ZJ=1,Hh.ConcurrentRoot=1,Hh.ContinuousEventPriority=4,Hh.DefaultEventPriority=16,Hh.DiscreteEventPriority=1,Hh.IdleEventPriority=536870912,Hh.LegacyRoot=0),Hh}var QJ;function Ett(){return QJ||(QJ=1,KL.exports=Stt()),KL.exports}var ky=Ett();function Mtt(t){let e;const n=new Set,r=(c,d)=>{const f=typeof c=="function"?c(e):c;if(f!==e){const h=e;e=d?f:Object.assign({},e,f),n.forEach(m=>m(e,h))}},i=()=>e,s=(c,d=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let h=d(e);function m(){const v=d(e);if(!f(h,v)){const b=h;c(h=v,b)}}return n.add(m),()=>n.delete(m)},l={setState:r,getState:i,subscribe:(c,d,f)=>d||f?s(c,d,f):(n.add(c),()=>n.delete(c)),destroy:()=>n.clear()};return e=t(r,i,l),l}const Ttt=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),JJ=Ttt?N.useEffect:N.useLayoutEffect;function Att(t){const e=typeof t=="function"?Mtt(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=N.useReducer(y=>y+1,0),a=e.getState(),o=N.useRef(a),l=N.useRef(r),c=N.useRef(i),d=N.useRef(!1),f=N.useRef();f.current===void 0&&(f.current=r(a));let h,m=!1;(o.current!==a||l.current!==r||c.current!==i||d.current)&&(h=r(a),m=!i(f.current,h)),JJ(()=>{m&&(f.current=h),o.current=a,l.current=r,c.current=i,d.current=!1});const v=N.useRef(a);JJ(()=>{const y=()=>{try{const S=e.getState(),M=l.current(S);c.current(f.current,M)||(o.current=S,f.current=M,s())}catch{d.current=!0,s()}},w=e.subscribe(y);return e.getState()!==v.current&&y(),w},[]);const b=m?h:f.current;return N.useDebugValue(b),b};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var ZL={exports:{}},QL={exports:{}},JL={};var eee;function Ctt(){return eee||(eee=1,(function(t){function e(V,Q){var ee=V.length;V.push(Q);e:for(;0<ee;){var $=ee-1>>>1,J=V[$];if(0<i(J,Q))V[$]=Q,V[ee]=J,ee=$;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var Q=V[0],ee=V.pop();if(ee!==Q){V[0]=ee;e:for(var $=0,J=V.length,de=J>>>1;$<de;){var Ae=2*($+1)-1,Ue=V[Ae],ge=Ae+1,pe=V[ge];if(0>i(Ue,ee))ge<J&&0>i(pe,Ue)?(V[$]=pe,V[ge]=ee,$=ge):(V[$]=Ue,V[Ae]=ee,$=Ae);else if(ge<J&&0>i(pe,ee))V[$]=pe,V[ge]=ee,$=ge;else break e}}return Q}function i(V,Q){var ee=V.sortIndex-Q.sortIndex;return ee!==0?ee:V.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],d=1,f=null,h=3,m=!1,v=!1,b=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(V){for(var Q=n(c);Q!==null;){if(Q.callback===null)r(c);else if(Q.startTime<=V)r(c),Q.sortIndex=Q.expirationTime,e(l,Q);else break;Q=n(c)}}function T(V){if(b=!1,M(V),!v)if(n(l)!==null)v=!0,q(A);else{var Q=n(c);Q!==null&&Z(T,Q.startTime-V)}}function A(V,Q){v=!1,b&&(b=!1,w(L),L=-1),m=!0;var ee=h;try{for(M(Q),f=n(l);f!==null&&(!(f.expirationTime>Q)||V&&!F());){var $=f.callback;if(typeof $=="function"){f.callback=null,h=f.priorityLevel;var J=$(f.expirationTime<=Q);Q=t.unstable_now(),typeof J=="function"?f.callback=J:f===n(l)&&r(l),M(Q)}else r(l);f=n(l)}if(f!==null)var de=!0;else{var Ae=n(c);Ae!==null&&Z(T,Ae.startTime-Q),de=!1}return de}finally{f=null,h=ee,m=!1}}var C=!1,j=null,L=-1,O=5,k=-1;function F(){return!(t.unstable_now()-k<O)}function G(){if(j!==null){var V=t.unstable_now();k=V;var Q=!0;try{Q=j(!0,V)}finally{Q?Y():(C=!1,j=null)}}else C=!1}var Y;if(typeof S=="function")Y=function(){S(G)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,W=U.port2;U.port1.onmessage=G,Y=function(){W.postMessage(null)}}else Y=function(){y(G,0)};function q(V){j=V,C||(C=!0,Y())}function Z(V,Q){L=y(function(){V(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,q(A))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(h){case 1:case 2:case 3:var Q=3;break;default:Q=h}var ee=h;h=Q;try{return V()}finally{h=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,Q){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ee=h;h=V;try{return Q()}finally{h=ee}},t.unstable_scheduleCallback=function(V,Q,ee){var $=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?$+ee:$):ee=$,V){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=ee+J,V={id:d++,callback:Q,priorityLevel:V,startTime:ee,expirationTime:J,sortIndex:-1},ee>$?(V.sortIndex=ee,e(c,V),n(l)===null&&V===n(c)&&(b?(w(L),L=-1):b=!0,Z(T,ee-$))):(V.sortIndex=J,e(l,V),v||m||(v=!0,q(A))),V},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(V){var Q=h;return function(){var ee=h;h=Q;try{return V.apply(this,arguments)}finally{h=ee}}}})(JL)),JL}var tee;function Ptt(){return tee||(tee=1,QL.exports=Ctt()),QL.exports}var e4,nee;function Ntt(){return nee||(nee=1,e4=function(e){var n={},r=aE(),i=Ptt(),s=Object.assign;function a(x){for(var _="https://reactjs.org/docs/error-decoder.html?invariant="+x,P=1;P<arguments.length;P++)_+="&args[]="+encodeURIComponent(arguments[P]);return"Minified React error #"+x+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),v=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),T=Symbol.for("react.offscreen"),A=Symbol.iterator;function C(x){return x===null||typeof x!="object"?null:(x=A&&x[A]||x["@@iterator"],typeof x=="function"?x:null)}function j(x){if(x==null)return null;if(typeof x=="function")return x.displayName||x.name||null;if(typeof x=="string")return x;switch(x){case d:return"Fragment";case c:return"Portal";case h:return"Profiler";case f:return"StrictMode";case y:return"Suspense";case w:return"SuspenseList"}if(typeof x=="object")switch(x.$$typeof){case v:return(x.displayName||"Context")+".Consumer";case m:return(x._context.displayName||"Context")+".Provider";case b:var _=x.render;return x=x.displayName,x||(x=_.displayName||_.name||"",x=x!==""?"ForwardRef("+x+")":"ForwardRef"),x;case S:return _=x.displayName||null,_!==null?_:j(x.type)||"Memo";case M:_=x._payload,x=x._init;try{return j(x(_))}catch{}}return null}function L(x){var _=x.type;switch(x.tag){case 24:return"Cache";case 9:return(_.displayName||"Context")+".Consumer";case 10:return(_._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return x=_.render,x=x.displayName||x.name||"",_.displayName||(x!==""?"ForwardRef("+x+")":"ForwardRef");case 7:return"Fragment";case 5:return _;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return j(_);case 8:return _===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof _=="function")return _.displayName||_.name||null;if(typeof _=="string")return _}return null}function O(x){var _=x,P=x;if(x.alternate)for(;_.return;)_=_.return;else{x=_;do _=x,(_.flags&4098)!==0&&(P=_.return),x=_.return;while(x)}return _.tag===3?P:null}function k(x){if(O(x)!==x)throw Error(a(188))}function F(x){var _=x.alternate;if(!_){if(_=O(x),_===null)throw Error(a(188));return _!==x?null:x}for(var P=x,I=_;;){var B=P.return;if(B===null)break;var X=B.alternate;if(X===null){if(I=B.return,I!==null){P=I;continue}break}if(B.child===X.child){for(X=B.child;X;){if(X===P)return k(B),x;if(X===I)return k(B),_;X=X.sibling}throw Error(a(188))}if(P.return!==I.return)P=B,I=X;else{for(var le=!1,_e=B.child;_e;){if(_e===P){le=!0,P=B,I=X;break}if(_e===I){le=!0,I=B,P=X;break}_e=_e.sibling}if(!le){for(_e=X.child;_e;){if(_e===P){le=!0,P=X,I=B;break}if(_e===I){le=!0,I=X,P=B;break}_e=_e.sibling}if(!le)throw Error(a(189))}}if(P.alternate!==I)throw Error(a(190))}if(P.tag!==3)throw Error(a(188));return P.stateNode.current===P?x:_}function G(x){return x=F(x),x!==null?Y(x):null}function Y(x){if(x.tag===5||x.tag===6)return x;for(x=x.child;x!==null;){var _=Y(x);if(_!==null)return _;x=x.sibling}return null}function U(x){if(x.tag===5||x.tag===6)return x;for(x=x.child;x!==null;){if(x.tag!==4){var _=U(x);if(_!==null)return _}x=x.sibling}return null}var W=Array.isArray,q=e.getPublicInstance,Z=e.getRootHostContext,V=e.getChildHostContext,Q=e.prepareForCommit,ee=e.resetAfterCommit,$=e.createInstance,J=e.appendInitialChild,de=e.finalizeInitialChildren,Ae=e.prepareUpdate,Ue=e.shouldSetTextContent,ge=e.createTextInstance,pe=e.scheduleTimeout,Oe=e.cancelTimeout,xe=e.noTimeout,Me=e.isPrimaryRenderer,Ie=e.supportsMutation,Te=e.supportsPersistence,Xe=e.supportsHydration,Ce=e.getInstanceFromNode,$e=e.preparePortalMount,Be=e.getCurrentEventPriority,Ye=e.detachDeletedInstance,ae=e.supportsMicrotasks,Ot=e.scheduleMicrotask,dt=e.supportsTestSelectors,jt=e.findFiberRoot,re=e.getBoundingRect,K=e.getTextContent,H=e.isHiddenSubtree,oe=e.matchAccessibilityRole,he=e.setFocusIfFocusable,me=e.setupIntersectionObserver,ye=e.appendChild,nt=e.appendChildToContainer,Ke=e.commitTextUpdate,pt=e.commitMount,cn=e.commitUpdate,Je=e.insertBefore,mt=e.insertInContainerBefore,Dt=e.removeChild,ue=e.removeChildFromContainer,Pe=e.resetTextContent,lt=e.hideInstance,fe=e.hideTextInstance,at=e.unhideInstance,et=e.unhideTextInstance,yt=e.clearContainer,it=e.cloneInstance,qe=e.createContainerChildSet,ct=e.appendChildToContainerChildSet,an=e.finalizeContainerChildren,er=e.replaceContainerChildren,Un=e.cloneHiddenInstance,Ei=e.cloneHiddenTextInstance,Mi=e.canHydrateInstance,Kp=e.canHydrateTextInstance,uu=e.canHydrateSuspenseInstance,nh=e.isSuspenseInstancePending,tc=e.isSuspenseInstanceFallback,_d=e.registerSuspenseInstanceRetry,Do=e.getNextHydratableSibling,Lo=e.getFirstHydratableChild,Zp=e.getFirstHydratableChildWithinContainer,j0=e.getFirstHydratableChildWithinSuspenseInstance,I0=e.hydrateInstance,ao=e.hydrateTextInstance,Qp=e.hydrateSuspenseInstance,Sd=e.getNextHydratableInstanceAfterSuspenseInstance,Jp=e.commitHydratedContainer,em=e.commitHydratedSuspenseInstance,k0=e.clearSuspenseBoundary,D0=e.clearSuspenseBoundaryFromContainer,L0=e.shouldDeleteUnhydratedTailInstances,Ib=e.didNotMatchHydratedContainerTextInstance,kb=e.didNotMatchHydratedTextInstance,zr;function ne(x){if(zr===void 0)try{throw Error()}catch(P){var _=P.stack.trim().match(/\n( *(at )?)/);zr=_&&_[1]||""}return`
`+zr+x}var Se=!1;function Le(x,_){if(!x||Se)return"";Se=!0;var P=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(_)if(_=function(){throw Error()},Object.defineProperty(_.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_,[])}catch(ht){var I=ht}Reflect.construct(x,[],_)}else{try{_.call()}catch(ht){I=ht}x.call(_.prototype)}else{try{throw Error()}catch(ht){I=ht}x()}}catch(ht){if(ht&&I&&typeof ht.stack=="string"){for(var B=ht.stack.split(`
`),X=I.stack.split(`
`),le=B.length-1,_e=X.length-1;1<=le&&0<=_e&&B[le]!==X[_e];)_e--;for(;1<=le&&0<=_e;le--,_e--)if(B[le]!==X[_e]){if(le!==1||_e!==1)do if(le--,_e--,0>_e||B[le]!==X[_e]){var Ve=`
`+B[le].replace(" at new "," at ");return x.displayName&&Ve.includes("<anonymous>")&&(Ve=Ve.replace("<anonymous>",x.displayName)),Ve}while(1<=le&&0<=_e);break}}}finally{Se=!1,Error.prepareStackTrace=P}return(x=x?x.displayName||x.name:"")?ne(x):""}var De=Object.prototype.hasOwnProperty,Ne=[],xt=-1;function Mt(x){return{current:x}}function Ze(x){0>xt||(x.current=Ne[xt],Ne[xt]=null,xt--)}function ft(x,_){xt++,Ne[xt]=x.current,x.current=_}var Tt={},$t=Mt(Tt),Ut=Mt(!1),Cn=Tt;function Yn(x,_){var P=x.type.contextTypes;if(!P)return Tt;var I=x.stateNode;if(I&&I.__reactInternalMemoizedUnmaskedChildContext===_)return I.__reactInternalMemoizedMaskedChildContext;var B={},X;for(X in P)B[X]=_[X];return I&&(x=x.stateNode,x.__reactInternalMemoizedUnmaskedChildContext=_,x.__reactInternalMemoizedMaskedChildContext=B),B}function Bn(x){return x=x.childContextTypes,x!=null}function mr(){Ze(Ut),Ze($t)}function ar(x,_,P){if($t.current!==Tt)throw Error(a(168));ft($t,_),ft(Ut,P)}function fn(x,_,P){var I=x.stateNode;if(_=_.childContextTypes,typeof I.getChildContext!="function")return P;I=I.getChildContext();for(var B in I)if(!(B in _))throw Error(a(108,L(x)||"Unknown",B));return s({},P,I)}function ir(x){return x=(x=x.stateNode)&&x.__reactInternalMemoizedMergedChildContext||Tt,Cn=$t.current,ft($t,x),ft(Ut,Ut.current),!0}function Qn(x,_,P){var I=x.stateNode;if(!I)throw Error(a(169));P?(x=fn(x,_,Cn),I.__reactInternalMemoizedMergedChildContext=x,Ze(Ut),Ze($t),ft($t,x)):Ze(Ut),ft(Ut,P)}var Dr=Math.clz32?Math.clz32:Ed,pl=Math.log,Li=Math.LN2;function Ed(x){return x>>>=0,x===0?32:31-(pl(x)/Li|0)|0}var or=64,Mn=4194304;function Fi(x){switch(x&-x){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return x&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return x&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return x}}function fi(x,_){var P=x.pendingLanes;if(P===0)return 0;var I=0,B=x.suspendedLanes,X=x.pingedLanes,le=P&268435455;if(le!==0){var _e=le&~B;_e!==0?I=Fi(_e):(X&=le,X!==0&&(I=Fi(X)))}else le=P&~B,le!==0?I=Fi(le):X!==0&&(I=Fi(X));if(I===0)return 0;if(_!==0&&_!==I&&(_&B)===0&&(B=I&-I,X=_&-_,B>=X||B===16&&(X&4194240)!==0))return _;if((I&4)!==0&&(I|=P&16),_=x.entangledLanes,_!==0)for(x=x.entanglements,_&=I;0<_;)P=31-Dr(_),B=1<<P,I|=x[P],_&=~B;return I}function Ki(x,_){switch(x){case 1:case 2:case 4:return _+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rh(x,_){for(var P=x.suspendedLanes,I=x.pingedLanes,B=x.expirationTimes,X=x.pendingLanes;0<X;){var le=31-Dr(X),_e=1<<le,Ve=B[le];Ve===-1?((_e&P)===0||(_e&I)!==0)&&(B[le]=Ki(_e,_)):Ve<=_&&(x.expiredLanes|=_e),X&=~_e}}function oo(x){return x=x.pendingLanes&-1073741825,x!==0?x:x&1073741824?1073741824:0}function F0(x){for(var _=[],P=0;31>P;P++)_.push(x);return _}function Md(x,_,P){x.pendingLanes|=_,_!==536870912&&(x.suspendedLanes=0,x.pingedLanes=0),x=x.eventTimes,_=31-Dr(_),x[_]=P}function U0(x,_){var P=x.pendingLanes&~_;x.pendingLanes=_,x.suspendedLanes=0,x.pingedLanes=0,x.expiredLanes&=_,x.mutableReadLanes&=_,x.entangledLanes&=_,_=x.entanglements;var I=x.eventTimes;for(x=x.expirationTimes;0<P;){var B=31-Dr(P),X=1<<B;_[B]=0,I[B]=-1,x[B]=-1,P&=~X}}function ml(x,_){var P=x.entangledLanes|=_;for(x=x.entanglements;P;){var I=31-Dr(P),B=1<<I;B&_|x[I]&_&&(x[I]|=_),P&=~B}}var Wn=0;function nc(x){return x&=-x,1<x?4<x?(x&268435455)!==0?16:536870912:4:1}var Td=i.unstable_scheduleCallback,ih=i.unstable_cancelCallback,du=i.unstable_shouldYield,IO=i.unstable_requestPaint,Ui=i.unstable_now,Ad=i.unstable_ImmediatePriority,kO=i.unstable_UserBlockingPriority,B0=i.unstable_NormalPriority,z0=i.unstable_IdlePriority,tm=null,gl=null;function nm(x){if(gl&&typeof gl.onCommitFiberRoot=="function")try{gl.onCommitFiberRoot(tm,x,void 0,(x.current.flags&128)===128)}catch{}}function rm(x,_){return x===_&&(x!==0||1/x===1/_)||x!==x&&_!==_}var $s=typeof Object.is=="function"?Object.is:rm,lo=null,V0=!1,Db=!1;function $0(x){lo===null?lo=[x]:lo.push(x)}function H0(x){V0=!0,$0(x)}function co(){if(!Db&&lo!==null){Db=!0;var x=0,_=Wn;try{var P=lo;for(Wn=1;x<P.length;x++){var I=P[x];do I=I(!0);while(I!==null)}lo=null,V0=!1}catch(B){throw lo!==null&&(lo=lo.slice(x+1)),Td(Ad,co),B}finally{Wn=_,Db=!1}}return null}var aM=o.ReactCurrentBatchConfig;function Fo(x,_){if($s(x,_))return!0;if(typeof x!="object"||x===null||typeof _!="object"||_===null)return!1;var P=Object.keys(x),I=Object.keys(_);if(P.length!==I.length)return!1;for(I=0;I<P.length;I++){var B=P[I];if(!De.call(_,B)||!$s(x[B],_[B]))return!1}return!0}function Lb(x){switch(x.tag){case 5:return ne(x.type);case 16:return ne("Lazy");case 13:return ne("Suspense");case 19:return ne("SuspenseList");case 0:case 2:case 15:return x=Le(x.type,!1),x;case 11:return x=Le(x.type.render,!1),x;case 1:return x=Le(x.type,!0),x;default:return""}}function ca(x,_){if(x&&x.defaultProps){_=s({},_),x=x.defaultProps;for(var P in x)_[P]===void 0&&(_[P]=x[P]);return _}return _}var im=Mt(null),Cd=null,rc=null,W0=null;function Hs(){W0=rc=Cd=null}function Pd(x,_,P){Me?(ft(im,_._currentValue),_._currentValue=P):(ft(im,_._currentValue2),_._currentValue2=P)}function sm(x){var _=im.current;Ze(im),Me?x._currentValue=_:x._currentValue2=_}function Nd(x,_,P){for(;x!==null;){var I=x.alternate;if((x.childLanes&_)!==_?(x.childLanes|=_,I!==null&&(I.childLanes|=_)):I!==null&&(I.childLanes&_)!==_&&(I.childLanes|=_),x===P)break;x=x.return}}function sh(x,_){Cd=x,W0=rc=null,x=x.dependencies,x!==null&&x.firstContext!==null&&((x.lanes&_)!==0&&(es=!0),x.firstContext=null)}function ua(x){var _=Me?x._currentValue:x._currentValue2;if(W0!==x)if(x={context:x,memoizedValue:_,next:null},rc===null){if(Cd===null)throw Error(a(308));rc=x,Cd.dependencies={lanes:0,firstContext:x}}else rc=rc.next=x;return _}var uo=null,fo=!1;function ah(x){x.updateQueue={baseState:x.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fb(x,_){x=x.updateQueue,_.updateQueue===x&&(_.updateQueue={baseState:x.baseState,firstBaseUpdate:x.firstBaseUpdate,lastBaseUpdate:x.lastBaseUpdate,shared:x.shared,effects:x.effects})}function ic(x,_){return{eventTime:x,lane:_,tag:0,payload:null,callback:null,next:null}}function fu(x,_){var P=x.updateQueue;P!==null&&(P=P.shared,pi!==null&&(x.mode&1)!==0&&(Dn&2)===0?(x=P.interleaved,x===null?(_.next=_,uo===null?uo=[P]:uo.push(P)):(_.next=x.next,x.next=_),P.interleaved=_):(x=P.pending,x===null?_.next=_:(_.next=x.next,x.next=_),P.pending=_))}function G0(x,_,P){if(_=_.updateQueue,_!==null&&(_=_.shared,(P&4194240)!==0)){var I=_.lanes;I&=x.pendingLanes,P|=I,_.lanes=P,ml(x,P)}}function q0(x,_){var P=x.updateQueue,I=x.alternate;if(I!==null&&(I=I.updateQueue,P===I)){var B=null,X=null;if(P=P.firstBaseUpdate,P!==null){do{var le={eventTime:P.eventTime,lane:P.lane,tag:P.tag,payload:P.payload,callback:P.callback,next:null};X===null?B=X=le:X=X.next=le,P=P.next}while(P!==null);X===null?B=X=_:X=X.next=_}else B=X=_;P={baseState:I.baseState,firstBaseUpdate:B,lastBaseUpdate:X,shared:I.shared,effects:I.effects},x.updateQueue=P;return}x=P.lastBaseUpdate,x===null?P.firstBaseUpdate=_:x.next=_,P.lastBaseUpdate=_}function X0(x,_,P,I){var B=x.updateQueue;fo=!1;var X=B.firstBaseUpdate,le=B.lastBaseUpdate,_e=B.shared.pending;if(_e!==null){B.shared.pending=null;var Ve=_e,ht=Ve.next;Ve.next=null,le===null?X=ht:le.next=ht,le=Ve;var zt=x.alternate;zt!==null&&(zt=zt.updateQueue,_e=zt.lastBaseUpdate,_e!==le&&(_e===null?zt.firstBaseUpdate=ht:_e.next=ht,zt.lastBaseUpdate=Ve))}if(X!==null){var Rn=B.baseState;le=0,zt=ht=Ve=null,_e=X;do{var hn=_e.lane,zn=_e.eventTime;if((I&hn)===hn){zt!==null&&(zt=zt.next={eventTime:zn,lane:0,tag:_e.tag,payload:_e.payload,callback:_e.callback,next:null});e:{var kt=x,hs=_e;switch(hn=_,zn=P,hs.tag){case 1:if(kt=hs.payload,typeof kt=="function"){Rn=kt.call(zn,Rn,hn);break e}Rn=kt;break e;case 3:kt.flags=kt.flags&-65537|128;case 0:if(kt=hs.payload,hn=typeof kt=="function"?kt.call(zn,Rn,hn):kt,hn==null)break e;Rn=s({},Rn,hn);break e;case 2:fo=!0}}_e.callback!==null&&_e.lane!==0&&(x.flags|=64,hn=B.effects,hn===null?B.effects=[_e]:hn.push(_e))}else zn={eventTime:zn,lane:hn,tag:_e.tag,payload:_e.payload,callback:_e.callback,next:null},zt===null?(ht=zt=zn,Ve=Rn):zt=zt.next=zn,le|=hn;if(_e=_e.next,_e===null){if(_e=B.shared.pending,_e===null)break;hn=_e,_e=hn.next,hn.next=null,B.lastBaseUpdate=hn,B.shared.pending=null}}while(!0);if(zt===null&&(Ve=Rn),B.baseState=Ve,B.firstBaseUpdate=ht,B.lastBaseUpdate=zt,_=B.shared.interleaved,_!==null){B=_;do le|=B.lane,B=B.next;while(B!==_)}else X===null&&(B.shared.lanes=0);bl|=le,x.lanes=le,x.memoizedState=Rn}}function oM(x,_,P){if(x=_.effects,_.effects=null,x!==null)for(_=0;_<x.length;_++){var I=x[_],B=I.callback;if(B!==null){if(I.callback=null,I=P,typeof B!="function")throw Error(a(191,B));B.call(I)}}}var lM=new r.Component().refs;function Ub(x,_,P,I){_=x.memoizedState,P=P(I,_),P=P==null?_:s({},_,P),x.memoizedState=P,x.lanes===0&&(x.updateQueue.baseState=P)}var Y0={isMounted:function(x){return(x=x._reactInternals)?O(x)===x:!1},enqueueSetState:function(x,_,P){x=x._reactInternals;var I=dr(),B=Wo(x),X=ic(I,B);X.payload=_,P!=null&&(X.callback=P),fu(x,X),_=As(x,B,I),_!==null&&G0(_,x,B)},enqueueReplaceState:function(x,_,P){x=x._reactInternals;var I=dr(),B=Wo(x),X=ic(I,B);X.tag=1,X.payload=_,P!=null&&(X.callback=P),fu(x,X),_=As(x,B,I),_!==null&&G0(_,x,B)},enqueueForceUpdate:function(x,_){x=x._reactInternals;var P=dr(),I=Wo(x),B=ic(P,I);B.tag=2,_!=null&&(B.callback=_),fu(x,B),_=As(x,I,P),_!==null&&G0(_,x,I)}};function Bb(x,_,P,I,B,X,le){return x=x.stateNode,typeof x.shouldComponentUpdate=="function"?x.shouldComponentUpdate(I,X,le):_.prototype&&_.prototype.isPureReactComponent?!Fo(P,I)||!Fo(B,X):!0}function cM(x,_,P){var I=!1,B=Tt,X=_.contextType;return typeof X=="object"&&X!==null?X=ua(X):(B=Bn(_)?Cn:$t.current,I=_.contextTypes,X=(I=I!=null)?Yn(x,B):Tt),_=new _(P,X),x.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Y0,x.stateNode=_,_._reactInternals=x,I&&(x=x.stateNode,x.__reactInternalMemoizedUnmaskedChildContext=B,x.__reactInternalMemoizedMaskedChildContext=X),_}function uM(x,_,P,I){x=_.state,typeof _.componentWillReceiveProps=="function"&&_.componentWillReceiveProps(P,I),typeof _.UNSAFE_componentWillReceiveProps=="function"&&_.UNSAFE_componentWillReceiveProps(P,I),_.state!==x&&Y0.enqueueReplaceState(_,_.state,null)}function zb(x,_,P,I){var B=x.stateNode;B.props=P,B.state=x.memoizedState,B.refs=lM,ah(x);var X=_.contextType;typeof X=="object"&&X!==null?B.context=ua(X):(X=Bn(_)?Cn:$t.current,B.context=Yn(x,X)),B.state=x.memoizedState,X=_.getDerivedStateFromProps,typeof X=="function"&&(Ub(x,_,X,P),B.state=x.memoizedState),typeof _.getDerivedStateFromProps=="function"||typeof B.getSnapshotBeforeUpdate=="function"||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(_=B.state,typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount(),_!==B.state&&Y0.enqueueReplaceState(B,B.state,null),X0(x,P,B,I),B.state=x.memoizedState),typeof B.componentDidMount=="function"&&(x.flags|=4194308)}var oh=[],hu=0,K0=null,Z0=0,ho=[],Ra=0,Rd=null,sc=1,ac="";function Od(x,_){oh[hu++]=Z0,oh[hu++]=K0,K0=x,Z0=_}function dM(x,_,P){ho[Ra++]=sc,ho[Ra++]=ac,ho[Ra++]=Rd,Rd=x;var I=sc;x=ac;var B=32-Dr(I)-1;I&=~(1<<B),P+=1;var X=32-Dr(_)+B;if(30<X){var le=B-B%5;X=(I&(1<<le)-1).toString(32),I>>=le,B-=le,sc=1<<32-Dr(_)+B|P<<B|I,ac=X+x}else sc=1<<X|P<<B|I,ac=x}function Vb(x){x.return!==null&&(Od(x,1),dM(x,1,0))}function $b(x){for(;x===K0;)K0=oh[--hu],oh[hu]=null,Z0=oh[--hu],oh[hu]=null;for(;x===Rd;)Rd=ho[--Ra],ho[Ra]=null,ac=ho[--Ra],ho[Ra]=null,sc=ho[--Ra],ho[Ra]=null}var Ws=null,ls=null,Yr=!1,lh=!1,po=null;function Hb(x,_){var P=Fa(5,null,null,0);P.elementType="DELETED",P.stateNode=_,P.return=x,_=x.deletions,_===null?(x.deletions=[P],x.flags|=16):_.push(P)}function Wb(x,_){switch(x.tag){case 5:return _=Mi(_,x.type,x.pendingProps),_!==null?(x.stateNode=_,Ws=x,ls=Lo(_),!0):!1;case 6:return _=Kp(_,x.pendingProps),_!==null?(x.stateNode=_,Ws=x,ls=null,!0):!1;case 13:if(_=uu(_),_!==null){var P=Rd!==null?{id:sc,overflow:ac}:null;return x.memoizedState={dehydrated:_,treeContext:P,retryLane:1073741824},P=Fa(18,null,null,0),P.stateNode=_,P.return=x,x.child=P,Ws=x,ls=null,!0}return!1;default:return!1}}function Q0(x){return(x.mode&1)!==0&&(x.flags&128)===0}function pu(x){if(Yr){var _=ls;if(_){var P=_;if(!Wb(x,_)){if(Q0(x))throw Error(a(418));_=Do(P);var I=Ws;_&&Wb(x,_)?Hb(I,P):(x.flags=x.flags&-4097|2,Yr=!1,Ws=x)}}else{if(Q0(x))throw Error(a(418));x.flags=x.flags&-4097|2,Yr=!1,Ws=x}}}function fM(x){for(x=x.return;x!==null&&x.tag!==5&&x.tag!==3&&x.tag!==13;)x=x.return;Ws=x}function am(x){if(!Xe||x!==Ws)return!1;if(!Yr)return fM(x),Yr=!0,!1;if(x.tag!==3&&(x.tag!==5||L0(x.type)&&!Ue(x.type,x.memoizedProps))){var _=ls;if(_){if(Q0(x)){for(x=ls;x;)x=Do(x);throw Error(a(418))}for(;_;)Hb(x,_),_=Do(_)}}if(fM(x),x.tag===13){if(!Xe)throw Error(a(316));if(x=x.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(a(317));ls=Sd(x)}else ls=Ws?Do(x.stateNode):null;return!0}function ch(){Xe&&(ls=Ws=null,lh=Yr=!1)}function J0(x){po===null?po=[x]:po.push(x)}function uh(x,_,P){if(x=P.ref,x!==null&&typeof x!="function"&&typeof x!="object"){if(P._owner){if(P=P._owner,P){if(P.tag!==1)throw Error(a(309));var I=P.stateNode}if(!I)throw Error(a(147,x));var B=I,X=""+x;return _!==null&&_.ref!==null&&typeof _.ref=="function"&&_.ref._stringRef===X?_.ref:(_=function(le){var _e=B.refs;_e===lM&&(_e=B.refs={}),le===null?delete _e[X]:_e[X]=le},_._stringRef=X,_)}if(typeof x!="string")throw Error(a(284));if(!P._owner)throw Error(a(290,x))}return x}function mu(x,_){throw x=Object.prototype.toString.call(_),Error(a(31,x==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":x))}function dh(x){var _=x._init;return _(x._payload)}function hM(x){function _(ke,Ee){if(x){var ze=ke.deletions;ze===null?(ke.deletions=[Ee],ke.flags|=16):ze.push(Ee)}}function P(ke,Ee){if(!x)return null;for(;Ee!==null;)_(ke,Ee),Ee=Ee.sibling;return null}function I(ke,Ee){for(ke=new Map;Ee!==null;)Ee.key!==null?ke.set(Ee.key,Ee):ke.set(Ee.index,Ee),Ee=Ee.sibling;return ke}function B(ke,Ee){return ke=bc(ke,Ee),ke.index=0,ke.sibling=null,ke}function X(ke,Ee,ze){return ke.index=ze,x?(ze=ke.alternate,ze!==null?(ze=ze.index,ze<Ee?(ke.flags|=2,Ee):ze):(ke.flags|=2,Ee)):(ke.flags|=1048576,Ee)}function le(ke){return x&&ke.alternate===null&&(ke.flags|=2),ke}function _e(ke,Ee,ze,Pt){return Ee===null||Ee.tag!==6?(Ee=Tv(ze,ke.mode,Pt),Ee.return=ke,Ee):(Ee=B(Ee,ze),Ee.return=ke,Ee)}function Ve(ke,Ee,ze,Pt){var en=ze.type;return en===d?zt(ke,Ee,ze.props.children,Pt,ze.key):Ee!==null&&(Ee.elementType===en||typeof en=="object"&&en!==null&&en.$$typeof===M&&dh(en)===Ee.type)?(Pt=B(Ee,ze.props),Pt.ref=uh(ke,Ee,ze),Pt.return=ke,Pt):(Pt=Mv(ze.type,ze.key,ze.props,null,ke.mode,Pt),Pt.ref=uh(ke,Ee,ze),Pt.return=ke,Pt)}function ht(ke,Ee,ze,Pt){return Ee===null||Ee.tag!==4||Ee.stateNode.containerInfo!==ze.containerInfo||Ee.stateNode.implementation!==ze.implementation?(Ee=Av(ze,ke.mode,Pt),Ee.return=ke,Ee):(Ee=B(Ee,ze.children||[]),Ee.return=ke,Ee)}function zt(ke,Ee,ze,Pt,en){return Ee===null||Ee.tag!==7?(Ee=ef(ze,ke.mode,Pt,en),Ee.return=ke,Ee):(Ee=B(Ee,ze),Ee.return=ke,Ee)}function Rn(ke,Ee,ze){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number")return Ee=Tv(""+Ee,ke.mode,ze),Ee.return=ke,Ee;if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case l:return ze=Mv(Ee.type,Ee.key,Ee.props,null,ke.mode,ze),ze.ref=uh(ke,null,Ee),ze.return=ke,ze;case c:return Ee=Av(Ee,ke.mode,ze),Ee.return=ke,Ee;case M:var Pt=Ee._init;return Rn(ke,Pt(Ee._payload),ze)}if(W(Ee)||C(Ee))return Ee=ef(Ee,ke.mode,ze,null),Ee.return=ke,Ee;mu(ke,Ee)}return null}function hn(ke,Ee,ze,Pt){var en=Ee!==null?Ee.key:null;if(typeof ze=="string"&&ze!==""||typeof ze=="number")return en!==null?null:_e(ke,Ee,""+ze,Pt);if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case l:return ze.key===en?Ve(ke,Ee,ze,Pt):null;case c:return ze.key===en?ht(ke,Ee,ze,Pt):null;case M:return en=ze._init,hn(ke,Ee,en(ze._payload),Pt)}if(W(ze)||C(ze))return en!==null?null:zt(ke,Ee,ze,Pt,null);mu(ke,ze)}return null}function zn(ke,Ee,ze,Pt,en){if(typeof Pt=="string"&&Pt!==""||typeof Pt=="number")return ke=ke.get(ze)||null,_e(Ee,ke,""+Pt,en);if(typeof Pt=="object"&&Pt!==null){switch(Pt.$$typeof){case l:return ke=ke.get(Pt.key===null?ze:Pt.key)||null,Ve(Ee,ke,Pt,en);case c:return ke=ke.get(Pt.key===null?ze:Pt.key)||null,ht(Ee,ke,Pt,en);case M:var In=Pt._init;return zn(ke,Ee,ze,In(Pt._payload),en)}if(W(Pt)||C(Pt))return ke=ke.get(ze)||null,zt(Ee,ke,Pt,en,null);mu(Ee,Pt)}return null}function kt(ke,Ee,ze,Pt){for(var en=null,In=null,On=Ee,lr=Ee=0,Ai=null;On!==null&&lr<ze.length;lr++){On.index>lr?(Ai=On,On=null):Ai=On.sibling;var sr=hn(ke,On,ze[lr],Pt);if(sr===null){On===null&&(On=Ai);break}x&&On&&sr.alternate===null&&_(ke,On),Ee=X(sr,Ee,lr),In===null?en=sr:In.sibling=sr,In=sr,On=Ai}if(lr===ze.length)return P(ke,On),Yr&&Od(ke,lr),en;if(On===null){for(;lr<ze.length;lr++)On=Rn(ke,ze[lr],Pt),On!==null&&(Ee=X(On,Ee,lr),In===null?en=On:In.sibling=On,In=On);return Yr&&Od(ke,lr),en}for(On=I(ke,On);lr<ze.length;lr++)Ai=zn(On,ke,lr,ze[lr],Pt),Ai!==null&&(x&&Ai.alternate!==null&&On.delete(Ai.key===null?lr:Ai.key),Ee=X(Ai,Ee,lr),In===null?en=Ai:In.sibling=Ai,In=Ai);return x&&On.forEach(function(wc){return _(ke,wc)}),Yr&&Od(ke,lr),en}function hs(ke,Ee,ze,Pt){var en=C(ze);if(typeof en!="function")throw Error(a(150));if(ze=en.call(ze),ze==null)throw Error(a(151));for(var In=en=null,On=Ee,lr=Ee=0,Ai=null,sr=ze.next();On!==null&&!sr.done;lr++,sr=ze.next()){On.index>lr?(Ai=On,On=null):Ai=On.sibling;var wc=hn(ke,On,sr.value,Pt);if(wc===null){On===null&&(On=Ai);break}x&&On&&wc.alternate===null&&_(ke,On),Ee=X(wc,Ee,lr),In===null?en=wc:In.sibling=wc,In=wc,On=Ai}if(sr.done)return P(ke,On),Yr&&Od(ke,lr),en;if(On===null){for(;!sr.done;lr++,sr=ze.next())sr=Rn(ke,sr.value,Pt),sr!==null&&(Ee=X(sr,Ee,lr),In===null?en=sr:In.sibling=sr,In=sr);return Yr&&Od(ke,lr),en}for(On=I(ke,On);!sr.done;lr++,sr=ze.next())sr=zn(On,ke,lr,sr.value,Pt),sr!==null&&(x&&sr.alternate!==null&&On.delete(sr.key===null?lr:sr.key),Ee=X(sr,Ee,lr),In===null?en=sr:In.sibling=sr,In=sr);return x&&On.forEach(function(_w){return _(ke,_w)}),Yr&&Od(ke,lr),en}function Ua(ke,Ee,ze,Pt){if(typeof ze=="object"&&ze!==null&&ze.type===d&&ze.key===null&&(ze=ze.props.children),typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case l:e:{for(var en=ze.key,In=Ee;In!==null;){if(In.key===en){if(en=ze.type,en===d){if(In.tag===7){P(ke,In.sibling),Ee=B(In,ze.props.children),Ee.return=ke,ke=Ee;break e}}else if(In.elementType===en||typeof en=="object"&&en!==null&&en.$$typeof===M&&dh(en)===In.type){P(ke,In.sibling),Ee=B(In,ze.props),Ee.ref=uh(ke,In,ze),Ee.return=ke,ke=Ee;break e}P(ke,In);break}else _(ke,In);In=In.sibling}ze.type===d?(Ee=ef(ze.props.children,ke.mode,Pt,ze.key),Ee.return=ke,ke=Ee):(Pt=Mv(ze.type,ze.key,ze.props,null,ke.mode,Pt),Pt.ref=uh(ke,Ee,ze),Pt.return=ke,ke=Pt)}return le(ke);case c:e:{for(In=ze.key;Ee!==null;){if(Ee.key===In)if(Ee.tag===4&&Ee.stateNode.containerInfo===ze.containerInfo&&Ee.stateNode.implementation===ze.implementation){P(ke,Ee.sibling),Ee=B(Ee,ze.children||[]),Ee.return=ke,ke=Ee;break e}else{P(ke,Ee);break}else _(ke,Ee);Ee=Ee.sibling}Ee=Av(ze,ke.mode,Pt),Ee.return=ke,ke=Ee}return le(ke);case M:return In=ze._init,Ua(ke,Ee,In(ze._payload),Pt)}if(W(ze))return kt(ke,Ee,ze,Pt);if(C(ze))return hs(ke,Ee,ze,Pt);mu(ke,ze)}return typeof ze=="string"&&ze!==""||typeof ze=="number"?(ze=""+ze,Ee!==null&&Ee.tag===6?(P(ke,Ee.sibling),Ee=B(Ee,ze),Ee.return=ke,ke=Ee):(P(ke,Ee),Ee=Tv(ze,ke.mode,Pt),Ee.return=ke,ke=Ee),le(ke)):P(ke,Ee)}return Ua}var oc=hM(!0),pM=hM(!1),fh={},da=Mt(fh),jd=Mt(fh),Id=Mt(fh);function Uo(x){if(x===fh)throw Error(a(174));return x}function ev(x,_){ft(Id,_),ft(jd,x),ft(da,fh),x=Z(_),Ze(da),ft(da,x)}function hh(){Ze(da),Ze(jd),Ze(Id)}function mM(x){var _=Uo(Id.current),P=Uo(da.current);_=V(P,x.type,_),P!==_&&(ft(jd,x),ft(da,_))}function Gb(x){jd.current===x&&(Ze(da),Ze(jd))}var Jr=Mt(0);function tv(x){for(var _=x;_!==null;){if(_.tag===13){var P=_.memoizedState;if(P!==null&&(P=P.dehydrated,P===null||nh(P)||tc(P)))return _}else if(_.tag===19&&_.memoizedProps.revealOrder!==void 0){if((_.flags&128)!==0)return _}else if(_.child!==null){_.child.return=_,_=_.child;continue}if(_===x)break;for(;_.sibling===null;){if(_.return===null||_.return===x)return null;_=_.return}_.sibling.return=_.return,_=_.sibling}return null}var Oa=[];function kd(){for(var x=0;x<Oa.length;x++){var _=Oa[x];Me?_._workInProgressVersionPrimary=null:_._workInProgressVersionSecondary=null}Oa.length=0}var om=o.ReactCurrentDispatcher,ja=o.ReactCurrentBatchConfig,Dd=0,ei=null,Zi=null,Qi=null,nv=!1,vl=!1,Ld=0,lm=0;function Ji(){throw Error(a(321))}function rv(x,_){if(_===null)return!1;for(var P=0;P<_.length&&P<x.length;P++)if(!$s(x[P],_[P]))return!1;return!0}function ph(x,_,P,I,B,X){if(Dd=X,ei=_,_.memoizedState=null,_.updateQueue=null,_.lanes=0,om.current=x===null||x.memoizedState===null?Qb:Jb,x=P(I,B),vl){X=0;do{if(vl=!1,Ld=0,25<=X)throw Error(a(301));X+=1,Qi=Zi=null,_.updateQueue=null,om.current=ew,x=P(I,B)}while(vl)}if(om.current=yh,_=Zi!==null&&Zi.next!==null,Dd=0,Qi=Zi=ei=null,nv=!1,_)throw Error(a(300));return x}function gu(){var x=Ld!==0;return Ld=0,x}function Bo(){var x={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qi===null?ei.memoizedState=Qi=x:Qi=Qi.next=x,Qi}function zo(){if(Zi===null){var x=ei.alternate;x=x!==null?x.memoizedState:null}else x=Zi.next;var _=Qi===null?ei.memoizedState:Qi.next;if(_!==null)Qi=_,Zi=x;else{if(x===null)throw Error(a(310));Zi=x,x={memoizedState:Zi.memoizedState,baseState:Zi.baseState,baseQueue:Zi.baseQueue,queue:Zi.queue,next:null},Qi===null?ei.memoizedState=Qi=x:Qi=Qi.next=x}return Qi}function yl(x,_){return typeof _=="function"?_(x):_}function cm(x){var _=zo(),P=_.queue;if(P===null)throw Error(a(311));P.lastRenderedReducer=x;var I=Zi,B=I.baseQueue,X=P.pending;if(X!==null){if(B!==null){var le=B.next;B.next=X.next,X.next=le}I.baseQueue=B=X,P.pending=null}if(B!==null){X=B.next,I=I.baseState;var _e=le=null,Ve=null,ht=X;do{var zt=ht.lane;if((Dd&zt)===zt)Ve!==null&&(Ve=Ve.next={lane:0,action:ht.action,hasEagerState:ht.hasEagerState,eagerState:ht.eagerState,next:null}),I=ht.hasEagerState?ht.eagerState:x(I,ht.action);else{var Rn={lane:zt,action:ht.action,hasEagerState:ht.hasEagerState,eagerState:ht.eagerState,next:null};Ve===null?(_e=Ve=Rn,le=I):Ve=Ve.next=Rn,ei.lanes|=zt,bl|=zt}ht=ht.next}while(ht!==null&&ht!==X);Ve===null?le=I:Ve.next=_e,$s(I,_.memoizedState)||(es=!0),_.memoizedState=I,_.baseState=le,_.baseQueue=Ve,P.lastRenderedState=I}if(x=P.interleaved,x!==null){B=x;do X=B.lane,ei.lanes|=X,bl|=X,B=B.next;while(B!==x)}else B===null&&(P.lanes=0);return[_.memoizedState,P.dispatch]}function um(x){var _=zo(),P=_.queue;if(P===null)throw Error(a(311));P.lastRenderedReducer=x;var I=P.dispatch,B=P.pending,X=_.memoizedState;if(B!==null){P.pending=null;var le=B=B.next;do X=x(X,le.action),le=le.next;while(le!==B);$s(X,_.memoizedState)||(es=!0),_.memoizedState=X,_.baseQueue===null&&(_.baseState=X),P.lastRenderedState=X}return[X,I]}function qb(){}function Xb(x,_){var P=ei,I=zo(),B=_(),X=!$s(I.memoizedState,B);if(X&&(I.memoizedState=B,es=!0),I=I.queue,mh(lc.bind(null,P,I,x),[x]),I.getSnapshot!==_||X||Qi!==null&&Qi.memoizedState.tag&1){if(P.flags|=2048,fm(9,Kb.bind(null,P,I,B,_),void 0,null),pi===null)throw Error(a(349));(Dd&30)!==0||Yb(P,_,B)}return B}function Yb(x,_,P){x.flags|=16384,x={getSnapshot:_,value:P},_=ei.updateQueue,_===null?(_={lastEffect:null,stores:null},ei.updateQueue=_,_.stores=[x]):(P=_.stores,P===null?_.stores=[x]:P.push(x))}function Kb(x,_,P,I){_.value=P,_.getSnapshot=I,iv(_)&&As(x,1,-1)}function lc(x,_,P){return P(function(){iv(_)&&As(x,1,-1)})}function iv(x){var _=x.getSnapshot;x=x.value;try{var P=_();return!$s(x,P)}catch{return!0}}function dm(x){var _=Bo();return typeof x=="function"&&(x=x()),_.memoizedState=_.baseState=x,x={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yl,lastRenderedState:x},_.queue=x,x=x.dispatch=DO.bind(null,ei,x),[_.memoizedState,x]}function fm(x,_,P,I){return x={tag:x,create:_,destroy:P,deps:I,next:null},_=ei.updateQueue,_===null?(_={lastEffect:null,stores:null},ei.updateQueue=_,_.lastEffect=x.next=x):(P=_.lastEffect,P===null?_.lastEffect=x.next=x:(I=P.next,P.next=x,x.next=I,_.lastEffect=x)),x}function gM(){return zo().memoizedState}function vu(x,_,P,I){var B=Bo();ei.flags|=x,B.memoizedState=fm(1|_,P,void 0,I===void 0?null:I)}function sv(x,_,P,I){var B=zo();I=I===void 0?null:I;var X=void 0;if(Zi!==null){var le=Zi.memoizedState;if(X=le.destroy,I!==null&&rv(I,le.deps)){B.memoizedState=fm(_,P,X,I);return}}ei.flags|=x,B.memoizedState=fm(1|_,P,X,I)}function av(x,_){return vu(8390656,8,x,_)}function mh(x,_){return sv(2048,8,x,_)}function Lr(x,_){return sv(4,2,x,_)}function ov(x,_){return sv(4,4,x,_)}function hm(x,_){if(typeof _=="function")return x=x(),_(x),function(){_(null)};if(_!=null)return x=x(),_.current=x,function(){_.current=null}}function gh(x,_,P){return P=P!=null?P.concat([x]):null,sv(4,4,hm.bind(null,_,x),P)}function lv(){}function cv(x,_){var P=zo();_=_===void 0?null:_;var I=P.memoizedState;return I!==null&&_!==null&&rv(_,I[1])?I[0]:(P.memoizedState=[x,_],x)}function vh(x,_){var P=zo();_=_===void 0?null:_;var I=P.memoizedState;return I!==null&&_!==null&&rv(_,I[1])?I[0]:(x=x(),P.memoizedState=[x,_],x)}function uv(x,_){var P=Wn;Wn=P!==0&&4>P?P:4,x(!0);var I=ja.transition;ja.transition={};try{x(!1),_()}finally{Wn=P,ja.transition=I}}function Fd(){return zo().memoizedState}function vM(x,_,P){var I=Wo(x);P={lane:I,action:P,hasEagerState:!1,eagerState:null,next:null},yM(x)?Zb(_,P):(pm(x,_,P),P=dr(),x=As(x,I,P),x!==null&&mm(x,_,I))}function DO(x,_,P){var I=Wo(x),B={lane:I,action:P,hasEagerState:!1,eagerState:null,next:null};if(yM(x))Zb(_,B);else{pm(x,_,B);var X=x.alternate;if(x.lanes===0&&(X===null||X.lanes===0)&&(X=_.lastRenderedReducer,X!==null))try{var le=_.lastRenderedState,_e=X(le,P);if(B.hasEagerState=!0,B.eagerState=_e,$s(_e,le))return}catch{}P=dr(),x=As(x,I,P),x!==null&&mm(x,_,I)}}function yM(x){var _=x.alternate;return x===ei||_!==null&&_===ei}function Zb(x,_){vl=nv=!0;var P=x.pending;P===null?_.next=_:(_.next=P.next,P.next=_),x.pending=_}function pm(x,_,P){pi!==null&&(x.mode&1)!==0&&(Dn&2)===0?(x=_.interleaved,x===null?(P.next=P,uo===null?uo=[_]:uo.push(_)):(P.next=x.next,x.next=P),_.interleaved=P):(x=_.pending,x===null?P.next=P:(P.next=x.next,x.next=P),_.pending=P)}function mm(x,_,P){if((P&4194240)!==0){var I=_.lanes;I&=x.pendingLanes,P|=I,_.lanes=P,ml(x,P)}}var yh={readContext:ua,useCallback:Ji,useContext:Ji,useEffect:Ji,useImperativeHandle:Ji,useInsertionEffect:Ji,useLayoutEffect:Ji,useMemo:Ji,useReducer:Ji,useRef:Ji,useState:Ji,useDebugValue:Ji,useDeferredValue:Ji,useTransition:Ji,useMutableSource:Ji,useSyncExternalStore:Ji,useId:Ji,unstable_isNewReconciler:!1},Qb={readContext:ua,useCallback:function(x,_){return Bo().memoizedState=[x,_===void 0?null:_],x},useContext:ua,useEffect:av,useImperativeHandle:function(x,_,P){return P=P!=null?P.concat([x]):null,vu(4194308,4,hm.bind(null,_,x),P)},useLayoutEffect:function(x,_){return vu(4194308,4,x,_)},useInsertionEffect:function(x,_){return vu(4,2,x,_)},useMemo:function(x,_){var P=Bo();return _=_===void 0?null:_,x=x(),P.memoizedState=[x,_],x},useReducer:function(x,_,P){var I=Bo();return _=P!==void 0?P(_):_,I.memoizedState=I.baseState=_,x={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:x,lastRenderedState:_},I.queue=x,x=x.dispatch=vM.bind(null,ei,x),[I.memoizedState,x]},useRef:function(x){var _=Bo();return x={current:x},_.memoizedState=x},useState:dm,useDebugValue:lv,useDeferredValue:function(x){var _=dm(x),P=_[0],I=_[1];return av(function(){var B=ja.transition;ja.transition={};try{I(x)}finally{ja.transition=B}},[x]),P},useTransition:function(){var x=dm(!1),_=x[0];return x=uv.bind(null,x[1]),Bo().memoizedState=x,[_,x]},useMutableSource:function(){},useSyncExternalStore:function(x,_,P){var I=ei,B=Bo();if(Yr){if(P===void 0)throw Error(a(407));P=P()}else{if(P=_(),pi===null)throw Error(a(349));(Dd&30)!==0||Yb(I,_,P)}B.memoizedState=P;var X={value:P,getSnapshot:_};return B.queue=X,av(lc.bind(null,I,X,x),[x]),I.flags|=2048,fm(9,Kb.bind(null,I,X,P,_),void 0,null),P},useId:function(){var x=Bo(),_=pi.identifierPrefix;if(Yr){var P=ac,I=sc;P=(I&~(1<<32-Dr(I)-1)).toString(32)+P,_=":"+_+"R"+P,P=Ld++,0<P&&(_+="H"+P.toString(32)),_+=":"}else P=lm++,_=":"+_+"r"+P.toString(32)+":";return x.memoizedState=_},unstable_isNewReconciler:!1},Jb={readContext:ua,useCallback:cv,useContext:ua,useEffect:mh,useImperativeHandle:gh,useInsertionEffect:Lr,useLayoutEffect:ov,useMemo:vh,useReducer:cm,useRef:gM,useState:function(){return cm(yl)},useDebugValue:lv,useDeferredValue:function(x){var _=cm(yl),P=_[0],I=_[1];return mh(function(){var B=ja.transition;ja.transition={};try{I(x)}finally{ja.transition=B}},[x]),P},useTransition:function(){var x=cm(yl)[0],_=zo().memoizedState;return[x,_]},useMutableSource:qb,useSyncExternalStore:Xb,useId:Fd,unstable_isNewReconciler:!1},ew={readContext:ua,useCallback:cv,useContext:ua,useEffect:mh,useImperativeHandle:gh,useInsertionEffect:Lr,useLayoutEffect:ov,useMemo:vh,useReducer:um,useRef:gM,useState:function(){return um(yl)},useDebugValue:lv,useDeferredValue:function(x){var _=um(yl),P=_[0],I=_[1];return mh(function(){var B=ja.transition;ja.transition={};try{I(x)}finally{ja.transition=B}},[x]),P},useTransition:function(){var x=um(yl)[0],_=zo().memoizedState;return[x,_]},useMutableSource:qb,useSyncExternalStore:Xb,useId:Fd,unstable_isNewReconciler:!1};function tw(x,_){try{var P="",I=_;do P+=Lb(I),I=I.return;while(I);var B=P}catch(X){B=`
Error generating stack: `+X.message+`
`+X.stack}return{value:x,source:_,stack:B}}function dv(x,_){try{console.error(_.value)}catch(P){setTimeout(function(){throw P})}}var LO=typeof WeakMap=="function"?WeakMap:Map;function xM(x,_,P){P=ic(-1,P),P.tag=3,P.payload={element:null};var I=_.value;return P.callback=function(){Eh||(Eh=!0,$r=I),dv(x,_)},P}function fv(x,_,P){P=ic(-1,P),P.tag=3;var I=x.type.getDerivedStateFromError;if(typeof I=="function"){var B=_.value;P.payload=function(){return I(B)},P.callback=function(){dv(x,_)}}var X=x.stateNode;return X!==null&&typeof X.componentDidCatch=="function"&&(P.callback=function(){dv(x,_),typeof I!="function"&&(Ho===null?Ho=new Set([this]):Ho.add(this));var le=_.stack;this.componentDidCatch(_.value,{componentStack:le!==null?le:""})}),P}function cc(x,_,P){var I=x.pingCache;if(I===null){I=x.pingCache=new LO;var B=new Set;I.set(_,B)}else B=I.get(_),B===void 0&&(B=new Set,I.set(_,B));B.has(P)||(B.add(P),x=xw.bind(null,x,_,P),_.then(x,x))}function nw(x){do{var _;if((_=x.tag===13)&&(_=x.memoizedState,_=_!==null?_.dehydrated!==null:!0),_)return x;x=x.return}while(x!==null);return null}function Ud(x,_,P,I,B){return(x.mode&1)===0?(x===_?x.flags|=65536:(x.flags|=128,P.flags|=131072,P.flags&=-52805,P.tag===1&&(P.alternate===null?P.tag=17:(_=ic(-1,1),_.tag=2,fu(P,_))),P.lanes|=1),x):(x.flags|=65536,x.lanes=B,x)}function Bi(x){x.flags|=4}function xh(x,_){if(x!==null&&x.child===_.child)return!0;if((_.flags&16)!==0)return!1;for(x=_.child;x!==null;){if((x.flags&12854)!==0||(x.subtreeFlags&12854)!==0)return!1;x=x.sibling}return!0}var Ia,Bd,hv,pv;if(Ie)Ia=function(x,_){for(var P=_.child;P!==null;){if(P.tag===5||P.tag===6)J(x,P.stateNode);else if(P.tag!==4&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===_)break;for(;P.sibling===null;){if(P.return===null||P.return===_)return;P=P.return}P.sibling.return=P.return,P=P.sibling}},Bd=function(){},hv=function(x,_,P,I,B){if(x=x.memoizedProps,x!==I){var X=_.stateNode,le=Uo(da.current);P=Ae(X,P,x,I,B,le),(_.updateQueue=P)&&Bi(_)}},pv=function(x,_,P,I){P!==I&&Bi(_)};else if(Te){Ia=function(x,_,P,I){for(var B=_.child;B!==null;){if(B.tag===5){var X=B.stateNode;P&&I&&(X=Un(X,B.type,B.memoizedProps,B)),J(x,X)}else if(B.tag===6)X=B.stateNode,P&&I&&(X=Ei(X,B.memoizedProps,B)),J(x,X);else if(B.tag!==4){if(B.tag===22&&B.memoizedState!==null)X=B.child,X!==null&&(X.return=B),Ia(x,B,!0,!0);else if(B.child!==null){B.child.return=B,B=B.child;continue}}if(B===_)break;for(;B.sibling===null;){if(B.return===null||B.return===_)return;B=B.return}B.sibling.return=B.return,B=B.sibling}};var yu=function(x,_,P,I){for(var B=_.child;B!==null;){if(B.tag===5){var X=B.stateNode;P&&I&&(X=Un(X,B.type,B.memoizedProps,B)),ct(x,X)}else if(B.tag===6)X=B.stateNode,P&&I&&(X=Ei(X,B.memoizedProps,B)),ct(x,X);else if(B.tag!==4){if(B.tag===22&&B.memoizedState!==null)X=B.child,X!==null&&(X.return=B),yu(x,B,!0,!0);else if(B.child!==null){B.child.return=B,B=B.child;continue}}if(B===_)break;for(;B.sibling===null;){if(B.return===null||B.return===_)return;B=B.return}B.sibling.return=B.return,B=B.sibling}};Bd=function(x,_){var P=_.stateNode;if(!xh(x,_)){x=P.containerInfo;var I=qe(x);yu(I,_,!1,!1),P.pendingChildren=I,Bi(_),an(x,I)}},hv=function(x,_,P,I,B){var X=x.stateNode,le=x.memoizedProps;if((x=xh(x,_))&&le===I)_.stateNode=X;else{var _e=_.stateNode,Ve=Uo(da.current),ht=null;le!==I&&(ht=Ae(_e,P,le,I,B,Ve)),x&&ht===null?_.stateNode=X:(X=it(X,ht,P,le,I,_,x,_e),de(X,P,I,B,Ve)&&Bi(_),_.stateNode=X,x?Bi(_):Ia(X,_,!1,!1))}},pv=function(x,_,P,I){P!==I?(x=Uo(Id.current),P=Uo(da.current),_.stateNode=ge(I,x,P,_),Bi(_)):_.stateNode=x.stateNode}}else Bd=function(){},hv=function(){},pv=function(){};function uc(x,_){if(!Yr)switch(x.tailMode){case"hidden":_=x.tail;for(var P=null;_!==null;)_.alternate!==null&&(P=_),_=_.sibling;P===null?x.tail=null:P.sibling=null;break;case"collapsed":P=x.tail;for(var I=null;P!==null;)P.alternate!==null&&(I=P),P=P.sibling;I===null?_||x.tail===null?x.tail=null:x.tail.sibling=null:I.sibling=null}}function hi(x){var _=x.alternate!==null&&x.alternate.child===x.child,P=0,I=0;if(_)for(var B=x.child;B!==null;)P|=B.lanes|B.childLanes,I|=B.subtreeFlags&14680064,I|=B.flags&14680064,B.return=x,B=B.sibling;else for(B=x.child;B!==null;)P|=B.lanes|B.childLanes,I|=B.subtreeFlags,I|=B.flags,B.return=x,B=B.sibling;return x.subtreeFlags|=I,x.childLanes=P,_}function mv(x,_,P){var I=_.pendingProps;switch($b(_),_.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hi(_),null;case 1:return Bn(_.type)&&mr(),hi(_),null;case 3:return I=_.stateNode,hh(),Ze(Ut),Ze($t),kd(),I.pendingContext&&(I.context=I.pendingContext,I.pendingContext=null),(x===null||x.child===null)&&(am(_)?Bi(_):x===null||x.memoizedState.isDehydrated&&(_.flags&256)===0||(_.flags|=1024,po!==null&&(Cm(po),po=null))),Bd(x,_),hi(_),null;case 5:Gb(_),P=Uo(Id.current);var B=_.type;if(x!==null&&_.stateNode!=null)hv(x,_,B,I,P),x.ref!==_.ref&&(_.flags|=512,_.flags|=2097152);else{if(!I){if(_.stateNode===null)throw Error(a(166));return hi(_),null}if(x=Uo(da.current),am(_)){if(!Xe)throw Error(a(175));x=I0(_.stateNode,_.type,_.memoizedProps,P,x,_,!lh),_.updateQueue=x,x!==null&&Bi(_)}else{var X=$(B,I,P,x,_);Ia(X,_,!1,!1),_.stateNode=X,de(X,B,I,P,x)&&Bi(_)}_.ref!==null&&(_.flags|=512,_.flags|=2097152)}return hi(_),null;case 6:if(x&&_.stateNode!=null)pv(x,_,x.memoizedProps,I);else{if(typeof I!="string"&&_.stateNode===null)throw Error(a(166));if(x=Uo(Id.current),P=Uo(da.current),am(_)){if(!Xe)throw Error(a(176));if(x=_.stateNode,I=_.memoizedProps,(P=ao(x,I,_,!lh))&&(B=Ws,B!==null))switch(X=(B.mode&1)!==0,B.tag){case 3:Ib(B.stateNode.containerInfo,x,I,X);break;case 5:kb(B.type,B.memoizedProps,B.stateNode,x,I,X)}P&&Bi(_)}else _.stateNode=ge(I,x,P,_)}return hi(_),null;case 13:if(Ze(Jr),I=_.memoizedState,Yr&&ls!==null&&(_.mode&1)!==0&&(_.flags&128)===0){for(x=ls;x;)x=Do(x);return ch(),_.flags|=98560,_}if(I!==null&&I.dehydrated!==null){if(I=am(_),x===null){if(!I)throw Error(a(318));if(!Xe)throw Error(a(344));if(x=_.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(a(317));Qp(x,_)}else ch(),(_.flags&128)===0&&(_.memoizedState=null),_.flags|=4;return hi(_),null}return po!==null&&(Cm(po),po=null),(_.flags&128)!==0?(_.lanes=P,_):(I=I!==null,P=!1,x===null?am(_):P=x.memoizedState!==null,I&&!P&&(_.child.flags|=8192,(_.mode&1)!==0&&(x===null||(Jr.current&1)!==0?li===0&&(li=3):_v())),_.updateQueue!==null&&(_.flags|=4),hi(_),null);case 4:return hh(),Bd(x,_),x===null&&$e(_.stateNode.containerInfo),hi(_),null;case 10:return sm(_.type._context),hi(_),null;case 17:return Bn(_.type)&&mr(),hi(_),null;case 19:if(Ze(Jr),B=_.memoizedState,B===null)return hi(_),null;if(I=(_.flags&128)!==0,X=B.rendering,X===null)if(I)uc(B,!1);else{if(li!==0||x!==null&&(x.flags&128)!==0)for(x=_.child;x!==null;){if(X=tv(x),X!==null){for(_.flags|=128,uc(B,!1),x=X.updateQueue,x!==null&&(_.updateQueue=x,_.flags|=4),_.subtreeFlags=0,x=P,I=_.child;I!==null;)P=I,B=x,P.flags&=14680066,X=P.alternate,X===null?(P.childLanes=0,P.lanes=B,P.child=null,P.subtreeFlags=0,P.memoizedProps=null,P.memoizedState=null,P.updateQueue=null,P.dependencies=null,P.stateNode=null):(P.childLanes=X.childLanes,P.lanes=X.lanes,P.child=X.child,P.subtreeFlags=0,P.deletions=null,P.memoizedProps=X.memoizedProps,P.memoizedState=X.memoizedState,P.updateQueue=X.updateQueue,P.type=X.type,B=X.dependencies,P.dependencies=B===null?null:{lanes:B.lanes,firstContext:B.firstContext}),I=I.sibling;return ft(Jr,Jr.current&1|2),_.child}x=x.sibling}B.tail!==null&&Ui()>wu&&(_.flags|=128,I=!0,uc(B,!1),_.lanes=4194304)}else{if(!I)if(x=tv(X),x!==null){if(_.flags|=128,I=!0,x=x.updateQueue,x!==null&&(_.updateQueue=x,_.flags|=4),uc(B,!0),B.tail===null&&B.tailMode==="hidden"&&!X.alternate&&!Yr)return hi(_),null}else 2*Ui()-B.renderingStartTime>wu&&P!==1073741824&&(_.flags|=128,I=!0,uc(B,!1),_.lanes=4194304);B.isBackwards?(X.sibling=_.child,_.child=X):(x=B.last,x!==null?x.sibling=X:_.child=X,B.last=X)}return B.tail!==null?(_=B.tail,B.rendering=_,B.tail=_.sibling,B.renderingStartTime=Ui(),_.sibling=null,x=Jr.current,ft(Jr,I?x&1|2:x&1),_):(hi(_),null);case 22:case 23:return Pm(),I=_.memoizedState!==null,x!==null&&x.memoizedState!==null!==I&&(_.flags|=8192),I&&(_.mode&1)!==0?(Ts&1073741824)!==0&&(hi(_),Ie&&_.subtreeFlags&6&&(_.flags|=8192)):hi(_),null;case 24:return null;case 25:return null}throw Error(a(156,_.tag))}var rw=o.ReactCurrentOwner,es=!1;function oi(x,_,P,I){_.child=x===null?pM(_,null,P,I):oc(_,x.child,P,I)}function Fr(x,_,P,I,B){P=P.render;var X=_.ref;return sh(_,B),I=ph(x,_,P,I,X,B),P=gu(),x!==null&&!es?(_.updateQueue=x.updateQueue,_.flags&=-2053,x.lanes&=~B,fa(x,_,B)):(Yr&&P&&Vb(_),_.flags|=1,oi(x,_,I,B),_.child)}function Or(x,_,P,I,B){if(x===null){var X=P.type;return typeof X=="function"&&!Ev(X)&&X.defaultProps===void 0&&P.compare===null&&P.defaultProps===void 0?(_.tag=15,_.type=X,dc(x,_,X,I,B)):(x=Mv(P.type,null,I,_,_.mode,B),x.ref=_.ref,x.return=_,_.child=x)}if(X=x.child,(x.lanes&B)===0){var le=X.memoizedProps;if(P=P.compare,P=P!==null?P:Fo,P(le,I)&&x.ref===_.ref)return fa(x,_,B)}return _.flags|=1,x=bc(X,I),x.ref=_.ref,x.return=_,_.child=x}function dc(x,_,P,I,B){if(x!==null&&Fo(x.memoizedProps,I)&&x.ref===_.ref)if(es=!1,(x.lanes&B)!==0)(x.flags&131072)!==0&&(es=!0);else return _.lanes=x.lanes,fa(x,_,B);return fc(x,_,P,I,B)}function cs(x,_,P){var I=_.pendingProps,B=I.children,X=x!==null?x.memoizedState:null;if(I.mode==="hidden")if((_.mode&1)===0)_.memoizedState={baseLanes:0,cachePool:null},ft(Yd,Ts),Ts|=P;else if((P&1073741824)!==0)_.memoizedState={baseLanes:0,cachePool:null},I=X!==null?X.baseLanes:P,ft(Yd,Ts),Ts|=I;else return x=X!==null?X.baseLanes|P:P,_.lanes=_.childLanes=1073741824,_.memoizedState={baseLanes:x,cachePool:null},_.updateQueue=null,ft(Yd,Ts),Ts|=x,null;else X!==null?(I=X.baseLanes|P,_.memoizedState=null):I=P,ft(Yd,Ts),Ts|=I;return oi(x,_,B,P),_.child}function Gs(x,_){var P=_.ref;(x===null&&P!==null||x!==null&&x.ref!==P)&&(_.flags|=512,_.flags|=2097152)}function fc(x,_,P,I,B){var X=Bn(P)?Cn:$t.current;return X=Yn(_,X),sh(_,B),P=ph(x,_,P,I,X,B),I=gu(),x!==null&&!es?(_.updateQueue=x.updateQueue,_.flags&=-2053,x.lanes&=~B,fa(x,_,B)):(Yr&&I&&Vb(_),_.flags|=1,oi(x,_,P,B),_.child)}function zd(x,_,P,I,B){if(Bn(P)){var X=!0;ir(_)}else X=!1;if(sh(_,B),_.stateNode===null)x!==null&&(x.alternate=null,_.alternate=null,_.flags|=2),cM(_,P,I),zb(_,P,I,B),I=!0;else if(x===null){var le=_.stateNode,_e=_.memoizedProps;le.props=_e;var Ve=le.context,ht=P.contextType;typeof ht=="object"&&ht!==null?ht=ua(ht):(ht=Bn(P)?Cn:$t.current,ht=Yn(_,ht));var zt=P.getDerivedStateFromProps,Rn=typeof zt=="function"||typeof le.getSnapshotBeforeUpdate=="function";Rn||typeof le.UNSAFE_componentWillReceiveProps!="function"&&typeof le.componentWillReceiveProps!="function"||(_e!==I||Ve!==ht)&&uM(_,le,I,ht),fo=!1;var hn=_.memoizedState;le.state=hn,X0(_,I,le,B),Ve=_.memoizedState,_e!==I||hn!==Ve||Ut.current||fo?(typeof zt=="function"&&(Ub(_,P,zt,I),Ve=_.memoizedState),(_e=fo||Bb(_,P,_e,I,hn,Ve,ht))?(Rn||typeof le.UNSAFE_componentWillMount!="function"&&typeof le.componentWillMount!="function"||(typeof le.componentWillMount=="function"&&le.componentWillMount(),typeof le.UNSAFE_componentWillMount=="function"&&le.UNSAFE_componentWillMount()),typeof le.componentDidMount=="function"&&(_.flags|=4194308)):(typeof le.componentDidMount=="function"&&(_.flags|=4194308),_.memoizedProps=I,_.memoizedState=Ve),le.props=I,le.state=Ve,le.context=ht,I=_e):(typeof le.componentDidMount=="function"&&(_.flags|=4194308),I=!1)}else{le=_.stateNode,Fb(x,_),_e=_.memoizedProps,ht=_.type===_.elementType?_e:ca(_.type,_e),le.props=ht,Rn=_.pendingProps,hn=le.context,Ve=P.contextType,typeof Ve=="object"&&Ve!==null?Ve=ua(Ve):(Ve=Bn(P)?Cn:$t.current,Ve=Yn(_,Ve));var zn=P.getDerivedStateFromProps;(zt=typeof zn=="function"||typeof le.getSnapshotBeforeUpdate=="function")||typeof le.UNSAFE_componentWillReceiveProps!="function"&&typeof le.componentWillReceiveProps!="function"||(_e!==Rn||hn!==Ve)&&uM(_,le,I,Ve),fo=!1,hn=_.memoizedState,le.state=hn,X0(_,I,le,B);var kt=_.memoizedState;_e!==Rn||hn!==kt||Ut.current||fo?(typeof zn=="function"&&(Ub(_,P,zn,I),kt=_.memoizedState),(ht=fo||Bb(_,P,ht,I,hn,kt,Ve)||!1)?(zt||typeof le.UNSAFE_componentWillUpdate!="function"&&typeof le.componentWillUpdate!="function"||(typeof le.componentWillUpdate=="function"&&le.componentWillUpdate(I,kt,Ve),typeof le.UNSAFE_componentWillUpdate=="function"&&le.UNSAFE_componentWillUpdate(I,kt,Ve)),typeof le.componentDidUpdate=="function"&&(_.flags|=4),typeof le.getSnapshotBeforeUpdate=="function"&&(_.flags|=1024)):(typeof le.componentDidUpdate!="function"||_e===x.memoizedProps&&hn===x.memoizedState||(_.flags|=4),typeof le.getSnapshotBeforeUpdate!="function"||_e===x.memoizedProps&&hn===x.memoizedState||(_.flags|=1024),_.memoizedProps=I,_.memoizedState=kt),le.props=I,le.state=kt,le.context=Ve,I=ht):(typeof le.componentDidUpdate!="function"||_e===x.memoizedProps&&hn===x.memoizedState||(_.flags|=4),typeof le.getSnapshotBeforeUpdate!="function"||_e===x.memoizedProps&&hn===x.memoizedState||(_.flags|=1024),I=!1)}return Ms(x,_,P,I,X,B)}function Ms(x,_,P,I,B,X){Gs(x,_);var le=(_.flags&128)!==0;if(!I&&!le)return B&&Qn(_,P,!1),fa(x,_,X);I=_.stateNode,rw.current=_;var _e=le&&typeof P.getDerivedStateFromError!="function"?null:I.render();return _.flags|=1,x!==null&&le?(_.child=oc(_,x.child,null,X),_.child=oc(_,null,_e,X)):oi(x,_,_e,X),_.memoizedState=I.state,B&&Qn(_,P,!0),_.child}function gm(x){var _=x.stateNode;_.pendingContext?ar(x,_.pendingContext,_.pendingContext!==_.context):_.context&&ar(x,_.context,!1),ev(x,_.containerInfo)}function iw(x,_,P,I,B){return ch(),J0(B),_.flags|=256,oi(x,_,P,I),_.child}var vm={dehydrated:null,treeContext:null,retryLane:0};function Vd(x){return{baseLanes:x,cachePool:null}}function sw(x,_,P){var I=_.pendingProps,B=Jr.current,X=!1,le=(_.flags&128)!==0,_e;if((_e=le)||(_e=x!==null&&x.memoizedState===null?!1:(B&2)!==0),_e?(X=!0,_.flags&=-129):(x===null||x.memoizedState!==null)&&(B|=1),ft(Jr,B&1),x===null)return pu(_),x=_.memoizedState,x!==null&&(x=x.dehydrated,x!==null)?((_.mode&1)===0?_.lanes=1:tc(x)?_.lanes=8:_.lanes=1073741824,null):(B=I.children,x=I.fallback,X?(I=_.mode,X=_.child,B={mode:"hidden",children:B},(I&1)===0&&X!==null?(X.childLanes=0,X.pendingProps=B):X=Om(B,I,0,null),x=ef(x,I,P,null),X.return=_,x.return=_,X.sibling=x,_.child=X,_.child.memoizedState=Vd(P),_.memoizedState=vm,x):Vo(_,B));if(B=x.memoizedState,B!==null){if(_e=B.dehydrated,_e!==null){if(le)return _.flags&256?(_.flags&=-257,xm(x,_,P,Error(a(422)))):_.memoizedState!==null?(_.child=x.child,_.flags|=128,null):(X=I.fallback,B=_.mode,I=Om({mode:"visible",children:I.children},B,0,null),X=ef(X,B,P,null),X.flags|=2,I.return=_,X.return=_,I.sibling=X,_.child=I,(_.mode&1)!==0&&oc(_,x.child,null,P),_.child.memoizedState=Vd(P),_.memoizedState=vm,X);if((_.mode&1)===0)_=xm(x,_,P,null);else if(tc(_e))_=xm(x,_,P,Error(a(419)));else if(I=(P&x.childLanes)!==0,es||I){if(I=pi,I!==null){switch(P&-P){case 4:X=2;break;case 16:X=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:X=32;break;case 536870912:X=268435456;break;default:X=0}I=(X&(I.suspendedLanes|P))!==0?0:X,I!==0&&I!==B.retryLane&&(B.retryLane=I,As(x,I,-1))}_v(),_=xm(x,_,P,Error(a(421)))}else nh(_e)?(_.flags|=128,_.child=x.child,_=EM.bind(null,x),_d(_e,_),_=null):(P=B.treeContext,Xe&&(ls=j0(_e),Ws=_,Yr=!0,po=null,lh=!1,P!==null&&(ho[Ra++]=sc,ho[Ra++]=ac,ho[Ra++]=Rd,sc=P.id,ac=P.overflow,Rd=_)),_=Vo(_,_.pendingProps.children),_.flags|=4096);return _}return X?(I=gv(x,_,I.children,I.fallback,P),X=_.child,B=x.child.memoizedState,X.memoizedState=B===null?Vd(P):{baseLanes:B.baseLanes|P,cachePool:null},X.childLanes=x.childLanes&~P,_.memoizedState=vm,I):(P=ym(x,_,I.children,P),_.memoizedState=null,P)}return X?(I=gv(x,_,I.children,I.fallback,P),X=_.child,B=x.child.memoizedState,X.memoizedState=B===null?Vd(P):{baseLanes:B.baseLanes|P,cachePool:null},X.childLanes=x.childLanes&~P,_.memoizedState=vm,I):(P=ym(x,_,I.children,P),_.memoizedState=null,P)}function Vo(x,_){return _=Om({mode:"visible",children:_},x.mode,0,null),_.return=x,x.child=_}function ym(x,_,P,I){var B=x.child;return x=B.sibling,P=bc(B,{mode:"visible",children:P}),(_.mode&1)===0&&(P.lanes=I),P.return=_,P.sibling=null,x!==null&&(I=_.deletions,I===null?(_.deletions=[x],_.flags|=16):I.push(x)),_.child=P}function gv(x,_,P,I,B){var X=_.mode;x=x.child;var le=x.sibling,_e={mode:"hidden",children:P};return(X&1)===0&&_.child!==x?(P=_.child,P.childLanes=0,P.pendingProps=_e,_.deletions=null):(P=bc(x,_e),P.subtreeFlags=x.subtreeFlags&14680064),le!==null?I=bc(le,I):(I=ef(I,X,B,null),I.flags|=2),I.return=_,P.return=_,P.sibling=I,_.child=P,I}function xm(x,_,P,I){return I!==null&&J0(I),oc(_,x.child,null,P),x=Vo(_,_.pendingProps.children),x.flags|=2,_.memoizedState=null,x}function bM(x,_,P){x.lanes|=_;var I=x.alternate;I!==null&&(I.lanes|=_),Nd(x.return,_,P)}function xl(x,_,P,I,B){var X=x.memoizedState;X===null?x.memoizedState={isBackwards:_,rendering:null,renderingStartTime:0,last:I,tail:P,tailMode:B}:(X.isBackwards=_,X.rendering=null,X.renderingStartTime=0,X.last=I,X.tail=P,X.tailMode=B)}function $d(x,_,P){var I=_.pendingProps,B=I.revealOrder,X=I.tail;if(oi(x,_,I.children,P),I=Jr.current,(I&2)!==0)I=I&1|2,_.flags|=128;else{if(x!==null&&(x.flags&128)!==0)e:for(x=_.child;x!==null;){if(x.tag===13)x.memoizedState!==null&&bM(x,P,_);else if(x.tag===19)bM(x,P,_);else if(x.child!==null){x.child.return=x,x=x.child;continue}if(x===_)break e;for(;x.sibling===null;){if(x.return===null||x.return===_)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}I&=1}if(ft(Jr,I),(_.mode&1)===0)_.memoizedState=null;else switch(B){case"forwards":for(P=_.child,B=null;P!==null;)x=P.alternate,x!==null&&tv(x)===null&&(B=P),P=P.sibling;P=B,P===null?(B=_.child,_.child=null):(B=P.sibling,P.sibling=null),xl(_,!1,B,P,X);break;case"backwards":for(P=null,B=_.child,_.child=null;B!==null;){if(x=B.alternate,x!==null&&tv(x)===null){_.child=B;break}x=B.sibling,B.sibling=P,P=B,B=x}xl(_,!0,P,null,X);break;case"together":xl(_,!1,null,null,void 0);break;default:_.memoizedState=null}return _.child}function fa(x,_,P){if(x!==null&&(_.dependencies=x.dependencies),bl|=_.lanes,(P&_.childLanes)===0)return null;if(x!==null&&_.child!==x.child)throw Error(a(153));if(_.child!==null){for(x=_.child,P=bc(x,x.pendingProps),_.child=P,P.return=_;x.sibling!==null;)x=x.sibling,P=P.sibling=bc(x,x.pendingProps),P.return=_;P.sibling=null}return _.child}function vv(x,_,P){switch(_.tag){case 3:gm(_),ch();break;case 5:mM(_);break;case 1:Bn(_.type)&&ir(_);break;case 4:ev(_,_.stateNode.containerInfo);break;case 10:Pd(_,_.type._context,_.memoizedProps.value);break;case 13:var I=_.memoizedState;if(I!==null)return I.dehydrated!==null?(ft(Jr,Jr.current&1),_.flags|=128,null):(P&_.child.childLanes)!==0?sw(x,_,P):(ft(Jr,Jr.current&1),x=fa(x,_,P),x!==null?x.sibling:null);ft(Jr,Jr.current&1);break;case 19:if(I=(P&_.childLanes)!==0,(x.flags&128)!==0){if(I)return $d(x,_,P);_.flags|=128}var B=_.memoizedState;if(B!==null&&(B.rendering=null,B.tail=null,B.lastEffect=null),ft(Jr,Jr.current),I)break;return null;case 22:case 23:return _.lanes=0,cs(x,_,P)}return fa(x,_,P)}function yv(x,_){switch($b(_),_.tag){case 1:return Bn(_.type)&&mr(),x=_.flags,x&65536?(_.flags=x&-65537|128,_):null;case 3:return hh(),Ze(Ut),Ze($t),kd(),x=_.flags,(x&65536)!==0&&(x&128)===0?(_.flags=x&-65537|128,_):null;case 5:return Gb(_),null;case 13:if(Ze(Jr),x=_.memoizedState,x!==null&&x.dehydrated!==null){if(_.alternate===null)throw Error(a(340));ch()}return x=_.flags,x&65536?(_.flags=x&-65537|128,_):null;case 19:return Ze(Jr),null;case 4:return hh(),null;case 10:return sm(_.type._context),null;case 22:case 23:return Pm(),null;case 24:return null;default:return null}}var qs=!1,ts=!1,Hd=typeof WeakSet=="function"?WeakSet:Set,wt=null;function mo(x,_){var P=x.ref;if(P!==null)if(typeof P=="function")try{P(null)}catch(I){Ys(x,_,I)}else P.current=null}function hc(x,_,P){try{P()}catch(I){Ys(x,_,I)}}var aw=!1;function ow(x,_){for(Q(x.containerInfo),wt=_;wt!==null;)if(x=wt,_=x.child,(x.subtreeFlags&1028)!==0&&_!==null)_.return=x,wt=_;else for(;wt!==null;){x=wt;try{var P=x.alternate;if((x.flags&1024)!==0)switch(x.tag){case 0:case 11:case 15:break;case 1:if(P!==null){var I=P.memoizedProps,B=P.memoizedState,X=x.stateNode,le=X.getSnapshotBeforeUpdate(x.elementType===x.type?I:ca(x.type,I),B);X.__reactInternalSnapshotBeforeUpdate=le}break;case 3:Ie&&yt(x.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(_e){Ys(x,x.return,_e)}if(_=x.sibling,_!==null){_.return=x.return,wt=_;break}wt=x.return}return P=aw,aw=!1,P}function pc(x,_,P){var I=_.updateQueue;if(I=I!==null?I.lastEffect:null,I!==null){var B=I=I.next;do{if((B.tag&x)===x){var X=B.destroy;B.destroy=void 0,X!==void 0&&hc(_,P,X)}B=B.next}while(B!==I)}}function us(x,_){if(_=_.updateQueue,_=_!==null?_.lastEffect:null,_!==null){var P=_=_.next;do{if((P.tag&x)===x){var I=P.create;P.destroy=I()}P=P.next}while(P!==_)}}function Xs(x){var _=x.ref;if(_!==null){var P=x.stateNode;x.tag===5?x=q(P):x=P,typeof _=="function"?_(x):_.current=x}}function Vr(x,_,P){if(gl&&typeof gl.onCommitFiberUnmount=="function")try{gl.onCommitFiberUnmount(tm,_)}catch{}switch(_.tag){case 0:case 11:case 14:case 15:if(x=_.updateQueue,x!==null&&(x=x.lastEffect,x!==null)){var I=x=x.next;do{var B=I,X=B.destroy;B=B.tag,X!==void 0&&((B&2)!==0||(B&4)!==0)&&hc(_,P,X),I=I.next}while(I!==x)}break;case 1:if(mo(_,P),x=_.stateNode,typeof x.componentWillUnmount=="function")try{x.props=_.memoizedProps,x.state=_.memoizedState,x.componentWillUnmount()}catch(le){Ys(_,P,le)}break;case 5:mo(_,P);break;case 4:Ie?uw(x,_,P):Te&&Te&&(_=_.stateNode.containerInfo,P=qe(_),er(_,P))}}function go(x,_,P){for(var I=_;;)if(Vr(x,I,P),I.child===null||Ie&&I.tag===4){if(I===_)break;for(;I.sibling===null;){if(I.return===null||I.return===_)return;I=I.return}I.sibling.return=I.return,I=I.sibling}else I.child.return=I,I=I.child}function lw(x){var _=x.alternate;_!==null&&(x.alternate=null,lw(_)),x.child=null,x.deletions=null,x.sibling=null,x.tag===5&&(_=x.stateNode,_!==null&&Ye(_)),x.stateNode=null,x.return=null,x.dependencies=null,x.memoizedProps=null,x.memoizedState=null,x.pendingProps=null,x.stateNode=null,x.updateQueue=null}function cw(x){return x.tag===5||x.tag===3||x.tag===4}function xv(x){e:for(;;){for(;x.sibling===null;){if(x.return===null||cw(x.return))return null;x=x.return}for(x.sibling.return=x.return,x=x.sibling;x.tag!==5&&x.tag!==6&&x.tag!==18;){if(x.flags&2||x.child===null||x.tag===4)continue e;x.child.return=x,x=x.child}if(!(x.flags&2))return x.stateNode}}function bv(x){if(Ie){e:{for(var _=x.return;_!==null;){if(cw(_))break e;_=_.return}throw Error(a(160))}var P=_;switch(P.tag){case 5:_=P.stateNode,P.flags&32&&(Pe(_),P.flags&=-33),P=xv(x),bh(x,P,_);break;case 3:case 4:_=P.stateNode.containerInfo,P=xv(x),wv(x,P,_);break;default:throw Error(a(161))}}}function wv(x,_,P){var I=x.tag;if(I===5||I===6)x=x.stateNode,_?mt(P,x,_):nt(P,x);else if(I!==4&&(x=x.child,x!==null))for(wv(x,_,P),x=x.sibling;x!==null;)wv(x,_,P),x=x.sibling}function bh(x,_,P){var I=x.tag;if(I===5||I===6)x=x.stateNode,_?Je(P,x,_):ye(P,x);else if(I!==4&&(x=x.child,x!==null))for(bh(x,_,P),x=x.sibling;x!==null;)bh(x,_,P),x=x.sibling}function uw(x,_,P){for(var I=_,B=!1,X,le;;){if(!B){B=I.return;e:for(;;){if(B===null)throw Error(a(160));switch(X=B.stateNode,B.tag){case 5:le=!1;break e;case 3:X=X.containerInfo,le=!0;break e;case 4:X=X.containerInfo,le=!0;break e}B=B.return}B=!0}if(I.tag===5||I.tag===6)go(x,I,P),le?ue(X,I.stateNode):Dt(X,I.stateNode);else if(I.tag===18)le?D0(X,I.stateNode):k0(X,I.stateNode);else if(I.tag===4){if(I.child!==null){X=I.stateNode.containerInfo,le=!0,I.child.return=I,I=I.child;continue}}else if(Vr(x,I,P),I.child!==null){I.child.return=I,I=I.child;continue}if(I===_)break;for(;I.sibling===null;){if(I.return===null||I.return===_)return;I=I.return,I.tag===4&&(B=!1)}I.sibling.return=I.return,I=I.sibling}}function xu(x,_){if(Ie){switch(_.tag){case 0:case 11:case 14:case 15:pc(3,_,_.return),us(3,_),pc(5,_,_.return);return;case 1:return;case 5:var P=_.stateNode;if(P!=null){var I=_.memoizedProps;x=x!==null?x.memoizedProps:I;var B=_.type,X=_.updateQueue;_.updateQueue=null,X!==null&&cn(P,X,B,x,I,_)}return;case 6:if(_.stateNode===null)throw Error(a(162));P=_.memoizedProps,Ke(_.stateNode,x!==null?x.memoizedProps:P,P);return;case 3:Xe&&x!==null&&x.memoizedState.isDehydrated&&Jp(_.stateNode.containerInfo);return;case 12:return;case 13:wh(_);return;case 19:wh(_);return;case 17:return}throw Error(a(163))}switch(_.tag){case 0:case 11:case 14:case 15:pc(3,_,_.return),us(3,_),pc(5,_,_.return);return;case 12:return;case 13:wh(_);return;case 19:wh(_);return;case 3:Xe&&x!==null&&x.memoizedState.isDehydrated&&Jp(_.stateNode.containerInfo);break;case 22:case 23:return}e:if(Te){switch(_.tag){case 1:case 5:case 6:break e;case 3:case 4:_=_.stateNode,er(_.containerInfo,_.pendingChildren);break e}throw Error(a(163))}}function wh(x){var _=x.updateQueue;if(_!==null){x.updateQueue=null;var P=x.stateNode;P===null&&(P=x.stateNode=new Hd),_.forEach(function(I){var B=MM.bind(null,x,I);P.has(I)||(P.add(I),I.then(B,B))})}}function FO(x,_){for(wt=_;wt!==null;){_=wt;var P=_.deletions;if(P!==null)for(var I=0;I<P.length;I++){var B=P[I];try{var X=x;Ie?uw(X,B,_):go(X,B,_);var le=B.alternate;le!==null&&(le.return=null),B.return=null}catch(en){Ys(B,_,en)}}if(P=_.child,(_.subtreeFlags&12854)!==0&&P!==null)P.return=_,wt=P;else for(;wt!==null;){_=wt;try{var _e=_.flags;if(_e&32&&Ie&&Pe(_.stateNode),_e&512){var Ve=_.alternate;if(Ve!==null){var ht=Ve.ref;ht!==null&&(typeof ht=="function"?ht(null):ht.current=null)}}if(_e&8192)switch(_.tag){case 13:if(_.memoizedState!==null){var zt=_.alternate;(zt===null||zt.memoizedState===null)&&(Tm=Ui())}break;case 22:var Rn=_.memoizedState!==null,hn=_.alternate,zn=hn!==null&&hn.memoizedState!==null;if(P=_,Ie){e:if(I=P,B=Rn,X=null,Ie)for(var kt=I;;){if(kt.tag===5){if(X===null){X=kt;var hs=kt.stateNode;B?lt(hs):at(kt.stateNode,kt.memoizedProps)}}else if(kt.tag===6){if(X===null){var Ua=kt.stateNode;B?fe(Ua):et(Ua,kt.memoizedProps)}}else if((kt.tag!==22&&kt.tag!==23||kt.memoizedState===null||kt===I)&&kt.child!==null){kt.child.return=kt,kt=kt.child;continue}if(kt===I)break;for(;kt.sibling===null;){if(kt.return===null||kt.return===I)break e;X===kt&&(X=null),kt=kt.return}X===kt&&(X=null),kt.sibling.return=kt.return,kt=kt.sibling}}if(Rn&&!zn&&(P.mode&1)!==0){wt=P;for(var ke=P.child;ke!==null;){for(P=wt=ke;wt!==null;){I=wt;var Ee=I.child;switch(I.tag){case 0:case 11:case 14:case 15:pc(4,I,I.return);break;case 1:mo(I,I.return);var ze=I.stateNode;if(typeof ze.componentWillUnmount=="function"){var Pt=I.return;try{ze.props=I.memoizedProps,ze.state=I.memoizedState,ze.componentWillUnmount()}catch(en){Ys(I,Pt,en)}}break;case 5:mo(I,I.return);break;case 22:if(I.memoizedState!==null){fw(P);continue}}Ee!==null?(Ee.return=I,wt=Ee):fw(P)}ke=ke.sibling}}}switch(_e&4102){case 2:bv(_),_.flags&=-3;break;case 6:bv(_),_.flags&=-3,xu(_.alternate,_);break;case 4096:_.flags&=-4097;break;case 4100:_.flags&=-4097,xu(_.alternate,_);break;case 4:xu(_.alternate,_)}}catch(en){Ys(_,_.return,en)}if(P=_.sibling,P!==null){P.return=_.return,wt=P;break}wt=_.return}}}function bm(x,_,P){wt=x,wm(x)}function wm(x,_,P){for(var I=(x.mode&1)!==0;wt!==null;){var B=wt,X=B.child;if(B.tag===22&&I){var le=B.memoizedState!==null||qs;if(!le){var _e=B.alternate,Ve=_e!==null&&_e.memoizedState!==null||ts;_e=qs;var ht=ts;if(qs=le,(ts=Ve)&&!ht)for(wt=B;wt!==null;)le=wt,Ve=le.child,le.tag===22&&le.memoizedState!==null?Wd(B):Ve!==null?(Ve.return=le,wt=Ve):Wd(B);for(;X!==null;)wt=X,wm(X),X=X.sibling;wt=B,qs=_e,ts=ht}dw(x)}else(B.subtreeFlags&8772)!==0&&X!==null?(X.return=B,wt=X):dw(x)}}function dw(x){for(;wt!==null;){var _=wt;if((_.flags&8772)!==0){var P=_.alternate;try{if((_.flags&8772)!==0)switch(_.tag){case 0:case 11:case 15:ts||us(5,_);break;case 1:var I=_.stateNode;if(_.flags&4&&!ts)if(P===null)I.componentDidMount();else{var B=_.elementType===_.type?P.memoizedProps:ca(_.type,P.memoizedProps);I.componentDidUpdate(B,P.memoizedState,I.__reactInternalSnapshotBeforeUpdate)}var X=_.updateQueue;X!==null&&oM(_,X,I);break;case 3:var le=_.updateQueue;if(le!==null){if(P=null,_.child!==null)switch(_.child.tag){case 5:P=q(_.child.stateNode);break;case 1:P=_.child.stateNode}oM(_,le,P)}break;case 5:var _e=_.stateNode;P===null&&_.flags&4&&pt(_e,_.type,_.memoizedProps,_);break;case 6:break;case 4:break;case 12:break;case 13:if(Xe&&_.memoizedState===null){var Ve=_.alternate;if(Ve!==null){var ht=Ve.memoizedState;if(ht!==null){var zt=ht.dehydrated;zt!==null&&em(zt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(a(163))}ts||_.flags&512&&Xs(_)}catch(Rn){Ys(_,_.return,Rn)}}if(_===x){wt=null;break}if(P=_.sibling,P!==null){P.return=_.return,wt=P;break}wt=_.return}}function fw(x){for(;wt!==null;){var _=wt;if(_===x){wt=null;break}var P=_.sibling;if(P!==null){P.return=_.return,wt=P;break}wt=_.return}}function Wd(x){for(;wt!==null;){var _=wt;try{switch(_.tag){case 0:case 11:case 15:var P=_.return;try{us(4,_)}catch(Ve){Ys(_,P,Ve)}break;case 1:var I=_.stateNode;if(typeof I.componentDidMount=="function"){var B=_.return;try{I.componentDidMount()}catch(Ve){Ys(_,B,Ve)}}var X=_.return;try{Xs(_)}catch(Ve){Ys(_,X,Ve)}break;case 5:var le=_.return;try{Xs(_)}catch(Ve){Ys(_,le,Ve)}}}catch(Ve){Ys(_,_.return,Ve)}if(_===x){wt=null;break}var _e=_.sibling;if(_e!==null){_e.return=_.return,wt=_e;break}wt=_.return}}var _m=0,Gd=1,qd=2,mc=3,_h=4;if(typeof Symbol=="function"&&Symbol.for){var Xd=Symbol.for;_m=Xd("selector.component"),Gd=Xd("selector.has_pseudo_class"),qd=Xd("selector.role"),mc=Xd("selector.test_id"),_h=Xd("selector.text")}function Sm(x){var _=Ce(x);if(_!=null){if(typeof _.memoizedProps["data-testname"]!="string")throw Error(a(364));return _}if(x=jt(x),x===null)throw Error(a(362));return x.stateNode.current}function Em(x,_){switch(_.$$typeof){case _m:if(x.type===_.value)return!0;break;case Gd:e:{_=_.value,x=[x,0];for(var P=0;P<x.length;){var I=x[P++],B=x[P++],X=_[B];if(I.tag!==5||!H(I)){for(;X!=null&&Em(I,X);)B++,X=_[B];if(B===_.length){_=!0;break e}else for(I=I.child;I!==null;)x.push(I,B),I=I.sibling}}_=!1}return _;case qd:if(x.tag===5&&oe(x.stateNode,_.value))return!0;break;case _h:if((x.tag===5||x.tag===6)&&(x=K(x),x!==null&&0<=x.indexOf(_.value)))return!0;break;case mc:if(x.tag===5&&(x=x.memoizedProps["data-testname"],typeof x=="string"&&x.toLowerCase()===_.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function bu(x){switch(x.$$typeof){case _m:return"<"+(j(x.value)||"Unknown")+">";case Gd:return":has("+(bu(x)||"")+")";case qd:return'[role="'+x.value+'"]';case _h:return'"'+x.value+'"';case mc:return'[data-testname="'+x.value+'"]';default:throw Error(a(365))}}function ka(x,_){var P=[];x=[x,0];for(var I=0;I<x.length;){var B=x[I++],X=x[I++],le=_[X];if(B.tag!==5||!H(B)){for(;le!=null&&Em(B,le);)X++,le=_[X];if(X===_.length)P.push(B);else for(B=B.child;B!==null;)x.push(B,X),B=B.sibling}}return P}function gc(x,_){if(!dt)throw Error(a(363));x=Sm(x),x=ka(x,_),_=[],x=Array.from(x);for(var P=0;P<x.length;){var I=x[P++];if(I.tag===5)H(I)||_.push(I.stateNode);else for(I=I.child;I!==null;)x.push(I),I=I.sibling}return _}var hw=Math.ceil,Mm=o.ReactCurrentDispatcher,$o=o.ReactCurrentOwner,Mr=o.ReactCurrentBatchConfig,Dn=0,pi=null,Tr=null,Kr=0,Ts=0,Yd=Mt(0),li=0,Sh=null,bl=0,Da=0,Kd=0,vc=null,Ti=null,Tm=0,wu=1/0;function Zd(){wu=Ui()+500}var Eh=!1,$r=null,Ho=null,Mh=!1,wl=null,Qd=0,Jd=0,yc=null,Ur=-1,ci=0;function dr(){return(Dn&6)!==0?Ui():Ur!==-1?Ur:Ur=Ui()}function Wo(x){return(x.mode&1)===0?1:(Dn&2)!==0&&Kr!==0?Kr&-Kr:aM.transition!==null?(ci===0&&(x=or,or<<=1,(or&4194240)===0&&(or=64),ci=x),ci):(x=Wn,x!==0?x:Be())}function As(x,_,P){if(50<Jd)throw Jd=0,yc=null,Error(a(185));var I=_u(x,_);return I===null?null:(Md(I,_,P),((Dn&2)===0||I!==pi)&&(I===pi&&((Dn&2)===0&&(Da|=_),li===4&&fs(I,Kr)),ha(I,P),_===1&&Dn===0&&(x.mode&1)===0&&(Zd(),V0&&co())),I)}function _u(x,_){x.lanes|=_;var P=x.alternate;for(P!==null&&(P.lanes|=_),P=x,x=x.return;x!==null;)x.childLanes|=_,P=x.alternate,P!==null&&(P.childLanes|=_),P=x,x=x.return;return P.tag===3?P.stateNode:null}function ha(x,_){var P=x.callbackNode;rh(x,_);var I=fi(x,x===pi?Kr:0);if(I===0)P!==null&&ih(P),x.callbackNode=null,x.callbackPriority=0;else if(_=I&-I,x.callbackPriority!==_){if(P!=null&&ih(P),_===1)x.tag===0?H0(La.bind(null,x)):$0(La.bind(null,x)),ae?Ot(function(){Dn===0&&co()}):Td(Ad,co),P=null;else{switch(nc(I)){case 1:P=Ad;break;case 4:P=kO;break;case 16:P=B0;break;case 536870912:P=z0;break;default:P=B0}P=Sv(P,ds.bind(null,x))}x.callbackPriority=_,x.callbackNode=P}}function ds(x,_){if(Ur=-1,ci=0,(Dn&6)!==0)throw Error(a(327));var P=x.callbackNode;if(_l()&&x.callbackNode!==P)return null;var I=fi(x,x===pi?Kr:0);if(I===0)return null;if((I&30)!==0||(I&x.expiredLanes)!==0||_)_=Nm(x,I);else{_=I;var B=Dn;Dn|=2;var X=gw();(pi!==x||Kr!==_)&&(Zd(),xc(x,_));do try{_M();break}catch(_e){mw(x,_e)}while(!0);Hs(),Mm.current=X,Dn=B,Tr!==null?_=0:(pi=null,Kr=0,_=li)}if(_!==0){if(_===2&&(B=oo(x),B!==0&&(I=B,_=Am(x,B))),_===1)throw P=Sh,xc(x,0),fs(x,I),ha(x,Ui()),P;if(_===6)fs(x,I);else{if(B=x.current.alternate,(I&30)===0&&!pw(B)&&(_=Nm(x,I),_===2&&(X=oo(x),X!==0&&(I=X,_=Am(x,X))),_===1))throw P=Sh,xc(x,0),fs(x,I),ha(x,Ui()),P;switch(x.finishedWork=B,x.finishedLanes=I,_){case 0:case 1:throw Error(a(345));case 2:Go(x,Ti);break;case 3:if(fs(x,I),(I&130023424)===I&&(_=Tm+500-Ui(),10<_)){if(fi(x,0)!==0)break;if(B=x.suspendedLanes,(B&I)!==I){dr(),x.pingedLanes|=x.suspendedLanes&B;break}x.timeoutHandle=pe(Go.bind(null,x,Ti),_);break}Go(x,Ti);break;case 4:if(fs(x,I),(I&4194240)===I)break;for(_=x.eventTimes,B=-1;0<I;){var le=31-Dr(I);X=1<<le,le=_[le],le>B&&(B=le),I&=~X}if(I=B,I=Ui()-I,I=(120>I?120:480>I?480:1080>I?1080:1920>I?1920:3e3>I?3e3:4320>I?4320:1960*hw(I/1960))-I,10<I){x.timeoutHandle=pe(Go.bind(null,x,Ti),I);break}Go(x,Ti);break;case 5:Go(x,Ti);break;default:throw Error(a(329))}}}return ha(x,Ui()),x.callbackNode===P?ds.bind(null,x):null}function Am(x,_){var P=vc;return x.current.memoizedState.isDehydrated&&(xc(x,_).flags|=256),x=Nm(x,_),x!==2&&(_=Ti,Ti=P,_!==null&&Cm(_)),x}function Cm(x){Ti===null?Ti=x:Ti.push.apply(Ti,x)}function pw(x){for(var _=x;;){if(_.flags&16384){var P=_.updateQueue;if(P!==null&&(P=P.stores,P!==null))for(var I=0;I<P.length;I++){var B=P[I],X=B.getSnapshot;B=B.value;try{if(!$s(X(),B))return!1}catch{return!1}}}if(P=_.child,_.subtreeFlags&16384&&P!==null)P.return=_,_=P;else{if(_===x)break;for(;_.sibling===null;){if(_.return===null||_.return===x)return!0;_=_.return}_.sibling.return=_.return,_=_.sibling}}return!0}function fs(x,_){for(_&=~Kd,_&=~Da,x.suspendedLanes|=_,x.pingedLanes&=~_,x=x.expirationTimes;0<_;){var P=31-Dr(_),I=1<<P;x[P]=-1,_&=~I}}function La(x){if((Dn&6)!==0)throw Error(a(327));_l();var _=fi(x,0);if((_&1)===0)return ha(x,Ui()),null;var P=Nm(x,_);if(x.tag!==0&&P===2){var I=oo(x);I!==0&&(_=I,P=Am(x,I))}if(P===1)throw P=Sh,xc(x,0),fs(x,_),ha(x,Ui()),P;if(P===6)throw Error(a(345));return x.finishedWork=x.current.alternate,x.finishedLanes=_,Go(x,Ti),ha(x,Ui()),null}function Th(x){wl!==null&&wl.tag===0&&(Dn&6)===0&&_l();var _=Dn;Dn|=1;var P=Mr.transition,I=Wn;try{if(Mr.transition=null,Wn=1,x)return x()}finally{Wn=I,Mr.transition=P,Dn=_,(Dn&6)===0&&co()}}function Pm(){Ts=Yd.current,Ze(Yd)}function xc(x,_){x.finishedWork=null,x.finishedLanes=0;var P=x.timeoutHandle;if(P!==xe&&(x.timeoutHandle=xe,Oe(P)),Tr!==null)for(P=Tr.return;P!==null;){var I=P;switch($b(I),I.tag){case 1:I=I.type.childContextTypes,I!=null&&mr();break;case 3:hh(),Ze(Ut),Ze($t),kd();break;case 5:Gb(I);break;case 4:hh();break;case 13:Ze(Jr);break;case 19:Ze(Jr);break;case 10:sm(I.type._context);break;case 22:case 23:Pm()}P=P.return}if(pi=x,Tr=x=bc(x.current,null),Kr=Ts=_,li=0,Sh=null,Kd=Da=bl=0,Ti=vc=null,uo!==null){for(_=0;_<uo.length;_++)if(P=uo[_],I=P.interleaved,I!==null){P.interleaved=null;var B=I.next,X=P.pending;if(X!==null){var le=X.next;X.next=B,I.next=le}P.pending=I}uo=null}return x}function mw(x,_){do{var P=Tr;try{if(Hs(),om.current=yh,nv){for(var I=ei.memoizedState;I!==null;){var B=I.queue;B!==null&&(B.pending=null),I=I.next}nv=!1}if(Dd=0,Qi=Zi=ei=null,vl=!1,Ld=0,$o.current=null,P===null||P.return===null){li=1,Sh=_,Tr=null;break}e:{var X=x,le=P.return,_e=P,Ve=_;if(_=Kr,_e.flags|=32768,Ve!==null&&typeof Ve=="object"&&typeof Ve.then=="function"){var ht=Ve,zt=_e,Rn=zt.tag;if((zt.mode&1)===0&&(Rn===0||Rn===11||Rn===15)){var hn=zt.alternate;hn?(zt.updateQueue=hn.updateQueue,zt.memoizedState=hn.memoizedState,zt.lanes=hn.lanes):(zt.updateQueue=null,zt.memoizedState=null)}var zn=nw(le);if(zn!==null){zn.flags&=-257,Ud(zn,le,_e,X,_),zn.mode&1&&cc(X,ht,_),_=zn,Ve=ht;var kt=_.updateQueue;if(kt===null){var hs=new Set;hs.add(Ve),_.updateQueue=hs}else kt.add(Ve);break e}else{if((_&1)===0){cc(X,ht,_),_v();break e}Ve=Error(a(426))}}else if(Yr&&_e.mode&1){var Ua=nw(le);if(Ua!==null){(Ua.flags&65536)===0&&(Ua.flags|=256),Ud(Ua,le,_e,X,_),J0(Ve);break e}}X=Ve,li!==4&&(li=2),vc===null?vc=[X]:vc.push(X),Ve=tw(Ve,_e),_e=le;do{switch(_e.tag){case 3:_e.flags|=65536,_&=-_,_e.lanes|=_;var ke=xM(_e,Ve,_);q0(_e,ke);break e;case 1:X=Ve;var Ee=_e.type,ze=_e.stateNode;if((_e.flags&128)===0&&(typeof Ee.getDerivedStateFromError=="function"||ze!==null&&typeof ze.componentDidCatch=="function"&&(Ho===null||!Ho.has(ze)))){_e.flags|=65536,_&=-_,_e.lanes|=_;var Pt=fv(_e,X,_);q0(_e,Pt);break e}}_e=_e.return}while(_e!==null)}yw(P)}catch(en){_=en,Tr===P&&P!==null&&(Tr=P=P.return);continue}break}while(!0)}function gw(){var x=Mm.current;return Mm.current=yh,x===null?yh:x}function _v(){(li===0||li===3||li===2)&&(li=4),pi===null||(bl&268435455)===0&&(Da&268435455)===0||fs(pi,Kr)}function Nm(x,_){var P=Dn;Dn|=2;var I=gw();pi===x&&Kr===_||xc(x,_);do try{wM();break}catch(B){mw(x,B)}while(!0);if(Hs(),Dn=P,Mm.current=I,Tr!==null)throw Error(a(261));return pi=null,Kr=0,li}function wM(){for(;Tr!==null;)vw(Tr)}function _M(){for(;Tr!==null&&!du();)vw(Tr)}function vw(x){var _=ww(x.alternate,x,Ts);x.memoizedProps=x.pendingProps,_===null?yw(x):Tr=_,$o.current=null}function yw(x){var _=x;do{var P=_.alternate;if(x=_.return,(_.flags&32768)===0){if(P=mv(P,_,Ts),P!==null){Tr=P;return}}else{if(P=yv(P,_),P!==null){P.flags&=32767,Tr=P;return}if(x!==null)x.flags|=32768,x.subtreeFlags=0,x.deletions=null;else{li=6,Tr=null;return}}if(_=_.sibling,_!==null){Tr=_;return}Tr=_=x}while(_!==null);li===0&&(li=5)}function Go(x,_){var P=Wn,I=Mr.transition;try{Mr.transition=null,Wn=1,SM(x,_,P)}finally{Mr.transition=I,Wn=P}return null}function SM(x,_,P){do _l();while(wl!==null);if((Dn&6)!==0)throw Error(a(327));var I=x.finishedWork,B=x.finishedLanes;if(I===null)return null;if(x.finishedWork=null,x.finishedLanes=0,I===x.current)throw Error(a(177));x.callbackNode=null,x.callbackPriority=0;var X=I.lanes|I.childLanes;if(U0(x,X),x===pi&&(Tr=pi=null,Kr=0),(I.subtreeFlags&2064)===0&&(I.flags&2064)===0||Mh||(Mh=!0,Sv(B0,function(){return _l(),null})),X=(I.flags&15990)!==0,(I.subtreeFlags&15990)!==0||X){X=Mr.transition,Mr.transition=null;var le=Wn;Wn=1;var _e=Dn;Dn|=4,$o.current=null,ow(x,I),FO(x,I),ee(x.containerInfo),x.current=I,bm(I),IO(),Dn=_e,Wn=le,Mr.transition=X}else x.current=I;if(Mh&&(Mh=!1,wl=x,Qd=B),X=x.pendingLanes,X===0&&(Ho=null),nm(I.stateNode),ha(x,Ui()),_!==null)for(P=x.onRecoverableError,I=0;I<_.length;I++)P(_[I]);if(Eh)throw Eh=!1,x=$r,$r=null,x;return(Qd&1)!==0&&x.tag!==0&&_l(),X=x.pendingLanes,(X&1)!==0?x===yc?Jd++:(Jd=0,yc=x):Jd=0,co(),null}function _l(){if(wl!==null){var x=nc(Qd),_=Mr.transition,P=Wn;try{if(Mr.transition=null,Wn=16>x?16:x,wl===null)var I=!1;else{if(x=wl,wl=null,Qd=0,(Dn&6)!==0)throw Error(a(331));var B=Dn;for(Dn|=4,wt=x.current;wt!==null;){var X=wt,le=X.child;if((wt.flags&16)!==0){var _e=X.deletions;if(_e!==null){for(var Ve=0;Ve<_e.length;Ve++){var ht=_e[Ve];for(wt=ht;wt!==null;){var zt=wt;switch(zt.tag){case 0:case 11:case 15:pc(8,zt,X)}var Rn=zt.child;if(Rn!==null)Rn.return=zt,wt=Rn;else for(;wt!==null;){zt=wt;var hn=zt.sibling,zn=zt.return;if(lw(zt),zt===ht){wt=null;break}if(hn!==null){hn.return=zn,wt=hn;break}wt=zn}}}var kt=X.alternate;if(kt!==null){var hs=kt.child;if(hs!==null){kt.child=null;do{var Ua=hs.sibling;hs.sibling=null,hs=Ua}while(hs!==null)}}wt=X}}if((X.subtreeFlags&2064)!==0&&le!==null)le.return=X,wt=le;else e:for(;wt!==null;){if(X=wt,(X.flags&2048)!==0)switch(X.tag){case 0:case 11:case 15:pc(9,X,X.return)}var ke=X.sibling;if(ke!==null){ke.return=X.return,wt=ke;break e}wt=X.return}}var Ee=x.current;for(wt=Ee;wt!==null;){le=wt;var ze=le.child;if((le.subtreeFlags&2064)!==0&&ze!==null)ze.return=le,wt=ze;else e:for(le=Ee;wt!==null;){if(_e=wt,(_e.flags&2048)!==0)try{switch(_e.tag){case 0:case 11:case 15:us(9,_e)}}catch(en){Ys(_e,_e.return,en)}if(_e===le){wt=null;break e}var Pt=_e.sibling;if(Pt!==null){Pt.return=_e.return,wt=Pt;break e}wt=_e.return}}if(Dn=B,co(),gl&&typeof gl.onPostCommitFiberRoot=="function")try{gl.onPostCommitFiberRoot(tm,x)}catch{}I=!0}return I}finally{Wn=P,Mr.transition=_}}return!1}function Rm(x,_,P){_=tw(P,_),_=xM(x,_,1),fu(x,_),_=dr(),x=_u(x,1),x!==null&&(Md(x,1,_),ha(x,_))}function Ys(x,_,P){if(x.tag===3)Rm(x,x,P);else for(;_!==null;){if(_.tag===3){Rm(_,x,P);break}else if(_.tag===1){var I=_.stateNode;if(typeof _.type.getDerivedStateFromError=="function"||typeof I.componentDidCatch=="function"&&(Ho===null||!Ho.has(I))){x=tw(P,x),x=fv(_,x,1),fu(_,x),x=dr(),_=_u(_,1),_!==null&&(Md(_,1,x),ha(_,x));break}}_=_.return}}function xw(x,_,P){var I=x.pingCache;I!==null&&I.delete(_),_=dr(),x.pingedLanes|=x.suspendedLanes&P,pi===x&&(Kr&P)===P&&(li===4||li===3&&(Kr&130023424)===Kr&&500>Ui()-Tm?xc(x,0):Kd|=P),ha(x,_)}function bw(x,_){_===0&&((x.mode&1)===0?_=1:(_=Mn,Mn<<=1,(Mn&130023424)===0&&(Mn=4194304)));var P=dr();x=_u(x,_),x!==null&&(Md(x,_,P),ha(x,P))}function EM(x){var _=x.memoizedState,P=0;_!==null&&(P=_.retryLane),bw(x,P)}function MM(x,_){var P=0;switch(x.tag){case 13:var I=x.stateNode,B=x.memoizedState;B!==null&&(P=B.retryLane);break;case 19:I=x.stateNode;break;default:throw Error(a(314))}I!==null&&I.delete(_),bw(x,P)}var ww;ww=function(x,_,P){if(x!==null)if(x.memoizedProps!==_.pendingProps||Ut.current)es=!0;else{if((x.lanes&P)===0&&(_.flags&128)===0)return es=!1,vv(x,_,P);es=(x.flags&131072)!==0}else es=!1,Yr&&(_.flags&1048576)!==0&&dM(_,Z0,_.index);switch(_.lanes=0,_.tag){case 2:var I=_.type;x!==null&&(x.alternate=null,_.alternate=null,_.flags|=2),x=_.pendingProps;var B=Yn(_,$t.current);sh(_,P),B=ph(null,_,I,x,B,P);var X=gu();return _.flags|=1,typeof B=="object"&&B!==null&&typeof B.render=="function"&&B.$$typeof===void 0?(_.tag=1,_.memoizedState=null,_.updateQueue=null,Bn(I)?(X=!0,ir(_)):X=!1,_.memoizedState=B.state!==null&&B.state!==void 0?B.state:null,ah(_),B.updater=Y0,_.stateNode=B,B._reactInternals=_,zb(_,I,x,P),_=Ms(null,_,I,!0,X,P)):(_.tag=0,Yr&&X&&Vb(_),oi(null,_,B,P),_=_.child),_;case 16:I=_.elementType;e:{switch(x!==null&&(x.alternate=null,_.alternate=null,_.flags|=2),x=_.pendingProps,B=I._init,I=B(I._payload),_.type=I,B=_.tag=UO(I),x=ca(I,x),B){case 0:_=fc(null,_,I,x,P);break e;case 1:_=zd(null,_,I,x,P);break e;case 11:_=Fr(null,_,I,x,P);break e;case 14:_=Or(null,_,I,ca(I.type,x),P);break e}throw Error(a(306,I,""))}return _;case 0:return I=_.type,B=_.pendingProps,B=_.elementType===I?B:ca(I,B),fc(x,_,I,B,P);case 1:return I=_.type,B=_.pendingProps,B=_.elementType===I?B:ca(I,B),zd(x,_,I,B,P);case 3:e:{if(gm(_),x===null)throw Error(a(387));I=_.pendingProps,X=_.memoizedState,B=X.element,Fb(x,_),X0(_,I,null,P);var le=_.memoizedState;if(I=le.element,Xe&&X.isDehydrated)if(X={element:I,isDehydrated:!1,cache:le.cache,transitions:le.transitions},_.updateQueue.baseState=X,_.memoizedState=X,_.flags&256){B=Error(a(423)),_=iw(x,_,I,P,B);break e}else if(I!==B){B=Error(a(424)),_=iw(x,_,I,P,B);break e}else for(Xe&&(ls=Zp(_.stateNode.containerInfo),Ws=_,Yr=!0,po=null,lh=!1),P=pM(_,null,I,P),_.child=P;P;)P.flags=P.flags&-3|4096,P=P.sibling;else{if(ch(),I===B){_=fa(x,_,P);break e}oi(x,_,I,P)}_=_.child}return _;case 5:return mM(_),x===null&&pu(_),I=_.type,B=_.pendingProps,X=x!==null?x.memoizedProps:null,le=B.children,Ue(I,B)?le=null:X!==null&&Ue(I,X)&&(_.flags|=32),Gs(x,_),oi(x,_,le,P),_.child;case 6:return x===null&&pu(_),null;case 13:return sw(x,_,P);case 4:return ev(_,_.stateNode.containerInfo),I=_.pendingProps,x===null?_.child=oc(_,null,I,P):oi(x,_,I,P),_.child;case 11:return I=_.type,B=_.pendingProps,B=_.elementType===I?B:ca(I,B),Fr(x,_,I,B,P);case 7:return oi(x,_,_.pendingProps,P),_.child;case 8:return oi(x,_,_.pendingProps.children,P),_.child;case 12:return oi(x,_,_.pendingProps.children,P),_.child;case 10:e:{if(I=_.type._context,B=_.pendingProps,X=_.memoizedProps,le=B.value,Pd(_,I,le),X!==null)if($s(X.value,le)){if(X.children===B.children&&!Ut.current){_=fa(x,_,P);break e}}else for(X=_.child,X!==null&&(X.return=_);X!==null;){var _e=X.dependencies;if(_e!==null){le=X.child;for(var Ve=_e.firstContext;Ve!==null;){if(Ve.context===I){if(X.tag===1){Ve=ic(-1,P&-P),Ve.tag=2;var ht=X.updateQueue;if(ht!==null){ht=ht.shared;var zt=ht.pending;zt===null?Ve.next=Ve:(Ve.next=zt.next,zt.next=Ve),ht.pending=Ve}}X.lanes|=P,Ve=X.alternate,Ve!==null&&(Ve.lanes|=P),Nd(X.return,P,_),_e.lanes|=P;break}Ve=Ve.next}}else if(X.tag===10)le=X.type===_.type?null:X.child;else if(X.tag===18){if(le=X.return,le===null)throw Error(a(341));le.lanes|=P,_e=le.alternate,_e!==null&&(_e.lanes|=P),Nd(le,P,_),le=X.sibling}else le=X.child;if(le!==null)le.return=X;else for(le=X;le!==null;){if(le===_){le=null;break}if(X=le.sibling,X!==null){X.return=le.return,le=X;break}le=le.return}X=le}oi(x,_,B.children,P),_=_.child}return _;case 9:return B=_.type,I=_.pendingProps.children,sh(_,P),B=ua(B),I=I(B),_.flags|=1,oi(x,_,I,P),_.child;case 14:return I=_.type,B=ca(I,_.pendingProps),B=ca(I.type,B),Or(x,_,I,B,P);case 15:return dc(x,_,_.type,_.pendingProps,P);case 17:return I=_.type,B=_.pendingProps,B=_.elementType===I?B:ca(I,B),x!==null&&(x.alternate=null,_.alternate=null,_.flags|=2),_.tag=1,Bn(I)?(x=!0,ir(_)):x=!1,sh(_,P),cM(_,I,B),zb(_,I,B,P),Ms(null,_,I,!0,x,P);case 19:return $d(x,_,P);case 22:return cs(x,_,P)}throw Error(a(156,_.tag))};function Sv(x,_){return Td(x,_)}function TM(x,_,P,I){this.tag=x,this.key=P,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=_,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=I,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fa(x,_,P,I){return new TM(x,_,P,I)}function Ev(x){return x=x.prototype,!(!x||!x.isReactComponent)}function UO(x){if(typeof x=="function")return Ev(x)?1:0;if(x!=null){if(x=x.$$typeof,x===b)return 11;if(x===S)return 14}return 2}function bc(x,_){var P=x.alternate;return P===null?(P=Fa(x.tag,_,x.key,x.mode),P.elementType=x.elementType,P.type=x.type,P.stateNode=x.stateNode,P.alternate=x,x.alternate=P):(P.pendingProps=_,P.type=x.type,P.flags=0,P.subtreeFlags=0,P.deletions=null),P.flags=x.flags&14680064,P.childLanes=x.childLanes,P.lanes=x.lanes,P.child=x.child,P.memoizedProps=x.memoizedProps,P.memoizedState=x.memoizedState,P.updateQueue=x.updateQueue,_=x.dependencies,P.dependencies=_===null?null:{lanes:_.lanes,firstContext:_.firstContext},P.sibling=x.sibling,P.index=x.index,P.ref=x.ref,P}function Mv(x,_,P,I,B,X){var le=2;if(I=x,typeof x=="function")Ev(x)&&(le=1);else if(typeof x=="string")le=5;else e:switch(x){case d:return ef(P.children,B,X,_);case f:le=8,B|=8;break;case h:return x=Fa(12,P,_,B|2),x.elementType=h,x.lanes=X,x;case y:return x=Fa(13,P,_,B),x.elementType=y,x.lanes=X,x;case w:return x=Fa(19,P,_,B),x.elementType=w,x.lanes=X,x;case T:return Om(P,B,X,_);default:if(typeof x=="object"&&x!==null)switch(x.$$typeof){case m:le=10;break e;case v:le=9;break e;case b:le=11;break e;case S:le=14;break e;case M:le=16,I=null;break e}throw Error(a(130,x==null?x:typeof x,""))}return _=Fa(le,P,_,B),_.elementType=x,_.type=I,_.lanes=X,_}function ef(x,_,P,I){return x=Fa(7,x,I,_),x.lanes=P,x}function Om(x,_,P,I){return x=Fa(22,x,I,_),x.elementType=T,x.lanes=P,x.stateNode={},x}function Tv(x,_,P){return x=Fa(6,x,null,_),x.lanes=P,x}function Av(x,_,P){return _=Fa(4,x.children!==null?x.children:[],x.key,_),_.lanes=P,_.stateNode={containerInfo:x.containerInfo,pendingChildren:null,implementation:x.implementation},_}function Cv(x,_,P,I,B){this.tag=_,this.containerInfo=x,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=xe,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=F0(0),this.expirationTimes=F0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=F0(0),this.identifierPrefix=I,this.onRecoverableError=B,Xe&&(this.mutableSourceEagerHydrationData=null)}function AM(x,_,P,I,B,X,le,_e,Ve){return x=new Cv(x,_,P,_e,Ve),_===1?(_=1,X===!0&&(_|=8)):_=0,X=Fa(3,null,null,_),x.current=X,X.stateNode=x,X.memoizedState={element:I,isDehydrated:P,cache:null,transitions:null},ah(X),x}function CM(x){if(!x)return Tt;x=x._reactInternals;e:{if(O(x)!==x||x.tag!==1)throw Error(a(170));var _=x;do{switch(_.tag){case 3:_=_.stateNode.context;break e;case 1:if(Bn(_.type)){_=_.stateNode.__reactInternalMemoizedMergedChildContext;break e}}_=_.return}while(_!==null);throw Error(a(171))}if(x.tag===1){var P=x.type;if(Bn(P))return fn(x,P,_)}return _}function PM(x){var _=x._reactInternals;if(_===void 0)throw typeof x.render=="function"?Error(a(188)):(x=Object.keys(x).join(","),Error(a(268,x)));return x=G(_),x===null?null:x.stateNode}function vo(x,_){if(x=x.memoizedState,x!==null&&x.dehydrated!==null){var P=x.retryLane;x.retryLane=P!==0&&P<_?P:_}}function jm(x,_){vo(x,_),(x=x.alternate)&&vo(x,_)}function Pv(x){return x=G(x),x===null?null:x.stateNode}function NM(){return null}return n.attemptContinuousHydration=function(x){if(x.tag===13){var _=dr();As(x,134217728,_),jm(x,134217728)}},n.attemptHydrationAtCurrentPriority=function(x){if(x.tag===13){var _=dr(),P=Wo(x);As(x,P,_),jm(x,P)}},n.attemptSynchronousHydration=function(x){switch(x.tag){case 3:var _=x.stateNode;if(_.current.memoizedState.isDehydrated){var P=Fi(_.pendingLanes);P!==0&&(ml(_,P|1),ha(_,Ui()),(Dn&6)===0&&(Zd(),co()))}break;case 13:var I=dr();Th(function(){return As(x,1,I)}),jm(x,1)}},n.batchedUpdates=function(x,_){var P=Dn;Dn|=1;try{return x(_)}finally{Dn=P,Dn===0&&(Zd(),V0&&co())}},n.createComponentSelector=function(x){return{$$typeof:_m,value:x}},n.createContainer=function(x,_,P,I,B,X,le){return AM(x,_,!1,null,P,I,B,X,le)},n.createHasPseudoClassSelector=function(x){return{$$typeof:Gd,value:x}},n.createHydrationContainer=function(x,_,P,I,B,X,le,_e,Ve){return x=AM(P,I,!0,x,B,X,le,_e,Ve),x.context=CM(null),P=x.current,I=dr(),B=Wo(P),X=ic(I,B),X.callback=_??null,fu(P,X),x.current.lanes=B,Md(x,B,I),ha(x,I),x},n.createPortal=function(x,_,P){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:I==null?null:""+I,children:x,containerInfo:_,implementation:P}},n.createRoleSelector=function(x){return{$$typeof:qd,value:x}},n.createTestNameSelector=function(x){return{$$typeof:mc,value:x}},n.createTextSelector=function(x){return{$$typeof:_h,value:x}},n.deferredUpdates=function(x){var _=Wn,P=Mr.transition;try{return Mr.transition=null,Wn=16,x()}finally{Wn=_,Mr.transition=P}},n.discreteUpdates=function(x,_,P,I,B){var X=Wn,le=Mr.transition;try{return Mr.transition=null,Wn=1,x(_,P,I,B)}finally{Wn=X,Mr.transition=le,Dn===0&&Zd()}},n.findAllNodes=gc,n.findBoundingRects=function(x,_){if(!dt)throw Error(a(363));_=gc(x,_),x=[];for(var P=0;P<_.length;P++)x.push(re(_[P]));for(_=x.length-1;0<_;_--){P=x[_];for(var I=P.x,B=I+P.width,X=P.y,le=X+P.height,_e=_-1;0<=_e;_e--)if(_!==_e){var Ve=x[_e],ht=Ve.x,zt=ht+Ve.width,Rn=Ve.y,hn=Rn+Ve.height;if(I>=ht&&X>=Rn&&B<=zt&&le<=hn){x.splice(_,1);break}else if(I!==ht||P.width!==Ve.width||hn<X||Rn>le){if(!(X!==Rn||P.height!==Ve.height||zt<I||ht>B)){ht>I&&(Ve.width+=ht-I,Ve.x=I),zt<B&&(Ve.width=B-ht),x.splice(_,1);break}}else{Rn>X&&(Ve.height+=Rn-X,Ve.y=X),hn<le&&(Ve.height=le-Rn),x.splice(_,1);break}}}return x},n.findHostInstance=PM,n.findHostInstanceWithNoPortals=function(x){return x=F(x),x=x!==null?U(x):null,x===null?null:x.stateNode},n.findHostInstanceWithWarning=function(x){return PM(x)},n.flushControlled=function(x){var _=Dn;Dn|=1;var P=Mr.transition,I=Wn;try{Mr.transition=null,Wn=1,x()}finally{Wn=I,Mr.transition=P,Dn=_,Dn===0&&(Zd(),co())}},n.flushPassiveEffects=_l,n.flushSync=Th,n.focusWithin=function(x,_){if(!dt)throw Error(a(363));for(x=Sm(x),_=ka(x,_),_=Array.from(_),x=0;x<_.length;){var P=_[x++];if(!H(P)){if(P.tag===5&&he(P.stateNode))return!0;for(P=P.child;P!==null;)_.push(P),P=P.sibling}}return!1},n.getCurrentUpdatePriority=function(){return Wn},n.getFindAllNodesFailureDescription=function(x,_){if(!dt)throw Error(a(363));var P=0,I=[];x=[Sm(x),0];for(var B=0;B<x.length;){var X=x[B++],le=x[B++],_e=_[le];if((X.tag!==5||!H(X))&&(Em(X,_e)&&(I.push(bu(_e)),le++,le>P&&(P=le)),le<_.length))for(X=X.child;X!==null;)x.push(X,le),X=X.sibling}if(P<_.length){for(x=[];P<_.length;P++)x.push(bu(_[P]));return`findAllNodes was able to match part of the selector:
  `+(I.join(" > ")+`

No matching component was found for:
  `)+x.join(" > ")}return null},n.getPublicRootInstance=function(x){return x=x.current,x.child?x.child.tag===5?q(x.child.stateNode):x.child.stateNode:null},n.injectIntoDevTools=function(x){if(x={bundleType:x.bundleType,version:x.version,rendererPackageName:x.rendererPackageName,rendererConfig:x.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:Pv,findFiberByHostInstance:x.findFiberByHostInstance||NM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")x=!1;else{var _=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(_.isDisabled||!_.supportsFiber)x=!0;else{try{tm=_.inject(x),gl=_}catch{}x=!!_.checkDCE}}return x},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(x,_,P,I){if(!dt)throw Error(a(363));x=gc(x,_);var B=me(x,P,I).disconnect;return{disconnect:function(){B()}}},n.registerMutableSourceForHydration=function(x,_){var P=_._getVersion;P=P(_._source),x.mutableSourceEagerHydrationData==null?x.mutableSourceEagerHydrationData=[_,P]:x.mutableSourceEagerHydrationData.push(_,P)},n.runWithPriority=function(x,_){var P=Wn;try{return Wn=x,_()}finally{Wn=P}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(x,_,P,I){var B=_.current,X=dr(),le=Wo(B);return P=CM(P),_.context===null?_.context=P:_.pendingContext=P,_=ic(X,le),_.payload={element:x},I=I===void 0?null:I,I!==null&&(_.callback=I),fu(B,_),x=As(B,le,X),x!==null&&G0(x,B,le),le},n}),e4}var ree;function Rtt(){return ree||(ree=1,ZL.exports=Ntt()),ZL.exports}var Ott=Rtt();const jtt=pr(Ott);var t4={exports:{}},n4={};var iee;function Itt(){return iee||(iee=1,(function(t){function e(V,Q){var ee=V.length;V.push(Q);e:for(;0<ee;){var $=ee-1>>>1,J=V[$];if(0<i(J,Q))V[$]=Q,V[ee]=J,ee=$;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var Q=V[0],ee=V.pop();if(ee!==Q){V[0]=ee;e:for(var $=0,J=V.length,de=J>>>1;$<de;){var Ae=2*($+1)-1,Ue=V[Ae],ge=Ae+1,pe=V[ge];if(0>i(Ue,ee))ge<J&&0>i(pe,Ue)?(V[$]=pe,V[ge]=ee,$=ge):(V[$]=Ue,V[Ae]=ee,$=Ae);else if(ge<J&&0>i(pe,ee))V[$]=pe,V[ge]=ee,$=ge;else break e}}return Q}function i(V,Q){var ee=V.sortIndex-Q.sortIndex;return ee!==0?ee:V.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],d=1,f=null,h=3,m=!1,v=!1,b=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(V){for(var Q=n(c);Q!==null;){if(Q.callback===null)r(c);else if(Q.startTime<=V)r(c),Q.sortIndex=Q.expirationTime,e(l,Q);else break;Q=n(c)}}function T(V){if(b=!1,M(V),!v)if(n(l)!==null)v=!0,q(A);else{var Q=n(c);Q!==null&&Z(T,Q.startTime-V)}}function A(V,Q){v=!1,b&&(b=!1,w(L),L=-1),m=!0;var ee=h;try{for(M(Q),f=n(l);f!==null&&(!(f.expirationTime>Q)||V&&!F());){var $=f.callback;if(typeof $=="function"){f.callback=null,h=f.priorityLevel;var J=$(f.expirationTime<=Q);Q=t.unstable_now(),typeof J=="function"?f.callback=J:f===n(l)&&r(l),M(Q)}else r(l);f=n(l)}if(f!==null)var de=!0;else{var Ae=n(c);Ae!==null&&Z(T,Ae.startTime-Q),de=!1}return de}finally{f=null,h=ee,m=!1}}var C=!1,j=null,L=-1,O=5,k=-1;function F(){return!(t.unstable_now()-k<O)}function G(){if(j!==null){var V=t.unstable_now();k=V;var Q=!0;try{Q=j(!0,V)}finally{Q?Y():(C=!1,j=null)}}else C=!1}var Y;if(typeof S=="function")Y=function(){S(G)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,W=U.port2;U.port1.onmessage=G,Y=function(){W.postMessage(null)}}else Y=function(){y(G,0)};function q(V){j=V,C||(C=!0,Y())}function Z(V,Q){L=y(function(){V(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,q(A))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(h){case 1:case 2:case 3:var Q=3;break;default:Q=h}var ee=h;h=Q;try{return V()}finally{h=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,Q){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ee=h;h=V;try{return Q()}finally{h=ee}},t.unstable_scheduleCallback=function(V,Q,ee){var $=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?$+ee:$):ee=$,V){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=ee+J,V={id:d++,callback:Q,priorityLevel:V,startTime:ee,expirationTime:J,sortIndex:-1},ee>$?(V.sortIndex=ee,e(c,V),n(l)===null&&V===n(c)&&(b?(w(L),L=-1):b=!0,Z(T,ee-$))):(V.sortIndex=J,e(l,V),v||m||(v=!0,q(A))),V},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(V){var Q=h;return function(){var ee=h;h=Q;try{return V.apply(this,arguments)}finally{h=ee}}}})(n4)),n4}var see;function ktt(){return see||(see=1,t4.exports=Itt()),t4.exports}var aee=ktt();const lV={},Dtt=t=>{Object.assign(lV,t)};function Ltt(t,e){function n(d,{args:f=[],attach:h,...m},v){let b=`${d[0].toUpperCase()}${d.slice(1)}`,y;if(d==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const w=m.object;y=xy(w,{type:d,root:v,attach:h,primitive:!0})}else{const w=lV[b];if(!w)throw new Error(`R3F: ${b} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");y=xy(new w(...f),{type:d,root:v,attach:h,memoizedProps:{args:f}})}return y.__r3f.attach===void 0&&(y instanceof jn?y.__r3f.attach="geometry":y instanceof la&&(y.__r3f.attach="material")),b!=="inject"&&s4(y,m),y}function r(d,f){let h=!1;if(f){var m,v;(m=f.__r3f)!=null&&m.attach?i4(d,f,f.__r3f.attach):f.isObject3D&&d.isObject3D&&(d.add(f),h=!0),h||(v=d.__r3f)==null||v.objects.push(f),f.__r3f||xy(f,{}),f.__r3f.parent=d,gU(f),by(f)}}function i(d,f,h){let m=!1;if(f){var v,b;if((v=f.__r3f)!=null&&v.attach)i4(d,f,f.__r3f.attach);else if(f.isObject3D&&d.isObject3D){f.parent=d,f.dispatchEvent({type:"added"}),d.dispatchEvent({type:"childadded",child:f});const y=d.children.filter(S=>S!==f),w=y.indexOf(h);d.children=[...y.slice(0,w),f,...y.slice(w)],m=!0}m||(b=d.__r3f)==null||b.objects.push(f),f.__r3f||xy(f,{}),f.__r3f.parent=d,gU(f),by(f)}}function s(d,f,h=!1){d&&[...d].forEach(m=>a(f,m,h))}function a(d,f,h){if(f){var m,v,b;if(f.__r3f&&(f.__r3f.parent=null),(m=d.__r3f)!=null&&m.objects&&(d.__r3f.objects=d.__r3f.objects.filter(T=>T!==f)),(v=f.__r3f)!=null&&v.attach)dee(d,f,f.__r3f.attach);else if(f.isObject3D&&d.isObject3D){var y;d.remove(f),(y=f.__r3f)!=null&&y.root&&Htt(G2(f),f)}const S=(b=f.__r3f)==null?void 0:b.primitive,M=!S&&(h===void 0?f.dispose!==null:h);if(!S){var w;s((w=f.__r3f)==null?void 0:w.objects,f,M),s(f.children,f,M)}if(delete f.__r3f,M&&f.dispose&&f.type!=="Scene"){const T=()=>{try{f.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?aee.unstable_scheduleCallback(aee.unstable_IdlePriority,T):T()}by(d)}}function o(d,f,h,m){var v;const b=(v=d.__r3f)==null?void 0:v.parent;if(!b)return;const y=n(f,h,d.__r3f.root);if(d.children){for(const w of d.children)w.__r3f&&r(y,w);d.children=d.children.filter(w=>!w.__r3f)}d.__r3f.objects.forEach(w=>r(y,w)),d.__r3f.objects=[],d.__r3f.autoRemovedBeforeAppend||a(b,d),y.parent&&(y.__r3f.autoRemovedBeforeAppend=!0),r(b,y),y.raycast&&y.__r3f.eventCount&&G2(y).getState().internal.interaction.push(y),[m,m.alternate].forEach(w=>{w!==null&&(w.stateNode=y,w.ref&&(typeof w.ref=="function"?w.ref(y):w.ref.current=y))})}const l=()=>{};return{reconciler:jtt({createInstance:n,removeChild:a,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(d,f)=>{if(!f)return;const h=d.getState().scene;h.__r3f&&(h.__r3f.root=d,r(h,f))},removeChildFromContainer:(d,f)=>{f&&a(d.getState().scene,f)},insertInContainerBefore:(d,f,h)=>{if(!f||!h)return;const m=d.getState().scene;m.__r3f&&i(m,f,h)},getRootHostContext:()=>null,getChildHostContext:d=>d,finalizeInitialChildren(d){var f;return!!((f=d?.__r3f)!=null?f:{}).handlers},prepareUpdate(d,f,h,m){var v;if(((v=d?.__r3f)!=null?v:{}).primitive&&m.object&&m.object!==d)return[!0];{const{args:y=[],children:w,...S}=m,{args:M=[],children:T,...A}=h;if(!Array.isArray(y))throw new Error("R3F: the args prop must be an array!");if(y.some((j,L)=>j!==M[L]))return[!0];const C=ime(d,S,A,!0);return C.changes.length?[!1,C]:null}},commitUpdate(d,[f,h],m,v,b,y){f?o(d,m,b,y):s4(d,h)},commitMount(d,f,h,m){var v;const b=(v=d.__r3f)!=null?v:{};d.raycast&&b.handlers&&b.eventCount&&G2(d).getState().internal.interaction.push(d)},getPublicInstance:d=>d,prepareForCommit:()=>null,preparePortalMount:d=>xy(d.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(d){var f;const{attach:h,parent:m}=(f=d.__r3f)!=null?f:{};h&&m&&dee(m,d,h),d.isObject3D&&(d.visible=!1),by(d)},unhideInstance(d,f){var h;const{attach:m,parent:v}=(h=d.__r3f)!=null?h:{};m&&v&&i4(v,d,m),(d.isObject3D&&f.visible==null||f.visible)&&(d.visible=!0),by(d)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():ky.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&ni.fun(performance.now)?performance.now:ni.fun(Date.now)?Date.now:()=>0,scheduleTimeout:ni.fun(setTimeout)?setTimeout:void 0,cancelTimeout:ni.fun(clearTimeout)?clearTimeout:void 0}),applyProps:s4}}var oee,lee;const r4=t=>"colorSpace"in t||"outputColorSpace"in t,Qpe=()=>{var t;return(t=lV.ColorManagement)!=null?t:null},Jpe=t=>t&&t.isOrthographicCamera,Ftt=t=>t&&t.hasOwnProperty("current"),GE=typeof window<"u"&&((oee=window.document)!=null&&oee.createElement||((lee=window.navigator)==null?void 0:lee.product)==="ReactNative")?N.useLayoutEffect:N.useEffect;function eme(t){const e=N.useRef(t);return GE(()=>{e.current=t},[t]),e}function Utt({set:t}){return GE(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class tme extends N.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}tme.getDerivedStateFromError=()=>({error:!0});const nme="__default",cee=new Map,Btt=t=>t&&!!t.memoized&&!!t.changes;function rme(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const c1=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function G2(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const ni={obj:t=>t===Object(t)&&!ni.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(ni.str(t)||ni.num(t)||ni.boo(t))return t===e;const s=ni.obj(t);if(s&&r==="reference")return t===e;const a=ni.arr(t);if(a&&n==="reference")return t===e;if((a||s)&&t===e)return!0;let o;for(o in t)if(!(o in e))return!1;if(s&&n==="shallow"&&r==="shallow"){for(o in i?e:t)if(!ni.equ(t[o],e[o],{strict:i,objects:"reference"}))return!1}else for(o in i?e:t)if(t[o]!==e[o])return!1;if(ni.und(o)){if(a&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function ztt(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function xy(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function mU(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((s,a)=>s[a],t),{target:n,key:i}}else return{target:n,key:e}}const uee=/-\d+$/;function i4(t,e,n){if(ni.str(n)){if(uee.test(n)){const s=n.replace(uee,""),{target:a,key:o}=mU(t,s);Array.isArray(a[o])||(a[o]=[])}const{target:r,key:i}=mU(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function dee(t,e,n){var r,i;if(ni.str(n)){const{target:s,key:a}=mU(t,n),o=e.__r3f.previousAttach;o===void 0?delete s[a]:s[a]=o}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function ime(t,{children:e,key:n,ref:r,...i},{children:s,key:a,ref:o,...l}={},c=!1){const d=t.__r3f,f=Object.entries(i),h=[];if(c){const v=Object.keys(l);for(let b=0;b<v.length;b++)i.hasOwnProperty(v[b])||f.unshift([v[b],nme+"remove"])}f.forEach(([v,b])=>{var y;if((y=t.__r3f)!=null&&y.primitive&&v==="object"||ni.equ(b,l[v]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(v))return h.push([v,b,!0,[]]);let w=[];v.includes("-")&&(w=v.split("-")),h.push([v,b,!1,w]);for(const S in i){const M=i[S];S.startsWith(`${v}-`)&&h.push([S,M,!1,S.split("-")])}});const m={...i};return d!=null&&d.memoizedProps&&d!=null&&d.memoizedProps.args&&(m.args=d.memoizedProps.args),d!=null&&d.memoizedProps&&d!=null&&d.memoizedProps.attach&&(m.attach=d.memoizedProps.attach),{memoized:m,changes:h}}function s4(t,e){var n;const r=t.__r3f,i=r?.root,s=i==null||i.getState==null?void 0:i.getState(),{memoized:a,changes:o}=Btt(e)?e:ime(t,e),l=r?.eventCount;t.__r3f&&(t.__r3f.memoizedProps=a);for(let d=0;d<o.length;d++){let[f,h,m,v]=o[d];if(r4(t)){const S="srgb",M="srgb-linear";f==="encoding"?(f="colorSpace",h=h===3001?S:M):f==="outputEncoding"&&(f="outputColorSpace",h=h===3001?S:M)}let b=t,y=b[f];if(v.length&&(y=v.reduce((w,S)=>w[S],t),!(y&&y.set))){const[w,...S]=v.reverse();b=S.reverse().reduce((M,T)=>M[T],t),f=w}if(h===nme+"remove")if(b.constructor){let w=cee.get(b.constructor);w||(w=new b.constructor,cee.set(b.constructor,w)),h=w[f]}else h=0;if(m&&r)h?r.handlers[f]=h:delete r.handlers[f],r.eventCount=Object.keys(r.handlers).length;else if(y&&y.set&&(y.copy||y instanceof Ug)){if(Array.isArray(h))y.fromArray?y.fromArray(h):y.set(...h);else if(y.copy&&h&&h.constructor&&y.constructor===h.constructor)y.copy(h);else if(h!==void 0){const w=y instanceof Lt;!w&&y.setScalar?y.setScalar(h):y instanceof Ug&&h instanceof Ug?y.mask=h.mask:y.set(h),!Qpe()&&s&&!s.linear&&w&&y.convertSRGBToLinear()}}else if(b[f]=h,b[f]instanceof Si&&b[f].format===Ea&&b[f].type===Xa&&s){const w=b[f];r4(w)&&r4(s.gl)?w.colorSpace=s.gl.outputColorSpace:w.encoding=s.gl.outputEncoding}by(t)}if(r&&r.parent&&t.raycast&&l!==r.eventCount){const d=G2(t).getState().internal,f=d.interaction.indexOf(t);f>-1&&d.interaction.splice(f,1),r.eventCount&&d.interaction.push(t)}return!(o.length===1&&o[0][0]==="onUpdate")&&o.length&&(n=t.__r3f)!=null&&n.parent&&gU(t),t}function by(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function gU(t){t.onUpdate==null||t.onUpdate(t)}function Vtt(t,e){t.manual||(Jpe(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function g2(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function $tt(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return ky.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return ky.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return ky.ContinuousEventPriority;default:return ky.DefaultEventPriority}}function sme(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function Htt(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{sme(n.capturedMap,e,r,i)})}function Wtt(t){function e(l){const{internal:c}=t.getState(),d=l.offsetX-c.initialClick[0],f=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(d*d+f*f))}function n(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(d=>{var f;return(f=c.__r3f)==null?void 0:f.handlers["onPointer"+d]}))}function r(l,c){const d=t.getState(),f=new Set,h=[],m=c?c(d.internal.interaction):d.internal.interaction;for(let w=0;w<m.length;w++){const S=c1(m[w]);S&&(S.raycaster.camera=void 0)}d.previousRoot||d.events.compute==null||d.events.compute(l,d);function v(w){const S=c1(w);if(!S||!S.events.enabled||S.raycaster.camera===null)return[];if(S.raycaster.camera===void 0){var M;S.events.compute==null||S.events.compute(l,S,(M=S.previousRoot)==null?void 0:M.getState()),S.raycaster.camera===void 0&&(S.raycaster.camera=null)}return S.raycaster.camera?S.raycaster.intersectObject(w,!0):[]}let b=m.flatMap(v).sort((w,S)=>{const M=c1(w.object),T=c1(S.object);return!M||!T?w.distance-S.distance:T.events.priority-M.events.priority||w.distance-S.distance}).filter(w=>{const S=g2(w);return f.has(S)?!1:(f.add(S),!0)});d.events.filter&&(b=d.events.filter(b,d));for(const w of b){let S=w.object;for(;S;){var y;(y=S.__r3f)!=null&&y.eventCount&&h.push({...w,eventObject:S}),S=S.parent}}if("pointerId"in l&&d.internal.capturedMap.has(l.pointerId))for(let w of d.internal.capturedMap.get(l.pointerId).values())f.has(g2(w.intersection))||h.push(w.intersection);return h}function i(l,c,d,f){const h=t.getState();if(l.length){const m={stopped:!1};for(const v of l){const b=c1(v.object)||h,{raycaster:y,pointer:w,camera:S,internal:M}=b,T=new ie(w.x,w.y,0).unproject(S),A=k=>{var F,G;return(F=(G=M.capturedMap.get(k))==null?void 0:G.has(v.eventObject))!=null?F:!1},C=k=>{const F={intersection:v,target:c.target};M.capturedMap.has(k)?M.capturedMap.get(k).set(v.eventObject,F):M.capturedMap.set(k,new Map([[v.eventObject,F]])),c.target.setPointerCapture(k)},j=k=>{const F=M.capturedMap.get(k);F&&sme(M.capturedMap,v.eventObject,F,k)};let L={};for(let k in c){let F=c[k];typeof F!="function"&&(L[k]=F)}let O={...v,...L,pointer:w,intersections:l,stopped:m.stopped,delta:d,unprojectedPoint:T,ray:y.ray,camera:S,stopPropagation(){const k="pointerId"in c&&M.capturedMap.get(c.pointerId);if((!k||k.has(v.eventObject))&&(O.stopped=m.stopped=!0,M.hovered.size&&Array.from(M.hovered.values()).find(F=>F.eventObject===v.eventObject))){const F=l.slice(0,l.indexOf(v));s([...F,v])}},target:{hasPointerCapture:A,setPointerCapture:C,releasePointerCapture:j},currentTarget:{hasPointerCapture:A,setPointerCapture:C,releasePointerCapture:j},nativeEvent:c};if(f(O),m.stopped===!0)break}}return l}function s(l){const{internal:c}=t.getState();for(const d of c.hovered.values())if(!l.length||!l.find(f=>f.object===d.object&&f.index===d.index&&f.instanceId===d.instanceId)){const h=d.eventObject.__r3f,m=h?.handlers;if(c.hovered.delete(g2(d)),h!=null&&h.eventCount){const v={...d,intersections:l};m.onPointerOut==null||m.onPointerOut(v),m.onPointerLeave==null||m.onPointerLeave(v)}}}function a(l,c){for(let d=0;d<c.length;d++){const f=c[d].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function o(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:d}=t.getState();"pointerId"in c&&d.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{d.capturedMap.has(c.pointerId)&&(d.capturedMap.delete(c.pointerId),s([]))})}}return function(d){const{onPointerMissed:f,internal:h}=t.getState();h.lastEvent.current=d;const m=l==="onPointerMove",v=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",y=r(d,m?n:void 0),w=v?e(d):0;l==="onPointerDown"&&(h.initialClick=[d.offsetX,d.offsetY],h.initialHits=y.map(M=>M.eventObject)),v&&!y.length&&w<=2&&(a(d,h.interaction),f&&f(d)),m&&s(y);function S(M){const T=M.eventObject,A=T.__r3f,C=A?.handlers;if(A!=null&&A.eventCount)if(m){if(C.onPointerOver||C.onPointerEnter||C.onPointerOut||C.onPointerLeave){const j=g2(M),L=h.hovered.get(j);L?L.stopped&&M.stopPropagation():(h.hovered.set(j,M),C.onPointerOver==null||C.onPointerOver(M),C.onPointerEnter==null||C.onPointerEnter(M))}C.onPointerMove==null||C.onPointerMove(M)}else{const j=C[l];j?(!v||h.initialHits.includes(T))&&(a(d,h.interaction.filter(L=>!h.initialHits.includes(L))),j(M)):v&&h.initialHits.includes(T)&&a(d,h.interaction.filter(L=>!h.initialHits.includes(L)))}}i(y,d,w,S)}}return{handlePointer:o}}const ame=t=>!!(t!=null&&t.render),ome=N.createContext(null),Gtt=(t,e)=>{const n=Att((o,l)=>{const c=new ie,d=new ie,f=new ie;function h(w=l().camera,S=d,M=l().size){const{width:T,height:A,top:C,left:j}=M,L=T/A;S instanceof ie?f.copy(S):f.set(...S);const O=w.getWorldPosition(c).distanceTo(f);if(Jpe(w))return{width:T/w.zoom,height:A/w.zoom,top:C,left:j,factor:1,distance:O,aspect:L};{const k=w.fov*Math.PI/180,F=2*Math.tan(k/2)*O,G=F*(T/A);return{width:G,height:F,top:C,left:j,factor:T/G,distance:O,aspect:L}}}let m;const v=w=>o(S=>({performance:{...S.performance,current:w}})),b=new Ge;return{set:o,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(w=1)=>t(l(),w),advance:(w,S)=>e(w,S,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new rV,pointer:b,mouse:b,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const w=l();m&&clearTimeout(m),w.performance.current!==w.performance.min&&v(w.performance.min),m=setTimeout(()=>v(l().performance.max),w.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:h},setEvents:w=>o(S=>({...S,events:{...S.events,...w}})),setSize:(w,S,M,T,A)=>{const C=l().camera,j={width:w,height:S,top:T||0,left:A||0,updateStyle:M};o(L=>({size:j,viewport:{...L.viewport,...h(C,d,j)}}))},setDpr:w=>o(S=>{const M=rme(w);return{viewport:{...S.viewport,dpr:M,initialDpr:S.viewport.initialDpr||M}}}),setFrameloop:(w="always")=>{const S=l().clock;S.stop(),S.elapsedTime=0,w!=="never"&&(S.start(),S.elapsedTime=0),o(()=>({frameloop:w}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:N.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(w,S,M)=>{const T=l().internal;return T.priority=T.priority+(S>0?1:0),T.subscribers.push({ref:w,priority:S,store:M}),T.subscribers=T.subscribers.sort((A,C)=>A.priority-C.priority),()=>{const A=l().internal;A!=null&&A.subscribers&&(A.priority=A.priority-(S>0?1:0),A.subscribers=A.subscribers.filter(C=>C.ref!==w))}}}}}),r=n.getState();let i=r.size,s=r.viewport.dpr,a=r.camera;return n.subscribe(()=>{const{camera:o,size:l,viewport:c,gl:d,set:f}=n.getState();if(l.width!==i.width||l.height!==i.height||c.dpr!==s){var h;i=l,s=c.dpr,Vtt(o,l),d.setPixelRatio(c.dpr);const m=(h=l.updateStyle)!=null?h:typeof HTMLCanvasElement<"u"&&d.domElement instanceof HTMLCanvasElement;d.setSize(l.width,l.height,m)}o!==a&&(a=o,f(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(o)}})))}),n.subscribe(o=>t(o)),n};function qtt(t,e){const n={callback:t};return e.add(n),()=>{e.delete(n)}}let v2,lme=new Set,Xtt=new Set,Ytt=new Set;const Ktt=t=>qtt(t,lme);function a4(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function u1(t,e){switch(t){case"before":return a4(lme,e);case"after":return a4(Xtt,e);case"tail":return a4(Ytt,e)}}let o4,l4;function c4(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),o4=e.internal.subscribers,v2=0;v2<o4.length;v2++)l4=o4[v2],l4.ref.current(l4.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function Ztt(t){let e=!1,n=!1,r,i,s;function a(c){i=requestAnimationFrame(a),e=!0,r=0,u1("before",c),n=!0;for(const f of t.values()){var d;s=f.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((d=s.gl.xr)!=null&&d.isPresenting)&&(r+=c4(c,s))}if(n=!1,u1("after",c),r===0)return u1("tail",c),e=!1,cancelAnimationFrame(i)}function o(c,d=1){var f;if(!c)return t.forEach(h=>o(h.store.getState(),d));(f=c.gl.xr)!=null&&f.isPresenting||!c.internal.active||c.frameloop==="never"||(d>1?c.internal.frames=Math.min(60,c.internal.frames+d):n?c.internal.frames=2:c.internal.frames=1,e||(e=!0,requestAnimationFrame(a)))}function l(c,d=!0,f,h){if(d&&u1("before",c),f)c4(c,f,h);else for(const m of t.values())c4(c,m.store.getState());d&&u1("after",c)}return{loop:a,invalidate:o,advance:l}}function cme(){const t=N.useContext(ome);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function So(t=n=>n,e){return cme()(t,e)}function yO(t,e=0){const n=cme(),r=n.getState().internal.subscribe,i=eme(t);return GE(()=>r(i,e,n),[e,r,n]),null}const Jx=new Map,{invalidate:fee,advance:hee}=Ztt(Jx),{reconciler:kP,applyProps:fg}=Ltt(Jx,$tt),dy={objects:"shallow",strict:!1},Qtt=(t,e)=>{const n=typeof t=="function"?t(e):t;return ame(n)?n:new Kpe({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function Jtt(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:s,left:a,updateStyle:o=n}=e;return{width:r,height:i,top:s,left:a,updateStyle:o}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:s,left:a}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:s,left:a,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function ent(t){const e=Jx.get(t),n=e?.fiber,r=e?.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||Gtt(fee,hee),a=n||kP.createContainer(s,ky.ConcurrentRoot,null,!1,null,"",i,null);e||Jx.set(t,{fiber:a,store:s});let o,l=!1,c;return{configure(d={}){let{gl:f,size:h,scene:m,events:v,onCreated:b,shadows:y=!1,linear:w=!1,flat:S=!1,legacy:M=!1,orthographic:T=!1,frameloop:A="always",dpr:C=[1,2],performance:j,raycaster:L,camera:O,onPointerMissed:k}=d,F=s.getState(),G=F.gl;F.gl||F.set({gl:G=Qtt(f,t)});let Y=F.raycaster;Y||F.set({raycaster:Y=new Vpe});const{params:U,...W}=L||{};if(ni.equ(W,Y,dy)||fg(Y,{...W}),ni.equ(U,Y.params,dy)||fg(Y,{params:{...Y.params,...U}}),!F.camera||F.camera===c&&!ni.equ(c,O,dy)){c=O;const ee=O instanceof FE,$=ee?O:T?new Zc(0,0,0,0,.1,1e3):new yi(75,0,.1,1e3);ee||($.position.z=5,O&&(fg($,O),("aspect"in O||"left"in O||"right"in O||"bottom"in O||"top"in O)&&($.manual=!0,$.updateProjectionMatrix())),!F.camera&&!(O!=null&&O.rotation)&&$.lookAt(0,0,0)),F.set({camera:$}),Y.camera=$}if(!F.scene){let ee;m instanceof NP?ee=m:(ee=new NP,m&&fg(ee,m)),F.set({scene:xy(ee)})}if(!F.xr){var q;const ee=(de,Ae)=>{const Ue=s.getState();Ue.frameloop!=="never"&&hee(de,!0,Ue,Ae)},$=()=>{const de=s.getState();de.gl.xr.enabled=de.gl.xr.isPresenting,de.gl.xr.setAnimationLoop(de.gl.xr.isPresenting?ee:null),de.gl.xr.isPresenting||fee(de)},J={connect(){const de=s.getState().gl;de.xr.addEventListener("sessionstart",$),de.xr.addEventListener("sessionend",$)},disconnect(){const de=s.getState().gl;de.xr.removeEventListener("sessionstart",$),de.xr.removeEventListener("sessionend",$)}};typeof((q=G.xr)==null?void 0:q.addEventListener)=="function"&&J.connect(),F.set({xr:J})}if(G.shadowMap){const ee=G.shadowMap.enabled,$=G.shadowMap.type;if(G.shadowMap.enabled=!!y,ni.boo(y))G.shadowMap.type=Z1;else if(ni.str(y)){var Z;const J={basic:lhe,percentage:Zy,soft:Z1,variance:Eg};G.shadowMap.type=(Z=J[y])!=null?Z:Z1}else ni.obj(y)&&Object.assign(G.shadowMap,y);(ee!==G.shadowMap.enabled||$!==G.shadowMap.type)&&(G.shadowMap.needsUpdate=!0)}const V=Qpe();V&&("enabled"in V?V.enabled=!M:"legacyMode"in V&&(V.legacyMode=M)),l||fg(G,{outputEncoding:w?3e3:3001,toneMapping:S?Gl:DR}),F.legacy!==M&&F.set(()=>({legacy:M})),F.linear!==w&&F.set(()=>({linear:w})),F.flat!==S&&F.set(()=>({flat:S})),f&&!ni.fun(f)&&!ame(f)&&!ni.equ(f,G,dy)&&fg(G,f),v&&!F.events.handlers&&F.set({events:v(s)});const Q=Jtt(t,h);return ni.equ(Q,F.size,dy)||F.setSize(Q.width,Q.height,Q.updateStyle,Q.top,Q.left),C&&F.viewport.dpr!==rme(C)&&F.setDpr(C),F.frameloop!==A&&F.setFrameloop(A),F.onPointerMissed||F.set({onPointerMissed:k}),j&&!ni.equ(j,F.performance,dy)&&F.set(ee=>({performance:{...ee.performance,...j}})),o=b,l=!0,this},render(d){return l||this.configure(),kP.updateContainer(u.jsx(tnt,{store:s,children:d,onCreated:o,rootElement:t}),a,null,()=>{}),s},unmount(){ume(t)}}}function tnt({store:t,children:e,onCreated:n,rootElement:r}){return GE(()=>{const i=t.getState();i.set(s=>({internal:{...s.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),u.jsx(ome.Provider,{value:t,children:e})}function ume(t,e){const n=Jx.get(t),r=n?.fiber;if(r){const i=n?.store.getState();i&&(i.internal.active=!1),kP.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,a,o,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(a=s.renderLists)==null||a.dispose==null||a.dispose(),(o=i.gl)==null||o.forceContextLoss==null||o.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),ztt(i),Jx.delete(t)}catch{}},500)})}}kP.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:N.version});const u4={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function nnt(t){const{handlePointer:e}=Wtt(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(u4).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:s}=t.getState();s.disconnect==null||s.disconnect(),i(a=>({events:{...a.events,connected:n}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([a,o])=>{const[l,c]=u4[a];n.addEventListener(l,o,{passive:c})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,a])=>{if(r&&r.connected instanceof HTMLElement){const[o]=u4[s];r.connected.removeEventListener(o,a)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}var d4,pee;function rnt(){if(pee)return d4;pee=1;function t(e,n,r){var i,s,a,o,l;n==null&&(n=100);function c(){var f=Date.now()-o;f<n&&f>=0?i=setTimeout(c,n-f):(i=null,r||(l=e.apply(a,s),a=s=null))}var d=function(){a=this,s=arguments,o=Date.now();var f=r&&!i;return i||(i=setTimeout(c,n)),f&&(l=e.apply(a,s),a=s=null),l};return d.clear=function(){i&&(clearTimeout(i),i=null)},d.flush=function(){i&&(l=e.apply(a,s),a=s=null,clearTimeout(i),i=null)},d}return t.debounce=t,d4=t,d4}var int=rnt();const mee=pr(int);var snt=Object.defineProperty,ant=Object.defineProperties,ont=Object.getOwnPropertyDescriptors,gee=Object.getOwnPropertySymbols,lnt=Object.prototype.hasOwnProperty,cnt=Object.prototype.propertyIsEnumerable,vee=(t,e,n)=>e in t?snt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,yee=(t,e)=>{for(var n in e||(e={}))lnt.call(e,n)&&vee(t,n,e[n]);if(gee)for(var n of gee(e))cnt.call(e,n)&&vee(t,n,e[n]);return t},unt=(t,e)=>ant(t,ont(e)),xee,bee;typeof window<"u"&&((xee=window.document)!=null&&xee.createElement||((bee=window.navigator)==null?void 0:bee.product)==="ReactNative")?N.useLayoutEffect:N.useEffect;function dme(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const i=dme(r,e,n);if(i)return i;r=r.sibling}}function fme(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const wee=console.error;console.error=function(){const t=[...arguments].join("");if(t?.startsWith("Warning:")&&t.includes("useContext")){console.error=wee;return}return wee.apply(this,arguments)};const cV=fme(N.createContext(null));class hme extends N.Component{render(){return N.createElement(cV.Provider,{value:this._reactInternals},this.props.children)}}function dnt(){const t=N.useContext(cV);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=N.useId();return N.useMemo(()=>{for(const r of[t,t?.alternate]){if(!r)continue;const i=dme(r,!1,s=>{let a=s.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(i)return i}},[t,e])}function fnt(){const t=dnt(),[e]=N.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==cV&&!e.has(i)&&e.set(i,N.useContext(fme(i)))}n=n.return}return e}function hnt(){const t=fnt();return N.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>N.createElement(e,null,N.createElement(n.Provider,unt(yee({},r),{value:t.get(n)}))),e=>N.createElement(hme,yee({},e))),[t])}function pnt({debounce:t,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=n||typeof window<"u"&&window.ResizeObserver,[s,a]=N.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0});if(!i)return s.width=1280,s.height=800,[()=>{},s,()=>{}];const o=N.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=t?typeof t=="number"?t:t.scroll:null,c=t?typeof t=="number"?t:t.resize:null,d=N.useRef(!1);N.useEffect(()=>(d.current=!0,()=>{d.current=!1}));const[f,h,m]=N.useMemo(()=>{const w=()=>{if(!o.current.element)return;const{left:S,top:M,width:T,height:A,bottom:C,right:j,x:L,y:O}=o.current.element.getBoundingClientRect(),k={left:S,top:M,width:T,height:A,bottom:C,right:j,x:L,y:O};o.current.element instanceof HTMLElement&&r&&(k.height=o.current.element.offsetHeight,k.width=o.current.element.offsetWidth),Object.freeze(k),d.current&&!ynt(o.current.lastBounds,k)&&a(o.current.lastBounds=k)};return[w,c?mee(w,c):w,l?mee(w,l):w]},[a,r,l,c]);function v(){o.current.scrollContainers&&(o.current.scrollContainers.forEach(w=>w.removeEventListener("scroll",m,!0)),o.current.scrollContainers=null),o.current.resizeObserver&&(o.current.resizeObserver.disconnect(),o.current.resizeObserver=null),o.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",o.current.orientationHandler))}function b(){var w;o.current.element&&(o.current.resizeObserver=new i(h),(w=o.current.resizeObserver)==null||w.observe(o.current.element),e&&o.current.scrollContainers&&o.current.scrollContainers.forEach(S=>S.addEventListener("scroll",m,{capture:!0,passive:!0})),o.current.orientationHandler=()=>{m()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",o.current.orientationHandler))}const y=w=>{!w||w===o.current.element||(v(),o.current.element=w,o.current.scrollContainers=pme(w),b())};return gnt(m,!!e),mnt(h),N.useEffect(()=>{v(),b()},[e,m,h]),N.useEffect(()=>v,[]),[y,s,f]}function mnt(t){N.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[t])}function gnt(t,e){N.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>{window.removeEventListener("scroll",n,!0)}}},[t,e])}function pme(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...pme(t.parentElement)]}const vnt=["x","y","top","bottom","left","right","width","height"],ynt=(t,e)=>vnt.every(n=>t[n]===e[n]),xnt=N.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:s,events:a=nnt,eventSource:o,eventPrefix:l,shadows:c,linear:d,flat:f,legacy:h,orthographic:m,frameloop:v,dpr:b,performance:y,raycaster:w,camera:S,scene:M,onPointerMissed:T,onCreated:A,...C},j){N.useMemo(()=>Dtt(Zpe),[]);const L=hnt(),[O,k]=pnt({scroll:!0,debounce:{scroll:50,resize:0},...r}),F=N.useRef(null),G=N.useRef(null);N.useImperativeHandle(j,()=>F.current);const Y=eme(T),[U,W]=N.useState(!1),[q,Z]=N.useState(!1);if(U)throw U;if(q)throw q;const V=N.useRef(null);GE(()=>{const ee=F.current;k.width>0&&k.height>0&&ee&&(V.current||(V.current=ent(ee)),V.current.configure({gl:s,events:a,shadows:c,linear:d,flat:f,legacy:h,orthographic:m,frameloop:v,dpr:b,performance:y,raycaster:w,camera:S,scene:M,size:k,onPointerMissed:(...$)=>Y.current==null?void 0:Y.current(...$),onCreated:$=>{$.events.connect==null||$.events.connect(o?Ftt(o)?o.current:o:G.current),l&&$.setEvents({compute:(J,de)=>{const Ae=J[l+"X"],Ue=J[l+"Y"];de.pointer.set(Ae/de.size.width*2-1,-(Ue/de.size.height)*2+1),de.raycaster.setFromCamera(de.pointer,de.camera)}}),A?.($)}}),V.current.render(u.jsx(L,{children:u.jsx(tme,{set:Z,children:u.jsx(N.Suspense,{fallback:u.jsx(Utt,{set:W}),children:e})})})))}),N.useEffect(()=>{const ee=F.current;if(ee)return()=>ume(ee)},[]);const Q=o?"none":"auto";return u.jsx("div",{ref:G,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Q,...i},...C,children:u.jsx("div",{ref:O,style:{width:"100%",height:"100%"},children:u.jsx("canvas",{ref:F,style:{display:"block"},children:n})})})}),bnt=N.forwardRef(function(e,n){return u.jsx(hme,{children:u.jsx(xnt,{...e,ref:n})})}),qE=new ie,uV=new ie,wnt=new ie,_ee=new Ge;function _nt(t,e,n){const r=qE.setFromMatrixPosition(t.matrixWorld);r.project(e);const i=n.width/2,s=n.height/2;return[r.x*i+i,-(r.y*s)+s]}function Snt(t,e){const n=qE.setFromMatrixPosition(t.matrixWorld),r=uV.setFromMatrixPosition(e.matrixWorld),i=n.sub(r),s=e.getWorldDirection(wnt);return i.angleTo(s)>Math.PI/2}function Ent(t,e,n,r){const i=qE.setFromMatrixPosition(t.matrixWorld),s=i.clone();s.project(e),_ee.set(s.x,s.y),n.setFromCamera(_ee,e);const a=n.intersectObjects(r,!0);if(a.length){const o=a[0].distance;return i.distanceTo(n.ray.origin)<o}return!0}function Mnt(t,e){if(e instanceof Zc)return e.zoom;if(e instanceof yi){const n=qE.setFromMatrixPosition(t.matrixWorld),r=uV.setFromMatrixPosition(e.matrixWorld),i=e.fov*Math.PI/180,s=n.distanceTo(r);return 1/(2*Math.tan(i/2)*s)}else return 1}function Tnt(t,e,n){if(e instanceof yi||e instanceof Zc){const r=qE.setFromMatrixPosition(t.matrixWorld),i=uV.setFromMatrixPosition(e.matrixWorld),s=r.distanceTo(i),a=(n[1]-n[0])/(e.far-e.near),o=n[1]-a*e.far;return Math.round(a*s+o)}}const vU=t=>Math.abs(t)<1e-10?0:t;function mme(t,e,n=""){let r="matrix3d(";for(let i=0;i!==16;i++)r+=vU(e[i]*t.elements[i])+(i!==15?",":")");return n+r}const Ant=(t=>e=>mme(e,t))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),Cnt=(t=>(e,n)=>mme(e,t(n),"translate(-50%,-50%)"))(t=>[1/t,1/t,1/t,1,-1/t,-1/t,-1/t,-1,1/t,1/t,1/t,1,1,1,1,1]);function Pnt(t){return t&&typeof t=="object"&&"current"in t}const R0=N.forwardRef(({children:t,eps:e=.001,style:n,className:r,prepend:i,center:s,fullscreen:a,portal:o,distanceFactor:l,sprite:c=!1,transform:d=!1,occlude:f,onOcclude:h,castShadow:m,receiveShadow:v,material:b,geometry:y,zIndexRange:w=[16777271,0],calculatePosition:S=_nt,as:M="div",wrapperClass:T,pointerEvents:A="auto",...C},j)=>{const{gl:L,camera:O,scene:k,size:F,raycaster:G,events:Y,viewport:U}=So(),[W]=N.useState(()=>document.createElement(M)),q=N.useRef(),Z=N.useRef(null),V=N.useRef(0),Q=N.useRef([0,0]),ee=N.useRef(null),$=N.useRef(null),J=o?.current||Y.connected||L.domElement.parentNode,de=N.useRef(null),Ae=N.useRef(!1),Ue=N.useMemo(()=>f&&f!=="blending"||Array.isArray(f)&&f.length&&Pnt(f[0]),[f]);N.useLayoutEffect(()=>{const Me=L.domElement;f&&f==="blending"?(Me.style.zIndex=`${Math.floor(w[0]/2)}`,Me.style.position="absolute",Me.style.pointerEvents="none"):(Me.style.zIndex=null,Me.style.position=null,Me.style.pointerEvents=null)},[f]),N.useLayoutEffect(()=>{if(Z.current){const Me=q.current=rne.createRoot(W);if(k.updateMatrixWorld(),d)W.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const Ie=S(Z.current,O,F);W.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${Ie[0]}px,${Ie[1]}px,0);transform-origin:0 0;`}return J&&(i?J.prepend(W):J.appendChild(W)),()=>{J&&J.removeChild(W),Me.unmount()}}},[J,d]),N.useLayoutEffect(()=>{T&&(W.className=T)},[T]);const ge=N.useMemo(()=>d?{position:"absolute",top:0,left:0,width:F.width,height:F.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...a&&{top:-F.height/2,left:-F.width/2,width:F.width,height:F.height},...n},[n,s,a,F,d]),pe=N.useMemo(()=>({position:"absolute",pointerEvents:A}),[A]);N.useLayoutEffect(()=>{if(Ae.current=!1,d){var Me;(Me=q.current)==null||Me.render(N.createElement("div",{ref:ee,style:ge},N.createElement("div",{ref:$,style:pe},N.createElement("div",{ref:j,className:r,style:n,children:t}))))}else{var Ie;(Ie=q.current)==null||Ie.render(N.createElement("div",{ref:j,style:ge,className:r,children:t}))}});const Oe=N.useRef(!0);yO(Me=>{if(Z.current){O.updateMatrixWorld(),Z.current.updateWorldMatrix(!0,!1);const Ie=d?Q.current:S(Z.current,O,F);if(d||Math.abs(V.current-O.zoom)>e||Math.abs(Q.current[0]-Ie[0])>e||Math.abs(Q.current[1]-Ie[1])>e){const Te=Snt(Z.current,O);let Xe=!1;Ue&&(Array.isArray(f)?Xe=f.map(Ye=>Ye.current):f!=="blending"&&(Xe=[k]));const Ce=Oe.current;if(Xe){const Ye=Ent(Z.current,O,G,Xe);Oe.current=Ye&&!Te}else Oe.current=!Te;Ce!==Oe.current&&(h?h(!Oe.current):W.style.display=Oe.current?"block":"none");const $e=Math.floor(w[0]/2),Be=f?Ue?[w[0],$e]:[$e-1,0]:w;if(W.style.zIndex=`${Tnt(Z.current,O,Be)}`,d){const[Ye,ae]=[F.width/2,F.height/2],Ot=O.projectionMatrix.elements[5]*ae,{isOrthographicCamera:dt,top:jt,left:re,bottom:K,right:H}=O,oe=Ant(O.matrixWorldInverse),he=dt?`scale(${Ot})translate(${vU(-(H+re)/2)}px,${vU((jt+K)/2)}px)`:`translateZ(${Ot}px)`;let me=Z.current.matrixWorld;c&&(me=O.matrixWorldInverse.clone().transpose().copyPosition(me).scale(Z.current.scale),me.elements[3]=me.elements[7]=me.elements[11]=0,me.elements[15]=1),W.style.width=F.width+"px",W.style.height=F.height+"px",W.style.perspective=dt?"":`${Ot}px`,ee.current&&$.current&&(ee.current.style.transform=`${he}${oe}translate(${Ye}px,${ae}px)`,$.current.style.transform=Cnt(me,1/((l||10)/400)))}else{const Ye=l===void 0?1:Mnt(Z.current,O)*l;W.style.transform=`translate3d(${Ie[0]}px,${Ie[1]}px,0) scale(${Ye})`}Q.current=Ie,V.current=O.zoom}}if(!Ue&&de.current&&!Ae.current)if(d){if(ee.current){const Ie=ee.current.children[0];if(Ie!=null&&Ie.clientWidth&&Ie!=null&&Ie.clientHeight){const{isOrthographicCamera:Te}=O;if(Te||y)C.scale&&(Array.isArray(C.scale)?C.scale instanceof ie?de.current.scale.copy(C.scale.clone().divideScalar(1)):de.current.scale.set(1/C.scale[0],1/C.scale[1],1/C.scale[2]):de.current.scale.setScalar(1/C.scale));else{const Xe=(l||10)/400,Ce=Ie.clientWidth*Xe,$e=Ie.clientHeight*Xe;de.current.scale.set(Ce,$e,1)}Ae.current=!0}}}else{const Ie=W.children[0];if(Ie!=null&&Ie.clientWidth&&Ie!=null&&Ie.clientHeight){const Te=1/U.factor,Xe=Ie.clientWidth*Te,Ce=Ie.clientHeight*Te;de.current.scale.set(Xe,Ce,1),Ae.current=!0}de.current.lookAt(Me.camera.position)}});const xe=N.useMemo(()=>({vertexShader:d?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[d]);return N.createElement("group",r0({},C,{ref:Z}),f&&!Ue&&N.createElement("mesh",{castShadow:m,receiveShadow:v,ref:de},y||N.createElement("planeGeometry",null),b||N.createElement("shaderMaterial",{side:Ll,vertexShader:xe.vertexShader,fragmentShader:xe.fragmentShader})))});function Nnt(t,e,n){return Math.max(e,Math.min(t,n))}const ai={toVector(t,e){return t===void 0&&(t=e),Array.isArray(t)?t:[t,t]},add(t,e){return[t[0]+e[0],t[1]+e[1]]},sub(t,e){return[t[0]-e[0],t[1]-e[1]]},addTo(t,e){t[0]+=e[0],t[1]+=e[1]},subTo(t,e){t[0]-=e[0],t[1]-=e[1]}};function See(t,e,n){return e===0||Math.abs(e)===1/0?Math.pow(t,n*5):t*e*n/(e+n*t)}function Eee(t,e,n,r=.15){return r===0?Nnt(t,e,n):t<e?-See(e-t,n-e,r)+e:t>n?+See(t-n,n-e,r)+n:t}function Rnt(t,[e,n],[r,i]){const[[s,a],[o,l]]=t;return[Eee(e,s,a,r),Eee(n,o,l,i)]}function Ont(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jnt(t){var e=Ont(t,"string");return typeof e=="symbol"?e:String(e)}function as(t,e,n){return e=jnt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mee(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _i(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mee(Object(n),!0).forEach(function(r){as(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mee(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const gme={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function Tee(t){return t?t[0].toUpperCase()+t.slice(1):""}const Int=["enter","leave"];function knt(t=!1,e){return t&&!Int.includes(e)}function Dnt(t,e="",n=!1){const r=gme[t],i=r&&r[e]||e;return"on"+Tee(t)+Tee(i)+(knt(n,i)?"Capture":"")}const Lnt=["gotpointercapture","lostpointercapture"];function Fnt(t){let e=t.substring(2).toLowerCase();const n=!!~e.indexOf("passive");n&&(e=e.replace("passive",""));const r=Lnt.includes(e)?"capturecapture":"capture",i=!!~e.indexOf(r);return i&&(e=e.replace("capture","")),{device:e,capture:i,passive:n}}function Unt(t,e=""){const n=gme[t],r=n&&n[e]||e;return t+r}function xO(t){return"touches"in t}function vme(t){return xO(t)?"touch":"pointerType"in t?t.pointerType:"mouse"}function Bnt(t){return Array.from(t.touches).filter(e=>{var n,r;return e.target===t.currentTarget||((n=t.currentTarget)===null||n===void 0||(r=n.contains)===null||r===void 0?void 0:r.call(n,e.target))})}function znt(t){return t.type==="touchend"||t.type==="touchcancel"?t.changedTouches:t.targetTouches}function yme(t){return xO(t)?znt(t)[0]:t}function yU(t,e){try{const n=e.clientX-t.clientX,r=e.clientY-t.clientY,i=(e.clientX+t.clientX)/2,s=(e.clientY+t.clientY)/2,a=Math.hypot(n,r);return{angle:-(Math.atan2(n,r)*180)/Math.PI,distance:a,origin:[i,s]}}catch{}return null}function Vnt(t){return Bnt(t).map(e=>e.identifier)}function Aee(t,e){const[n,r]=Array.from(t.touches).filter(i=>e.includes(i.identifier));return yU(n,r)}function f4(t){const e=yme(t);return xO(t)?e.identifier:e.pointerId}function eb(t){const e=yme(t);return[e.clientX,e.clientY]}const Cee=40,Pee=800;function xme(t){let{deltaX:e,deltaY:n,deltaMode:r}=t;return r===1?(e*=Cee,n*=Cee):r===2&&(e*=Pee,n*=Pee),[e,n]}function $nt(t){var e,n;const{scrollX:r,scrollY:i,scrollLeft:s,scrollTop:a}=t.currentTarget;return[(e=r??s)!==null&&e!==void 0?e:0,(n=i??a)!==null&&n!==void 0?n:0]}function Hnt(t){const e={};if("buttons"in t&&(e.buttons=t.buttons),"shiftKey"in t){const{shiftKey:n,altKey:r,metaKey:i,ctrlKey:s}=t;Object.assign(e,{shiftKey:n,altKey:r,metaKey:i,ctrlKey:s})}return e}function DP(t,...e){return typeof t=="function"?t(...e):t}function Wnt(){}function Gnt(...t){return t.length===0?Wnt:t.length===1?t[0]:function(){let e;for(const n of t)e=n.apply(this,arguments)||e;return e}}function Nee(t,e){return Object.assign({},e,t||{})}const qnt=32;class bme{constructor(e,n,r){this.ctrl=e,this.args=n,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:n,ingKey:r,args:i}=this;n[r]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=i,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const n=this.state,r=this.config;n._active||(this.reset(),this.computeInitial(),n._active=!0,n.target=e.target,n.currentTarget=e.currentTarget,n.lastOffset=r.from?DP(r.from,n):n.offset,n.offset=n.lastOffset,n.startTime=n.timeStamp=e.timeStamp)}computeValues(e){const n=this.state;n._values=e,n.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:n,config:r,shared:i}=this;n.args=this.args;let s=0;if(e&&(n.event=e,r.preventDefault&&e.cancelable&&n.event.preventDefault(),n.type=e.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,Hnt(e)),i.down=i.pressed=i.buttons%2===1||i.touches>0,s=e.timeStamp-n.timeStamp,n.timeStamp=e.timeStamp,n.elapsedTime=n.timeStamp-n.startTime),n._active){const C=n._delta.map(Math.abs);ai.addTo(n._distance,C)}this.axisIntent&&this.axisIntent(e);const[a,o]=n._movement,[l,c]=r.threshold,{_step:d,values:f}=n;if(r.hasCustomTransform?(d[0]===!1&&(d[0]=Math.abs(a)>=l&&f[0]),d[1]===!1&&(d[1]=Math.abs(o)>=c&&f[1])):(d[0]===!1&&(d[0]=Math.abs(a)>=l&&Math.sign(a)*l),d[1]===!1&&(d[1]=Math.abs(o)>=c&&Math.sign(o)*c)),n.intentional=d[0]!==!1||d[1]!==!1,!n.intentional)return;const h=[0,0];if(r.hasCustomTransform){const[C,j]=f;h[0]=d[0]!==!1?C-d[0]:0,h[1]=d[1]!==!1?j-d[1]:0}else h[0]=d[0]!==!1?a-d[0]:0,h[1]=d[1]!==!1?o-d[1]:0;this.restrictToAxis&&!n._blocked&&this.restrictToAxis(h);const m=n.offset,v=n._active&&!n._blocked||n.active;v&&(n.first=n._active&&!n.active,n.last=!n._active&&n.active,n.active=i[this.ingKey]=n._active,e&&(n.first&&("bounds"in r&&(n._bounds=DP(r.bounds,n)),this.setup&&this.setup()),n.movement=h,this.computeOffset()));const[b,y]=n.offset,[[w,S],[M,T]]=n._bounds;n.overflow=[b<w?-1:b>S?1:0,y<M?-1:y>T?1:0],n._movementBound[0]=n.overflow[0]?n._movementBound[0]===!1?n._movement[0]:n._movementBound[0]:!1,n._movementBound[1]=n.overflow[1]?n._movementBound[1]===!1?n._movement[1]:n._movementBound[1]:!1;const A=n._active?r.rubberband||[0,0]:[0,0];if(n.offset=Rnt(n._bounds,n.offset,A),n.delta=ai.sub(n.offset,m),this.computeMovement(),v&&(!n.last||s>qnt)){n.delta=ai.sub(n.offset,m);const C=n.delta.map(Math.abs);ai.addTo(n.distance,C),n.direction=n.delta.map(Math.sign),n._direction=n._delta.map(Math.sign),!n.first&&s>0&&(n.velocity=[C[0]/s,C[1]/s],n.timeDelta=s)}}emit(){const e=this.state,n=this.shared,r=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!r.triggerAllEvents)return;const i=this.handler(_i(_i(_i({},n),e),{},{[this.aliasKey]:e.values}));i!==void 0&&(e.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function Xnt([t,e],n){const r=Math.abs(t),i=Math.abs(e);if(r>i&&r>n)return"x";if(i>r&&i>n)return"y"}class XE extends bme{constructor(...e){super(...e),as(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=ai.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=ai.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const n=this.state,r=this.config;if(!n.axis&&e){const i=typeof r.axisThreshold=="object"?r.axisThreshold[vme(e)]:r.axisThreshold;n.axis=Xnt(n._movement,i)}n._blocked=(r.lockDirection||!!r.axis)&&!n.axis||!!r.axis&&r.axis!==n.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const Ynt=t=>t,Ree=.15,wme={enabled(t=!0){return t},eventOptions(t,e,n){return _i(_i({},n.shared.eventOptions),t)},preventDefault(t=!1){return t},triggerAllEvents(t=!1){return t},rubberband(t=0){switch(t){case!0:return[Ree,Ree];case!1:return[0,0];default:return ai.toVector(t)}},from(t){if(typeof t=="function")return t;if(t!=null)return ai.toVector(t)},transform(t,e,n){const r=t||n.shared.transform;return this.hasCustomTransform=!!r,r||Ynt},threshold(t){return ai.toVector(t,0)}},Knt=0,O0=_i(_i({},wme),{},{axis(t,e,{axis:n}){if(this.lockDirection=n==="lock",!this.lockDirection)return n},axisThreshold(t=Knt){return t},bounds(t={}){if(typeof t=="function")return s=>O0.bounds(t(s));if("current"in t)return()=>t.current;if(typeof HTMLElement=="function"&&t instanceof HTMLElement)return t;const{left:e=-1/0,right:n=1/0,top:r=-1/0,bottom:i=1/0}=t;return[[e,n],[r,i]]}}),Oee={ArrowRight:(t,e=1)=>[t*e,0],ArrowLeft:(t,e=1)=>[-1*t*e,0],ArrowUp:(t,e=1)=>[0,-1*t*e],ArrowDown:(t,e=1)=>[0,t*e]};class Znt extends XE{constructor(...e){super(...e),as(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const n=e._bounds.getBoundingClientRect(),r=e.currentTarget.getBoundingClientRect(),i={left:n.left-r.left+e.offset[0],right:n.right-r.right+e.offset[0],top:n.top-r.top+e.offset[1],bottom:n.bottom-r.bottom+e.offset[1]};e._bounds=O0.bounds(i)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const n=this.config,r=this.state;if(e.buttons!=null&&(Array.isArray(n.pointerButtons)?!n.pointerButtons.includes(e.buttons):n.pointerButtons!==-1&&n.pointerButtons!==e.buttons))return;const i=this.ctrl.setEventIds(e);n.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(i&&i.size>1&&r._pointerActive)&&(this.start(e),this.setupPointer(e),r._pointerId=f4(e),r._pointerActive=!0,this.computeValues(eb(e)),this.computeInitial(),n.preventScrollAxis&&vme(e)!=="mouse"?(r._active=!1,this.setupScrollPrevention(e)):n.delay>0?(this.setupDelayTrigger(e),n.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const n=this.state;n._active=!0,n._preventScroll=!0,n._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const n=this.state,r=this.config;if(!n._pointerActive)return;const i=f4(e);if(n._pointerId!==void 0&&i!==n._pointerId)return;const s=eb(e);if(document.pointerLockElement===e.target?n._delta=[e.movementX,e.movementY]:(n._delta=ai.sub(s,n._values),this.computeValues(s)),ai.addTo(n._movement,n._delta),this.compute(e),n._delayed&&n.intentional){this.timeoutStore.remove("dragDelay"),n.active=!1,this.startPointerDrag(e);return}if(r.preventScrollAxis&&!n._preventScroll)if(n.axis)if(n.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){n._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const n=this.state,r=this.config;if(!n._active||!n._pointerActive)return;const i=f4(e);if(n._pointerId!==void 0&&i!==n._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[s,a]=n._distance;if(n.tap=s<=r.tapsThreshold&&a<=r.tapsThreshold,n.tap&&r.filterTaps)n._force=!0;else{const[o,l]=n._delta,[c,d]=n._movement,[f,h]=r.swipe.velocity,[m,v]=r.swipe.distance,b=r.swipe.duration;if(n.elapsedTime<b){const y=Math.abs(o/n.timeDelta),w=Math.abs(l/n.timeDelta);y>f&&Math.abs(c)>m&&(n.swipe[0]=Math.sign(o)),w>h&&Math.abs(d)>v&&(n.swipe[1]=Math.sign(l))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const n=this.config,r=n.device;n.pointerLock&&e.currentTarget.requestPointerLock(),n.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,Qnt(e);const n=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",n),this.eventStore.add(this.sharedConfig.window,"touch","cancel",n),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const n=Oee[e.key];if(n){const r=this.state,i=e.shiftKey?10:e.altKey?.1:1;this.start(e),r._delta=n(this.config.keyboardDisplacement,i),r._keyboardActive=!0,ai.addTo(r._movement,r._delta),this.compute(e),this.emit()}}keyUp(e){e.key in Oee&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const n=this.config.device;e(n,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(n,"change",this.pointerMove.bind(this)),e(n,"end",this.pointerUp.bind(this)),e(n,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function Qnt(t){"persist"in t&&typeof t.persist=="function"&&t.persist()}const YE=typeof window<"u"&&window.document&&window.document.createElement;function _me(){return YE&&"ontouchstart"in window}function Jnt(){return _me()||YE&&window.navigator.maxTouchPoints>1}function ert(){return YE&&"onpointerdown"in window}function trt(){return YE&&"exitPointerLock"in window.document}function nrt(){try{return"constructor"in GestureEvent}catch{return!1}}const kl={isBrowser:YE,gesture:nrt(),touch:_me(),touchscreen:Jnt(),pointer:ert(),pointerLock:trt()},rrt=250,irt=180,srt=.5,art=50,ort=250,lrt=10,jee={mouse:0,touch:0,pen:8},crt=_i(_i({},O0),{},{device(t,e,{pointer:{touch:n=!1,lock:r=!1,mouse:i=!1}={}}){return this.pointerLock=r&&kl.pointerLock,kl.touch&&n?"touch":this.pointerLock?"mouse":kl.pointer&&!i?"pointer":kl.touch?"touch":"mouse"},preventScrollAxis(t,e,{preventScroll:n}){if(this.preventScrollDelay=typeof n=="number"?n:n||n===void 0&&t?rrt:void 0,!(!kl.touchscreen||n===!1))return t||(n!==void 0?"y":void 0)},pointerCapture(t,e,{pointer:{capture:n=!0,buttons:r=1,keys:i=!0}={}}){return this.pointerButtons=r,this.keys=i,!this.pointerLock&&this.device==="pointer"&&n},threshold(t,e,{filterTaps:n=!1,tapsThreshold:r=3,axis:i=void 0}){const s=ai.toVector(t,n?r:i?1:0);return this.filterTaps=n,this.tapsThreshold=r,s},swipe({velocity:t=srt,distance:e=art,duration:n=ort}={}){return{velocity:this.transform(ai.toVector(t)),distance:this.transform(ai.toVector(e)),duration:n}},delay(t=0){switch(t){case!0:return irt;case!1:return 0;default:return t}},axisThreshold(t){return t?_i(_i({},jee),t):jee},keyboardDisplacement(t=lrt){return t}});function Sme(t){const[e,n]=t.overflow,[r,i]=t._delta,[s,a]=t._direction;(e<0&&r>0&&s<0||e>0&&r<0&&s>0)&&(t._movement[0]=t._movementBound[0]),(n<0&&i>0&&a<0||n>0&&i<0&&a>0)&&(t._movement[1]=t._movementBound[1])}const urt=30,drt=100;class frt extends bme{constructor(...e){super(...e),as(this,"ingKey","pinching"),as(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();const e=this.state;e._touchIds=[],e.canceled=!1,e.cancel=this.cancel.bind(this),e.turns=0}computeOffset(){const{type:e,movement:n,lastOffset:r}=this.state;e==="wheel"?this.state.offset=ai.add(n,r):this.state.offset=[(1+n[0])*r[0],n[1]+r[1]]}computeMovement(){const{offset:e,lastOffset:n}=this.state;this.state.movement=[e[0]/n[0],e[1]-n[1]]}axisIntent(){const e=this.state,[n,r]=e._movement;if(!e.axis){const i=Math.abs(n)*urt-Math.abs(r);i<0?e.axis="angle":i>0&&(e.axis="scale")}}restrictToAxis(e){this.config.lockDirection&&(this.state.axis==="scale"?e[1]=0:this.state.axis==="angle"&&(e[0]=0))}cancel(){const e=this.state;e.canceled||setTimeout(()=>{e.canceled=!0,e._active=!1,this.compute(),this.emit()},0)}touchStart(e){this.ctrl.setEventIds(e);const n=this.state,r=this.ctrl.touchIds;if(n._active&&n._touchIds.every(s=>r.has(s))||r.size<2)return;this.start(e),n._touchIds=Array.from(r).slice(0,2);const i=Aee(e,n._touchIds);i&&this.pinchStart(e,i)}pointerStart(e){if(e.buttons!=null&&e.buttons%2!==1)return;this.ctrl.setEventIds(e),e.target.setPointerCapture(e.pointerId);const n=this.state,r=n._pointerEvents,i=this.ctrl.pointerIds;if(n._active&&Array.from(r.keys()).every(a=>i.has(a))||(r.size<2&&r.set(e.pointerId,e),n._pointerEvents.size<2))return;this.start(e);const s=yU(...Array.from(r.values()));s&&this.pinchStart(e,s)}pinchStart(e,n){const r=this.state;r.origin=n.origin,this.computeValues([n.distance,n.angle]),this.computeInitial(),this.compute(e),this.emit()}touchMove(e){if(!this.state._active)return;const n=Aee(e,this.state._touchIds);n&&this.pinchMove(e,n)}pointerMove(e){const n=this.state._pointerEvents;if(n.has(e.pointerId)&&n.set(e.pointerId,e),!this.state._active)return;const r=yU(...Array.from(n.values()));r&&this.pinchMove(e,r)}pinchMove(e,n){const r=this.state,i=r._values[1],s=n.angle-i;let a=0;Math.abs(s)>270&&(a+=Math.sign(s)),this.computeValues([n.distance,n.angle-360*a]),r.origin=n.origin,r.turns=a,r._movement=[r._values[0]/r._initial[0]-1,r._values[1]-r._initial[1]],this.compute(e),this.emit()}touchEnd(e){this.ctrl.setEventIds(e),this.state._active&&this.state._touchIds.some(n=>!this.ctrl.touchIds.has(n))&&(this.state._active=!1,this.compute(e),this.emit())}pointerEnd(e){const n=this.state;this.ctrl.setEventIds(e);try{e.target.releasePointerCapture(e.pointerId)}catch{}n._pointerEvents.has(e.pointerId)&&n._pointerEvents.delete(e.pointerId),n._active&&n._pointerEvents.size<2&&(n._active=!1,this.compute(e),this.emit())}gestureStart(e){e.cancelable&&e.preventDefault();const n=this.state;n._active||(this.start(e),this.computeValues([e.scale,e.rotation]),n.origin=[e.clientX,e.clientY],this.compute(e),this.emit())}gestureMove(e){if(e.cancelable&&e.preventDefault(),!this.state._active)return;const n=this.state;this.computeValues([e.scale,e.rotation]),n.origin=[e.clientX,e.clientY];const r=n._movement;n._movement=[e.scale-1,e.rotation],n._delta=ai.sub(n._movement,r),this.compute(e),this.emit()}gestureEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}wheel(e){const n=this.config.modifierKey;n&&(Array.isArray(n)?!n.find(r=>e[r]):!e[n])||(this.state._active?this.wheelChange(e):this.wheelStart(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(e){this.start(e),this.wheelChange(e)}wheelChange(e){"uv"in e||e.cancelable&&e.preventDefault();const r=this.state;r._delta=[-xme(e)[1]/drt*r.offset[0],0],ai.addTo(r._movement,r._delta),Sme(r),this.state.origin=[e.clientX,e.clientY],this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){const n=this.config.device;n&&(e(n,"start",this[n+"Start"].bind(this)),e(n,"change",this[n+"Move"].bind(this)),e(n,"end",this[n+"End"].bind(this)),e(n,"cancel",this[n+"End"].bind(this)),e("lostPointerCapture","",this[n+"End"].bind(this))),this.config.pinchOnWheel&&e("wheel","",this.wheel.bind(this),{passive:!1})}}const hrt=_i(_i({},wme),{},{device(t,e,{shared:n,pointer:{touch:r=!1}={}}){if(n.target&&!kl.touch&&kl.gesture)return"gesture";if(kl.touch&&r)return"touch";if(kl.touchscreen){if(kl.pointer)return"pointer";if(kl.touch)return"touch"}},bounds(t,e,{scaleBounds:n={},angleBounds:r={}}){const i=a=>{const o=Nee(DP(n,a),{min:-1/0,max:1/0});return[o.min,o.max]},s=a=>{const o=Nee(DP(r,a),{min:-1/0,max:1/0});return[o.min,o.max]};return typeof n!="function"&&typeof r!="function"?[i(),s()]:a=>[i(a),s(a)]},threshold(t,e,n){return this.lockDirection=n.axis==="lock",ai.toVector(t,this.lockDirection?[.1,3]:0)},modifierKey(t){return t===void 0?"ctrlKey":t},pinchOnWheel(t=!0){return t}});class prt extends XE{constructor(...e){super(...e),as(this,"ingKey","moving")}move(e){this.config.mouseOnly&&e.pointerType!=="mouse"||(this.state._active?this.moveChange(e):this.moveStart(e),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}moveStart(e){this.start(e),this.computeValues(eb(e)),this.compute(e),this.computeInitial(),this.emit()}moveChange(e){if(!this.state._active)return;const n=eb(e),r=this.state;r._delta=ai.sub(n,r._values),ai.addTo(r._movement,r._delta),this.computeValues(n),this.compute(e),this.emit()}moveEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}bind(e){e("pointer","change",this.move.bind(this)),e("pointer","leave",this.moveEnd.bind(this))}}const mrt=_i(_i({},O0),{},{mouseOnly:(t=!0)=>t});class grt extends XE{constructor(...e){super(...e),as(this,"ingKey","scrolling")}scroll(e){this.state._active||this.start(e),this.scrollChange(e),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(e){e.cancelable&&e.preventDefault();const n=this.state,r=$nt(e);n._delta=ai.sub(r,n._values),ai.addTo(n._movement,n._delta),this.computeValues(r),this.compute(e),this.emit()}scrollEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("scroll","",this.scroll.bind(this))}}const vrt=O0;class yrt extends XE{constructor(...e){super(...e),as(this,"ingKey","wheeling")}wheel(e){this.state._active||this.start(e),this.wheelChange(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(e){const n=this.state;n._delta=xme(e),ai.addTo(n._movement,n._delta),Sme(n),this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("wheel","",this.wheel.bind(this))}}const xrt=O0;class brt extends XE{constructor(...e){super(...e),as(this,"ingKey","hovering")}enter(e){this.config.mouseOnly&&e.pointerType!=="mouse"||(this.start(e),this.computeValues(eb(e)),this.compute(e),this.emit())}leave(e){if(this.config.mouseOnly&&e.pointerType!=="mouse")return;const n=this.state;if(!n._active)return;n._active=!1;const r=eb(e);n._movement=n._delta=ai.sub(r,n._values),this.computeValues(r),this.compute(e),n.delta=n.movement,this.emit()}bind(e){e("pointer","enter",this.enter.bind(this)),e("pointer","leave",this.leave.bind(this))}}const wrt=_i(_i({},O0),{},{mouseOnly:(t=!0)=>t}),dV=new Map,xU=new Map;function _rt(t){dV.set(t.key,t.engine),xU.set(t.key,t.resolver)}const Srt={key:"drag",engine:Znt,resolver:crt},Ert={key:"hover",engine:brt,resolver:wrt},Mrt={key:"move",engine:prt,resolver:mrt},Trt={key:"pinch",engine:frt,resolver:hrt},Art={key:"scroll",engine:grt,resolver:vrt},Crt={key:"wheel",engine:yrt,resolver:xrt};function Prt(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Nrt(t,e){if(t==null)return{};var n=Prt(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}const Rrt={target(t){if(t)return()=>"current"in t?t.current:t},enabled(t=!0){return t},window(t=kl.isBrowser?window:void 0){return t},eventOptions({passive:t=!0,capture:e=!1}={}){return{passive:t,capture:e}},transform(t){return t}},Ort=["target","eventOptions","window","enabled","transform"];function q2(t={},e){const n={};for(const[r,i]of Object.entries(e))switch(typeof i){case"function":n[r]=i.call(n,t[r],r,t);break;case"object":n[r]=q2(t[r],i);break;case"boolean":i&&(n[r]=t[r]);break}return n}function jrt(t,e,n={}){const r=t,{target:i,eventOptions:s,window:a,enabled:o,transform:l}=r,c=Nrt(r,Ort);if(n.shared=q2({target:i,eventOptions:s,window:a,enabled:o,transform:l},Rrt),e){const d=xU.get(e);n[e]=q2(_i({shared:n.shared},c),d)}else for(const d in c){const f=xU.get(d);f&&(n[d]=q2(_i({shared:n.shared},c[d]),f))}return n}class Eme{constructor(e,n){as(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=n}add(e,n,r,i,s){const a=this._listeners,o=Unt(n,r),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},c=_i(_i({},l),s);e.addEventListener(o,i,c);const d=()=>{e.removeEventListener(o,i,c),a.delete(d)};return a.add(d),d}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class Irt{constructor(){as(this,"_timeouts",new Map)}add(e,n,r=140,...i){this.remove(e),this._timeouts.set(e,window.setTimeout(n,r,...i))}remove(e){const n=this._timeouts.get(e);n&&window.clearTimeout(n)}clean(){this._timeouts.forEach(e=>{window.clearTimeout(e)}),this._timeouts.clear()}}let krt=class{constructor(e){as(this,"gestures",new Set),as(this,"_targetEventStore",new Eme(this)),as(this,"gestureEventStores",{}),as(this,"gestureTimeoutStores",{}),as(this,"handlers",{}),as(this,"config",{}),as(this,"pointerIds",new Set),as(this,"touchIds",new Set),as(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),Drt(this,e)}setEventIds(e){if(xO(e))return this.touchIds=new Set(Vnt(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,n){this.handlers=e,this.nativeHandlers=n}applyConfig(e,n){this.config=jrt(e,n,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const n=this.config.shared,r={};let i;if(!(n.target&&(i=n.target(),!i))){if(n.enabled){for(const a of this.gestures){const o=this.config[a],l=Iee(r,o.eventOptions,!!i);if(o.enabled){const c=dV.get(a);new c(this,e,a).bind(l)}}const s=Iee(r,n.eventOptions,!!i);for(const a in this.nativeHandlers)s(a,"",o=>this.nativeHandlers[a](_i(_i({},this.state.shared),{},{event:o,args:e})),void 0,!0)}for(const s in r)r[s]=Gnt(...r[s]);if(!i)return r;for(const s in r){const{device:a,capture:o,passive:l}=Fnt(s);this._targetEventStore.add(i,a,"",r[s],{capture:o,passive:l})}}}};function fy(t,e){t.gestures.add(e),t.gestureEventStores[e]=new Eme(t,e),t.gestureTimeoutStores[e]=new Irt}function Drt(t,e){e.drag&&fy(t,"drag"),e.wheel&&fy(t,"wheel"),e.scroll&&fy(t,"scroll"),e.move&&fy(t,"move"),e.pinch&&fy(t,"pinch"),e.hover&&fy(t,"hover")}const Iee=(t,e,n)=>(r,i,s,a={},o=!1)=>{var l,c;const d=(l=a.capture)!==null&&l!==void 0?l:e.capture,f=(c=a.passive)!==null&&c!==void 0?c:e.passive;let h=o?r:Dnt(r,i,d);n&&f&&(h+="Passive"),t[h]=t[h]||[],t[h].push(s)},Lrt=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function Frt(t){const e={},n={},r=new Set;for(let i in t)Lrt.test(i)?(r.add(RegExp.lastMatch),n[i]=t[i]):e[i]=t[i];return[n,e,r]}function hy(t,e,n,r,i,s){if(!t.has(n)||!dV.has(r))return;const a=n+"Start",o=n+"End",l=c=>{let d;return c.first&&a in e&&e[a](c),n in e&&(d=e[n](c)),c.last&&o in e&&e[o](c),d};i[r]=l,s[r]=s[r]||{}}function Urt(t,e){const[n,r,i]=Frt(t),s={};return hy(i,n,"onDrag","drag",s,e),hy(i,n,"onWheel","wheel",s,e),hy(i,n,"onScroll","scroll",s,e),hy(i,n,"onPinch","pinch",s,e),hy(i,n,"onMove","move",s,e),hy(i,n,"onHover","hover",s,e),{handlers:s,config:e,nativeHandlers:r}}function Brt(t,e={},n,r){const i=se.useMemo(()=>new krt(t),[]);if(i.applyHandlers(t,r),i.applyConfig(e,n),se.useEffect(i.effect.bind(i)),se.useEffect(()=>i.clean.bind(i),[]),e.target===void 0)return i.bind.bind(i)}function zrt(t){return t.forEach(_rt),function(n,r){const{handlers:i,nativeHandlers:s,config:a}=Urt(n,r||{});return Brt(i,a,void 0,s)}}function Vrt(t,e){return zrt([Srt,Trt,Art,Crt,Mrt,Ert])(t,e||{})}var fV=ZE(),kn=t=>KE(t,fV),hV=ZE();kn.write=t=>KE(t,hV);var bO=ZE();kn.onStart=t=>KE(t,bO);var pV=ZE();kn.onFrame=t=>KE(t,pV);var mV=ZE();kn.onFinish=t=>KE(t,mV);var Jy=[];kn.setTimeout=(t,e)=>{const n=kn.now()+e,r=()=>{const s=Jy.findIndex(a=>a.cancel==r);~s&&Jy.splice(s,1),lp-=~s?1:0},i={time:n,handler:t,cancel:r};return Jy.splice(Mme(n),0,i),lp+=1,Tme(),i};var Mme=t=>~(~Jy.findIndex(e=>e.time>t)||~Jy.length);kn.cancel=t=>{bO.delete(t),pV.delete(t),mV.delete(t),fV.delete(t),hV.delete(t)};kn.sync=t=>{bU=!0,kn.batchedUpdates(t),bU=!1};kn.throttle=t=>{let e;function n(){try{t(...e)}finally{e=null}}function r(...i){e=i,kn.onStart(n)}return r.handler=t,r.cancel=()=>{bO.delete(n),e=null},r};var gV=typeof window<"u"?window.requestAnimationFrame:(()=>{});kn.use=t=>gV=t;kn.now=typeof performance<"u"?()=>performance.now():Date.now;kn.batchedUpdates=t=>t();kn.catch=console.error;kn.frameLoop="always";kn.advance=()=>{kn.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):Cme()};var op=-1,lp=0,bU=!1;function KE(t,e){bU?(e.delete(t),t(0)):(e.add(t),Tme())}function Tme(){op<0&&(op=0,kn.frameLoop!=="demand"&&gV(Ame))}function $rt(){op=-1}function Ame(){~op&&(gV(Ame),kn.batchedUpdates(Cme))}function Cme(){const t=op;op=kn.now();const e=Mme(op);if(e&&(Pme(Jy.splice(0,e),n=>n.handler()),lp-=e),!lp){$rt();return}bO.flush(),fV.flush(t?Math.min(64,op-t):16.667),pV.flush(),hV.flush(),mV.flush()}function ZE(){let t=new Set,e=t;return{add(n){lp+=e==t&&!t.has(n)?1:0,t.add(n)},delete(n){return lp-=e==t&&t.has(n)?1:0,t.delete(n)},flush(n){e.size&&(t=new Set,lp-=e.size,Pme(e,r=>r(n)&&t.add(r)),lp+=t.size,e=t)}}}function Pme(t,e){t.forEach(n=>{try{e(n)}catch(r){kn.catch(r)}})}var Hrt=Object.defineProperty,Wrt=(t,e)=>{for(var n in e)Hrt(t,n,{get:e[n],enumerable:!0})},nu={};Wrt(nu,{assign:()=>qrt,colors:()=>mp,createStringInterpolator:()=>yV,skipAnimation:()=>Rme,to:()=>Nme,willAdvance:()=>xV});function wU(){}var Grt=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),_t={arr:Array.isArray,obj:t=>!!t&&t.constructor.name==="Object",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0};function gf(t,e){if(_t.arr(t)){if(!_t.arr(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return t===e}var Rr=(t,e)=>t.forEach(e);function Xf(t,e,n){if(_t.arr(t)){for(let r=0;r<t.length;r++)e.call(n,t[r],`${r}`);return}for(const r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r)}var $l=t=>_t.und(t)?[]:_t.arr(t)?t:[t];function a_(t,e){if(t.size){const n=Array.from(t);t.clear(),Rr(n,e)}}var A1=(t,...e)=>a_(t,n=>n(...e)),vV=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),yV,Nme,mp=null,Rme=!1,xV=wU,qrt=t=>{t.to&&(Nme=t.to),t.now&&(kn.now=t.now),t.colors!==void 0&&(mp=t.colors),t.skipAnimation!=null&&(Rme=t.skipAnimation),t.createStringInterpolator&&(yV=t.createStringInterpolator),t.requestAnimationFrame&&kn.use(t.requestAnimationFrame),t.batchedUpdates&&(kn.batchedUpdates=t.batchedUpdates),t.willAdvance&&(xV=t.willAdvance),t.frameLoop&&(kn.frameLoop=t.frameLoop)},o_=new Set,Fl=[],h4=[],LP=0,wO={get idle(){return!o_.size&&!Fl.length},start(t){LP>t.priority?(o_.add(t),kn.onStart(Xrt)):(Ome(t),kn(_U))},advance:_U,sort(t){if(LP)kn.onFrame(()=>wO.sort(t));else{const e=Fl.indexOf(t);~e&&(Fl.splice(e,1),jme(t))}},clear(){Fl=[],o_.clear()}};function Xrt(){o_.forEach(Ome),o_.clear(),kn(_U)}function Ome(t){Fl.includes(t)||jme(t)}function jme(t){Fl.splice(Yrt(Fl,e=>e.priority>t.priority),0,t)}function _U(t){const e=h4;for(let n=0;n<Fl.length;n++){const r=Fl[n];LP=r.priority,r.idle||(xV(r),r.advance(t),r.idle||e.push(r))}return LP=0,h4=Fl,h4.length=0,Fl=e,Fl.length>0}function Yrt(t,e){const n=t.findIndex(e);return n<0?t.length:n}var Krt={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},Wc="[-+]?\\d*\\.?\\d+",FP=Wc+"%";function _O(...t){return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var Zrt=new RegExp("rgb"+_O(Wc,Wc,Wc)),Qrt=new RegExp("rgba"+_O(Wc,Wc,Wc,Wc)),Jrt=new RegExp("hsl"+_O(Wc,FP,FP)),eit=new RegExp("hsla"+_O(Wc,FP,FP,Wc)),tit=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,nit=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,rit=/^#([0-9a-fA-F]{6})$/,iit=/^#([0-9a-fA-F]{8})$/;function sit(t){let e;return typeof t=="number"?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=rit.exec(t))?parseInt(e[1]+"ff",16)>>>0:mp&&mp[t]!==void 0?mp[t]:(e=Zrt.exec(t))?(py(e[1])<<24|py(e[2])<<16|py(e[3])<<8|255)>>>0:(e=Qrt.exec(t))?(py(e[1])<<24|py(e[2])<<16|py(e[3])<<8|Lee(e[4]))>>>0:(e=tit.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=iit.exec(t))?parseInt(e[1],16)>>>0:(e=nit.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=Jrt.exec(t))?(kee(Dee(e[1]),y2(e[2]),y2(e[3]))|255)>>>0:(e=eit.exec(t))?(kee(Dee(e[1]),y2(e[2]),y2(e[3]))|Lee(e[4]))>>>0:null}function p4(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function kee(t,e,n){const r=n<.5?n*(1+e):n+e-n*e,i=2*n-r,s=p4(i,r,t+1/3),a=p4(i,r,t),o=p4(i,r,t-1/3);return Math.round(s*255)<<24|Math.round(a*255)<<16|Math.round(o*255)<<8}function py(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function Dee(t){return(parseFloat(t)%360+360)%360/360}function Lee(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function y2(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function Fee(t){let e=sit(t);if(e===null)return t;e=e||0;const n=(e&4278190080)>>>24,r=(e&16711680)>>>16,i=(e&65280)>>>8,s=(e&255)/255;return`rgba(${n}, ${r}, ${i}, ${s})`}var HS=(t,e,n)=>{if(_t.fun(t))return t;if(_t.arr(t))return HS({range:t,output:e,extrapolate:n});if(_t.str(t.output[0]))return yV(t);const r=t,i=r.output,s=r.range||[0,1],a=r.extrapolateLeft||r.extrapolate||"extend",o=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||(c=>c);return c=>{const d=oit(c,s);return ait(c,s[d],s[d+1],i[d],i[d+1],l,a,o,r.map)}};function ait(t,e,n,r,i,s,a,o,l){let c=l?l(t):t;if(c<e){if(a==="identity")return c;a==="clamp"&&(c=e)}if(c>n){if(o==="identity")return c;o==="clamp"&&(c=n)}return r===i?r:e===n?t<=e?r:i:(e===-1/0?c=-c:n===1/0?c=c-e:c=(c-e)/(n-e),c=s(c),r===-1/0?c=-c:i===1/0?c=c+r:c=c*(i-r)+r,c)}function oit(t,e){for(var n=1;n<e.length-1&&!(e[n]>=t);++n);return n-1}var lit={linear:t=>t},WS=Symbol.for("FluidValue.get"),tb=Symbol.for("FluidValue.observers"),Ou=t=>!!(t&&t[WS]),Ol=t=>t&&t[WS]?t[WS]():t,Uee=t=>t[tb]||null;function cit(t,e){t.eventObserved?t.eventObserved(e):t(e)}function UP(t,e){const n=t[tb];n&&n.forEach(r=>{cit(r,e)})}var uit=class{constructor(t){if(!t&&!(t=this.get))throw Error("Unknown getter");dit(this,t)}},dit=(t,e)=>Ime(t,WS,e);function QE(t,e){if(t[WS]){let n=t[tb];n||Ime(t,tb,n=new Set),n.has(e)||(n.add(e),t.observerAdded&&t.observerAdded(n.size,e))}return e}function BP(t,e){const n=t[tb];if(n&&n.has(e)){const r=n.size-1;r?n.delete(e):t[tb]=null,t.observerRemoved&&t.observerRemoved(r,e)}}var Ime=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),X2=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,fit=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,Bee=new RegExp(`(${X2.source})(%|[a-z]+)`,"i"),hit=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,SO=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,kme=t=>{const[e,n]=pit(t);if(!e||vV())return t;const r=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(r)return r.trim();if(n&&n.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(n);return i||t}else{if(n&&SO.test(n))return kme(n);if(n)return n}return t},pit=t=>{const e=SO.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]},m4,mit=(t,e,n,r,i)=>`rgba(${Math.round(e)}, ${Math.round(n)}, ${Math.round(r)}, ${i})`,Dme=t=>{m4||(m4=mp?new RegExp(`(${Object.keys(mp).join("|")})(?!\\w)`,"g"):/^\b$/);const e=t.output.map(s=>Ol(s).replace(SO,kme).replace(fit,Fee).replace(m4,Fee)),n=e.map(s=>s.match(X2).map(Number)),i=n[0].map((s,a)=>n.map(o=>{if(!(a in o))throw Error('The arity of each "output" value must be equal');return o[a]})).map(s=>HS({...t,output:s}));return s=>{const a=!Bee.test(e[0])&&e.find(l=>Bee.test(l))?.replace(X2,"");let o=0;return e[0].replace(X2,()=>`${i[o++](s)}${a||""}`).replace(hit,mit)}},bV="react-spring: ",Lme=t=>{const e=t;let n=!1;if(typeof e!="function")throw new TypeError(`${bV}once requires a function parameter`);return(...r)=>{n||(e(...r),n=!0)}},git=Lme(console.warn);function vit(){git(`${bV}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var yit=Lme(console.warn);function xit(){yit(`${bV}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function EO(t){return _t.str(t)&&(t[0]=="#"||/\d/.test(t)||!vV()&&SO.test(t)||t in(mp||{}))}var wV=vV()?N.useEffect:N.useLayoutEffect,bit=()=>{const t=N.useRef(!1);return wV(()=>(t.current=!0,()=>{t.current=!1}),[]),t};function Fme(){const t=N.useState()[1],e=bit();return()=>{e.current&&t(Math.random())}}function wit(t,e){const[n]=N.useState(()=>({inputs:e,result:t()})),r=N.useRef(),i=r.current;let s=i;return s?e&&s.inputs&&_it(e,s.inputs)||(s={inputs:e,result:t()}):s=n,N.useEffect(()=>{r.current=s,i==n&&(n.inputs=n.result=void 0)},[s]),s.result}function _it(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}var Ume=t=>N.useEffect(t,Sit),Sit=[];function zee(t){const e=N.useRef();return N.useEffect(()=>{e.current=t}),e.current}var GS=Symbol.for("Animated:node"),Eit=t=>!!t&&t[GS]===t,Pu=t=>t&&t[GS],_V=(t,e)=>Grt(t,GS,e),MO=t=>t&&t[GS]&&t[GS].getPayload(),Bme=class{constructor(){_V(this,this)}getPayload(){return this.payload||[]}},JE=class extends Bme{constructor(t){super(),this._value=t,this.done=!0,this.durationProgress=0,_t.num(this._value)&&(this.lastPosition=this._value)}static create(t){return new JE(t)}getPayload(){return[this]}getValue(){return this._value}setValue(t,e){return _t.num(t)&&(this.lastPosition=t,e&&(t=Math.round(t/e)*e,this.done&&(this.lastPosition=t))),this._value===t?!1:(this._value=t,!0)}reset(){const{done:t}=this;this.done=!1,_t.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,t&&(this.lastVelocity=null),this.v0=null)}},qS=class extends JE{constructor(t){super(0),this._string=null,this._toString=HS({output:[t,t]})}static create(t){return new qS(t)}getValue(){const t=this._string;return t??(this._string=this._toString(this._value))}setValue(t){if(_t.str(t)){if(t==this._string)return!1;this._string=t,this._value=1}else if(super.setValue(t))this._string=null;else return!1;return!0}reset(t){t&&(this._toString=HS({output:[this.getValue(),t]})),this._value=0,super.reset()}},zP={dependencies:null},SV=class extends Bme{constructor(t){super(),this.source=t,this.setValue(t)}getValue(t){const e={};return Xf(this.source,(n,r)=>{Eit(n)?e[r]=n.getValue(t):Ou(n)?e[r]=Ol(n):t||(e[r]=n)}),e}setValue(t){this.source=t,this.payload=this._makePayload(t)}reset(){this.payload&&Rr(this.payload,t=>t.reset())}_makePayload(t){if(t){const e=new Set;return Xf(t,this._addToPayload,e),Array.from(e)}}_addToPayload(t){zP.dependencies&&Ou(t)&&zP.dependencies.add(t);const e=MO(t);e&&Rr(e,n=>this.add(n))}},zme=class extends SV{constructor(t){super(t)}static create(t){return new zme(t)}getValue(){return this.source.map(t=>t.getValue())}setValue(t){const e=this.getPayload();return t.length==e.length?e.map((n,r)=>n.setValue(t[r])).some(Boolean):(super.setValue(t.map(Mit)),!0)}};function Mit(t){return(EO(t)?qS:JE).create(t)}function SU(t){const e=Pu(t);return e?e.constructor:_t.arr(t)?zme:EO(t)?qS:JE}var Vee=(t,e)=>{const n=!_t.fun(t)||t.prototype&&t.prototype.isReactComponent;return N.forwardRef((r,i)=>{const s=N.useRef(null),a=n&&N.useCallback(v=>{s.current=Cit(i,v)},[i]),[o,l]=Ait(r,e),c=Fme(),d=()=>{const v=s.current;if(n&&!v)return;(v?e.applyAnimatedValues(v,o.getValue(!0)):!1)===!1&&c()},f=new Tit(d,l),h=N.useRef();wV(()=>(h.current=f,Rr(l,v=>QE(v,f)),()=>{h.current&&(Rr(h.current.deps,v=>BP(v,h.current)),kn.cancel(h.current.update))})),N.useEffect(d,[]),Ume(()=>()=>{const v=h.current;Rr(v.deps,b=>BP(b,v))});const m=e.getComponentProps(o.getValue());return N.createElement(t,{...m,ref:a})})},Tit=class{constructor(t,e){this.update=t,this.deps=e}eventObserved(t){t.type=="change"&&kn.write(this.update)}};function Ait(t,e){const n=new Set;return zP.dependencies=n,t.style&&(t={...t,style:e.createAnimatedStyle(t.style)}),t=new SV(t),zP.dependencies=null,[t,n]}function Cit(t,e){return t&&(_t.fun(t)?t(e):t.current=e),e}var $ee=Symbol.for("AnimatedComponent"),Pit=(t,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:n=i=>new SV(i),getComponentProps:r=i=>i}={})=>{const i={applyAnimatedValues:e,createAnimatedStyle:n,getComponentProps:r},s=a=>{const o=Hee(a)||"Anonymous";return _t.str(a)?a=s[a]||(s[a]=Vee(a,i)):a=a[$ee]||(a[$ee]=Vee(a,i)),a.displayName=`Animated(${o})`,a};return Xf(t,(a,o)=>{_t.arr(t)&&(o=Hee(a)),s[o]=s(a)}),{animated:s}},Hee=t=>_t.str(t)?t:t&&_t.str(t.displayName)?t.displayName:_t.fun(t)&&t.name||null;function gg(t,...e){return _t.fun(t)?t(...e):t}var l_=(t,e)=>t===!0||!!(e&&t&&(_t.fun(t)?t(e):$l(t).includes(e))),Vme=(t,e)=>_t.obj(t)?e&&t[e]:t,$me=(t,e)=>t.default===!0?t[e]:t.default?t.default[e]:void 0,Nit=t=>t,EV=(t,e=Nit)=>{let n=Rit;t.default&&t.default!==!0&&(t=t.default,n=Object.keys(t));const r={};for(const i of n){const s=e(t[i],i);_t.und(s)||(r[i]=s)}return r},Rit=["config","onProps","onStart","onChange","onPause","onResume","onRest"],Oit={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function jit(t){const e={};let n=0;if(Xf(t,(r,i)=>{Oit[i]||(e[i]=r,n++)}),n)return e}function Hme(t){const e=jit(t);if(e){const n={to:e};return Xf(t,(r,i)=>i in e||(n[i]=r)),n}return{...t}}function XS(t){return t=Ol(t),_t.arr(t)?t.map(XS):EO(t)?nu.createStringInterpolator({range:[0,1],output:[t,t]})(1):t}function Iit(t){for(const e in t)return!0;return!1}function EU(t){return _t.fun(t)||_t.arr(t)&&_t.obj(t[0])}function kit(t,e){t.ref?.delete(t),e?.delete(t)}function Dit(t,e){e&&t.ref!==e&&(t.ref?.delete(t),e.add(t),t.ref=e)}var Lit={default:{tension:170,friction:26}},MU={...Lit.default,mass:1,damping:1,easing:lit.linear,clamp:!1},Fit=class{constructor(){this.velocity=0,Object.assign(this,MU)}};function Uit(t,e,n){n&&(n={...n},Wee(n,e),e={...n,...e}),Wee(t,e),Object.assign(t,e);for(const a in MU)t[a]==null&&(t[a]=MU[a]);let{frequency:r,damping:i}=t;const{mass:s}=t;return _t.und(r)||(r<.01&&(r=.01),i<0&&(i=0),t.tension=Math.pow(2*Math.PI/r,2)*s,t.friction=4*Math.PI*i*s/r),t}function Wee(t,e){if(!_t.und(e.decay))t.duration=void 0;else{const n=!_t.und(e.tension)||!_t.und(e.friction);(n||!_t.und(e.frequency)||!_t.und(e.damping)||!_t.und(e.mass))&&(t.duration=void 0,t.decay=void 0),n&&(t.frequency=void 0)}}var Gee=[],Bit=class{constructor(){this.changed=!1,this.values=Gee,this.toValues=null,this.fromValues=Gee,this.config=new Fit,this.immediate=!1}};function Wme(t,{key:e,props:n,defaultProps:r,state:i,actions:s}){return new Promise((a,o)=>{let l,c,d=l_(n.cancel??r?.cancel,e);if(d)m();else{_t.und(n.pause)||(i.paused=l_(n.pause,e));let v=r?.pause;v!==!0&&(v=i.paused||l_(v,e)),l=gg(n.delay||0,e),v?(i.resumeQueue.add(h),s.pause()):(s.resume(),h())}function f(){i.resumeQueue.add(h),i.timeouts.delete(c),c.cancel(),l=c.time-kn.now()}function h(){l>0&&!nu.skipAnimation?(i.delayed=!0,c=kn.setTimeout(m,l),i.pauseQueue.add(f),i.timeouts.add(c)):m()}function m(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(f),i.timeouts.delete(c),t<=(i.cancelId||0)&&(d=!0);try{s.start({...n,callId:t,cancel:d},a)}catch(v){o(v)}}})}var MV=(t,e)=>e.length==1?e[0]:e.some(n=>n.cancelled)?ex(t.get()):e.every(n=>n.noop)?Gme(t.get()):Dc(t.get(),e.every(n=>n.finished)),Gme=t=>({value:t,noop:!0,finished:!0,cancelled:!1}),Dc=(t,e,n=!1)=>({value:t,finished:e,cancelled:n}),ex=t=>({value:t,cancelled:!0,finished:!1});function qme(t,e,n,r){const{callId:i,parentId:s,onRest:a}=e,{asyncTo:o,promise:l}=n;return!s&&t===o&&!e.reset?l:n.promise=(async()=>{n.asyncId=i,n.asyncTo=t;const c=EV(e,(y,w)=>w==="onRest"?void 0:y);let d,f;const h=new Promise((y,w)=>(d=y,f=w)),m=y=>{const w=i<=(n.cancelId||0)&&ex(r)||i!==n.asyncId&&Dc(r,!1);if(w)throw y.result=w,f(y),y},v=(y,w)=>{const S=new qee,M=new Xee;return(async()=>{if(nu.skipAnimation)throw YS(n),M.result=Dc(r,!1),f(M),M;m(S);const T=_t.obj(y)?{...y}:{...w,to:y};T.parentId=i,Xf(c,(C,j)=>{_t.und(T[j])&&(T[j]=C)});const A=await r.start(T);return m(S),n.paused&&await new Promise(C=>{n.resumeQueue.add(C)}),A})()};let b;if(nu.skipAnimation)return YS(n),Dc(r,!1);try{let y;_t.arr(t)?y=(async w=>{for(const S of w)await v(S)})(t):y=Promise.resolve(t(v,r.stop.bind(r))),await Promise.all([y.then(d),h]),b=Dc(r.get(),!0,!1)}catch(y){if(y instanceof qee)b=y.result;else if(y instanceof Xee)b=y.result;else throw y}finally{i==n.asyncId&&(n.asyncId=s,n.asyncTo=s?o:void 0,n.promise=s?l:void 0)}return _t.fun(a)&&kn.batchedUpdates(()=>{a(b,r,r.item)}),b})()}function YS(t,e){a_(t.timeouts,n=>n.cancel()),t.pauseQueue.clear(),t.resumeQueue.clear(),t.asyncId=t.asyncTo=t.promise=void 0,e&&(t.cancelId=e)}var qee=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},Xee=class extends Error{constructor(){super("SkipAnimationSignal")}},TU=t=>t instanceof TV,zit=1,TV=class extends uit{constructor(){super(...arguments),this.id=zit++,this._priority=0}get priority(){return this._priority}set priority(t){this._priority!=t&&(this._priority=t,this._onPriorityChange(t))}get(){const t=Pu(this);return t&&t.getValue()}to(...t){return nu.to(this,t)}interpolate(...t){return vit(),nu.to(this,t)}toJSON(){return this.get()}observerAdded(t){t==1&&this._attach()}observerRemoved(t){t==0&&this._detach()}_attach(){}_detach(){}_onChange(t,e=!1){UP(this,{type:"change",parent:this,value:t,idle:e})}_onPriorityChange(t){this.idle||wO.sort(this),UP(this,{type:"priority",parent:this,priority:t})}},f0=Symbol.for("SpringPhase"),Xme=1,AU=2,CU=4,g4=t=>(t[f0]&Xme)>0,Wh=t=>(t[f0]&AU)>0,d1=t=>(t[f0]&CU)>0,Yee=(t,e)=>e?t[f0]|=AU|Xme:t[f0]&=~AU,Kee=(t,e)=>e?t[f0]|=CU:t[f0]&=~CU,Vit=class extends TV{constructor(t,e){if(super(),this.animation=new Bit,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!_t.und(t)||!_t.und(e)){const n=_t.obj(t)?{...t}:{...e,from:t};_t.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(Wh(this)||this._state.asyncTo)||d1(this)}get goal(){return Ol(this.animation.to)}get velocity(){const t=Pu(this);return t instanceof JE?t.lastVelocity||0:t.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return g4(this)}get isAnimating(){return Wh(this)}get isPaused(){return d1(this)}get isDelayed(){return this._state.delayed}advance(t){let e=!0,n=!1;const r=this.animation;let{toValues:i}=r;const{config:s}=r,a=MO(r.to);!a&&Ou(r.to)&&(i=$l(Ol(r.to))),r.values.forEach((c,d)=>{if(c.done)return;const f=c.constructor==qS?1:a?a[d].lastPosition:i[d];let h=r.immediate,m=f;if(!h){if(m=c.lastPosition,s.tension<=0){c.done=!0;return}let v=c.elapsedTime+=t;const b=r.fromValues[d],y=c.v0!=null?c.v0:c.v0=_t.arr(s.velocity)?s.velocity[d]:s.velocity;let w;const S=s.precision||(b==f?.005:Math.min(1,Math.abs(f-b)*.001));if(_t.und(s.duration))if(s.decay){const M=s.decay===!0?.998:s.decay,T=Math.exp(-(1-M)*v);m=b+y/(1-M)*(1-T),h=Math.abs(c.lastPosition-m)<=S,w=y*T}else{w=c.lastVelocity==null?y:c.lastVelocity;const M=s.restVelocity||S/10,T=s.clamp?0:s.bounce,A=!_t.und(T),C=b==f?c.v0>0:b<f;let j,L=!1;const O=1,k=Math.ceil(t/O);for(let F=0;F<k&&(j=Math.abs(w)>M,!(!j&&(h=Math.abs(f-m)<=S,h)));++F){A&&(L=m==f||m>f==C,L&&(w=-w*T,m=f));const G=-s.tension*1e-6*(m-f),Y=-s.friction*.001*w,U=(G+Y)/s.mass;w=w+U*O,m=m+w*O}}else{let M=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,c.durationProgress>0&&(c.elapsedTime=s.duration*c.durationProgress,v=c.elapsedTime+=t)),M=(s.progress||0)+v/this._memoizedDuration,M=M>1?1:M<0?0:M,c.durationProgress=M),m=b+s.easing(M)*(f-b),w=(m-c.lastPosition)/t,h=M==1}c.lastVelocity=w,Number.isNaN(m)&&(console.warn("Got NaN while animating:",this),h=!0)}a&&!a[d].done&&(h=!1),h?c.done=!0:e=!1,c.setValue(m,s.round)&&(n=!0)});const o=Pu(this),l=o.getValue();if(e){const c=Ol(r.to);(l!==c||n)&&!s.decay?(o.setValue(c),this._onChange(c)):n&&s.decay&&this._onChange(l),this._stop()}else n&&this._onChange(l)}set(t){return kn.batchedUpdates(()=>{this._stop(),this._focus(t),this._set(t)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Wh(this)){const{to:t,config:e}=this.animation;kn.batchedUpdates(()=>{this._onStart(),e.decay||this._set(t,!1),this._stop()})}return this}update(t){return(this.queue||(this.queue=[])).push(t),this}start(t,e){let n;return _t.und(t)?(n=this.queue||[],this.queue=[]):n=[_t.obj(t)?t:{...e,to:t}],Promise.all(n.map(r=>this._update(r))).then(r=>MV(this,r))}stop(t){const{to:e}=this.animation;return this._focus(this.get()),YS(this._state,t&&this._lastCallId),kn.batchedUpdates(()=>this._stop(e,t)),this}reset(){this._update({reset:!0})}eventObserved(t){t.type=="change"?this._start():t.type=="priority"&&(this.priority=t.priority+1)}_prepareNode(t){const e=this.key||"";let{to:n,from:r}=t;n=_t.obj(n)?n[e]:n,(n==null||EU(n))&&(n=void 0),r=_t.obj(r)?r[e]:r,r==null&&(r=void 0);const i={to:n,from:r};return g4(this)||(t.reverse&&([n,r]=[r,n]),r=Ol(r),_t.und(r)?Pu(this)||this._set(n):this._set(r)),i}_update({...t},e){const{key:n,defaultProps:r}=this;t.default&&Object.assign(r,EV(t,(a,o)=>/^on/.test(o)?Vme(a,n):a)),Qee(this,t,"onProps"),h1(this,"onProps",t,this);const i=this._prepareNode(t);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const s=this._state;return Wme(++this._lastCallId,{key:n,props:t,defaultProps:r,state:s,actions:{pause:()=>{d1(this)||(Kee(this,!0),A1(s.pauseQueue),h1(this,"onPause",Dc(this,f1(this,this.animation.to)),this))},resume:()=>{d1(this)&&(Kee(this,!1),Wh(this)&&this._resume(),A1(s.resumeQueue),h1(this,"onResume",Dc(this,f1(this,this.animation.to)),this))},start:this._merge.bind(this,i)}}).then(a=>{if(t.loop&&a.finished&&!(e&&a.noop)){const o=Yme(t);if(o)return this._update(o,!0)}return a})}_merge(t,e,n){if(e.cancel)return this.stop(!0),n(ex(this));const r=!_t.und(t.to),i=!_t.und(t.from);if(r||i)if(e.callId>this._lastToId)this._lastToId=e.callId;else return n(ex(this));const{key:s,defaultProps:a,animation:o}=this,{to:l,from:c}=o;let{to:d=l,from:f=c}=t;i&&!r&&(!e.default||_t.und(d))&&(d=f),e.reverse&&([d,f]=[f,d]);const h=!gf(f,c);h&&(o.from=f),f=Ol(f);const m=!gf(d,l);m&&this._focus(d);const v=EU(e.to),{config:b}=o,{decay:y,velocity:w}=b;(r||i)&&(b.velocity=0),e.config&&!v&&Uit(b,gg(e.config,s),e.config!==a.config?gg(a.config,s):void 0);let S=Pu(this);if(!S||_t.und(d))return n(Dc(this,!0));const M=_t.und(e.reset)?i&&!e.default:!_t.und(f)&&l_(e.reset,s),T=M?f:this.get(),A=XS(d),C=_t.num(A)||_t.arr(A)||EO(A),j=!v&&(!C||l_(a.immediate||e.immediate,s));if(m){const F=SU(d);if(F!==S.constructor)if(j)S=this._set(A);else throw Error(`Cannot animate between ${S.constructor.name} and ${F.name}, as the "to" prop suggests`)}const L=S.constructor;let O=Ou(d),k=!1;if(!O){const F=M||!g4(this)&&h;(m||F)&&(k=gf(XS(T),A),O=!k),(!gf(o.immediate,j)&&!j||!gf(b.decay,y)||!gf(b.velocity,w))&&(O=!0)}if(k&&Wh(this)&&(o.changed&&!M?O=!0:O||this._stop(l)),!v&&((O||Ou(l))&&(o.values=S.getPayload(),o.toValues=Ou(d)?null:L==qS?[1]:$l(A)),o.immediate!=j&&(o.immediate=j,!j&&!M&&this._set(l)),O)){const{onRest:F}=o;Rr(Hit,Y=>Qee(this,e,Y));const G=Dc(this,f1(this,l));A1(this._pendingCalls,G),this._pendingCalls.add(n),o.changed&&kn.batchedUpdates(()=>{o.changed=!M,F?.(G,this),M?gg(a.onRest,G):o.onStart?.(G,this)})}M&&this._set(T),v?n(qme(e.to,e,this._state,this)):O?this._start():Wh(this)&&!m?this._pendingCalls.add(n):n(Gme(T))}_focus(t){const e=this.animation;t!==e.to&&(Uee(this)&&this._detach(),e.to=t,Uee(this)&&this._attach())}_attach(){let t=0;const{to:e}=this.animation;Ou(e)&&(QE(e,this),TU(e)&&(t=e.priority+1)),this.priority=t}_detach(){const{to:t}=this.animation;Ou(t)&&BP(t,this)}_set(t,e=!0){const n=Ol(t);if(!_t.und(n)){const r=Pu(this);if(!r||!gf(n,r.getValue())){const i=SU(n);!r||r.constructor!=i?_V(this,i.create(n)):r.setValue(n),r&&kn.batchedUpdates(()=>{this._onChange(n,e)})}}return Pu(this)}_onStart(){const t=this.animation;t.changed||(t.changed=!0,h1(this,"onStart",Dc(this,f1(this,t.to)),this))}_onChange(t,e){e||(this._onStart(),gg(this.animation.onChange,t,this)),gg(this.defaultProps.onChange,t,this),super._onChange(t,e)}_start(){const t=this.animation;Pu(this).reset(Ol(t.to)),t.immediate||(t.fromValues=t.values.map(e=>e.lastPosition)),Wh(this)||(Yee(this,!0),d1(this)||this._resume())}_resume(){nu.skipAnimation?this.finish():wO.start(this)}_stop(t,e){if(Wh(this)){Yee(this,!1);const n=this.animation;Rr(n.values,i=>{i.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),UP(this,{type:"idle",parent:this});const r=e?ex(this.get()):Dc(this.get(),f1(this,t??n.to));A1(this._pendingCalls,r),n.changed&&(n.changed=!1,h1(this,"onRest",r,this))}}};function f1(t,e){const n=XS(e),r=XS(t.get());return gf(r,n)}function Yme(t,e=t.loop,n=t.to){const r=gg(e);if(r){const i=r!==!0&&Hme(r),s=(i||t).reverse,a=!i||i.reset;return KS({...t,loop:e,default:!1,pause:void 0,to:!s||EU(n)?n:void 0,from:a?t.from:void 0,reset:a,...i})}}function KS(t){const{to:e,from:n}=t=Hme(t),r=new Set;return _t.obj(e)&&Zee(e,r),_t.obj(n)&&Zee(n,r),t.keys=r.size?Array.from(r):null,t}function $it(t){const e=KS(t);return _t.und(e.default)&&(e.default=EV(e)),e}function Zee(t,e){Xf(t,(n,r)=>n!=null&&e.add(r))}var Hit=["onStart","onRest","onChange","onPause","onResume"];function Qee(t,e,n){t.animation[n]=e[n]!==$me(e,n)?Vme(e[n],t.key):void 0}function h1(t,e,...n){t.animation[e]?.(...n),t.defaultProps[e]?.(...n)}var Wit=["onStart","onChange","onRest"],Git=1,qit=class{constructor(t,e){this.id=Git++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),e&&(this._flush=e),t&&this.start({default:!0,...t})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(t=>t.idle&&!t.isDelayed&&!t.isPaused)}get item(){return this._item}set item(t){this._item=t}get(){const t={};return this.each((e,n)=>t[n]=e.get()),t}set(t){for(const e in t){const n=t[e];_t.und(n)||this.springs[e].set(n)}}update(t){return t&&this.queue.push(KS(t)),this}start(t){let{queue:e}=this;return t?e=$l(t).map(KS):this.queue=[],this._flush?this._flush(this,e):(ege(this,e),PU(this,e))}stop(t,e){if(t!==!!t&&(e=t),e){const n=this.springs;Rr($l(e),r=>n[r].stop(!!t))}else YS(this._state,this._lastAsyncId),this.each(n=>n.stop(!!t));return this}pause(t){if(_t.und(t))this.start({pause:!0});else{const e=this.springs;Rr($l(t),n=>e[n].pause())}return this}resume(t){if(_t.und(t))this.start({pause:!1});else{const e=this.springs;Rr($l(t),n=>e[n].resume())}return this}each(t){Xf(this.springs,t)}_onFrame(){const{onStart:t,onChange:e,onRest:n}=this._events,r=this._active.size>0,i=this._changed.size>0;(r&&!this._started||i&&!this._started)&&(this._started=!0,a_(t,([o,l])=>{l.value=this.get(),o(l,this,this._item)}));const s=!r&&this._started,a=i||s&&n.size?this.get():null;i&&e.size&&a_(e,([o,l])=>{l.value=a,o(l,this,this._item)}),s&&(this._started=!1,a_(n,([o,l])=>{l.value=a,o(l,this,this._item)}))}eventObserved(t){if(t.type=="change")this._changed.add(t.parent),t.idle||this._active.add(t.parent);else if(t.type=="idle")this._active.delete(t.parent);else return;kn.onFrame(this._onFrame)}};function PU(t,e){return Promise.all(e.map(n=>Kme(t,n))).then(n=>MV(t,n))}async function Kme(t,e,n){const{keys:r,to:i,from:s,loop:a,onRest:o,onResolve:l}=e,c=_t.obj(e.default)&&e.default;a&&(e.loop=!1),i===!1&&(e.to=null),s===!1&&(e.from=null);const d=_t.arr(i)||_t.fun(i)?i:void 0;d?(e.to=void 0,e.onRest=void 0,c&&(c.onRest=void 0)):Rr(Wit,b=>{const y=e[b];if(_t.fun(y)){const w=t._events[b];e[b]=({finished:S,cancelled:M})=>{const T=w.get(y);T?(S||(T.finished=!1),M&&(T.cancelled=!0)):w.set(y,{value:null,finished:S||!1,cancelled:M||!1})},c&&(c[b]=e[b])}});const f=t._state;e.pause===!f.paused?(f.paused=e.pause,A1(e.pause?f.pauseQueue:f.resumeQueue)):f.paused&&(e.pause=!0);const h=(r||Object.keys(t.springs)).map(b=>t.springs[b].start(e)),m=e.cancel===!0||$me(e,"cancel")===!0;(d||m&&f.asyncId)&&h.push(Wme(++t._lastAsyncId,{props:e,state:f,actions:{pause:wU,resume:wU,start(b,y){m?(YS(f,t._lastAsyncId),y(ex(t))):(b.onRest=o,y(qme(d,b,f,t)))}}})),f.paused&&await new Promise(b=>{f.resumeQueue.add(b)});const v=MV(t,await Promise.all(h));if(a&&v.finished&&!(n&&v.noop)){const b=Yme(e,a,i);if(b)return ege(t,[b]),Kme(t,b,!0)}return l&&kn.batchedUpdates(()=>l(v,t,t.item)),v}function Jee(t,e){const n={...t.springs};return e&&Rr($l(e),r=>{_t.und(r.keys)&&(r=KS(r)),_t.obj(r.to)||(r={...r,to:void 0}),Jme(n,r,i=>Qme(i))}),Zme(t,n),n}function Zme(t,e){Xf(e,(n,r)=>{t.springs[r]||(t.springs[r]=n,QE(n,t))})}function Qme(t,e){const n=new Vit;return n.key=t,e&&QE(n,e),n}function Jme(t,e,n){e.keys&&Rr(e.keys,r=>{(t[r]||(t[r]=n(r)))._prepareNode(e)})}function ege(t,e){Rr(e,n=>{Jme(t.springs,n,r=>Qme(r,t))})}var TO=({children:t,...e})=>{const n=N.useContext(VP),r=e.pause||!!n.pause,i=e.immediate||!!n.immediate;e=wit(()=>({pause:r,immediate:i}),[r,i]);const{Provider:s}=VP;return N.createElement(s,{value:e},t)},VP=Xit(TO,{});TO.Provider=VP.Provider;TO.Consumer=VP.Consumer;function Xit(t,e){return Object.assign(t,N.createContext(e)),t.Provider._context=t,t.Consumer._context=t,t}var Yit=()=>{const t=[],e=function(r){xit();const i=[];return Rr(t,(s,a)=>{if(_t.und(r))i.push(s.start());else{const o=n(r,s,a);o&&i.push(s.start(o))}}),i};e.current=t,e.add=function(r){t.includes(r)||t.push(r)},e.delete=function(r){const i=t.indexOf(r);~i&&t.splice(i,1)},e.pause=function(){return Rr(t,r=>r.pause(...arguments)),this},e.resume=function(){return Rr(t,r=>r.resume(...arguments)),this},e.set=function(r){Rr(t,(i,s)=>{const a=_t.fun(r)?r(s,i):r;a&&i.set(a)})},e.start=function(r){const i=[];return Rr(t,(s,a)=>{if(_t.und(r))i.push(s.start());else{const o=this._getProps(r,s,a);o&&i.push(s.start(o))}}),i},e.stop=function(){return Rr(t,r=>r.stop(...arguments)),this},e.update=function(r){return Rr(t,(i,s)=>i.update(this._getProps(r,i,s))),this};const n=function(r,i,s){return _t.fun(r)?r(s,i):r};return e._getProps=n,e};function Kit(t,e,n){const r=_t.fun(e)&&e;r&&!n&&(n=[]);const i=N.useMemo(()=>r||arguments.length==3?Yit():void 0,[]),s=N.useRef(0),a=Fme(),o=N.useMemo(()=>({ctrls:[],queue:[],flush(w,S){const M=Jee(w,S);return s.current>0&&!o.queue.length&&!Object.keys(M).some(A=>!w.springs[A])?PU(w,S):new Promise(A=>{Zme(w,M),o.queue.push(()=>{A(PU(w,S))}),a()})}}),[]),l=N.useRef([...o.ctrls]),c=[],d=zee(t)||0;N.useMemo(()=>{Rr(l.current.slice(t,d),w=>{kit(w,i),w.stop(!0)}),l.current.length=t,f(d,t)},[t]),N.useMemo(()=>{f(0,Math.min(d,t))},n);function f(w,S){for(let M=w;M<S;M++){const T=l.current[M]||(l.current[M]=new qit(null,o.flush)),A=r?r(M,T):e[M];A&&(c[M]=$it(A))}}const h=l.current.map((w,S)=>Jee(w,c[S])),m=N.useContext(TO),v=zee(m),b=m!==v&&Iit(m);wV(()=>{s.current++,o.ctrls=l.current;const{queue:w}=o;w.length&&(o.queue=[],Rr(w,S=>S())),Rr(l.current,(S,M)=>{i?.add(S),b&&S.start({default:m});const T=c[M];T&&(Dit(S,T.ref),S.ref?S.queue.push(T):S.start(T))})}),Ume(()=>()=>{Rr(o.ctrls,w=>w.stop(!0))});const y=h.map(w=>({...w}));return i?[y,i]:y}function Zit(t,e){const n=_t.fun(t),[[r],i]=Kit(1,n?t:[t],n?[]:e);return n||arguments.length==2?[r,i]:r}var Qit=class extends TV{constructor(t,e){super(),this.source=t,this.idle=!0,this._active=new Set,this.calc=HS(...e);const n=this._get(),r=SU(n);_V(this,r.create(n))}advance(t){const e=this._get(),n=this.get();gf(e,n)||(Pu(this).setValue(e),this._onChange(e,this.idle)),!this.idle&&ete(this._active)&&v4(this)}_get(){const t=_t.arr(this.source)?this.source.map(Ol):$l(Ol(this.source));return this.calc(...t)}_start(){this.idle&&!ete(this._active)&&(this.idle=!1,Rr(MO(this),t=>{t.done=!1}),nu.skipAnimation?(kn.batchedUpdates(()=>this.advance()),v4(this)):wO.start(this))}_attach(){let t=1;Rr($l(this.source),e=>{Ou(e)&&QE(e,this),TU(e)&&(e.idle||this._active.add(e),t=Math.max(t,e.priority+1))}),this.priority=t,this._start()}_detach(){Rr($l(this.source),t=>{Ou(t)&&BP(t,this)}),this._active.clear(),v4(this)}eventObserved(t){t.type=="change"?t.idle?this.advance():(this._active.add(t.parent),this._start()):t.type=="idle"?this._active.delete(t.parent):t.type=="priority"&&(this.priority=$l(this.source).reduce((e,n)=>Math.max(e,(TU(n)?n.priority:0)+1),0))}};function Jit(t){return t.idle!==!1}function ete(t){return!t.size||Array.from(t).every(Jit)}function v4(t){t.idle||(t.idle=!0,Rr(MO(t),e=>{e.done=!0}),UP(t,{type:"idle",parent:t}))}nu.assign({createStringInterpolator:Dme,to:(t,e)=>new Qit(t,e)});var est=["primitive"].concat(Object.keys(Zpe).filter(t=>/^[A-Z]/.test(t)).map(t=>t[0].toLowerCase()+t.slice(1)));nu.assign({createStringInterpolator:Dme,colors:Krt,frameLoop:"demand"});Ktt(()=>{kn.advance()});var tst=Pit(est,{applyAnimatedValues:fg}),nst=tst.animated;function rst({enabled:t=!0,snap:e,global:n,domElement:r,cursor:i=!0,children:s,speed:a=1,rotation:o=[0,0,0],zoom:l=1,polar:c=[0,Math.PI/2],azimuth:d=[-1/0,1/0],config:f={mass:1,tension:170,friction:26}}){const h=So(C=>C.events),m=So(C=>C.gl),v=r||h.connected||m.domElement,{size:b}=So(),y=N.useMemo(()=>[o[0]+c[0],o[0]+c[1]],[o[0],c[0],c[1]]),w=N.useMemo(()=>[o[1]+d[0],o[1]+d[1]],[o[1],d[0],d[1]]),S=N.useMemo(()=>[S1.clamp(o[0],...y),S1.clamp(o[1],...w),o[2]],[o[0],o[1],o[2],y,w]),[M,T]=Zit(()=>({scale:1,rotation:S,config:f}));N.useEffect(()=>{T.start({scale:1,rotation:S,config:f})},[S]),N.useEffect(()=>{if(n&&i&&t)return v.style.cursor="grab",m.domElement.style.cursor="",()=>{v.style.cursor="default",m.domElement.style.cursor="default"}},[n,i,v,t]);const A=Vrt({onHover:({last:C})=>{i&&!n&&t&&(v.style.cursor=C?"auto":"grab")},onDrag:({down:C,delta:[j,L],memo:[O,k]=M.rotation.animation.to||S})=>{if(!t)return[L,j];i&&(v.style.cursor=C?"grabbing":"grab"),j=S1.clamp(k+j/b.width*Math.PI*a,...w),L=S1.clamp(O+L/b.height*Math.PI*a,...y);const F=e&&!C&&typeof e!="boolean"?e:f;return T.start({scale:C&&L>y[1]/2?l:1,rotation:e&&!C?S:[L,j,0],config:G=>G==="scale"?{...F,friction:F.friction*3}:F}),[L,j]}},{target:n?v:void 0});return N.createElement(nst.group,r0({},A?.(),M),s)}function ist(t,e=Math.PI/3){const n=Math.cos(e),r=(1+1e-10)*100,i=[new ie,new ie,new ie],s=new ie,a=new ie,o=new ie,l=new ie;function c(b){const y=~~(b.x*r),w=~~(b.y*r),S=~~(b.z*r);return`${y},${w},${S}`}const d=t.index?t.toNonIndexed():t,f=d.attributes.position,h={};for(let b=0,y=f.count/3;b<y;b++){const w=3*b,S=i[0].fromBufferAttribute(f,w+0),M=i[1].fromBufferAttribute(f,w+1),T=i[2].fromBufferAttribute(f,w+2);s.subVectors(T,M),a.subVectors(S,M);const A=new ie().crossVectors(s,a).normalize();for(let C=0;C<3;C++){const j=i[C],L=c(j);L in h||(h[L]=[]),h[L].push(A)}}const m=new Float32Array(f.count*3),v=new kr(m,3,!1);for(let b=0,y=f.count/3;b<y;b++){const w=3*b,S=i[0].fromBufferAttribute(f,w+0),M=i[1].fromBufferAttribute(f,w+1),T=i[2].fromBufferAttribute(f,w+2);s.subVectors(T,M),a.subVectors(S,M),o.crossVectors(s,a).normalize();for(let A=0;A<3;A++){const C=i[A],j=c(C),L=h[j];l.set(0,0,0);for(let O=0,k=L.length;O<k;O++){const F=L[O];o.dot(F)>n&&l.add(F)}l.normalize(),v.setXYZ(w+A,l.x,l.y,l.z)}}return d.setAttribute("normal",v),d}var sst=Object.defineProperty,ast=(t,e,n)=>e in t?sst(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ost=(t,e,n)=>(ast(t,e+"",n),n);class lst{constructor(){ost(this,"_listeners")}addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,a=i.length;s<a;s++)i[s].call(this,e);e.target=null}}}var cst=Object.defineProperty,ust=(t,e,n)=>e in t?cst(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xn=(t,e,n)=>(ust(t,typeof e!="symbol"?e+"":e,n),n);const x2=new T0,tte=new xf,dst=Math.cos(70*(Math.PI/180)),nte=(t,e)=>(t%e+e)%e;let fst=class extends lst{constructor(e,n){super(),xn(this,"object"),xn(this,"domElement"),xn(this,"enabled",!0),xn(this,"target",new ie),xn(this,"minDistance",0),xn(this,"maxDistance",1/0),xn(this,"minZoom",0),xn(this,"maxZoom",1/0),xn(this,"minPolarAngle",0),xn(this,"maxPolarAngle",Math.PI),xn(this,"minAzimuthAngle",-1/0),xn(this,"maxAzimuthAngle",1/0),xn(this,"enableDamping",!1),xn(this,"dampingFactor",.05),xn(this,"enableZoom",!0),xn(this,"zoomSpeed",1),xn(this,"enableRotate",!0),xn(this,"rotateSpeed",1),xn(this,"enablePan",!0),xn(this,"panSpeed",1),xn(this,"screenSpacePanning",!0),xn(this,"keyPanSpeed",7),xn(this,"zoomToCursor",!1),xn(this,"autoRotate",!1),xn(this,"autoRotateSpeed",2),xn(this,"reverseOrbit",!1),xn(this,"reverseHorizontalOrbit",!1),xn(this,"reverseVerticalOrbit",!1),xn(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),xn(this,"mouseButtons",{LEFT:cg.ROTATE,MIDDLE:cg.DOLLY,RIGHT:cg.PAN}),xn(this,"touches",{ONE:ug.ROTATE,TWO:ug.DOLLY_PAN}),xn(this,"target0"),xn(this,"position0"),xn(this,"zoom0"),xn(this,"_domElementKeyEvents",null),xn(this,"getPolarAngle"),xn(this,"getAzimuthalAngle"),xn(this,"setPolarAngle"),xn(this,"setAzimuthalAngle"),xn(this,"getDistance"),xn(this,"getZoomScale"),xn(this,"listenToKeyEvents"),xn(this,"stopListenToKeyEvents"),xn(this,"saveState"),xn(this,"reset"),xn(this,"update"),xn(this,"connect"),xn(this,"dispose"),xn(this,"dollyIn"),xn(this,"dollyOut"),xn(this,"getScale"),xn(this,"setScale"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>d.phi,this.getAzimuthalAngle=()=>d.theta,this.setPolarAngle=ue=>{let Pe=nte(ue,2*Math.PI),lt=d.phi;lt<0&&(lt+=2*Math.PI),Pe<0&&(Pe+=2*Math.PI);let fe=Math.abs(Pe-lt);2*Math.PI-fe<fe&&(Pe<lt?Pe+=2*Math.PI:lt+=2*Math.PI),f.phi=Pe-lt,r.update()},this.setAzimuthalAngle=ue=>{let Pe=nte(ue,2*Math.PI),lt=d.theta;lt<0&&(lt+=2*Math.PI),Pe<0&&(Pe+=2*Math.PI);let fe=Math.abs(Pe-lt);2*Math.PI-fe<fe&&(Pe<lt?Pe+=2*Math.PI:lt+=2*Math.PI),f.theta=Pe-lt,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=ue=>{ue.addEventListener("keydown",ye),this._domElementKeyEvents=ue},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",ye),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=o.NONE},this.update=(()=>{const ue=new ie,Pe=new ie(0,1,0),lt=new Ma().setFromUnitVectors(e.up,Pe),fe=lt.clone().invert(),at=new ie,et=new Ma,yt=2*Math.PI;return function(){const qe=r.object.position;lt.setFromUnitVectors(e.up,Pe),fe.copy(lt).invert(),ue.copy(qe).sub(r.target),ue.applyQuaternion(lt),d.setFromVector3(ue),r.autoRotate&&l===o.NONE&&U(G()),r.enableDamping?(d.theta+=f.theta*r.dampingFactor,d.phi+=f.phi*r.dampingFactor):(d.theta+=f.theta,d.phi+=f.phi);let ct=r.minAzimuthAngle,an=r.maxAzimuthAngle;isFinite(ct)&&isFinite(an)&&(ct<-Math.PI?ct+=yt:ct>Math.PI&&(ct-=yt),an<-Math.PI?an+=yt:an>Math.PI&&(an-=yt),ct<=an?d.theta=Math.max(ct,Math.min(an,d.theta)):d.theta=d.theta>(ct+an)/2?Math.max(ct,d.theta):Math.min(an,d.theta)),d.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,d.phi)),d.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(m,r.dampingFactor):r.target.add(m),r.zoomToCursor&&O||r.object.isOrthographicCamera?d.radius=de(d.radius):d.radius=de(d.radius*h),ue.setFromSpherical(d),ue.applyQuaternion(fe),qe.copy(r.target).add(ue),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(f.theta*=1-r.dampingFactor,f.phi*=1-r.dampingFactor,m.multiplyScalar(1-r.dampingFactor)):(f.set(0,0,0),m.set(0,0,0));let er=!1;if(r.zoomToCursor&&O){let Un=null;if(r.object instanceof yi&&r.object.isPerspectiveCamera){const Ei=ue.length();Un=de(Ei*h);const Mi=Ei-Un;r.object.position.addScaledVector(j,Mi),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const Ei=new ie(L.x,L.y,0);Ei.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/h)),r.object.updateProjectionMatrix(),er=!0;const Mi=new ie(L.x,L.y,0);Mi.unproject(r.object),r.object.position.sub(Mi).add(Ei),r.object.updateMatrixWorld(),Un=ue.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;Un!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(Un).add(r.object.position):(x2.origin.copy(r.object.position),x2.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(x2.direction))<dst?e.lookAt(r.target):(tte.setFromNormalAndCoplanarPoint(r.object.up,r.target),x2.intersectPlane(tte,r.target))))}else r.object instanceof Zc&&r.object.isOrthographicCamera&&(er=h!==1,er&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/h)),r.object.updateProjectionMatrix()));return h=1,O=!1,er||at.distanceToSquared(r.object.position)>c||8*(1-et.dot(r.object.quaternion))>c?(r.dispatchEvent(i),at.copy(r.object.position),et.copy(r.object.quaternion),er=!1,!0):!1}})(),this.connect=ue=>{r.domElement=ue,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",pt),r.domElement.addEventListener("pointerdown",re),r.domElement.addEventListener("pointercancel",H),r.domElement.addEventListener("wheel",me)},this.dispose=()=>{var ue,Pe,lt,fe,at,et;r.domElement&&(r.domElement.style.touchAction="auto"),(ue=r.domElement)==null||ue.removeEventListener("contextmenu",pt),(Pe=r.domElement)==null||Pe.removeEventListener("pointerdown",re),(lt=r.domElement)==null||lt.removeEventListener("pointercancel",H),(fe=r.domElement)==null||fe.removeEventListener("wheel",me),(at=r.domElement)==null||at.ownerDocument.removeEventListener("pointermove",K),(et=r.domElement)==null||et.ownerDocument.removeEventListener("pointerup",H),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",ye)};const r=this,i={type:"change"},s={type:"start"},a={type:"end"},o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=o.NONE;const c=1e-6,d=new uU,f=new uU;let h=1;const m=new ie,v=new Ge,b=new Ge,y=new Ge,w=new Ge,S=new Ge,M=new Ge,T=new Ge,A=new Ge,C=new Ge,j=new ie,L=new Ge;let O=!1;const k=[],F={};function G(){return 2*Math.PI/60/60*r.autoRotateSpeed}function Y(){return Math.pow(.95,r.zoomSpeed)}function U(ue){r.reverseOrbit||r.reverseHorizontalOrbit?f.theta+=ue:f.theta-=ue}function W(ue){r.reverseOrbit||r.reverseVerticalOrbit?f.phi+=ue:f.phi-=ue}const q=(()=>{const ue=new ie;return function(lt,fe){ue.setFromMatrixColumn(fe,0),ue.multiplyScalar(-lt),m.add(ue)}})(),Z=(()=>{const ue=new ie;return function(lt,fe){r.screenSpacePanning===!0?ue.setFromMatrixColumn(fe,1):(ue.setFromMatrixColumn(fe,0),ue.crossVectors(r.object.up,ue)),ue.multiplyScalar(lt),m.add(ue)}})(),V=(()=>{const ue=new ie;return function(lt,fe){const at=r.domElement;if(at&&r.object instanceof yi&&r.object.isPerspectiveCamera){const et=r.object.position;ue.copy(et).sub(r.target);let yt=ue.length();yt*=Math.tan(r.object.fov/2*Math.PI/180),q(2*lt*yt/at.clientHeight,r.object.matrix),Z(2*fe*yt/at.clientHeight,r.object.matrix)}else at&&r.object instanceof Zc&&r.object.isOrthographicCamera?(q(lt*(r.object.right-r.object.left)/r.object.zoom/at.clientWidth,r.object.matrix),Z(fe*(r.object.top-r.object.bottom)/r.object.zoom/at.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function Q(ue){r.object instanceof yi&&r.object.isPerspectiveCamera||r.object instanceof Zc&&r.object.isOrthographicCamera?h=ue:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function ee(ue){Q(h/ue)}function $(ue){Q(h*ue)}function J(ue){if(!r.zoomToCursor||!r.domElement)return;O=!0;const Pe=r.domElement.getBoundingClientRect(),lt=ue.clientX-Pe.left,fe=ue.clientY-Pe.top,at=Pe.width,et=Pe.height;L.x=lt/at*2-1,L.y=-(fe/et)*2+1,j.set(L.x,L.y,1).unproject(r.object).sub(r.object.position).normalize()}function de(ue){return Math.max(r.minDistance,Math.min(r.maxDistance,ue))}function Ae(ue){v.set(ue.clientX,ue.clientY)}function Ue(ue){J(ue),T.set(ue.clientX,ue.clientY)}function ge(ue){w.set(ue.clientX,ue.clientY)}function pe(ue){b.set(ue.clientX,ue.clientY),y.subVectors(b,v).multiplyScalar(r.rotateSpeed);const Pe=r.domElement;Pe&&(U(2*Math.PI*y.x/Pe.clientHeight),W(2*Math.PI*y.y/Pe.clientHeight)),v.copy(b),r.update()}function Oe(ue){A.set(ue.clientX,ue.clientY),C.subVectors(A,T),C.y>0?ee(Y()):C.y<0&&$(Y()),T.copy(A),r.update()}function xe(ue){S.set(ue.clientX,ue.clientY),M.subVectors(S,w).multiplyScalar(r.panSpeed),V(M.x,M.y),w.copy(S),r.update()}function Me(ue){J(ue),ue.deltaY<0?$(Y()):ue.deltaY>0&&ee(Y()),r.update()}function Ie(ue){let Pe=!1;switch(ue.code){case r.keys.UP:V(0,r.keyPanSpeed),Pe=!0;break;case r.keys.BOTTOM:V(0,-r.keyPanSpeed),Pe=!0;break;case r.keys.LEFT:V(r.keyPanSpeed,0),Pe=!0;break;case r.keys.RIGHT:V(-r.keyPanSpeed,0),Pe=!0;break}Pe&&(ue.preventDefault(),r.update())}function Te(){if(k.length==1)v.set(k[0].pageX,k[0].pageY);else{const ue=.5*(k[0].pageX+k[1].pageX),Pe=.5*(k[0].pageY+k[1].pageY);v.set(ue,Pe)}}function Xe(){if(k.length==1)w.set(k[0].pageX,k[0].pageY);else{const ue=.5*(k[0].pageX+k[1].pageX),Pe=.5*(k[0].pageY+k[1].pageY);w.set(ue,Pe)}}function Ce(){const ue=k[0].pageX-k[1].pageX,Pe=k[0].pageY-k[1].pageY,lt=Math.sqrt(ue*ue+Pe*Pe);T.set(0,lt)}function $e(){r.enableZoom&&Ce(),r.enablePan&&Xe()}function Be(){r.enableZoom&&Ce(),r.enableRotate&&Te()}function Ye(ue){if(k.length==1)b.set(ue.pageX,ue.pageY);else{const lt=Dt(ue),fe=.5*(ue.pageX+lt.x),at=.5*(ue.pageY+lt.y);b.set(fe,at)}y.subVectors(b,v).multiplyScalar(r.rotateSpeed);const Pe=r.domElement;Pe&&(U(2*Math.PI*y.x/Pe.clientHeight),W(2*Math.PI*y.y/Pe.clientHeight)),v.copy(b)}function ae(ue){if(k.length==1)S.set(ue.pageX,ue.pageY);else{const Pe=Dt(ue),lt=.5*(ue.pageX+Pe.x),fe=.5*(ue.pageY+Pe.y);S.set(lt,fe)}M.subVectors(S,w).multiplyScalar(r.panSpeed),V(M.x,M.y),w.copy(S)}function Ot(ue){const Pe=Dt(ue),lt=ue.pageX-Pe.x,fe=ue.pageY-Pe.y,at=Math.sqrt(lt*lt+fe*fe);A.set(0,at),C.set(0,Math.pow(A.y/T.y,r.zoomSpeed)),ee(C.y),T.copy(A)}function dt(ue){r.enableZoom&&Ot(ue),r.enablePan&&ae(ue)}function jt(ue){r.enableZoom&&Ot(ue),r.enableRotate&&Ye(ue)}function re(ue){var Pe,lt;r.enabled!==!1&&(k.length===0&&((Pe=r.domElement)==null||Pe.ownerDocument.addEventListener("pointermove",K),(lt=r.domElement)==null||lt.ownerDocument.addEventListener("pointerup",H)),cn(ue),ue.pointerType==="touch"?nt(ue):oe(ue))}function K(ue){r.enabled!==!1&&(ue.pointerType==="touch"?Ke(ue):he(ue))}function H(ue){var Pe,lt,fe;Je(ue),k.length===0&&((Pe=r.domElement)==null||Pe.releasePointerCapture(ue.pointerId),(lt=r.domElement)==null||lt.ownerDocument.removeEventListener("pointermove",K),(fe=r.domElement)==null||fe.ownerDocument.removeEventListener("pointerup",H)),r.dispatchEvent(a),l=o.NONE}function oe(ue){let Pe;switch(ue.button){case 0:Pe=r.mouseButtons.LEFT;break;case 1:Pe=r.mouseButtons.MIDDLE;break;case 2:Pe=r.mouseButtons.RIGHT;break;default:Pe=-1}switch(Pe){case cg.DOLLY:if(r.enableZoom===!1)return;Ue(ue),l=o.DOLLY;break;case cg.ROTATE:if(ue.ctrlKey||ue.metaKey||ue.shiftKey){if(r.enablePan===!1)return;ge(ue),l=o.PAN}else{if(r.enableRotate===!1)return;Ae(ue),l=o.ROTATE}break;case cg.PAN:if(ue.ctrlKey||ue.metaKey||ue.shiftKey){if(r.enableRotate===!1)return;Ae(ue),l=o.ROTATE}else{if(r.enablePan===!1)return;ge(ue),l=o.PAN}break;default:l=o.NONE}l!==o.NONE&&r.dispatchEvent(s)}function he(ue){if(r.enabled!==!1)switch(l){case o.ROTATE:if(r.enableRotate===!1)return;pe(ue);break;case o.DOLLY:if(r.enableZoom===!1)return;Oe(ue);break;case o.PAN:if(r.enablePan===!1)return;xe(ue);break}}function me(ue){r.enabled===!1||r.enableZoom===!1||l!==o.NONE&&l!==o.ROTATE||(ue.preventDefault(),r.dispatchEvent(s),Me(ue),r.dispatchEvent(a))}function ye(ue){r.enabled===!1||r.enablePan===!1||Ie(ue)}function nt(ue){switch(mt(ue),k.length){case 1:switch(r.touches.ONE){case ug.ROTATE:if(r.enableRotate===!1)return;Te(),l=o.TOUCH_ROTATE;break;case ug.PAN:if(r.enablePan===!1)return;Xe(),l=o.TOUCH_PAN;break;default:l=o.NONE}break;case 2:switch(r.touches.TWO){case ug.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;$e(),l=o.TOUCH_DOLLY_PAN;break;case ug.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Be(),l=o.TOUCH_DOLLY_ROTATE;break;default:l=o.NONE}break;default:l=o.NONE}l!==o.NONE&&r.dispatchEvent(s)}function Ke(ue){switch(mt(ue),l){case o.TOUCH_ROTATE:if(r.enableRotate===!1)return;Ye(ue),r.update();break;case o.TOUCH_PAN:if(r.enablePan===!1)return;ae(ue),r.update();break;case o.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;dt(ue),r.update();break;case o.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;jt(ue),r.update();break;default:l=o.NONE}}function pt(ue){r.enabled!==!1&&ue.preventDefault()}function cn(ue){k.push(ue)}function Je(ue){delete F[ue.pointerId];for(let Pe=0;Pe<k.length;Pe++)if(k[Pe].pointerId==ue.pointerId){k.splice(Pe,1);return}}function mt(ue){let Pe=F[ue.pointerId];Pe===void 0&&(Pe=new Ge,F[ue.pointerId]=Pe),Pe.set(ue.pageX,ue.pageY)}function Dt(ue){const Pe=ue.pointerId===k[0].pointerId?k[1]:k[0];return F[Pe.pointerId]}this.dollyIn=(ue=Y())=>{$(ue),r.update()},this.dollyOut=(ue=Y())=>{ee(ue),r.update()},this.getScale=()=>h,this.setScale=ue=>{Q(ue),r.update()},this.getZoomScale=()=>Y(),n!==void 0&&this.connect(n),this.update()}};const hst={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:`
      varying vec2 vUv;

      void main() {

        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

      }
  `,fragmentShader:`
    uniform sampler2D tDiffuse;
    uniform float h;

    varying vec2 vUv;

    void main() {

    	vec4 sum = vec4( 0.0 );

    	sum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;

    	gl_FragColor = sum;

    }
  `},pst={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:`
    varying vec2 vUv;

    void main() {

      vUv = uv;
      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }
  `,fragmentShader:`

  uniform sampler2D tDiffuse;
  uniform float v;

  varying vec2 vUv;

  void main() {

    vec4 sum = vec4( 0.0 );

    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;

    gl_FragColor = sum;

  }
  `},mst=N.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:r,enableDamping:i=!0,keyEvents:s=!1,onChange:a,onStart:o,onEnd:l,...c},d)=>{const f=So(C=>C.invalidate),h=So(C=>C.camera),m=So(C=>C.gl),v=So(C=>C.events),b=So(C=>C.setEvents),y=So(C=>C.set),w=So(C=>C.get),S=So(C=>C.performance),M=e||h,T=r||v.connected||m.domElement,A=N.useMemo(()=>new fst(M),[M]);return yO(()=>{A.enabled&&A.update()},-1),N.useEffect(()=>(s&&A.connect(s===!0?T:s),A.connect(T),()=>{A.dispose()}),[s,T,n,A,f]),N.useEffect(()=>{const C=O=>{f(),n&&S.regress(),a&&a(O)},j=O=>{o&&o(O)},L=O=>{l&&l(O)};return A.addEventListener("change",C),A.addEventListener("start",j),A.addEventListener("end",L),()=>{A.removeEventListener("start",j),A.removeEventListener("end",L),A.removeEventListener("change",C)}},[a,o,l,A,f,b]),N.useEffect(()=>{if(t){const C=w().controls;return y({controls:A}),()=>y({controls:C})}},[t,A]),N.createElement("primitive",r0({ref:d,object:A,enableDamping:i},c))}),Au=1e-5;function gst(t,e,n){const r=new pp,i=n-Au;return r.absarc(Au,Au,Au,-Math.PI/2,-Math.PI,!0),r.absarc(Au,e-i*2,Au,Math.PI,Math.PI/2,!0),r.absarc(t-i*2,e-i*2,Au,Math.PI/2,0,!0),r.absarc(t-i*2,Au,Au,0,-Math.PI/2,!0),r}const Gc=N.forwardRef(function({args:[e=1,n=1,r=1]=[],radius:i=.05,steps:s=1,smoothness:a=4,bevelSegments:o=4,creaseAngle:l=.4,children:c,...d},f){const h=N.useMemo(()=>gst(e,n,i),[e,n,i]),m=N.useMemo(()=>({depth:r-i*2,bevelEnabled:!0,bevelSegments:o*2,steps:s,bevelSize:i-Au,bevelThickness:i,curveSegments:a}),[r,i,a]),v=N.useRef(null);return N.useLayoutEffect(()=>{v.current&&(v.current.center(),ist(v.current,l))},[h,m]),N.createElement("mesh",r0({ref:f},d),N.createElement("extrudeGeometry",{ref:v,args:[h,m]}),c)}),vst=N.forwardRef(({scale:t=10,frames:e=1/0,opacity:n=1,width:r=1,height:i=1,blur:s=1,near:a=0,far:o=10,resolution:l=512,smooth:c=!0,color:d="#000000",depthWrite:f=!1,renderOrder:h,...m},v)=>{const b=N.useRef(null),y=So(U=>U.scene),w=So(U=>U.gl),S=N.useRef(null);r=r*(Array.isArray(t)?t[0]:t||1),i=i*(Array.isArray(t)?t[1]:t||1);const[M,T,A,C,j,L,O]=N.useMemo(()=>{const U=new eo(l,l),W=new eo(l,l);W.texture.generateMipmaps=U.texture.generateMipmaps=!1;const q=new C0(r,i).rotateX(Math.PI/2),Z=new Yi(q),V=new pO;V.depthTest=V.depthWrite=!1,V.onBeforeCompile=$=>{$.uniforms={...$.uniforms,ucolor:{value:new Lt(d)}},$.fragmentShader=$.fragmentShader.replace("void main() {",`uniform vec3 ucolor;
           void main() {
          `),$.fragmentShader=$.fragmentShader.replace("vec4( vec3( 1.0 - fragCoordZ ), opacity );","vec4( ucolor * fragCoordZ * 2.0, ( 1.0 - fragCoordZ ) * 1.0 );")};const Q=new Ro(hst),ee=new Ro(pst);return ee.depthTest=Q.depthTest=!1,[U,q,V,Z,Q,ee,W]},[l,r,i,t,d]),k=U=>{C.visible=!0,C.material=j,j.uniforms.tDiffuse.value=M.texture,j.uniforms.h.value=U*1/256,w.setRenderTarget(O),w.render(C,S.current),C.material=L,L.uniforms.tDiffuse.value=O.texture,L.uniforms.v.value=U*1/256,w.setRenderTarget(M),w.render(C,S.current),C.visible=!1};let F=0,G,Y;return yO(()=>{S.current&&(e===1/0||F<e)&&(F++,G=y.background,Y=y.overrideMaterial,b.current.visible=!1,y.background=null,y.overrideMaterial=A,w.setRenderTarget(M),w.render(y,S.current),k(s),c&&k(s*.4),w.setRenderTarget(null),b.current.visible=!0,y.overrideMaterial=Y,y.background=G)}),N.useImperativeHandle(v,()=>b.current,[]),N.createElement("group",r0({"rotation-x":Math.PI/2},m,{ref:b}),N.createElement("mesh",{renderOrder:h,geometry:T,scale:[1,-1,1],rotation:[-Math.PI/2,0,0]},N.createElement("meshBasicMaterial",{transparent:!0,map:M.texture,opacity:n,depthWrite:f})),N.createElement("orthographicCamera",{ref:S,args:[-r/2,r/2,i/2,-i/2,a,o]}))});function AV({position:t,color:e,label:n,onClick:r,isHighlighted:i}){const s=N.useRef(null),[a,o]=N.useState(!1),l=12;yO(f=>{s.current&&i&&(s.current.rotation.y=Math.sin(f.clock.elapsedTime*2)*.08)});const c=a||i,d=c?"#3b82f6":e;return u.jsxs("group",{position:t,ref:s,children:[u.jsxs("group",{onClick:r,onPointerOver:()=>o(!0),onPointerOut:()=>o(!1),scale:c?1.02:1,children:[u.jsx(Gc,{args:[.75,.08,.55],radius:.01,position:[0,.56,0],children:u.jsx("meshPhysicalMaterial",{color:"#1e293b",metalness:.9,roughness:.15,clearcoat:.3})}),u.jsx(Gc,{args:[.75,.08,.55],radius:.01,position:[0,-.56,0],children:u.jsx("meshPhysicalMaterial",{color:"#1e293b",metalness:.9,roughness:.15,clearcoat:.3})}),[...Array(l)].map((f,h)=>u.jsxs("group",{position:[0,-.48+h*.08,0],children:[u.jsx(Gc,{args:[.7,.02,.5],radius:.005,children:u.jsx("meshPhysicalMaterial",{color:h%2===0?"#475569":d,metalness:.85,roughness:.2,clearcoat:.2})}),u.jsxs("mesh",{position:[.32,0,0],children:[u.jsx("boxGeometry",{args:[.04,.025,.45]}),u.jsx("meshPhysicalMaterial",{color:"#0f172a",metalness:.9,roughness:.1})]}),u.jsxs("mesh",{position:[-.32,0,0],children:[u.jsx("boxGeometry",{args:[.04,.025,.45]}),u.jsx("meshPhysicalMaterial",{color:"#0f172a",metalness:.9,roughness:.1})]})]},h)),[[-.32,-.32],[-.32,.32],[.32,-.32],[.32,.32]].map(([f,h],m)=>u.jsxs("mesh",{position:[f,0,h],children:[u.jsx("cylinderGeometry",{args:[.018,.018,1.2,8]}),u.jsx("meshPhysicalMaterial",{color:"#71717a",metalness:.95,roughness:.1})]},m)),u.jsxs("group",{position:[.25,.62,0],children:[u.jsxs("mesh",{children:[u.jsx("cylinderGeometry",{args:[.035,.035,.08,12]}),u.jsx("meshPhysicalMaterial",{color:"#dc2626",metalness:.7,roughness:.3})]}),u.jsxs("mesh",{position:[0,.05,0],children:[u.jsx("cylinderGeometry",{args:[.025,.025,.04,8]}),u.jsx("meshPhysicalMaterial",{color:"#fbbf24",metalness:.8,roughness:.2})]})]}),u.jsxs("group",{position:[-.25,.62,0],children:[u.jsxs("mesh",{children:[u.jsx("cylinderGeometry",{args:[.035,.035,.08,12]}),u.jsx("meshPhysicalMaterial",{color:"#1e40af",metalness:.7,roughness:.3})]}),u.jsxs("mesh",{position:[0,.05,0],children:[u.jsx("cylinderGeometry",{args:[.025,.025,.04,8]}),u.jsx("meshPhysicalMaterial",{color:"#fbbf24",metalness:.8,roughness:.2})]})]}),u.jsxs("group",{position:[0,.62,.2],children:[u.jsxs("mesh",{children:[u.jsx("cylinderGeometry",{args:[.02,.02,.06,8]}),u.jsx("meshPhysicalMaterial",{color:"#374151",metalness:.85,roughness:.2})]}),u.jsxs("mesh",{position:[0,.04,0],rotation:[Math.PI/2,0,0],children:[u.jsx("cylinderGeometry",{args:[.012,.012,.08,6]}),u.jsx("meshPhysicalMaterial",{color:"#374151",metalness:.8,roughness:.25})]})]}),u.jsxs("group",{position:[0,.62,-.2],children:[u.jsxs("mesh",{children:[u.jsx("cylinderGeometry",{args:[.02,.02,.06,8]}),u.jsx("meshPhysicalMaterial",{color:"#374151",metalness:.85,roughness:.2})]}),u.jsxs("mesh",{position:[0,.04,0],rotation:[Math.PI/2,0,0],children:[u.jsx("cylinderGeometry",{args:[.012,.012,.08,6]}),u.jsx("meshPhysicalMaterial",{color:"#374151",metalness:.8,roughness:.25})]})]}),c&&u.jsxs("mesh",{position:[0,0,.26],children:[u.jsx("planeGeometry",{args:[.65,.4]}),u.jsx("meshBasicMaterial",{color:"#3b82f6",transparent:!0,opacity:.08})]})]}),c&&u.jsx(R0,{center:!0,position:[0,.9,0],style:{pointerEvents:"none"},children:u.jsxs("div",{className:"bg-slate-900/95 backdrop-blur px-3 py-2 rounded-lg shadow-xl border border-slate-700 text-xs whitespace-nowrap",children:[u.jsx("div",{className:"font-semibold text-white",children:n}),u.jsxs("div",{className:"text-slate-400 text-[10px] mt-0.5",children:["PEM Stack - ",l," cells"]})]})})]})}function tge({position:t,dimensions:e,color:n,opacity:r=.3}){const[i,s,a]=e;return u.jsxs("group",{position:t,children:[u.jsx(Gc,{args:[i,s,a],radius:.03,children:u.jsx("meshPhysicalMaterial",{color:n,transparent:!0,opacity:r,side:Ll,metalness:.3,roughness:.6})}),u.jsx(Gc,{args:[i-.05,s-.05,.02],radius:.02,position:[0,0,a/2+.01],children:u.jsx("meshPhysicalMaterial",{color:"#334155",metalness:.7,roughness:.3,transparent:!0,opacity:.6})}),[-.4,0,.4].map((o,l)=>u.jsxs("mesh",{position:[0,o,a/2+.025],children:[u.jsx("boxGeometry",{args:[i*.7,.04,.01]}),u.jsx("meshPhysicalMaterial",{color:"#1e293b",metalness:.8,roughness:.2})]},l)),[[-i/2+.05,-s/2+.05],[i/2-.05,-s/2+.05]].map(([o,l],c)=>u.jsxs("mesh",{position:[o,l,0],children:[u.jsx("boxGeometry",{args:[.08,.08,a]}),u.jsx("meshPhysicalMaterial",{color:"#0f172a",metalness:.5,roughness:.4})]},c))]})}function CV({position:t,rows:e,cols:n,onClick:r,isHighlighted:i}){const[s,a]=N.useState(!1),o=s||i,l=[];for(let f=0;f<e;f++)for(let h=0;h<n;h++){const m=h*.32-n*.32/2+.16,v=f*.22-e*.22/2+.11;l.push(u.jsxs("group",{position:[m,v,0],children:[u.jsx(Gc,{args:[.28,.18,.35],radius:.015,children:u.jsx("meshPhysicalMaterial",{color:o?"#22c55e":"#1e293b",metalness:.6,roughness:.35,clearcoat:.2})}),u.jsxs("mesh",{position:[.1,.095,0],children:[u.jsx("cylinderGeometry",{args:[.015,.015,.02,8]}),u.jsx("meshPhysicalMaterial",{color:"#dc2626",metalness:.8,roughness:.2})]}),u.jsxs("mesh",{position:[-.1,.095,0],children:[u.jsx("cylinderGeometry",{args:[.015,.015,.02,8]}),u.jsx("meshPhysicalMaterial",{color:"#1e40af",metalness:.8,roughness:.2})]}),u.jsxs("mesh",{position:[0,.02,.176],children:[u.jsx("planeGeometry",{args:[.2,.08]}),u.jsx("meshBasicMaterial",{color:o?"#86efac":"#475569"})]})]},`${f}-${h}`))}const c=n*.32+.12,d=e*.22+.12;return u.jsxs("group",{position:t,onClick:r,onPointerOver:()=>a(!0),onPointerOut:()=>a(!1),children:[u.jsx(Gc,{args:[c,d,.04],radius:.01,position:[0,0,-.2],children:u.jsx("meshPhysicalMaterial",{color:"#0f172a",metalness:.7,roughness:.25})}),[[-c/2+.02,-d/2+.02],[c/2-.02,-d/2+.02]].map(([f,h],m)=>u.jsxs("mesh",{position:[f,h,-.1],children:[u.jsx("boxGeometry",{args:[.04,.04,.2]}),u.jsx("meshPhysicalMaterial",{color:"#374151",metalness:.8,roughness:.2})]},m)),l,[...Array(n-1)].map((f,h)=>u.jsxs("mesh",{position:[(h+1)*.32-n*.32/2,0,.1],children:[u.jsx("boxGeometry",{args:[.008,d*.8,.02]}),u.jsx("meshPhysicalMaterial",{color:"#fbbf24",metalness:.6,roughness:.3})]},h)),o&&u.jsx(R0,{center:!0,position:[0,d/2+.15,0],style:{pointerEvents:"none"},children:u.jsxs("div",{className:"bg-slate-900/95 backdrop-blur px-3 py-2 rounded-lg shadow-xl border border-slate-700 text-xs whitespace-nowrap",children:[u.jsx("div",{className:"font-semibold text-white",children:"Lithium Battery Bank"}),u.jsxs("div",{className:"text-slate-400 text-[10px] mt-0.5",children:[e*n," x 48V LiFePO4 modules"]})]})})]})}function PV({position:t,onClick:e,isHighlighted:n}){const[r,i]=N.useState(!1),s=r||n;return u.jsxs("group",{position:t,onClick:e,onPointerOver:()=>i(!0),onPointerOut:()=>i(!1),children:[u.jsx(Gc,{args:[.55,.65,.32],radius:.02,children:u.jsx("meshPhysicalMaterial",{color:s?"#6366f1":"#0f172a",metalness:.7,roughness:.25,clearcoat:.4})}),u.jsx(Gc,{args:[.48,.58,.01],radius:.015,position:[0,0,.165],children:u.jsx("meshPhysicalMaterial",{color:"#1e293b",metalness:.6,roughness:.3})}),u.jsx(Gc,{args:[.38,.22,.01],radius:.01,position:[0,.14,.175],children:u.jsx("meshPhysicalMaterial",{color:"#0c4a6e",metalness:.3,roughness:.5})}),u.jsxs("mesh",{position:[0,.14,.182],children:[u.jsx("planeGeometry",{args:[.34,.18]}),u.jsx("meshBasicMaterial",{color:s?"#38bdf8":"#0284c7"})]}),[[-.12,-.08],[0,-.08],[.12,-.08]].map(([a,o],l)=>u.jsx("group",{position:[a,o,.17],children:u.jsxs("mesh",{children:[u.jsx("circleGeometry",{args:[.022,16]}),u.jsx("meshPhysicalMaterial",{color:l===0?"#22c55e":l===1?"#fbbf24":"#ef4444",emissive:l===0?"#22c55e":l===1?"#fbbf24":"#ef4444",emissiveIntensity:s?.8:.4})]})},l)),[[-.16,-.22],[-.08,-.22],[0,-.22],[.08,-.22],[.16,-.22]].map(([a,o],l)=>u.jsx(Gc,{args:[.05,.08,.02],radius:.008,position:[a,o,.16],children:u.jsx("meshPhysicalMaterial",{color:"#374151",metalness:.8,roughness:.2})},l)),[[-.2,.26],[.2,.26]].map(([a,o],l)=>u.jsxs("mesh",{position:[a,o,.165],rotation:[Math.PI/2,0,0],children:[u.jsx("cylinderGeometry",{args:[.012,.012,.03,8]}),u.jsx("meshPhysicalMaterial",{color:"#71717a",metalness:.9,roughness:.1})]},l)),[[-.22,-.28],[.22,-.28]].map(([a,o],l)=>u.jsx("group",{position:[a,o,0],children:u.jsxs("mesh",{rotation:[Math.PI/2,0,0],children:[u.jsx("cylinderGeometry",{args:[.025,.025,.34,8]}),u.jsx("meshPhysicalMaterial",{color:"#374151",metalness:.85,roughness:.2})]})},l)),s&&u.jsx(R0,{center:!0,position:[0,.5,0],style:{pointerEvents:"none"},children:u.jsxs("div",{className:"bg-slate-900/95 backdrop-blur px-3 py-2 rounded-lg shadow-xl border border-slate-700 text-xs whitespace-nowrap",children:[u.jsx("div",{className:"font-semibold text-white",children:"Integrated Controller"}),u.jsx("div",{className:"text-slate-400 text-[10px] mt-0.5",children:"BMS + MPPT + Modbus/SNMP"})]})})]})}function nge({position:t,onClick:e,isHighlighted:n}){const[r,i]=N.useState(!1),s=r||n;return u.jsxs("group",{position:t,onClick:e,onPointerOver:()=>i(!0),onPointerOut:()=>i(!1),children:[u.jsxs("mesh",{rotation:[0,0,Math.PI/2],children:[u.jsx("capsuleGeometry",{args:[.22,.9,12,24]}),u.jsx("meshPhysicalMaterial",{color:s?"#10b981":"#047857",metalness:.4,roughness:.3,clearcoat:.6,clearcoatRoughness:.2})]}),[-.35,-.15,.05,.25].map((a,o)=>u.jsxs("mesh",{position:[a,0,0],rotation:[0,0,Math.PI/2],children:[u.jsx("torusGeometry",{args:[.23,.012,8,32]}),u.jsx("meshPhysicalMaterial",{color:"#0f172a",metalness:.95,roughness:.1})]},o)),u.jsxs("mesh",{rotation:[0,0,Math.PI/2],position:[.1,0,0],children:[u.jsx("cylinderGeometry",{args:[.24,.24,.15,24]}),u.jsx("meshPhysicalMaterial",{color:"#fbbf24",metalness:.2,roughness:.6})]}),u.jsxs("group",{position:[.58,0,0],children:[u.jsxs("mesh",{rotation:[0,0,Math.PI/2],children:[u.jsx("cylinderGeometry",{args:[.07,.05,.14,12]}),u.jsx("meshPhysicalMaterial",{color:"#1e293b",metalness:.9,roughness:.15})]}),u.jsxs("mesh",{rotation:[0,0,Math.PI/2],position:[.08,0,0],children:[u.jsx("cylinderGeometry",{args:[.04,.04,.06,8]}),u.jsx("meshPhysicalMaterial",{color:"#374151",metalness:.85,roughness:.2})]}),u.jsxs("mesh",{rotation:[0,0,Math.PI/2],position:[.12,0,0],children:[u.jsx("cylinderGeometry",{args:[.025,.025,.04,6]}),u.jsx("meshPhysicalMaterial",{color:"#fbbf24",metalness:.7,roughness:.25})]}),u.jsxs("mesh",{position:[.04,.06,0],rotation:[0,0,0],children:[u.jsx("cylinderGeometry",{args:[.015,.015,.08,6]}),u.jsx("meshPhysicalMaterial",{color:"#374151",metalness:.8,roughness:.25})]}),u.jsxs("mesh",{position:[.04,.1,0],children:[u.jsx("sphereGeometry",{args:[.025,12,12]}),u.jsx("meshPhysicalMaterial",{color:"#ef4444",metalness:.3,roughness:.5})]})]}),u.jsxs("group",{position:[-.52,.15,0],children:[u.jsxs("mesh",{children:[u.jsx("boxGeometry",{args:[.08,.06,.04]}),u.jsx("meshPhysicalMaterial",{color:"#1e293b",metalness:.7,roughness:.3})]}),u.jsxs("mesh",{position:[0,0,.025],children:[u.jsx("planeGeometry",{args:[.06,.04]}),u.jsx("meshBasicMaterial",{color:s?"#22c55e":"#064e3b"})]})]}),s&&u.jsx(R0,{center:!0,position:[0,.45,0],style:{pointerEvents:"none"},children:u.jsxs("div",{className:"bg-slate-900/95 backdrop-blur px-3 py-2 rounded-lg shadow-xl border border-slate-700 text-xs whitespace-nowrap",children:[u.jsx("div",{className:"font-semibold text-white",children:"H2 Storage Cylinder"}),u.jsx("div",{className:"text-slate-400 text-[10px] mt-0.5",children:"Type IV Composite - 350 bar / 5 kg"})]})})]})}function rte({selectedComponent:t,onSelectComponent:e}){return u.jsxs("group",{children:[u.jsx(tge,{position:[0,.9,0],dimensions:[2,1.8,1],color:"#64748b",opacity:.15}),u.jsx(AV,{position:[-.5,.6,0],color:"#1e40af",label:"PEM Fuel Cell Stack (5kW)",onClick:()=>e(t==="stack"?null:"stack"),isHighlighted:t==="stack"}),u.jsx(PV,{position:[.5,.6,0],onClick:()=>e(t==="control"?null:"control"),isHighlighted:t==="control"}),u.jsx(CV,{position:[0,1.4,0],rows:2,cols:4,onClick:()=>e(t==="battery"?null:"battery"),isHighlighted:t==="battery"}),u.jsx(nge,{position:[0,-.3,0],onClick:()=>e(t==="tank"?null:"tank"),isHighlighted:t==="tank"})]})}function yst({selectedComponent:t,onSelectComponent:e}){return u.jsxs("group",{children:[u.jsxs("mesh",{position:[0,0,-.3],children:[u.jsx("boxGeometry",{args:[1.8,2.4,.08]}),u.jsx("meshStandardMaterial",{color:"#1f2937",metalness:.7,roughness:.3})]}),[-.85,.85].map(n=>u.jsxs("mesh",{position:[n,0,0],children:[u.jsx("boxGeometry",{args:[.05,2.4,.5]}),u.jsx("meshStandardMaterial",{color:"#374151",metalness:.6,roughness:.3})]},n)),u.jsx(PV,{position:[0,1,.1],onClick:()=>e(t==="control"?null:"control"),isHighlighted:t==="control"}),u.jsxs("group",{position:[0,.3,.1],children:[u.jsxs("mesh",{onClick:()=>e(t==="inverter"?null:"inverter"),children:[u.jsx("boxGeometry",{args:[1.5,.4,.3]}),u.jsx("meshStandardMaterial",{color:t==="inverter"?"#ec4899":"#0f172a",metalness:.5,roughness:.3})]}),t==="inverter"&&u.jsx(R0,{center:!0,position:[0,.4,0],style:{pointerEvents:"none"},children:u.jsx("div",{className:"bg-background/95 backdrop-blur px-3 py-1.5 rounded-md shadow-lg border text-xs whitespace-nowrap",children:"DC/DC Converter 48V"})})]}),u.jsx(CV,{position:[0,-.5,.1],rows:3,cols:4,onClick:()=>e(t==="battery"?null:"battery"),isHighlighted:t==="battery"}),u.jsx(AV,{position:[0,-1,.1],color:"#1e40af",label:"Fuel Cell Module (2.5kW)",onClick:()=>e(t==="stack"?null:"stack"),isHighlighted:t==="stack"})]})}function xst({selectedComponent:t,onSelectComponent:e}){const[n,r]=N.useState(null);return u.jsxs("group",{children:[u.jsxs("mesh",{position:[-1.2,.8,0],rotation:[Math.PI/6,0,0],children:[u.jsx("boxGeometry",{args:[1.2,.05,.8]}),u.jsx("meshStandardMaterial",{color:"#1e3a8a",metalness:.3,roughness:.5})]}),[...Array(6)].map((i,s)=>u.jsxs("mesh",{position:[-1.2+s%3*.35-.35,.85+Math.floor(s/3)*.1,-.25+Math.floor(s/3)*.35],rotation:[Math.PI/6,0,0],onPointerOver:()=>r("solar"),onPointerOut:()=>r(null),onClick:()=>e(t==="solar"?null:"solar"),children:[u.jsx("boxGeometry",{args:[.3,.02,.35]}),u.jsx("meshStandardMaterial",{color:n==="solar"||t==="solar"?"#60a5fa":"#0ea5e9",metalness:.1,roughness:.3})]},s)),(n==="solar"||t==="solar")&&u.jsx(R0,{center:!0,position:[-1.2,1.3,0],style:{pointerEvents:"none"},children:u.jsx("div",{className:"bg-background/95 backdrop-blur px-3 py-1.5 rounded-md shadow-lg border text-xs whitespace-nowrap",children:"Solar Array (2kWp)"})}),u.jsx(tge,{position:[.5,.6,0],dimensions:[1.5,1.2,.8],color:"#64748b",opacity:.2}),u.jsx(CV,{position:[.5,.8,0],rows:2,cols:3,onClick:()=>e(t==="battery"?null:"battery"),isHighlighted:t==="battery"}),u.jsx(PV,{position:[.5,.2,0],onClick:()=>e(t==="control"?null:"control"),isHighlighted:t==="control"}),u.jsx(AV,{position:[1.8,.4,0],color:"#1e40af",label:"Backup Fuel Cell (3kW)",onClick:()=>e(t==="stack"?null:"stack"),isHighlighted:t==="stack"}),u.jsx(nge,{position:[1.8,-.4,0],onClick:()=>e(t==="tank"?null:"tank"),isHighlighted:t==="tank"})]})}function bst({config:t,selectedComponent:e,onSelectComponent:n}){switch(t){case"standalone":return u.jsx(rte,{selectedComponent:e,onSelectComponent:n});case"rack":return u.jsx(yst,{selectedComponent:e,onSelectComponent:n});case"hybrid":return u.jsx(xst,{selectedComponent:e,onSelectComponent:n});default:return u.jsx(rte,{selectedComponent:e,onSelectComponent:n})}}const my={stack:{title:"PEM Fuel Cell Stack",description:"Proton Exchange Membrane fuel cell converts hydrogen and oxygen into electricity through electrochemical reaction.",specs:["Output: 2.5-10 kW","Efficiency: 40-60%","Voltage: 24-48V DC","Lifetime: 20,000+ hours"]},battery:{title:"Battery Bank",description:"Energy storage buffer that provides instant power during load transients and fuel cell startup.",specs:["Capacity: 10-100 Ah","Type: VRLA/Li-ion","Voltage: 48V nominal","Cycles: 500-5000"]},control:{title:"Control Unit & BMS",description:"Integrated controller managing power distribution, battery charging, and system monitoring.",specs:["MPPT charging","Remote monitoring","Load management","Fault protection"]},tank:{title:"Hydrogen Storage",description:"High-pressure vessel storing hydrogen fuel for extended runtime operation.",specs:["Pressure: 350 bar","Capacity: 2-10 kg H2","Material: Type IV composite","Refill: Swappable"]},inverter:{title:"DC/DC Converter",description:"Power electronics converting fuel cell output to system bus voltage.",specs:["Input: 20-60V DC","Output: 48V DC","Efficiency: 95%+","Galvanic isolation"]},solar:{title:"Solar Array",description:"Photovoltaic panels providing primary power generation in hybrid configurations.",specs:["Output: 1-5 kWp","Type: Monocrystalline","Efficiency: 20%+","Warranty: 25 years"]}};function wst(){return u.jsx("div",{className:"w-full h-full flex items-center justify-center",children:u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(Ds,{className:"w-8 h-8 animate-spin text-primary"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading 3D viewer..."})]})})}function _st(){return u.jsx(R0,{center:!0,children:u.jsxs("div",{className:"flex flex-col items-center gap-2 bg-background/90 backdrop-blur p-4 rounded-lg border shadow-lg",children:[u.jsx(Ds,{className:"w-6 h-6 animate-spin text-primary"}),u.jsx("p",{className:"text-sm text-muted-foreground whitespace-nowrap",children:"Loading 3D scene..."})]})})}function rge(){const[t,e]=N.useState("standalone"),[n,r]=N.useState(null),[i,s]=N.useState(!0),[a,o]=N.useState(!1),[l,c]=N.useState(1),d=N.useRef(null);N.useEffect(()=>{o(!0)},[]);const f=()=>{if(d.current){const v=Math.min(l+.2,2);c(v),d.current.object.position.multiplyScalar(.8),d.current.update()}},h=()=>{if(d.current){const v=Math.max(l-.2,.5);c(v),d.current.object.position.multiplyScalar(1.2),d.current.update()}},m={standalone:{title:"Standalone Outdoor Cabinet",description:"Self-contained weatherproof enclosure housing PEM fuel cell stack, lithium battery bank, hydrogen storage cylinders, and integrated BMS/controller. Designed for telecom tower backup with 48V DC output, -40C to +50C operation, and 72+ hour autonomy.",icon:wB,referenceUrl:"https://www.ballard.com/fuel-cell-solutions/backup-power",specs:["Power: 1-10 kW","Autonomy: 24-168 hrs","IP65 rated","H2: 350 bar cylinders"],manufacturer:"Ballard, Plug Power, SFC Energy"},rack:{title:'19" Rack Mount Indoor',description:"Modular 2U-6U components for data center and telecom shelter installation. Includes hot-swappable fuel cell modules, rack-mounted battery shelves, DC/DC converters, and remote-manageable controller with SNMP/Modbus interface.",icon:rbe,referenceUrl:"https://www.plugpower.com/fuel-cell-power/stationary/",specs:["Power: 2-25 kW",'Form: 19" EIA rack',"Hot-swap modules","N+1 redundancy"],manufacturer:"Plug Power, Intelligent Energy, Nedstack"},hybrid:{title:"Solar-Fuel Cell Hybrid",description:"Integrated renewable system combining photovoltaic array with hydrogen fuel cell for extended off-grid operation. Solar provides primary power during daylight; fuel cell activates during night/cloudy periods. Ideal for remote sites with limited grid access.",icon:ub,referenceUrl:"https://www.sfc-defense.com/products/efoy-pro",specs:["Solar: 1-5 kWp","FC Backup: 0.5-5 kW","MPPT charging","Zero emissions"],manufacturer:"SFC Energy, Horizon, PowerCell"}};return u.jsxs(vt,{className:"overflow-hidden","data-testid":"card-3d-viewer",children:[u.jsx(pn,{children:u.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[u.jsxs("div",{children:[u.jsxs(_n,{className:"flex items-center gap-2",children:[u.jsx(B4,{className:"w-5 h-5"}),"Interactive 3D Configuration Viewer"]}),u.jsx(Zr,{children:"Explore fuel cell system configurations - click components for details"})]}),u.jsxs("div",{className:"flex gap-2 flex-wrap",children:[u.jsx(bt,{variant:"outline",size:"icon",onClick:f,"data-testid":"button-zoom-in",title:"Zoom In",children:u.jsx(ybe,{className:"w-4 h-4"})}),u.jsx(bt,{variant:"outline",size:"icon",onClick:h,"data-testid":"button-zoom-out",title:"Zoom Out",children:u.jsx(xbe,{className:"w-4 h-4"})}),u.jsxs(bt,{variant:"outline",size:"sm",onClick:()=>s(!i),"data-testid":"button-toggle-rotate",children:[u.jsx(ure,{className:`w-4 h-4 mr-2 ${i?"animate-spin":""}`}),i?"Stop":"Rotate"]}),u.jsx(bt,{variant:"outline",size:"sm",onClick:()=>r(null),"data-testid":"button-reset-view",children:"Reset"})]})]})}),u.jsx(Ct,{className:"p-0",children:u.jsxs(g0,{value:t,onValueChange:v=>{e(v),r(null)},children:[u.jsx("div",{className:"px-6 pb-2",children:u.jsx(Dp,{className:"grid w-full grid-cols-3","data-testid":"tabs-config-list",children:Object.keys(m).map(v=>{const b=m[v],y=b.icon;return u.jsxs(xs,{value:v,"data-testid":`tab-config-${v}`,children:[u.jsx(y,{className:"w-4 h-4 mr-2"}),u.jsx("span",{className:"hidden sm:inline",children:b.title})]},v)})})}),u.jsxs("div",{className:"grid md:grid-cols-3 gap-0",children:[u.jsx("div",{className:"md:col-span-2 h-[400px] bg-gradient-to-b from-slate-100 to-slate-200 dark:from-slate-800 dark:to-slate-900","data-testid":"canvas-3d-viewer",children:a?u.jsx(bnt,{camera:{position:[4,3,4],fov:45},dpr:[1,2],gl:{antialias:!0,alpha:!0},shadows:!0,children:u.jsxs(N.Suspense,{fallback:u.jsx(_st,{}),children:[u.jsx("ambientLight",{intensity:.5}),u.jsx("directionalLight",{position:[8,10,5],intensity:1.2,castShadow:!0,"shadow-mapSize":[1024,1024],"shadow-bias":-1e-4}),u.jsx("directionalLight",{position:[-5,5,-5],intensity:.4}),u.jsx("pointLight",{position:[0,6,0],intensity:.3,color:"#e0f2fe"}),u.jsx("spotLight",{position:[5,8,3],angle:.4,penumbra:.5,intensity:.6,color:"#ffffff"}),u.jsx(rst,{global:!0,rotation:[0,0,0],polar:[-Math.PI/4,Math.PI/4],azimuth:[-Math.PI/4,Math.PI/4],config:{mass:2,tension:400},snap:{mass:4,tension:400},children:u.jsx("group",{position:[0,-.5,0],children:u.jsx(bst,{config:t,selectedComponent:n,onSelectComponent:r})})}),u.jsx(vst,{position:[0,-1.5,0],opacity:.5,scale:12,blur:2.5,far:4,color:"#1e293b"}),u.jsx(mst,{ref:d,enablePan:!1,enableZoom:!0,autoRotate:i,autoRotateSpeed:1,minDistance:3,maxDistance:10})]})}):u.jsx(wst,{})}),u.jsx("div",{className:"p-4 border-t md:border-t-0 md:border-l bg-muted/30 overflow-y-auto max-h-[400px]",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium mb-2","data-testid":"text-config-title",children:m[t].title}),u.jsx("p",{className:"text-sm text-muted-foreground mb-3","data-testid":"text-config-description",children:m[t].description}),u.jsxs("div",{className:"space-y-2 mb-3",children:[u.jsx("div",{className:"flex flex-wrap gap-1",children:m[t].specs.map((v,b)=>u.jsx(Sn,{variant:"secondary",className:"text-xs",children:v},b))}),u.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[u.jsx(_B,{className:"w-3 h-3"}),u.jsx("span",{children:m[t].manufacturer})]})]}),u.jsxs("a",{href:m[t].referenceUrl,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 text-xs text-primary hover:underline","data-testid":"link-config-reference",children:[u.jsx(g_,{className:"w-3 h-3"}),"View product reference"]})]}),n&&my[n]?u.jsxs("div",{className:"p-3 rounded-lg bg-background border","data-testid":"panel-component-info",children:[u.jsx("h5",{className:"font-medium text-sm mb-1","data-testid":"text-component-title",children:my[n].title}),u.jsx("p",{className:"text-xs text-muted-foreground mb-2","data-testid":"text-component-description",children:my[n].description}),u.jsx("div",{className:"flex flex-wrap gap-1",children:my[n].specs.map((v,b)=>u.jsx(Sn,{variant:"secondary",className:"text-xs","data-testid":`badge-spec-${n}-${b}`,children:v},b))})]}):u.jsx("div",{className:"p-3 rounded-lg bg-background/50 border border-dashed","data-testid":"panel-component-hint",children:u.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Click on a component in the 3D view to see details"})}),u.jsxs("div",{children:[u.jsx("h5",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Components"}),u.jsx("div",{className:"flex flex-wrap gap-1",children:Object.keys(my).map(v=>u.jsx(Sn,{variant:n===v?"default":"outline",className:"cursor-pointer text-xs",onClick:()=>r(n===v?null:v),"data-testid":`button-component-${v}`,children:my[v].title.split(" ")[0]},v))})]})]})})]})]})})]})}const Sst=Object.freeze(Object.defineProperty({__proto__:null,FuelCell3DViewer:rge},Symbol.toStringTag,{value:"Module"})),Est={en:{pageTitle:"Product Catalog",pageSubtitle:"Explore verified fuel cell solutions for telecom and industrial power.",searchPlaceholder:"Search manufacturer or model...",solutions:"Solutions",models3D:"3D Models",datasheet:"Datasheet",features:"Features",type:"Type",power:"Power",efficiency:"Efficiency",voltage:"Voltage",fuel:"Fuel",needCustomSizing:"Need a custom sizing?",sizingToolDescription:"Use our Sizing Tool to calculate the exact power requirements for your specific site location and load profile."},ar:{pageTitle:" ",pageSubtitle:"        .",searchPlaceholder:"    ...",solutions:"",models3D:"  ",datasheet:" ",features:"",type:"",power:"",efficiency:"",voltage:"",fuel:"",needCustomSizing:"    ",sizingToolDescription:"            ."}},Mst=[{id:"ballard-electragen",manufacturer:"Ballard Power Systems",model:"ElectraGen-H2",type:"PEM Hydrogen",power:"5-10 kW",efficiency:"55%",voltage:"48V DC",fuel:"Hydrogen",features:["Zero Emission","Cold Weather Kit","Compact Design"],datasheet:"https://www.ballard.com/markets/critical-infrastructure",color:"bg-blue-500"},{id:"plug-gensure",manufacturer:"Plug Power",model:"GenSure",type:"PEM Hydrogen",power:"5-10 kW",efficiency:"53%",voltage:"48V DC",fuel:"Hydrogen",features:["7,600+ Deployed","Predictive Maintenance","Fast Refueling"],datasheet:"https://www.plugpower.com/applications/stationary-power/telecom/",color:"bg-green-500"},{id:"sfc-efoy",manufacturer:"SFC Energy",model:"EFOY Pro 12000",type:"Methanol",power:"0.5 kW",efficiency:"45%",voltage:"24V DC",fuel:"Methanol",features:["Quiet Operation","No H2 Needed","Ultra-Portable"],datasheet:"https://www.sfc.com/en/products/efoy-pro/",color:"bg-orange-500"}];function Tst(){const[t,e]=N.useState(""),{language:n,isRTL:r}=Na(),i=Est[n],s=Mst.filter(a=>a.manufacturer.toLowerCase().includes(t.toLowerCase())||a.model.toLowerCase().includes(t.toLowerCase()));return u.jsxs("div",{className:"min-h-screen bg-[#F8FAFC] flex relative overflow-hidden",dir:r?"rtl":"ltr",children:[u.jsx(Eb,{}),u.jsx(No,{}),u.jsxs("main",{className:`flex-1 p-4 sm:p-6 lg:p-8 ${r?"lg:mr-20":"lg:ml-20"} relative z-10`,children:[u.jsxs("header",{className:"mb-8",children:[u.jsxs("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white flex items-center gap-3",children:[u.jsx(ore,{className:"w-8 h-8 text-primary"}),i.pageTitle]}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:i.pageSubtitle})]}),u.jsxs("div",{className:"relative mb-8 max-w-md",children:[u.jsx(MB,{className:`absolute ${r?"right-3":"left-3"} top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400`}),u.jsx(ln,{placeholder:i.searchPlaceholder,className:r?"pr-10":"pl-10",value:t,onChange:a=>e(a.target.value)})]}),u.jsxs(g0,{defaultValue:"list",className:"space-y-6",children:[u.jsxs(Dp,{children:[u.jsxs(xs,{value:"list",className:"gap-2",children:[u.jsx(cp,{className:"w-4 h-4"})," ",i.solutions]}),u.jsxs(xs,{value:"3d",className:"gap-2",children:[u.jsx(wB,{className:"w-4 h-4"})," ",i.models3D]})]}),u.jsx(Fs,{value:"list",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(a=>u.jsxs(vt,{className:"overflow-hidden border-none shadow-sm hover:shadow-md transition-shadow",children:[u.jsxs(pn,{className:"pb-4",children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsx("div",{className:`w-10 h-10 ${a.color} rounded-lg flex items-center justify-center text-white`,children:u.jsx(Di,{className:"w-5 h-5"})}),u.jsx(Sn,{variant:"secondary",children:a.power})]}),u.jsx(_n,{className:"mt-4",children:a.model}),u.jsx(Zr,{children:a.manufacturer})]}),u.jsxs(Ct,{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[u.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[u.jsx(ub,{className:"w-4 h-4"})," ",a.voltage]}),u.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[u.jsx(cp,{className:"w-4 h-4"})," ",a.fuel]})]}),u.jsx("div",{className:"space-y-2",children:a.features.map((o,l)=>u.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-600 dark:text-slate-400",children:[u.jsx(SB,{className:"w-3 h-3 text-emerald-500"})," ",o]},l))})]}),u.jsx(iie,{className:"bg-slate-50 dark:bg-slate-800/50 p-4",children:u.jsx(bt,{variant:"outline",className:"w-full gap-2",asChild:!0,children:u.jsxs("a",{href:a.datasheet,target:"_blank",rel:"noreferrer",children:[u.jsx(nd,{className:"w-4 h-4"})," ",i.datasheet]})})})]},a.id))}),u.jsx(Fs,{value:"3d",children:u.jsx(rge,{})})]}),u.jsxs("div",{className:"mt-12 p-6 bg-blue-50 dark:bg-blue-900/10 rounded-2xl border border-blue-100 dark:border-blue-800 flex items-start gap-4",children:[u.jsx(V4,{className:"w-5 h-5 text-blue-500 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-blue-900 dark:text-blue-100",children:i.needCustomSizing}),u.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:i.sizingToolDescription})]})]})]})]})}var ige="AlertDialog",[Ast]=Pa(ige,[mae]),eh=mae(),sge=t=>{const{__scopeAlertDialog:e,...n}=t,r=eh(e);return u.jsx(Rae,{...r,...n,modal:!0})};sge.displayName=ige;var Cst="AlertDialogTrigger",age=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=eh(n);return u.jsx(Oae,{...i,...r,ref:e})});age.displayName=Cst;var Pst="AlertDialogPortal",oge=t=>{const{__scopeAlertDialog:e,...n}=t,r=eh(e);return u.jsx(jae,{...r,...n})};oge.displayName=Pst;var Nst="AlertDialogOverlay",lge=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=eh(n);return u.jsx(Cz,{...i,...r,ref:e})});lge.displayName=Nst;var tx="AlertDialogContent",[Rst,Ost]=Ast(tx),jst=Pne("AlertDialogContent"),cge=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...i}=t,s=eh(n),a=N.useRef(null),o=Hn(e,a),l=N.useRef(null);return u.jsx(T2e,{contentName:tx,titleName:uge,docsSlug:"alert-dialog",children:u.jsx(Rst,{scope:n,cancelRef:l,children:u.jsxs(Pz,{role:"alertdialog",...s,...i,ref:o,onOpenAutoFocus:Ht(i.onOpenAutoFocus,c=>{c.preventDefault(),l.current?.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[u.jsx(jst,{children:r}),u.jsx(kst,{contentRef:a})]})})})});cge.displayName=tx;var uge="AlertDialogTitle",dge=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=eh(n);return u.jsx(Nz,{...i,...r,ref:e})});dge.displayName=uge;var fge="AlertDialogDescription",hge=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=eh(n);return u.jsx(Rz,{...i,...r,ref:e})});hge.displayName=fge;var Ist="AlertDialogAction",pge=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=eh(n);return u.jsx(Oz,{...i,...r,ref:e})});pge.displayName=Ist;var mge="AlertDialogCancel",gge=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:i}=Ost(mge,n),s=eh(n),a=Hn(e,i);return u.jsx(Oz,{...s,...r,ref:a})});gge.displayName=mge;var kst=({contentRef:t})=>{const e=`\`${tx}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${tx}\` by passing a \`${fge}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${tx}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return N.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},Dst=sge,Lst=age,Fst=oge,vge=lge,yge=cge,xge=pge,bge=gge,wge=dge,_ge=hge;const Ust=Dst,Bst=Lst,zst=Fst,Sge=N.forwardRef(({className:t,...e},n)=>u.jsx(vge,{className:Et("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));Sge.displayName=vge.displayName;const Ege=N.forwardRef(({className:t,...e},n)=>u.jsxs(zst,{children:[u.jsx(Sge,{}),u.jsx(yge,{ref:n,className:Et("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));Ege.displayName=yge.displayName;const Mge=({className:t,...e})=>u.jsx("div",{className:Et("flex flex-col space-y-2 text-center sm:text-left",t),...e});Mge.displayName="AlertDialogHeader";const Tge=({className:t,...e})=>u.jsx("div",{className:Et("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Tge.displayName="AlertDialogFooter";const Age=N.forwardRef(({className:t,...e},n)=>u.jsx(wge,{ref:n,className:Et("text-lg font-semibold",t),...e}));Age.displayName=wge.displayName;const Cge=N.forwardRef(({className:t,...e},n)=>u.jsx(_ge,{ref:n,className:Et("text-sm text-muted-foreground",t),...e}));Cge.displayName=_ge.displayName;const Pge=N.forwardRef(({className:t,...e},n)=>u.jsx(xge,{ref:n,className:Et(BB(),t),...e}));Pge.displayName=xge.displayName;const Nge=N.forwardRef(({className:t,...e},n)=>u.jsx(bge,{ref:n,className:Et(BB({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));Nge.displayName=bge.displayName;function y4({title:t,value:e,unit:n,icon:r,trend:i,className:s,subtext:a}){return u.jsxs("div",{className:Et("bg-white rounded-xl p-6 shadow-sm border border-border/50",s),children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsx("p",{className:"text-sm font-medium text-muted-foreground uppercase tracking-wider",children:t}),r&&u.jsx(r,{className:"w-5 h-5 text-primary/80"})]}),u.jsxs("div",{className:"flex items-baseline",children:[u.jsx("h3",{className:"text-3xl font-bold font-mono tracking-tight text-foreground",children:e}),n&&u.jsx("span",{className:"ml-1 text-sm font-medium text-muted-foreground",children:n})]}),(i||a)&&u.jsxs("div",{className:"mt-2 flex items-center text-sm",children:[i&&u.jsxs("span",{className:Et("font-medium px-1.5 py-0.5 rounded mr-2",i.isPositive?"text-emerald-700 bg-emerald-50":"text-rose-700 bg-rose-50"),children:[i.isPositive?"+":"",i.value,"%"]}),a&&u.jsx("span",{className:"text-muted-foreground/80 text-xs",children:a})]})]})}function Vst(){const[,t]=hye("/projects/:id"),[,e]=lb(),n=parseInt(t?.id||"0"),{generateDiagram:r,isLoading:i}=pfe(),{toast:s}=hd(),{data:a,isLoading:o}=CRe(n),l=NRe(),c=()=>{l.mutate(n,{onSuccess:()=>e("/")})},d=async()=>{if(!a)return;(await r({type:"system",load:a.loadKw,fcPower:a.fuelCellId?10:5,batteryCapacity:a.requiredBatteryKwh||0,h2Cylinders:a.dailyFuelConsumption?Math.ceil(a.dailyFuelConsumption/7):1})).success?s({title:"Success",description:"System diagram generated and downloaded."}):s({title:"Error",description:"Failed to generate diagram. Please check if Graphviz is installed.",variant:"destructive"})};return o?u.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:u.jsx(Ds,{className:"w-8 h-8 animate-spin text-primary"})}):a?u.jsxs("div",{className:"min-h-screen bg-slate-50 flex",children:[u.jsx(No,{}),u.jsxs("main",{className:"flex-1 p-4 sm:p-6 lg:p-8 lg:ml-20",children:[u.jsxs(bt,{variant:"ghost",className:"mb-6 pl-0 hover:bg-transparent hover:text-primary",onClick:()=>e("/"),children:[u.jsx(_N,{className:"w-4 h-4 mr-2"})," Back to Dashboard"]}),u.jsxs("header",{className:"flex justify-between items-start mb-8",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:a.name}),u.jsx("p",{className:"text-slate-500 mt-2 text-lg",children:a.description||"No description provided."}),u.jsxs("div",{className:"mt-4 flex items-center text-sm text-muted-foreground",children:[u.jsxs("span",{children:["Created on ",hx(new Date(a.createdAt),"MMMM d, yyyy")]}),u.jsx("span",{className:"mx-2",children:""}),u.jsxs("span",{children:["ID: #",a.id]})]})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs(bt,{variant:"outline",onClick:d,disabled:i,children:[i?u.jsx(Ds,{className:"w-4 h-4 mr-2 animate-spin"}):u.jsx(sre,{className:"w-4 h-4 mr-2"}),"Generate Diagram"]}),u.jsxs(Ust,{children:[u.jsx(Bst,{asChild:!0,children:u.jsxs(bt,{variant:"destructive",className:"bg-red-50 text-red-600 hover:bg-red-100 border border-red-200",children:[u.jsx(cA,{className:"w-4 h-4 mr-2"})," Delete Project"]})}),u.jsxs(Ege,{children:[u.jsxs(Mge,{children:[u.jsx(Age,{children:"Are you absolutely sure?"}),u.jsx(Cge,{children:"This action cannot be undone. This will permanently delete the project and remove its data from the server."})]}),u.jsxs(Tge,{children:[u.jsx(Nge,{children:"Cancel"}),u.jsx(Pge,{onClick:c,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[u.jsx(y4,{title:"Site Load",value:a.loadKw,unit:"kW",icon:Di,className:"border-t-4 border-t-primary"}),u.jsx(y4,{title:"Autonomy",value:a.autonomyHours,unit:"Hours",icon:oA,className:"border-t-4 border-t-blue-400"}),u.jsx(y4,{title:"Battery Req.",value:a.requiredBatteryKwh?.toFixed(1)||"-",unit:"kWh",icon:ub,className:"border-t-4 border-t-emerald-500"})]}),u.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-border/50 p-8",children:[u.jsx("h3",{className:"text-xl font-bold mb-6",children:"Technical Specification Report"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[u.jsx("div",{className:"space-y-6",children:u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider mb-2",children:"Power System"}),u.jsxs("div",{className:"flex justify-between py-3 border-b border-slate-100",children:[u.jsx("span",{className:"text-slate-700",children:"System Voltage"}),u.jsxs("span",{className:"font-mono font-medium",children:[a.systemVoltage," VDC"]})]}),u.jsxs("div",{className:"flex justify-between py-3 border-b border-slate-100",children:[u.jsx("span",{className:"text-slate-700",children:"Daily Fuel Consumption"}),u.jsxs("span",{className:"font-mono font-medium",children:[a.dailyFuelConsumption?.toFixed(2)," kg"]})]})]})}),u.jsx("div",{className:"space-y-6",children:u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider mb-2",children:"Infrastructure"}),u.jsxs("div",{className:"flex justify-between py-3 border-b border-slate-100",children:[u.jsx("span",{className:"text-slate-700",children:"Rec. Cable Size"}),u.jsxs("span",{className:"font-mono font-medium",children:[a.recommendedCableSizeMm2," mm"]})]}),u.jsxs("div",{className:"flex justify-between py-3 border-b border-slate-100",children:[u.jsx("span",{className:"text-slate-700",children:"Equipment Type"}),u.jsx("span",{className:"font-mono font-medium",children:"Fuel Cell (PEM)"})]})]})})]})]})]})]}):u.jsxs("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center flex-col",children:[u.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Project Not Found"}),u.jsx(bt,{onClick:()=>e("/"),children:"Return to Dashboard"})]})}var NV="Switch",[$st]=Pa(NV),[Hst,Wst]=$st(NV),Rge=N.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:a,disabled:o,value:l="on",onCheckedChange:c,form:d,...f}=t,[h,m]=N.useState(null),v=Hn(e,M=>m(M)),b=N.useRef(!1),y=h?d||!!h.closest("form"):!0,[w=!1,S]=Qc({prop:i,defaultProp:s,onChange:c});return u.jsxs(Hst,{scope:n,checked:w,disabled:o,children:[u.jsx(tn.button,{type:"button",role:"switch","aria-checked":w,"aria-required":a,"data-state":Ige(w),"data-disabled":o?"":void 0,disabled:o,value:l,...f,ref:v,onClick:Ht(t.onClick,M=>{S(T=>!T),y&&(b.current=M.isPropagationStopped(),b.current||M.stopPropagation())})}),y&&u.jsx(Gst,{control:h,bubbles:!b.current,name:r,value:l,checked:w,required:a,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});Rge.displayName=NV;var Oge="SwitchThumb",jge=N.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=Wst(Oge,n);return u.jsx(tn.span,{"data-state":Ige(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});jge.displayName=Oge;var Gst=t=>{const{control:e,checked:n,bubbles:r=!0,...i}=t,s=N.useRef(null),a=$6(n),o=DB(e);return N.useEffect(()=>{const l=s.current,c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"checked").set;if(a!==n&&f){const h=new Event("click",{bubbles:r});f.call(l,n),l.dispatchEvent(h)}},[a,n,r]),u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:s,style:{...t.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Ige(t){return t?"checked":"unchecked"}var kge=Rge,qst=jge;const Y2=N.forwardRef(({className:t,...e},n)=>u.jsx(kge,{className:Et("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:u.jsx(qst,{className:Et("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Y2.displayName=kge.displayName;function Xst(){const{settings:t,updatePreferences:e,updateUnits:n,updateCalculationDefaults:r,resetToDefaults:i,language:s,isRTL:a}=Na(),{user:o}=NN(),{toast:l}=hd(),d={en:{settings:"Settings",customizeExperience:"Customize your experience and calculation defaults",resetToDefaults:"Reset to Defaults",profile:"Profile",preferences:"Preferences",units:"Units",calculations:"Calculations",personalInfo:"Personal Information",updateProfileDesc:"Update your profile photo and personal details",changePhoto:"Change Photo",removePhoto:"Remove Photo",firstName:"First Name",lastName:"Last Name",emailAddress:"Email Address",jobTitle:"Job Title",saveChanges:"Save Changes",changePassword:"Change Password",changePasswordDesc:"Update your account password",currentPassword:"Current Password",newPassword:"New Password",confirmPassword:"Confirm Password",updatePassword:"Update Password",passwordsNoMatch:"New passwords do not match",theme:"Theme",selectTheme:"Select your preferred theme",light:"Light",dark:"Dark",systemTheme:"System",colorScheme:"Color Scheme",selectColor:"Choose your accent color",visualStyle:"Visual Style",selectStyle:"Choose your interface style",languageLabel:"Language",selectLanguage:"Select your preferred language",english:"English",arabic:"",currency:"Currency",selectCurrency:"Set your preferred currency display",temperatureUnit:"Temperature Unit",pressureUnit:"Pressure Unit",diesel:"Diesel Defaults",hydrogen:"Hydrogen Defaults",battery:"Battery Defaults",systemDefaults:"System Defaults",dieselPrice:"Diesel Price",generatorCapex:"Generator CAPEX",hydrogenPrice:"Hydrogen Price",fuelCellCapex:"Fuel Cell CAPEX",batteryDod:"Battery DOD",batteryBuffer:"Battery Buffer",systemVoltage:"System Voltage",refuelingCycle:"Refueling Cycle",pilferageFactor:"Pilferage Factor",logisticsCost:"Logistics Cost %"},ar:{settings:"",customizeExperience:"    ",resetToDefaults:"  ",profile:" ",preferences:"",units:"",calculations:"",personalInfo:" ",updateProfileDesc:"     ",changePhoto:" ",removePhoto:" ",firstName:" ",lastName:" ",emailAddress:" ",jobTitle:" ",saveChanges:" ",changePassword:"  ",changePasswordDesc:"   ",currentPassword:"  ",newPassword:"  ",confirmPassword:"  ",updatePassword:"  ",passwordsNoMatch:"    ",theme:"",selectTheme:"   ",light:"",dark:"",systemTheme:"",colorScheme:" ",selectColor:"  ",visualStyle:" ",selectStyle:"  ",languageLabel:"",selectLanguage:"  ",english:"English",arabic:"",currency:"",selectCurrency:"   ",temperatureUnit:" ",pressureUnit:" ",diesel:" ",hydrogen:" ",battery:" ",systemDefaults:" ",dieselPrice:" ",generatorCapex:" ",hydrogenPrice:" ",fuelCellCapex:"  ",batteryDod:"  ",batteryBuffer:" ",systemVoltage:" ",refuelingCycle:"  ",pilferageFactor:" ",logisticsCost:"  "}}[s],f=N.useRef(null),[h,m]=N.useState(o?.firstName||""),[v,b]=N.useState(o?.lastName||""),[y,w]=N.useState(""),[S,M]=N.useState(o?.profileImageUrl||""),[T,A]=N.useState(!1),[C,j]=N.useState(""),[L,O]=N.useState(""),[k,F]=N.useState(""),[G,Y]=N.useState(!1),[U,W]=N.useState(!1),[q,Z]=N.useState(!1);N.useEffect(()=>{o&&(m(o.firstName||""),b(o.lastName||""),w(""),M(o.profileImageUrl||""))},[o]);const V=J=>{const de=J.target.files?.[0];if(de){if(de.size>2*1024*1024){l({title:"File too large",description:"Please select an image under 2MB.",variant:"destructive"});return}const Ae=new FileReader;Ae.onload=Ue=>{M(Ue.target?.result)},Ae.readAsDataURL(de)}},Q=async()=>{if(o){A(!0);try{const de=await(await fetch(`/api/user/${o.id}/profile`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:h,lastName:v,jobTitle:y,profilePhoto:S})})).json();if(de.success)setUser({...o,firstName:h,lastName:v,jobTitle:y,profilePhoto:S}),l({title:"Profile Updated",description:"Your profile has been saved successfully."});else throw new Error(de.error)}catch(J){l({title:"Error",description:J.message||"Failed to update profile",variant:"destructive"})}finally{A(!1)}}},ee=async()=>{if(o){if(L!==k){l({title:"Error",description:"New passwords do not match.",variant:"destructive"});return}if(L.length<6){l({title:"Error",description:"Password must be at least 6 characters.",variant:"destructive"});return}Z(!0);try{const de=await(await fetch(`/api/user/${o.id}/change-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:C,newPassword:L})})).json();if(de.success)j(""),O(""),F(""),l({title:"Password Changed",description:"Your password has been updated successfully."});else throw new Error(de.error)}catch(J){l({title:"Error",description:J.message||"Failed to change password",variant:"destructive"})}finally{Z(!1)}}},$=()=>{i(),l({title:"Settings Reset",description:"All settings have been restored to defaults."})};return u.jsxs("div",{className:`min-h-screen bg-[#F8FAFC] flex relative overflow-hidden ${a?"rtl":"ltr"}`,children:[u.jsx(Eb,{}),u.jsx(No,{}),u.jsxs("main",{className:"flex-1 p-4 sm:p-6 lg:p-8 lg:ml-20 relative z-10",children:[u.jsxs("header",{className:"mb-4 sm:mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[u.jsxs("div",{children:[u.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[u.jsx(fre,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"}),d.settings]}),u.jsx("p",{className:"text-sm sm:text-base text-slate-500 dark:text-slate-400 mt-1",children:d.customizeExperience})]}),u.jsxs(bt,{variant:"outline",onClick:$,className:"w-fit text-sm","data-testid":"button-reset-settings",children:[u.jsx(ure,{className:`w-4 h-4 ${a?"ml-2":"mr-2"}`}),d.resetToDefaults]})]}),u.jsxs(g0,{defaultValue:"profile",className:"space-y-4 sm:space-y-6",children:[u.jsxs(Dp,{className:"grid w-full max-w-full sm:max-w-2xl grid-cols-2 sm:grid-cols-4 h-auto sm:h-10",children:[u.jsxs(xs,{value:"profile","data-testid":"tab-profile",children:[u.jsx(x_,{className:`w-4 h-4 ${a?"ml-2":"mr-2"}`}),d.profile]}),u.jsxs(xs,{value:"preferences","data-testid":"tab-preferences",children:[u.jsx(bj,{className:`w-4 h-4 ${a?"ml-2":"mr-2"}`}),d.preferences]}),u.jsxs(xs,{value:"units","data-testid":"tab-units",children:[u.jsx(aa,{className:`w-4 h-4 ${a?"ml-2":"mr-2"}`}),d.units]}),u.jsxs(xs,{value:"calculations","data-testid":"tab-calculations",children:[u.jsx(wy,{className:`w-4 h-4 ${a?"ml-2":"mr-2"}`}),d.calculations]})]}),u.jsxs(Fs,{value:"profile",className:"space-y-6",children:[u.jsxs(vt,{children:[u.jsxs(pn,{children:[u.jsxs(_n,{className:"flex items-center gap-2",children:[u.jsx(x_,{className:"w-5 h-5"}),d.personalInfo]}),u.jsx(Zr,{children:d.updateProfileDesc})]}),u.jsx(Ct,{className:"space-y-6",children:u.jsxs("div",{className:"flex flex-col md:flex-row items-start gap-6",children:[u.jsxs("div",{className:"flex flex-col items-center gap-3",children:[u.jsxs(_0,{className:"w-24 h-24",children:[S?u.jsx(S0,{src:S,alt:"Profile"}):null,u.jsx(E0,{className:"text-2xl bg-primary/10 text-primary",children:h?.[0]?.toUpperCase()||o?.email?.[0]?.toUpperCase()||"U"})]}),u.jsx("input",{type:"file",ref:f,onChange:V,accept:"image/*",className:"hidden"}),u.jsxs(bt,{variant:"outline",size:"sm",onClick:()=>f.current?.click(),children:[u.jsx(Xxe,{className:`w-4 h-4 ${a?"ml-2":"mr-2"}`}),d.changePhoto]}),S&&u.jsx(bt,{variant:"ghost",size:"sm",onClick:()=>M(""),className:"text-destructive hover:text-destructive",children:d.removePhoto})]}),u.jsxs("div",{className:"flex-1 space-y-4 w-full",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Zt,{children:d.firstName}),u.jsx(ln,{value:h,onChange:J=>m(J.target.value),placeholder:"Enter first name"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Zt,{children:"Last Name"}),u.jsx(ln,{value:v,onChange:J=>b(J.target.value),placeholder:"Enter last name"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Zt,{children:"Job Title"}),u.jsx(ln,{value:y,onChange:J=>w(J.target.value),placeholder:"e.g. Energy Systems Strategist & Senior Maintenance Engineer"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Zt,{children:"Email / Phone"}),u.jsx(ln,{value:o?.email||"",disabled:!0,className:"bg-slate-100"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Contact information cannot be changed"})]}),u.jsx("div",{className:"pt-2",children:u.jsxs(bt,{onClick:Q,disabled:T,children:[u.jsx(dre,{className:"w-4 h-4 mr-2"}),T?"Saving...":"Save Profile"]})})]})]})})]}),u.jsxs(vt,{children:[u.jsxs(pn,{children:[u.jsxs(_n,{className:"flex items-center gap-2",children:[u.jsx(_y,{className:"w-5 h-5"}),"Change Password"]}),u.jsx(Zr,{children:"Update your account password"})]}),u.jsxs(Ct,{className:"space-y-4 max-w-md",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Zt,{children:"Current Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(ln,{type:G?"text":"password",value:C,onChange:J=>j(J.target.value),placeholder:"Enter current password"}),u.jsx("button",{type:"button",onClick:()=>Y(!G),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:G?u.jsx(_$,{className:"w-4 h-4"}):u.jsx(v_,{className:"w-4 h-4"})})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Zt,{children:"New Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(ln,{type:U?"text":"password",value:L,onChange:J=>O(J.target.value),placeholder:"Enter new password"}),u.jsx("button",{type:"button",onClick:()=>W(!U),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:U?u.jsx(_$,{className:"w-4 h-4"}):u.jsx(v_,{className:"w-4 h-4"})})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Zt,{children:"Confirm New Password"}),u.jsx(ln,{type:"password",value:k,onChange:J=>F(J.target.value),placeholder:"Confirm new password"})]}),u.jsx("div",{className:"pt-2",children:u.jsxs(bt,{onClick:ee,disabled:q||!C||!L||!k,variant:"outline",children:[u.jsx(_y,{className:"w-4 h-4 mr-2"}),q?"Changing...":"Change Password"]})})]})]})]}),u.jsxs(Fs,{value:"preferences",className:"space-y-6",children:[u.jsxs(vt,{children:[u.jsxs(pn,{children:[u.jsxs(_n,{className:"flex items-center gap-2",children:[u.jsx(bj,{className:"w-5 h-5"}),"Color Theme"]}),u.jsx(Zr,{children:"Choose your preferred color scheme"})]}),u.jsx(Ct,{className:"space-y-6",children:u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-3",children:[u.jsxs("button",{onClick:()=>e({theme:"light"}),className:`p-4 rounded-lg border-2 transition-all ${t.preferences.theme==="light"?"border-primary ring-2 ring-primary/20":"border-slate-200 hover:border-slate-300"}`,children:[u.jsx("div",{className:"w-full h-12 rounded-md bg-gradient-to-br from-white to-slate-100 border mb-2"}),u.jsxs("div",{className:"flex items-center justify-center gap-1",children:[u.jsx(hre,{className:"w-3 h-3"}),u.jsx("span",{className:"text-xs font-medium",children:"Light"})]})]}),u.jsxs("button",{onClick:()=>e({theme:"dark"}),className:`p-4 rounded-lg border-2 transition-all ${t.preferences.theme==="dark"?"border-primary ring-2 ring-primary/20":"border-slate-200 hover:border-slate-300"}`,children:[u.jsx("div",{className:"w-full h-12 rounded-md bg-gradient-to-br from-slate-800 to-slate-900 mb-2"}),u.jsxs("div",{className:"flex items-center justify-center gap-1",children:[u.jsx(lbe,{className:"w-3 h-3"}),u.jsx("span",{className:"text-xs font-medium",children:"Dark"})]})]}),u.jsxs("button",{onClick:()=>e({theme:"system"}),className:`p-4 rounded-lg border-2 transition-all ${t.preferences.theme==="system"?"border-primary ring-2 ring-primary/20":"border-slate-200 hover:border-slate-300"}`,children:[u.jsx("div",{className:"w-full h-12 rounded-md bg-gradient-to-r from-white via-slate-400 to-slate-800 mb-2"}),u.jsxs("div",{className:"flex items-center justify-center gap-1",children:[u.jsx(obe,{className:"w-3 h-3"}),u.jsx("span",{className:"text-xs font-medium",children:"System"})]})]}),u.jsxs("button",{onClick:()=>e({theme:"blue"}),className:`p-4 rounded-lg border-2 transition-all ${t.preferences.theme==="blue"?"border-primary ring-2 ring-primary/20":"border-slate-200 hover:border-slate-300"}`,children:[u.jsx("div",{className:"w-full h-12 rounded-md bg-gradient-to-br from-blue-400 to-blue-600 mb-2"}),u.jsx("span",{className:"text-xs font-medium",children:"Blue"})]}),u.jsxs("button",{onClick:()=>e({theme:"green"}),className:`p-4 rounded-lg border-2 transition-all ${t.preferences.theme==="green"?"border-primary ring-2 ring-primary/20":"border-slate-200 hover:border-slate-300"}`,children:[u.jsx("div",{className:"w-full h-12 rounded-md bg-gradient-to-br from-green-400 to-green-600 mb-2"}),u.jsx("span",{className:"text-xs font-medium",children:"Green"})]}),u.jsxs("button",{onClick:()=>e({theme:"purple"}),className:`p-4 rounded-lg border-2 transition-all ${t.preferences.theme==="purple"?"border-primary ring-2 ring-primary/20":"border-slate-200 hover:border-slate-300"}`,children:[u.jsx("div",{className:"w-full h-12 rounded-md bg-gradient-to-br from-purple-400 to-purple-600 mb-2"}),u.jsx("span",{className:"text-xs font-medium",children:"Purple"})]}),u.jsxs("button",{onClick:()=>e({theme:"sunset"}),className:`p-4 rounded-lg border-2 transition-all ${t.preferences.theme==="sunset"?"border-primary ring-2 ring-primary/20":"border-slate-200 hover:border-slate-300"}`,children:[u.jsx("div",{className:"w-full h-12 rounded-md bg-gradient-to-br from-orange-400 to-rose-500 mb-2"}),u.jsx("span",{className:"text-xs font-medium",children:"Sunset"})]})]})})]}),u.jsxs(vt,{children:[u.jsxs(pn,{children:[u.jsxs(_n,{className:"flex items-center gap-2",children:[u.jsx(bj,{className:"w-5 h-5"}),"Visual Style"]}),u.jsx(Zr,{children:"Choose the overall look and feel"})]}),u.jsx(Ct,{children:u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[u.jsxs("button",{onClick:()=>e({visualStyle:"sudanese"}),className:`p-4 rounded-lg border-2 transition-all ${t.preferences.visualStyle==="sudanese"?"border-primary ring-2 ring-primary/20":"border-slate-200 hover:border-slate-300"}`,children:[u.jsx("div",{className:"w-full h-16 rounded-lg bg-gradient-to-br from-amber-100 via-green-100 to-emerald-200 mb-2 flex items-center justify-center",children:u.jsx("span",{className:"text-2xl",children:""})}),u.jsx("span",{className:"text-sm font-medium",children:"Sudanese"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Heritage theme"})]}),u.jsxs("button",{onClick:()=>e({visualStyle:"modern"}),className:`p-4 rounded-lg border-2 transition-all ${t.preferences.visualStyle==="modern"?"border-primary ring-2 ring-primary/20":"border-slate-200 hover:border-slate-300"}`,children:[u.jsx("div",{className:"w-full h-16 rounded-lg bg-gradient-to-br from-slate-100 to-slate-200 mb-2 flex items-center justify-center",children:u.jsx("span",{className:"text-2xl",children:""})}),u.jsx("span",{className:"text-sm font-medium",children:"Modern"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Clean & sleek"})]}),u.jsxs("button",{onClick:()=>e({visualStyle:"classic"}),className:`p-4 rounded-lg border-2 transition-all ${t.preferences.visualStyle==="classic"?"border-primary ring-2 ring-primary/20":"border-slate-200 hover:border-slate-300"}`,children:[u.jsx("div",{className:"w-full h-16 rounded bg-gradient-to-br from-stone-100 to-stone-200 mb-2 flex items-center justify-center",children:u.jsx("span",{className:"text-2xl",children:""})}),u.jsx("span",{className:"text-sm font-medium",children:"Classic"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Traditional look"})]}),u.jsxs("button",{onClick:()=>e({visualStyle:"minimal"}),className:`p-4 border-2 transition-all ${t.preferences.visualStyle==="minimal"?"border-primary ring-2 ring-primary/20":"border-slate-200 hover:border-slate-300"}`,children:[u.jsx("div",{className:"w-full h-16 bg-white border mb-2 flex items-center justify-center",children:u.jsx("span",{className:"text-2xl",children:""})}),u.jsx("span",{className:"text-sm font-medium",children:"Minimal"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"No frills"})]})]})})]}),u.jsxs(vt,{children:[u.jsxs(pn,{children:[u.jsx(_n,{children:"Display Options"}),u.jsx(Zr,{children:"Other appearance settings"})]}),u.jsx(Ct,{className:"space-y-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx(Zt,{children:"Compact Mode"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Use a denser layout with less spacing"})]}),u.jsx(Y2,{checked:t.preferences.compactMode,onCheckedChange:J=>e({compactMode:J}),"data-testid":"switch-compact-mode"})]})})]}),u.jsxs(vt,{children:[u.jsxs(pn,{children:[u.jsxs(_n,{className:"flex items-center gap-2",children:[u.jsx(aa,{className:"w-5 h-5"}),"Language & Tutorials"]}),u.jsx(Zr,{children:"Language and help settings"})]}),u.jsxs(Ct,{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx(Zt,{children:"Language"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Select your preferred language"})]}),u.jsxs(jl,{value:t.preferences.language,onValueChange:J=>e({language:J}),children:[u.jsx(nl,{className:"w-40","data-testid":"select-language",children:u.jsx(Il,{})}),u.jsxs(rl,{children:[u.jsx(Ir,{value:"en",children:"English"}),u.jsx(Ir,{value:"ar",children:" (Arabic)"})]})]})]}),u.jsx(Dl,{}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx(Zt,{children:"Show Guided Tours"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Display interactive tutorials for new users"})]}),u.jsx(Y2,{checked:t.preferences.showTutorials,onCheckedChange:J=>e({showTutorials:J}),"data-testid":"switch-tutorials"})]}),u.jsx(Dl,{}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx(Zt,{children:"Auto-Save Projects"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically save project calculations"})]}),u.jsx(Y2,{checked:t.preferences.autoSaveProjects,onCheckedChange:J=>e({autoSaveProjects:J}),"data-testid":"switch-autosave"})]})]})]})]}),u.jsxs(Fs,{value:"units",className:"space-y-6",children:[u.jsxs(vt,{children:[u.jsxs(pn,{children:[u.jsxs(_n,{className:"flex items-center gap-2",children:[u.jsx(aa,{className:"w-5 h-5"}),"Unit System"]}),u.jsx(Zr,{children:"Configure measurement units for calculations and display"})]}),u.jsxs(Ct,{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs(Zt,{className:"flex items-center gap-2",children:[u.jsx(oA,{className:"w-4 h-4"}),"Measurement System"]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Primary unit system for distances and weights"})]}),u.jsxs(jl,{value:t.units.system,onValueChange:J=>n({system:J}),children:[u.jsx(nl,{className:"w-40","data-testid":"select-unit-system",children:u.jsx(Il,{})}),u.jsxs(rl,{children:[u.jsx(Ir,{value:"metric",children:"Metric (km, kg)"}),u.jsx(Ir,{value:"imperial",children:"Imperial (mi, lb)"})]})]})]}),u.jsx(Dl,{}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs(Zt,{className:"flex items-center gap-2",children:[u.jsx(H4,{className:"w-4 h-4"}),"Temperature"]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Temperature display units"})]}),u.jsxs(jl,{value:t.units.temperature,onValueChange:J=>n({temperature:J}),children:[u.jsx(nl,{className:"w-40","data-testid":"select-temperature",children:u.jsx(Il,{})}),u.jsxs(rl,{children:[u.jsx(Ir,{value:"celsius",children:"Celsius (C)"}),u.jsx(Ir,{value:"fahrenheit",children:"Fahrenheit (F)"})]})]})]}),u.jsx(Dl,{}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs(Zt,{className:"flex items-center gap-2",children:[u.jsx(oA,{className:"w-4 h-4"}),"Pressure"]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Hydrogen cylinder pressure units"})]}),u.jsxs(jl,{value:t.units.pressure,onValueChange:J=>n({pressure:J}),children:[u.jsx(nl,{className:"w-40","data-testid":"select-pressure",children:u.jsx(Il,{})}),u.jsxs(rl,{children:[u.jsx(Ir,{value:"bar",children:"Bar"}),u.jsx(Ir,{value:"psi",children:"PSI"})]})]})]}),u.jsx(Dl,{}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs(Zt,{className:"flex items-center gap-2",children:[u.jsx(ire,{className:"w-4 h-4"}),"Currency"]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Currency for financial calculations"})]}),u.jsxs(jl,{value:t.units.currency,onValueChange:J=>n({currency:J}),children:[u.jsx(nl,{className:"w-40","data-testid":"select-currency",children:u.jsx(Il,{})}),u.jsxs(rl,{children:[u.jsx(Ir,{value:"USD",children:"USD ($)"}),u.jsx(Ir,{value:"EUR",children:"EUR (Euro)"}),u.jsx(Ir,{value:"GBP",children:"GBP (Pound)"}),u.jsx(Ir,{value:"SAR",children:"SAR (Riyal)"}),u.jsx(Ir,{value:"AED",children:"AED (Dirham)"})]})]})]})]})]}),u.jsxs(vt,{children:[u.jsxs(pn,{children:[u.jsx(_n,{children:"Unit Conversion Reference"}),u.jsx(Zr,{children:"Quick reference for common conversions"})]}),u.jsx(Ct,{children:u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[u.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 rounded-lg p-3 text-center",children:[u.jsx("p",{className:"text-muted-foreground text-xs uppercase mb-1",children:"Temperature"}),u.jsx("p",{className:"font-mono",children:"0C = 32F"}),u.jsx("p",{className:"font-mono",children:"100C = 212F"})]}),u.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 rounded-lg p-3 text-center",children:[u.jsx("p",{className:"text-muted-foreground text-xs uppercase mb-1",children:"Pressure"}),u.jsx("p",{className:"font-mono",children:"1 bar = 14.5 psi"}),u.jsx("p",{className:"font-mono",children:"200 bar = 2900 psi"})]}),u.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 rounded-lg p-3 text-center",children:[u.jsx("p",{className:"text-muted-foreground text-xs uppercase mb-1",children:"Weight"}),u.jsx("p",{className:"font-mono",children:"1 kg = 2.2 lb"}),u.jsx("p",{className:"font-mono",children:"1 lb = 0.45 kg"})]}),u.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 rounded-lg p-3 text-center",children:[u.jsx("p",{className:"text-muted-foreground text-xs uppercase mb-1",children:"Distance"}),u.jsx("p",{className:"font-mono",children:"1 km = 0.62 mi"}),u.jsx("p",{className:"font-mono",children:"1 mi = 1.61 km"})]})]})})]})]}),u.jsxs(Fs,{value:"calculations",className:"space-y-6",children:[u.jsxs(vt,{children:[u.jsxs(pn,{children:[u.jsxs(_n,{className:"flex items-center gap-2",children:[u.jsx(Di,{className:"w-5 h-5"}),"Site & Environment Defaults"]}),u.jsx(Zr,{children:"Default values for new calculations"})]}),u.jsx(Ct,{className:"space-y-4",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs(Zt,{className:"flex items-center gap-2",children:[u.jsx(H4,{className:"w-4 h-4"}),"Max Temperature (C)"]}),u.jsx(ln,{type:"number",value:t.calculationDefaults.defaultDeratingTemp,onChange:J=>r({defaultDeratingTemp:parseFloat(J.target.value)||45}),"data-testid":"input-default-temp"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Used for derating calculations"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Zt,{children:"Altitude (m)"}),u.jsx(ln,{type:"number",value:t.calculationDefaults.defaultAltitude,onChange:J=>r({defaultAltitude:parseFloat(J.target.value)||0}),"data-testid":"input-default-altitude"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Site elevation above sea level"})]})]})})]}),u.jsxs(vt,{children:[u.jsxs(pn,{children:[u.jsxs(_n,{className:"flex items-center gap-2",children:[u.jsx(ub,{className:"w-5 h-5"}),"Battery & Power Defaults"]}),u.jsx(Zr,{children:"Default battery and power system parameters"})]}),u.jsx(Ct,{className:"space-y-4",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Zt,{children:"Autonomy (hours)"}),u.jsx(ln,{type:"number",value:t.calculationDefaults.defaultAutonomyHours,onChange:J=>r({defaultAutonomyHours:parseFloat(J.target.value)||8}),"data-testid":"input-default-autonomy"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Zt,{children:"System Voltage (V)"}),u.jsxs(jl,{value:t.calculationDefaults.defaultSystemVoltage.toString(),onValueChange:J=>r({defaultSystemVoltage:parseInt(J)}),children:[u.jsx(nl,{"data-testid":"select-default-voltage",children:u.jsx(Il,{})}),u.jsxs(rl,{children:[u.jsx(Ir,{value:"24",children:"24V"}),u.jsx(Ir,{value:"48",children:"48V"}),u.jsx(Ir,{value:"110",children:"110V"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Zt,{children:"Battery DOD (%)"}),u.jsx(ln,{type:"number",min:"50",max:"100",value:t.calculationDefaults.defaultBatteryDod,onChange:J=>r({defaultBatteryDod:parseFloat(J.target.value)||80}),"data-testid":"input-default-dod"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Zt,{children:"Buffer Hours"}),u.jsx(ln,{type:"number",value:t.calculationDefaults.defaultBatteryBufferHours,onChange:J=>r({defaultBatteryBufferHours:parseFloat(J.target.value)||2}),"data-testid":"input-default-buffer"})]})]})})]}),u.jsxs(vt,{children:[u.jsxs(pn,{children:[u.jsxs(_n,{className:"flex items-center gap-2",children:[u.jsx(cp,{className:"w-5 h-5"}),"Fuel & Cost Defaults"]}),u.jsx(Zr,{children:"Default pricing and cost parameters"})]}),u.jsx(Ct,{className:"space-y-4",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Zt,{children:"Diesel Price ($/L)"}),u.jsx(ln,{type:"number",step:"0.1",value:t.calculationDefaults.defaultDieselPrice,onChange:J=>r({defaultDieselPrice:parseFloat(J.target.value)||.8}),"data-testid":"input-default-diesel-price"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Zt,{children:"Hydrogen Price ($/kg)"}),u.jsx(ln,{type:"number",step:"0.5",value:t.calculationDefaults.defaultH2Price,onChange:J=>r({defaultH2Price:parseFloat(J.target.value)||8}),"data-testid":"input-default-h2-price"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Zt,{children:"Theft/Loss Factor (%)"}),u.jsx(ln,{type:"number",min:"0",max:"50",value:t.calculationDefaults.defaultPilferageFactor,onChange:J=>r({defaultPilferageFactor:parseFloat(J.target.value)||15}),"data-testid":"input-default-theft"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Zt,{children:"Logistics Cost (%)"}),u.jsx(ln,{type:"number",min:"0",max:"50",value:t.calculationDefaults.defaultLogisticsCost,onChange:J=>r({defaultLogisticsCost:parseFloat(J.target.value)||20}),"data-testid":"input-default-logistics"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Zt,{children:"Refueling Cycle (days)"}),u.jsx(ln,{type:"number",value:t.calculationDefaults.defaultRefuelingCycleDays,onChange:J=>r({defaultRefuelingCycleDays:parseFloat(J.target.value)||14}),"data-testid":"input-default-refueling"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Zt,{children:"DG Capacity (kVA)"}),u.jsx(ln,{type:"number",value:t.calculationDefaults.defaultDgCapacity,onChange:J=>r({defaultDgCapacity:parseFloat(J.target.value)||20}),"data-testid":"input-default-dg-capacity"})]})]})})]}),u.jsxs(vt,{children:[u.jsxs(pn,{children:[u.jsx(_n,{children:"Current Defaults Summary"}),u.jsx(Zr,{children:"Quick overview of your calculation defaults"})]}),u.jsx(Ct,{children:u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsxs(Sn,{variant:"outline",children:["Temp: ",t.calculationDefaults.defaultDeratingTemp,"C"]}),u.jsxs(Sn,{variant:"outline",children:["Altitude: ",t.calculationDefaults.defaultAltitude,"m"]}),u.jsxs(Sn,{variant:"outline",children:["Autonomy: ",t.calculationDefaults.defaultAutonomyHours,"h"]}),u.jsxs(Sn,{variant:"outline",children:["Voltage: ",t.calculationDefaults.defaultSystemVoltage,"V"]}),u.jsxs(Sn,{variant:"outline",children:["DOD: ",t.calculationDefaults.defaultBatteryDod,"%"]}),u.jsxs(Sn,{variant:"outline",children:["Buffer: ",t.calculationDefaults.defaultBatteryBufferHours,"h"]}),u.jsxs(Sn,{variant:"outline",children:["Diesel: $",t.calculationDefaults.defaultDieselPrice,"/L"]}),u.jsxs(Sn,{variant:"outline",children:["H2: $",t.calculationDefaults.defaultH2Price,"/kg"]}),u.jsxs(Sn,{variant:"outline",children:["Theft: ",t.calculationDefaults.defaultPilferageFactor,"%"]})]})})]})]})]})]})]})}const Js={en:{pageTitle:"Smart Asset Optimizer",pageSubtitle:"Analyze generator efficiency and get recommendations: Keep - Relocate - Replace - Hybridize",currentSiteData:"Current Site Data",enterSpecs:"Enter your existing generator specifications",generatorCapacity:"Generator Capacity (kVA)",actualSiteLoad:"Actual Site Load (kW)",generatorAge:"Generator Age (Years)",loadFactor:"Load Factor",optimalRange:"Optimal range: 30-70%. Below 30% causes wet stacking.",analysisDecision:"Analysis & Decision",annualWaste:"Annual Waste Due to Misallocation",oversizedGenerator:"Using an oversized generator at this site causes unnecessary fuel burn:",currentUtilization:"Current Utilization",wastedCapacity:"The remaining {percent}% represents wasted capacity and fuel.",annualLoss:"Annual Loss",seeCalculation:"See Calculation Logic",calculationBreakdown:"Calculation Breakdown",inefficiency:"Inefficiency",inefficiencyDesc:"Current generator consumes ~{consumption} L/hr at {load}% load (High waste).",optimal:"Optimal",optimalDesc:"Right-sized solution would consume ~{consumption} L/hr.",totalWaste:"Total Waste",totalWasteDesc:"Difference of ~{hourly} L/hr x {annual} hours = ~{yearly} Liters/Year.",calculationNote:"Calculated based on delivered fuel price of ${base}/Liter + {penalty}% maintenance penalty = ${effective}/Liter effective cost.",environmentalImpact:"Environmental Impact",carbonFootprint:"Carbon footprint from wasted fuel due to generator inefficiency",unnecessaryCO2:"Unnecessary CO2 Emissions",treesRequired:"Trees Required to Offset",treesAbsorb:"Each tree absorbs ~{kg} kg CO2/year",switchingMessage:"Switching to fuel cells or solar hybrid would eliminate these emissions entirely, contributing to your sustainability goals and reducing environmental footprint.",relocateMessage:"This generator should leave this site immediately to save fuel and maintenance costs.",replaceMessage:"This generator has reached end-of-life. Continuing with it is a financial loss.",keepMessage:"Consider adding batteries to reduce runtime and extend generator life.",solarHybridTitle:"Strategic Alternative: Solar Hybrid System",solarHybridDesc:"Given the low load ({load} kW), replacing this generator with a Solar PV + Li-ion Battery solution is the most efficient strategy.",roi:"ROI: 18-24 Months",years:"years",kva:"kVA",kw:"kW",tons:"tons",litersPerLiter:"liters x {kg} kg/L",statusCritical:"CRITICAL UNDER-LOADING",statusHealthy:"HEALTHY RANGE",statusOverload:"OVERLOAD RISK",statusCriticalDesc:"Carbon Buildup / Wet Stacking",statusHealthyDesc:"Good Operating Zone",statusOverloadDesc:"High Load Warning",scrapReplace:"Scrap & Replace",relocateAsset:"Relocate Asset",keepHybridize:"Keep & Hybridize",addSupport:"Add Support",actionReplace1:"Generator is running at catastrophic efficiency, causing massive fuel waste.",actionReplace2:"Age ({years} years) exceeds 10 years - maintenance costs exceed value.",actionReplace3:"Decision: Full replacement with Fuel Cell system recommended.",actionRelocate1:"This generator is healthy but mismatched for this site.",actionRelocate2:"Decision: Relocate immediately to a Hub site with 10-15 kW load.",actionRelocate3:"Install a small fuel cell at this location instead.",actionKeep1:"Generator size is appropriate for the load.",actionKeep2:"To reduce running hours, add a battery system (Hybrid).",actionKeep3:"No fuel cell needed here currently (unless for environmental goals).",actionSupport1:"Generator is running at maximum capacity.",actionSupport2:"Any load increase will cause site failure.",actionSupport3:"Decision: Add fuel cell for parallel operation (Peak Shaving) or battery charging."},ar:{pageTitle:"  ",pageSubtitle:"     :  -  -  - ",currentSiteData:"  ",enterSpecs:"    ",generatorCapacity:"  (  )",actualSiteLoad:"   ()",generatorAge:"  ()",loadFactor:" ",optimalRange:" : 30-70%.   30%   .",analysisDecision:" ",annualWaste:"    ",oversizedGenerator:"           :",currentUtilization:" ",wastedCapacity:"  {percent}%    .",annualLoss:" ",seeCalculation:"  ",calculationBreakdown:" ",inefficiency:" ",inefficiencyDesc:"   ~{consumption} /   {load}% ( ).",optimal:"",optimalDesc:"   ~{consumption} /.",totalWaste:" ",totalWasteDesc:" ~{hourly} / x {annual}  = ~{yearly} /.",calculationNote:"      ${base}/ + {penalty}%   = ${effective}/  .",environmentalImpact:" ",carbonFootprint:"        ",unnecessaryCO2:" CO2  ",treesRequired:"  ",treesAbsorb:"   ~{kg}  CO2/",switchingMessage:"                    .",relocateMessage:"           .",replaceMessage:"      .    .",keepMessage:"         .",solarHybridTitle:" :    ",solarHybridDesc:"   ({load} )       +       .",roi:" : 18-24 ",years:"",kva:"  ",kw:"",tons:"",litersPerLiter:" x {kg} /",statusCritical:"  ",statusHealthy:" ",statusOverload:"  ",statusCriticalDesc:"  /  ",statusHealthyDesc:"  ",statusOverloadDesc:"  ",scrapReplace:" ",relocateAsset:" ",keepHybridize:" ",addSupport:" ",actionReplace1:"        .",actionReplace2:" ({years} )  10  -    .",actionReplace3:":      .",actionRelocate1:"        .",actionRelocate2:":       10-15 .",actionRelocate3:"        .",actionKeep1:"   .",actionKeep2:"      ().",actionKeep3:"     (  ).",actionSupport1:"   .",actionSupport2:"      .",actionSupport3:":      ( )   ."}};function Yst(){const{language:t,isRTL:e}=Na(),n=Js[t],[r,i]=N.useState(20),[s,a]=N.useState(3),[o,l]=N.useState(8),[c,d]=N.useState(!1),f=N.useMemo(()=>{const W=r*.8,q=s/W*100;return q<30?o>10?{status:n.statusCritical,statusArabic:n.statusCriticalDesc,color:"red",recommendation:"replace",recommendationTitle:n.scrapReplace,recommendationTitleArabic:Js.ar.scrapReplace,actionPlan:[n.actionReplace1,n.actionReplace2.replace("{years}",String(o)),n.actionReplace3],actionPlanArabic:[Js.ar.actionReplace1,Js.ar.actionReplace2.replace("{years}",String(o)),Js.ar.actionReplace3]}:{status:n.statusCritical,statusArabic:n.statusCriticalDesc,color:"red",recommendation:"relocate",recommendationTitle:n.relocateAsset,recommendationTitleArabic:Js.ar.relocateAsset,actionPlan:[n.actionRelocate1,n.actionRelocate2,n.actionRelocate3],actionPlanArabic:[Js.ar.actionRelocate1,Js.ar.actionRelocate2,Js.ar.actionRelocate3]}:q<=70?{status:n.statusHealthy,statusArabic:n.statusHealthyDesc,color:"green",recommendation:"keep",recommendationTitle:n.keepHybridize,recommendationTitleArabic:Js.ar.keepHybridize,actionPlan:[n.actionKeep1,n.actionKeep2,n.actionKeep3],actionPlanArabic:[Js.ar.actionKeep1,Js.ar.actionKeep2,Js.ar.actionKeep3]}:{status:n.statusOverload,statusArabic:n.statusOverloadDesc,color:"orange",recommendation:"support",recommendationTitle:n.addSupport,recommendationTitleArabic:Js.ar.addSupport,actionPlan:[n.actionSupport1,n.actionSupport2,n.actionSupport3],actionPlanArabic:[Js.ar.actionSupport1,Js.ar.actionSupport2,Js.ar.actionSupport3]}},[r,s,o,n]),h=r*.8,m=Math.min(100,Math.round(s/h*100)),b=Math.max(0,h-s*1.5)*.06,y=Math.round(b*24*365*1.2),w=8760,S=1,M=20,T=S*(1+M/100),A=Math.round(b*w),C=(b+s*.25).toFixed(1),j=(s*.25).toFixed(1),L=2.68,O=A*L,k=O/1e3,F=22,G=Math.round(O/F),Y=()=>({red:"destructive",orange:"secondary",green:"default"})[f.color]||"default",U=()=>({relocate:u.jsx(N$,{className:"w-6 h-6"}),replace:u.jsx(cA,{className:"w-6 h-6"}),keep:u.jsx(SB,{className:"w-6 h-6"}),support:u.jsx(Di,{className:"w-6 h-6"})})[f.recommendation];return u.jsxs("div",{className:"min-h-screen bg-[#F8FAFC] flex relative overflow-hidden",dir:e?"rtl":"ltr",children:[u.jsx(Eb,{}),u.jsx(No,{}),u.jsxs("main",{className:`flex-1 p-4 sm:p-6 lg:p-8 ${e?"lg:mr-20":"lg:ml-20"} relative z-10`,children:[u.jsxs("header",{className:"mb-6 flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsxs("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[u.jsx(cre,{className:"w-6 h-6 text-primary"}),n.pageTitle]}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:n.pageSubtitle})]}),u.jsx(d8,{page:"optimizer"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs(vt,{children:[u.jsxs(pn,{children:[u.jsxs(_n,{className:"flex items-center gap-2",children:[u.jsx(oA,{className:"w-5 h-5"})," ",n.currentSiteData]}),u.jsx(Zr,{children:n.enterSpecs})]}),u.jsxs(Ct,{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between mb-2",children:[u.jsx("label",{className:"text-sm font-medium",children:n.generatorCapacity}),u.jsxs("span",{className:"text-sm font-mono text-primary",children:[r," ",n.kva]})]}),u.jsx(Dg,{min:5,max:100,step:1,value:[r],onValueChange:W=>i(W[0]),"data-testid":"slider-dg-rating"}),u.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["= ",h.toFixed(1)," ",n.kw," @ 0.8 PF"]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between mb-2",children:[u.jsx("label",{className:"text-sm font-medium",children:n.actualSiteLoad}),u.jsxs("span",{className:"text-sm font-mono text-primary",children:[s," ",n.kw]})]}),u.jsx(Dg,{min:.5,max:50,step:.5,value:[s],onValueChange:W=>a(W[0]),"data-testid":"slider-site-load"})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between mb-2",children:[u.jsx("label",{className:"text-sm font-medium",children:n.generatorAge}),u.jsxs("span",{className:"text-sm font-mono text-primary",children:[o," ",n.years]})]}),u.jsx(Dg,{min:1,max:20,step:1,value:[o],onValueChange:W=>l(W[0]),"data-testid":"slider-dg-age"})]}),u.jsx(Dl,{}),u.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800 rounded-lg p-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"text-sm font-medium",children:n.loadFactor}),u.jsxs(Sn,{variant:Y(),children:[m,"%"]})]}),u.jsx(ES,{value:m,className:"h-3"}),u.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:n.optimalRange})]})]})]}),u.jsxs(vt,{className:`border-2 ${f.color==="red"?"border-red-300 dark:border-red-800":f.color==="orange"?"border-orange-300 dark:border-orange-800":"border-green-300 dark:border-green-800"}`,children:[u.jsx(pn,{children:u.jsxs(_n,{className:"flex items-center gap-2",children:[U(),n.analysisDecision]})}),u.jsxs(Ct,{className:"space-y-4",children:[u.jsxs("div",{className:`rounded-lg p-4 ${f.color==="red"?"bg-red-50 dark:bg-red-950 text-red-700 dark:text-red-300":f.color==="orange"?"bg-orange-50 dark:bg-orange-950 text-orange-700 dark:text-orange-300":"bg-green-50 dark:bg-green-950 text-green-700 dark:text-green-300"}`,children:[u.jsx("p",{className:"font-bold text-lg",children:f.status}),u.jsx("p",{className:"text-sm opacity-80",children:f.statusArabic})]}),u.jsxs("div",{className:"flex items-center gap-2 py-2",children:[u.jsx(F4,{className:`w-5 h-5 text-primary ${e?"rotate-180":""}`}),u.jsx("span",{className:"text-lg font-bold",children:f.recommendationTitle})]}),u.jsx("div",{className:"space-y-3",children:f.actionPlan.map((W,q)=>u.jsxs("div",{className:"flex gap-3 items-start",children:[u.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:u.jsx("span",{className:"text-xs font-bold text-primary",children:q+1})}),u.jsx("p",{className:"text-sm",children:W})]},q))}),f.recommendation==="relocate"&&u.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950 border border-blue-200 dark:border-blue-800 rounded-lg p-4 flex items-center gap-3",children:[u.jsx(N$,{className:"w-8 h-8 text-blue-500"}),u.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:n.relocateMessage})]}),f.recommendation==="replace"&&u.jsxs("div",{className:"bg-red-50 dark:bg-red-950 border border-red-200 dark:border-red-800 rounded-lg p-4 flex items-center gap-3",children:[u.jsx(cA,{className:"w-8 h-8 text-red-500"}),u.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:n.replaceMessage})]}),f.recommendation==="keep"&&u.jsxs("div",{className:"bg-green-50 dark:bg-green-950 border border-green-200 dark:border-green-800 rounded-lg p-4 flex items-center gap-3",children:[u.jsx(ub,{className:"w-8 h-8 text-green-500"}),u.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:n.keepMessage})]}),s<5&&u.jsxs("div",{className:"bg-amber-50 dark:bg-amber-950 border border-amber-200 dark:border-amber-800 rounded-lg p-4","data-testid":"card-solar-hybrid-recommendation",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(hre,{className:"w-5 h-5 text-amber-600 dark:text-amber-400"}),u.jsx("span",{className:"font-bold text-amber-700 dark:text-amber-300",children:n.solarHybridTitle})]}),u.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:n.solarHybridDesc.replace("{load}",String(s))}),u.jsx("div",{className:"mt-2 flex items-center gap-2",children:u.jsx(Sn,{variant:"outline",className:"bg-amber-100 dark:bg-amber-900 text-amber-700 dark:text-amber-300 border-amber-300 dark:border-amber-700",children:n.roi})})]})]})]})]}),y>100&&u.jsxs(vt,{className:"mt-6 border-amber-200 dark:border-amber-800",children:[u.jsx(pn,{children:u.jsxs(_n,{className:"flex items-center gap-2 text-amber-700 dark:text-amber-400",children:[u.jsx(E$,{className:"w-5 h-5"}),n.annualWaste]})}),u.jsxs(Ct,{children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:n.oversizedGenerator}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{children:n.currentUtilization}),u.jsxs("span",{className:"font-mono",children:[m,"%"]})]}),u.jsx(ES,{value:m,className:"h-4"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:n.wastedCapacity.replace("{percent}",String(100-m))})]})]}),u.jsxs("div",{className:"flex flex-col items-center justify-center bg-red-50 dark:bg-red-950 rounded-lg p-6",children:[u.jsxs("div",{className:"flex items-center gap-2 text-red-600 dark:text-red-400 mb-2",children:[u.jsx(gbe,{className:"w-5 h-5"}),u.jsx("span",{className:"text-sm font-medium",children:n.annualLoss})]}),u.jsxs("p",{className:"text-4xl font-bold text-red-600 dark:text-red-400",children:["$",y.toLocaleString()]}),u.jsxs(bt,{variant:"ghost",size:"sm",onClick:()=>d(!c),className:"mt-2 text-xs text-muted-foreground","data-testid":"button-see-calculation-logic",children:[u.jsx(V4,{className:`w-3 h-3 ${e?"ml-1":"mr-1"}`}),n.seeCalculation,c?u.jsx(aA,{className:`w-3 h-3 ${e?"mr-1":"ml-1"}`}):u.jsx(Wg,{className:`w-3 h-3 ${e?"mr-1":"ml-1"}`})]})]})]}),c&&u.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800 rounded-lg p-4 mt-4 space-y-3","data-testid":"section-calculation-breakdown",children:[u.jsxs("h4",{className:"font-semibold text-sm flex items-center gap-2",children:[u.jsx(V4,{className:"w-4 h-4 text-primary"}),n.calculationBreakdown]}),u.jsxs("div",{className:"space-y-2 text-sm",children:[u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx(Sn,{variant:"destructive",className:"text-xs shrink-0",children:n.inefficiency}),u.jsx("span",{children:n.inefficiencyDesc.replace("{consumption}",C).replace("{load}",String(m))})]}),u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx(Sn,{variant:"default",className:"text-xs shrink-0",children:n.optimal}),u.jsx("span",{children:n.optimalDesc.replace("{consumption}",j)})]}),u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx(Sn,{variant:"secondary",className:"text-xs shrink-0",children:n.totalWaste}),u.jsx("span",{children:n.totalWasteDesc.replace("{hourly}",b.toFixed(1)).replace("{annual}",w.toLocaleString()).replace("{yearly}",A.toLocaleString())})]}),u.jsx(Dl,{className:"my-2"}),u.jsx("p",{className:"text-xs text-muted-foreground italic",children:n.calculationNote.replace("{base}",S.toFixed(2)).replace("{penalty}",String(M)).replace("{effective}",T.toFixed(2))})]})]})]})]}),y>100&&u.jsxs(vt,{className:"mt-6 border-green-200 dark:border-green-800","data-testid":"card-environmental-impact",children:[u.jsxs(pn,{children:[u.jsxs(_n,{className:"flex items-center gap-2 text-green-700 dark:text-green-400",children:[u.jsx(sx,{className:"w-5 h-5"}),n.environmentalImpact]}),u.jsx(Zr,{children:n.carbonFootprint})]}),u.jsxs(Ct,{children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-green-50 dark:bg-green-950 rounded-lg p-6 text-center",children:[u.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[u.jsx(E$,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),u.jsx("span",{className:"text-sm font-medium text-green-700 dark:text-green-300",children:n.unnecessaryCO2})]}),u.jsxs("p",{className:"text-4xl font-bold text-green-700 dark:text-green-300","data-testid":"text-co2-tons",children:[k.toFixed(1)," ",n.tons]}),u.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[A.toLocaleString()," ",n.litersPerLiter.replace("{kg}",String(L))]})]}),u.jsxs("div",{className:"bg-green-50 dark:bg-green-950 rounded-lg p-6 text-center",children:[u.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[u.jsx(mbe,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),u.jsx("span",{className:"text-sm font-medium text-green-700 dark:text-green-300",children:n.treesRequired})]}),u.jsx("p",{className:"text-4xl font-bold text-green-700 dark:text-green-300","data-testid":"text-trees-equivalent",children:G.toLocaleString()}),u.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:n.treesAbsorb.replace("{kg}",String(F))})]})]}),u.jsxs("div",{className:"mt-4 bg-green-100 dark:bg-green-900 rounded-lg p-3 flex items-center gap-3",children:[u.jsx(sx,{className:"w-6 h-6 text-green-600 dark:text-green-400 shrink-0"}),u.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:n.switchingMessage})]})]})]})]})]})}const Kst={en:{pageTitle:"Smart Monitoring & Redundancy",pageSubtitle:"Advanced system oversight with multi-protocol support and network resilience.",realTimeTelemetry:"Real-Time Telemetry",realTimeTelemetryDesc:"Live tracking of fuel cell status, battery SOC, and fuel levels across all sites.",predictiveMaintenance:"Predictive Maintenance",predictiveMaintenanceDesc:"AI-driven alerts identify potential issues before they cause site downtime.",multiChannelConnectivity:"Multi-Channel Connectivity",multiChannelConnectivityDesc:"Fallback mechanisms ensuring data transmission even in network-deprived areas.",hybridCommunicationArchitecture:"Hybrid Communication Architecture",whyHybridCritical:"Why Hybrid Architecture is Critical for Fuel Cells?",whyHybridDesc:'Unlike traditional generators, fuel cells are chemically sensitive precision instruments. Continuous data flow allows the system to balance fuel-to-oxygen ratios and manage stack temperature in real-time. A "blind" fuel cell cannot optimize its lifespan; hybrid communication ensures the AI-brain is always connected to the hardware-heart, regardless of local outages.',highSpeed:"High Speed",fiberOpticPrimary:"Fiber Optic (Primary)",fiberOpticDesc:"Utilizes the site's fiber backhaul for zero-latency, high-bandwidth telemetry. Ideal for real-time diagnostics and high-definition system monitoring where infrastructure is available.",mobileData:"Mobile Data",gsmLteStandard:"GSM / LTE (Standard)",gsmLteDesc:"The standard industry connection using global GSM/LTE networks. Integrated with GPS for mobile asset tracking and fleet management.",globalReach:"Global Reach",satelliteFailSafe:"Satellite (Fail-Safe)",satelliteDesc:"Fallback mechanism for remote off-grid sites without fiber or GSM coverage. Uses LEO satellite modules to ensure 100% uptime for critical status reports.",whatIfGsmDisappears:"What if GSM disappears? (Resilience Mode)",resilienceModeIntro:"In regions where GSM/LTE signal is unstable or completely absent, the system doesn't stop monitoring. It switches to **Resilience Mode**:",localBlackboxRecording:"Local Blackbox Recording:",localBlackboxRecordingDesc:"The controller stores up to 10 years of granular data on its internal encrypted storage.",satelliteFallback:"Satellite Fallback:",satelliteFallbackDesc:"Optional integration with Low-Earth-Orbit (LEO) satellite modules for 100% global coverage.",manualBatchUpload:"Manual Batch Upload:",manualBatchUploadDesc:"Field technicians can sync data via Bluetooth/Wi-Fi during routine site visits for historical analysis.",fiberOpticConnection:"Fiber Optic Connection:",fiberOpticConnectionDesc:"Direct integration with site fiber backhaul for zero-latency, high-bandwidth telemetry where available.",continuousProtection:"Continuous Protection",offlineFirstDesign:'Unlike standard cloud-only systems, our hardware is "Offline-First" by design.',comparisonTitle:"Comparison: DSE Gateway vs. Custom Smart Gateway",dseGatewayTitle:"DSE Gateway (Industry Standard)",legacyStyle:"Legacy Style",dseGatewayDesc:"Standard deep sea electronics module used for basic generator monitoring.",dataType:"Data Type",summaryAlerts:"Summary Alerts",protocol:"Protocol",proprietaryDSEWebNet:"Proprietary DSEWebNet",offlineStorage:"Offline Storage",limitedVolatile:"Limited / Volatile",aiAnalysis:"AI Analysis",notSupported:"Not Supported",smartFCMSGateway:"Smart FCMS Gateway",nextGen:"Next-Gen",smartGatewayDesc:"Advanced IoT controller designed specifically for fuel cell & hybrid energy assets.",fullTelemetry:"Full Telemetry (1s samples)",openProtocols:"Open SNMP / MQTT / REST",highCapacitySSD:"High-Capacity SSD (Years)",edgeAIPredictive:"Edge AI Predictive Models",infrastructureComparison:"Infrastructure Comparison",parameter:"Parameter",legacyDSEGate:"Legacy DSE Gate",noSignalOperation:"No Signal Operation",blindNoData:"Blind / No Data",resilienceModeActive:"Resilience Mode Active",protocolOpenness:"Protocol Openness",closedEcosystem:"Closed Ecosystem",standardOpenAPIs:"Standard Open APIs",monitoringCost:"Monitoring Cost",monthlySubscriptions:"Monthly Subscriptions",zeroLowOwnInfra:"Zero/Low (Own Infra)",seamlessIntegration:"Seamless System Integration & Connectivity",directControllerIntegration:"Direct Controller Integration",nativeCANbus:"Native CANbus (J1939)",nativeCANbusDesc:'Direct engine-level communication providing thousands of data points without external sensors. This is the "nervous system" of our fuel cells.',modbusTCPRTU:"Modbus TCP/RTU Gateway",modbusTCPRTUDesc:'Standard industrial integration allowing our fuel cells to "talk" directly to site inverters and rectifiers for automated load management.',snmpV3Security:"SNMP v3 Security",snmpV3SecurityDesc:"The industry standard for telecom NOCs. Our systems integrate natively with Nagios, Zabbix, and PRTG with full encryption.",whatMakesUsDifferent:"What Makes Us Different?",feature:"Feature",plugAndPlayRectifierSync:"Plug-and-Play Rectifier Sync",plugAndPlayDesc:"Unlike diesel generators that require complex external ATS and wiring, our fuel cells integrate directly with the DC bus, mimicking a battery pack.",switchTime:"Switch Time",dcInterface:"DC Interface",single:"Single",eliminatesNote:"*This eliminates the need for expensive AC transfer switches and reduces installation time by 70%.",controlCommunicationScenarios:"Control & Communication Scenarios",scenarioA:"Scenario A",hybridGridOptimization:"Hybrid Grid Optimization",hybridGridOptimizationDesc:"The system detects peak electricity rates from the grid and automatically triggers the fuel cell to take over the load, saving on power costs.",controlAction:"Control Action:",scenarioAAction:"Automated switching via Modbus TCP commands to the inverter, prioritizing fuel cell power during high-tariff periods.",scenarioB:"Scenario B",emergencyLoadShedding:"Emergency Load Shedding",emergencyLoadSheddingDesc:"During a severe fuel shortage or system malfunction, the gateway communicates with the NOC to prioritize critical telecom traffic.",scenarioBAction:"SNMP Trap triggers the site manager to disconnect non-essential loads (e.g., cooling in non-critical zones) to extend autonomy.",scenarioC:"Scenario C",predictiveHydrogenRefill:"Predictive Hydrogen Refill",predictiveHydrogenRefillDesc:"AI analysis of historical consumption patterns predicts a fuel outage 72 hours in advance based on current site traffic.",scenarioCAction:"MQTT-based automated logistics ticket creation, alerting the supply chain team to schedule a refill before the threshold is hit."},ar:{pageTitle:"  ",pageSubtitle:"         .",realTimeTelemetry:"     ",realTimeTelemetryDesc:"            .",predictiveMaintenance:" ",predictiveMaintenanceDesc:"           .",multiChannelConnectivity:"  ",multiChannelConnectivityDesc:"          .",hybridCommunicationArchitecture:"  ",whyHybridCritical:"     ",whyHybridDesc:'          .                 .   ""                    .',highSpeed:" ",fiberOpticPrimary:"  ()",fiberOpticDesc:"             .             .",mobileData:" ",gsmLteStandard:"GSM / LTE ()",gsmLteDesc:"      GSM/LTE .   GPS     .",globalReach:" ",satelliteFailSafe:"  ()",satelliteDesc:"          GSM.     LEO    100%  .",whatIfGsmDisappears:"    GSM ( )",resilienceModeIntro:"      GSM/LTE          .   ** **:",localBlackboxRecording:"   :",localBlackboxRecordingDesc:"     10         .",satelliteFallback:"   :",satelliteFallbackDesc:"          (LEO)   100%.",manualBatchUpload:"   :",manualBatchUploadDesc:"      Bluetooth/Wi-Fi      .",fiberOpticConnection:"  :",fiberOpticConnectionDesc:"                 .",continuousProtection:" ",offlineFirstDesign:'       "   ".',comparisonTitle:":  DSE    ",dseGatewayTitle:" DSE ( )",legacyStyle:" ",dseGatewayDesc:"        .",dataType:" ",summaryAlerts:" ",protocol:"",proprietaryDSEWebNet:"DSEWebNet ",offlineStorage:"  ",limitedVolatile:" / ",aiAnalysis:"  ",notSupported:" ",smartFCMSGateway:" FCMS ",nextGen:" ",smartGatewayDesc:" IoT        .",fullTelemetry:"  (  )",openProtocols:"SNMP / MQTT / REST ",highCapacitySSD:"SSD   ()",edgeAIPredictive:"    ",infrastructureComparison:"  ",parameter:"",legacyDSEGate:" DSE ",noSignalOperation:"  ",blindNoData:" /  ",resilienceModeActive:"  ",protocolOpenness:" ",closedEcosystem:"  ",standardOpenAPIs:"   ",monitoringCost:" ",monthlySubscriptions:" ",zeroLowOwnInfra:"/ (  )",seamlessIntegration:"   ",directControllerIntegration:"  ",nativeCANbus:"CANbus  (J1939)",nativeCANbusDesc:'           .   " "   .',modbusTCPRTU:" Modbus TCP/RTU",modbusTCPRTUDesc:'       ""        .',snmpV3Security:" SNMP v3",snmpV3SecurityDesc:"     .      Nagios Zabbix PRTG   .",whatMakesUsDifferent:"  ",feature:"",plugAndPlayRectifierSync:"   ",plugAndPlayDesc:"      ATS               .",switchTime:" ",dcInterface:"  ",single:"",eliminatesNote:"*             70%.",controlCommunicationScenarios:"  ",scenarioA:" ",hybridGridOptimization:"  ",hybridGridOptimizationDesc:"                .",controlAction:" :",scenarioAAction:"    Modbus TCP           .",scenarioB:" ",emergencyLoadShedding:"  ",emergencyLoadSheddingDesc:"                   .",scenarioBAction:" SNMP Trap       (     )  .",scenarioC:" ",predictiveHydrogenRefill:"   ",predictiveHydrogenRefillDesc:"          72      .",scenarioCAction:"      MQTT            ."}};function ite(){const{language:t,isRTL:e}=Na(),n=Kst[t],r=[{title:n.realTimeTelemetry,description:n.realTimeTelemetryDesc,icon:Cg,color:"text-blue-500",bg:"bg-blue-50 dark:bg-blue-900/20"},{title:n.predictiveMaintenance,description:n.predictiveMaintenanceDesc,icon:up,color:"text-emerald-500",bg:"bg-emerald-50 dark:bg-emerald-900/20"},{title:n.multiChannelConnectivity,description:n.multiChannelConnectivityDesc,icon:By,color:"text-purple-500",bg:"bg-purple-50 dark:bg-purple-900/20"}];return u.jsxs("div",{className:"min-h-screen bg-[#F8FAFC] flex relative overflow-hidden",dir:e?"rtl":"ltr",children:[u.jsx(Eb,{}),u.jsx(No,{}),u.jsxs("main",{className:`flex-1 ${e?"lg:mr-20":"lg:ml-20"} relative z-10`,children:[u.jsxs("header",{className:"bg-slate-900 text-white p-8 lg:p-12 border-b border-primary/30 relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-0 w-full h-full opacity-10 pointer-events-none",children:u.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-primary rounded-full blur-[160px] translate-x-1/2 -translate-y-1/2"})}),u.jsx("div",{className:"relative z-10 max-w-7xl mx-auto",children:u.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-8 mb-10",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-3 bg-primary rounded-xl text-white shadow-lg shadow-primary/20",children:u.jsx(mre,{className:"w-8 h-8"})}),u.jsx("h1",{className:"text-4xl font-black tracking-tight",children:n.pageTitle})]}),u.jsx("p",{className:"text-xl text-slate-400 max-w-2xl font-medium",children:n.pageSubtitle})]}),u.jsx("div",{className:"flex flex-wrap lg:flex-nowrap gap-4",children:r.map((i,s)=>{const a=i.icon;return u.jsxs("div",{className:"flex-1 min-w-[200px] bg-white/5 backdrop-blur-md border border-white/10 p-4 rounded-2xl hover:bg-white/10 transition-colors",children:[u.jsx("div",{className:`w-10 h-10 ${i.bg} rounded-xl flex items-center justify-center mb-3`,children:u.jsx(a,{className:`w-5 h-5 ${i.color}`})}),u.jsx("h3",{className:"font-bold text-sm mb-1",children:i.title}),u.jsx("p",{className:"text-[11px] text-slate-400 leading-tight",children:i.description})]},s)})})]})})]}),u.jsxs("div",{className:"p-4 lg:p-8 max-w-7xl mx-auto",children:[u.jsxs("section",{className:"mb-12",children:[u.jsxs("h2",{className:"text-2xl font-bold mb-8 flex items-center gap-2",children:[u.jsx(By,{className:"w-6 h-6 text-primary"}),n.hybridCommunicationArchitecture]}),u.jsxs("div",{className:"mb-8 p-6 bg-slate-900 text-slate-100 rounded-2xl shadow-xl border border-slate-800 relative overflow-hidden",children:[u.jsx("div",{className:`absolute top-0 ${e?"left-0":"right-0"} w-32 h-32 bg-primary/20 rounded-full blur-3xl ${e?"-ml-16":"-mr-16"} -mt-16`}),u.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row gap-6 items-center",children:[u.jsx("div",{className:"p-4 bg-primary/20 rounded-xl",children:u.jsx(EB,{className:"w-8 h-8 text-primary"})}),u.jsxs("div",{className:`space-y-2 text-center ${e?"md:text-right":"md:text-left"}`,children:[u.jsx("h3",{className:"text-lg font-bold",children:n.whyHybridCritical}),u.jsx("p",{className:"text-sm text-slate-400 leading-relaxed max-w-3xl",children:n.whyHybridDesc})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs(vt,{className:"border-none shadow-md bg-white dark:bg-slate-800",children:[u.jsxs(pn,{className:"pb-2",children:[u.jsxs("div",{className:"flex items-center gap-2 text-primary mb-1",children:[u.jsx(Di,{className:"w-5 h-5"}),u.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:n.highSpeed})]}),u.jsx(_n,{className:"text-xl",children:n.fiberOpticPrimary})]}),u.jsx(Ct,{className:"text-sm text-slate-600 dark:text-slate-400",children:n.fiberOpticDesc})]}),u.jsxs(vt,{className:"border-none shadow-md bg-white dark:bg-slate-800",children:[u.jsxs(pn,{className:"pb-2",children:[u.jsxs("div",{className:"flex items-center gap-2 text-blue-500 mb-1",children:[u.jsx(pbe,{className:"w-5 h-5"}),u.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:n.mobileData})]}),u.jsx(_n,{className:"text-xl",children:n.gsmLteStandard})]}),u.jsx(Ct,{className:"text-sm text-slate-600 dark:text-slate-400",children:n.gsmLteDesc})]}),u.jsxs(vt,{className:"border-none shadow-md bg-white dark:bg-slate-800",children:[u.jsxs(pn,{className:"pb-2",children:[u.jsxs("div",{className:"flex items-center gap-2 text-purple-500 mb-1",children:[u.jsx(C$,{className:"w-5 h-5"}),u.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:n.globalReach})]}),u.jsx(_n,{className:"text-xl",children:n.satelliteFailSafe})]}),u.jsx(Ct,{className:"text-sm text-slate-600 dark:text-slate-400",children:n.satelliteDesc})]})]})]}),u.jsx("section",{className:"mb-12",children:u.jsxs("div",{className:`bg-amber-50 dark:bg-amber-950/20 ${e?"border-r-4":"border-l-4"} border-amber-500 p-6 ${e?"rounded-l-xl":"rounded-r-xl"}`,children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(uA,{className:"w-6 h-6 text-amber-600"}),u.jsx("h2",{className:"text-xl font-bold text-amber-900 dark:text-amber-100 italic",children:n.whatIfGsmDisappears})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed font-medium",children:n.resilienceModeIntro}),u.jsxs("ul",{className:"space-y-3",children:[u.jsxs("li",{className:"flex gap-3 text-sm",children:[u.jsx(ebe,{className:"w-5 h-5 text-amber-600 shrink-0"}),u.jsxs("span",{children:[u.jsx("strong",{children:n.localBlackboxRecording})," ",n.localBlackboxRecordingDesc]})]}),u.jsxs("li",{className:"flex gap-3 text-sm",children:[u.jsx(C$,{className:"w-5 h-5 text-amber-600 shrink-0"}),u.jsxs("span",{children:[u.jsx("strong",{children:n.satelliteFallback})," ",n.satelliteFallbackDesc]})]}),u.jsxs("li",{className:"flex gap-3 text-sm",children:[u.jsx(z4,{className:"w-5 h-5 text-amber-600 shrink-0"}),u.jsxs("span",{children:[u.jsx("strong",{children:n.manualBatchUpload})," ",n.manualBatchUploadDesc]})]}),u.jsxs("li",{className:"flex gap-3 text-sm",children:[u.jsx(Di,{className:"w-5 h-5 text-primary shrink-0"}),u.jsxs("span",{children:[u.jsx("strong",{children:n.fiberOpticConnection})," ",n.fiberOpticConnectionDesc]})]})]})]}),u.jsx("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-amber-100 dark:border-amber-900 shadow-sm self-center",children:u.jsxs("div",{className:"text-center space-y-2",children:[u.jsx("div",{className:"w-16 h-16 bg-amber-100 dark:bg-amber-900/40 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(By,{className:"w-8 h-8 text-amber-600 animate-pulse"})}),u.jsx("h4",{className:"font-bold",children:n.continuousProtection}),u.jsx("p",{className:"text-xs text-slate-500",children:n.offlineFirstDesign})]})})]})]})}),u.jsxs("section",{className:"mb-12",children:[u.jsxs("h2",{className:"text-2xl font-bold mb-8 flex items-center gap-2",children:[u.jsx(B4,{className:"w-6 h-6 text-primary"}),n.comparisonTitle]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs(vt,{className:"border-slate-200 dark:border-slate-800",children:[u.jsx(pn,{className:"bg-slate-100 dark:bg-slate-800/50",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx(_n,{className:"text-lg",children:n.dseGatewayTitle}),u.jsx(Sn,{variant:"outline",children:n.legacyStyle})]})}),u.jsxs(Ct,{className:"pt-6 space-y-4",children:[u.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:n.dseGatewayDesc}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between text-xs py-2 border-b",children:[u.jsx("span",{children:n.dataType}),u.jsx("span",{className:"font-medium",children:n.summaryAlerts})]}),u.jsxs("div",{className:"flex justify-between text-xs py-2 border-b",children:[u.jsx("span",{children:n.protocol}),u.jsx("span",{className:"font-medium",children:n.proprietaryDSEWebNet})]}),u.jsxs("div",{className:"flex justify-between text-xs py-2 border-b",children:[u.jsx("span",{children:n.offlineStorage}),u.jsx("span",{className:"font-medium text-amber-600",children:n.limitedVolatile})]}),u.jsxs("div",{className:"flex justify-between text-xs py-2",children:[u.jsx("span",{children:n.aiAnalysis}),u.jsx("span",{className:"font-medium text-red-500 text-[10px] uppercase",children:n.notSupported})]})]})]})]}),u.jsxs(vt,{className:"border-primary/50 bg-primary/5",children:[u.jsx(pn,{className:"bg-primary/10",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx(_n,{className:"text-lg text-primary",children:n.smartFCMSGateway}),u.jsx(Sn,{className:"bg-primary text-white",children:n.nextGen})]})}),u.jsxs(Ct,{className:"pt-6 space-y-4",children:[u.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-300 font-medium",children:n.smartGatewayDesc}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between text-xs py-2 border-b border-primary/10",children:[u.jsx("span",{children:n.dataType}),u.jsx("span",{className:"font-medium text-primary",children:n.fullTelemetry})]}),u.jsxs("div",{className:"flex justify-between text-xs py-2 border-b border-primary/10",children:[u.jsx("span",{children:n.protocol}),u.jsx("span",{className:"font-medium text-primary",children:n.openProtocols})]}),u.jsxs("div",{className:"flex justify-between text-xs py-2 border-b border-primary/10",children:[u.jsx("span",{children:n.offlineStorage}),u.jsx("span",{className:"font-medium text-primary",children:n.highCapacitySSD})]}),u.jsxs("div",{className:"flex justify-between text-xs py-2",children:[u.jsx("span",{children:n.aiAnalysis}),u.jsx("span",{className:"font-medium text-emerald-600 text-[10px] uppercase font-bold",children:n.edgeAIPredictive})]})]})]})]})]})]}),u.jsxs("section",{className:"mb-12",children:[u.jsxs("h2",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[u.jsx(sA,{className:"w-5 h-5 text-primary"}),n.infrastructureComparison]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:`w-full ${e?"text-right":"text-left"} border-collapse`,children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-800",children:[u.jsx("th",{className:"py-4 font-bold text-slate-400 text-sm",children:n.parameter}),u.jsx("th",{className:"py-4 font-bold text-slate-400 text-sm",children:n.legacyDSEGate}),u.jsx("th",{className:"py-4 font-bold text-slate-900 dark:text-white text-sm",children:n.smartFCMSGateway})]})}),u.jsxs("tbody",{children:[u.jsxs("tr",{className:"border-b border-slate-100 dark:border-slate-800/50",children:[u.jsx("td",{className:"py-4 font-medium text-sm",children:n.noSignalOperation}),u.jsx("td",{className:"py-4 text-slate-500 text-sm",children:n.blindNoData}),u.jsx("td",{className:"py-4 text-emerald-600 font-bold text-sm italic",children:n.resilienceModeActive})]}),u.jsxs("tr",{className:"border-b border-slate-100 dark:border-slate-800/50",children:[u.jsx("td",{className:"py-4 font-medium text-sm",children:n.protocolOpenness}),u.jsx("td",{className:"py-4 text-slate-500 text-sm",children:n.closedEcosystem}),u.jsx("td",{className:"py-4 text-blue-600 font-bold text-sm",children:n.standardOpenAPIs})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"py-4 font-medium text-sm",children:n.monitoringCost}),u.jsx("td",{className:"py-4 text-slate-500 text-sm",children:n.monthlySubscriptions}),u.jsx("td",{className:"py-4 text-emerald-600 font-bold text-sm",children:n.zeroLowOwnInfra})]})]})]})})]}),u.jsxs("section",{className:"mb-12",children:[u.jsxs("h2",{className:"text-2xl font-bold mb-8 flex items-center gap-2",children:[u.jsx(Di,{className:"w-6 h-6 text-primary"}),n.seamlessIntegration]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"space-y-6",children:[u.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white border-b pb-2",children:n.directControllerIntegration}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex gap-4",children:[u.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center shrink-0",children:u.jsx(B4,{className:"w-5 h-5 text-primary"})}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-sm",children:n.nativeCANbus}),u.jsx("p",{className:"text-xs text-slate-500",children:n.nativeCANbusDesc})]})]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center shrink-0",children:u.jsx(z4,{className:"w-5 h-5 text-blue-600"})}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-sm",children:n.modbusTCPRTU}),u.jsx("p",{className:"text-xs text-slate-500",children:n.modbusTCPRTUDesc})]})]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx("div",{className:"w-10 h-10 bg-emerald-100 dark:bg-emerald-900/30 rounded-lg flex items-center justify-center shrink-0",children:u.jsx(up,{className:"w-5 h-5 text-emerald-600"})}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-sm",children:n.snmpV3Security}),u.jsx("p",{className:"text-xs text-slate-500",children:n.snmpV3SecurityDesc})]})]})]})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white border-b pb-2",children:n.whatMakesUsDifferent}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-100 dark:border-slate-800 shadow-sm space-y-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Sn,{className:"bg-emerald-500 text-white",children:n.feature}),u.jsx("h4",{className:"font-bold",children:n.plugAndPlayRectifierSync})]}),u.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:n.plugAndPlayDesc}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[u.jsxs("div",{className:"text-center p-3 bg-slate-50 dark:bg-slate-900/50 rounded-xl",children:[u.jsx("p",{className:"text-xl font-bold text-primary",children:"0 ms"}),u.jsx("p",{className:"text-[10px] uppercase text-slate-500",children:n.switchTime})]}),u.jsxs("div",{className:"text-center p-3 bg-slate-50 dark:bg-slate-900/50 rounded-xl",children:[u.jsx("p",{className:"text-xl font-bold text-primary",children:n.single}),u.jsx("p",{className:"text-[10px] uppercase text-slate-500",children:n.dcInterface})]})]}),u.jsx("p",{className:"text-[11px] italic text-slate-500",children:n.eliminatesNote})]})]})]})]}),u.jsxs("section",{className:"mb-12",children:[u.jsxs("h2",{className:"text-2xl font-bold mb-8 flex items-center gap-2",children:[u.jsx(Cg,{className:"w-6 h-6 text-primary"}),n.controlCommunicationScenarios]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs(vt,{className:"border-none shadow-md bg-white dark:bg-slate-800",children:[u.jsxs(pn,{className:"bg-slate-50 dark:bg-slate-800/50 pb-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-primary mb-1",children:[u.jsx(Di,{className:"w-5 h-5"}),u.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:n.scenarioA})]}),u.jsx(_n,{className:"text-xl",children:n.hybridGridOptimization})]}),u.jsxs(Ct,{className:"pt-6 space-y-4",children:[u.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:n.hybridGridOptimizationDesc}),u.jsxs("div",{className:`p-3 bg-primary/5 rounded-lg ${e?"border-r-4":"border-l-4"} border-primary`,children:[u.jsx("h5",{className:"text-xs font-bold text-primary mb-1",children:n.controlAction}),u.jsx("p",{className:"text-[11px] leading-relaxed",children:n.scenarioAAction})]})]})]}),u.jsxs(vt,{className:"border-none shadow-md bg-white dark:bg-slate-800",children:[u.jsxs(pn,{className:"bg-slate-50 dark:bg-slate-800/50 pb-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-orange-500 mb-1",children:[u.jsx(uA,{className:"w-5 h-5"}),u.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:n.scenarioB})]}),u.jsx(_n,{className:"text-xl",children:n.emergencyLoadShedding})]}),u.jsxs(Ct,{className:"pt-6 space-y-4",children:[u.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:n.emergencyLoadSheddingDesc}),u.jsxs("div",{className:`p-3 bg-orange-50 dark:bg-orange-950/20 rounded-lg ${e?"border-r-4":"border-l-4"} border-orange-500`,children:[u.jsx("h5",{className:"text-xs font-bold text-orange-600 mb-1",children:n.controlAction}),u.jsx("p",{className:"text-[11px] leading-relaxed",children:n.scenarioBAction})]})]})]}),u.jsxs(vt,{className:"border-none shadow-md bg-white dark:bg-slate-800",children:[u.jsxs(pn,{className:"bg-slate-50 dark:bg-slate-800/50 pb-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-emerald-500 mb-1",children:[u.jsx(Cg,{className:"w-5 h-5"}),u.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:n.scenarioC})]}),u.jsx(_n,{className:"text-xl",children:n.predictiveHydrogenRefill})]}),u.jsxs(Ct,{className:"pt-6 space-y-4",children:[u.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:n.predictiveHydrogenRefillDesc}),u.jsxs("div",{className:`p-3 bg-emerald-50 dark:bg-emerald-950/20 rounded-lg ${e?"border-r-4":"border-l-4"} border-emerald-500`,children:[u.jsx("h5",{className:"text-xs font-bold text-emerald-600 mb-1",children:n.controlAction}),u.jsx("p",{className:"text-[11px] leading-relaxed",children:n.scenarioCAction})]})]})]})]})]})]})]})]})}class Aa{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const s=n[i],a=e+s,o=Math.abs(e)<Math.abs(s)?e-(a-s):s-(a-e);o&&(n[r++]=o),e=a}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,s,a=0;if(n>0){for(a=e[--n];n>0&&(r=a,i=e[--n],a=r+i,s=i-(a-r),!s););n>0&&(s<0&&e[n-1]<0||s>0&&e[n-1]>0)&&(i=s*2,r=a+i,i==r-a&&(a=r))}return a}}function*Zst(t){for(const e of t)yield*e}function Dge(t){return Array.from(Zst(t))}function Dy(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}var mn=1e-6,ZS=1e-12,Jn=Math.PI,ki=Jn/2,$P=Jn/4,no=Jn*2,Hr=180/Jn,gn=Jn/180,ur=Math.abs,jb=Math.atan,ro=Math.atan2,sn=Math.cos,b2=Math.ceil,Lge=Math.exp,NU=Math.hypot,HP=Math.log,x4=Math.pow,Wt=Math.sin,Hl=Math.sign||function(t){return t>0?1:t<0?-1:0},Bs=Math.sqrt,RV=Math.tan;function Fge(t){return t>1?0:t<-1?Jn:Math.acos(t)}function io(t){return t>1?ki:t<-1?-ki:Math.asin(t)}function ste(t){return(t=Wt(t/2))*t}function wi(){}function WP(t,e){t&&ote.hasOwnProperty(t.type)&&ote[t.type](t,e)}var ate={Feature:function(t,e){WP(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)WP(n[r].geometry,e)}},ote={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){RU(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)RU(n[r],e,0)},Polygon:function(t,e){lte(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)lte(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)WP(n[r],e)}};function RU(t,e,n){var r=-1,i=t.length-n,s;for(e.lineStart();++r<i;)s=t[r],e.point(s[0],s[1],s[2]);e.lineEnd()}function lte(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)RU(t[n],e,1);e.polygonEnd()}function Bc(t,e){t&&ate.hasOwnProperty(t.type)?ate[t.type](t,e):WP(t,e)}var GP=new Aa,qP=new Aa,Uge,Bge,OU,jU,IU,dd={point:wi,lineStart:wi,lineEnd:wi,polygonStart:function(){GP=new Aa,dd.lineStart=Qst,dd.lineEnd=Jst},polygonEnd:function(){var t=+GP;qP.add(t<0?no+t:t),this.lineStart=this.lineEnd=this.point=wi},sphere:function(){qP.add(no)}};function Qst(){dd.point=eat}function Jst(){zge(Uge,Bge)}function eat(t,e){dd.point=zge,Uge=t,Bge=e,t*=gn,e*=gn,OU=t,jU=sn(e=e/2+$P),IU=Wt(e)}function zge(t,e){t*=gn,e*=gn,e=e/2+$P;var n=t-OU,r=n>=0?1:-1,i=r*n,s=sn(e),a=Wt(e),o=IU*a,l=jU*s+o*sn(i),c=o*r*Wt(i);GP.add(ro(c,l)),OU=t,jU=s,IU=a}function tat(t){return qP=new Aa,Bc(t,dd),qP*2}function XP(t){return[ro(t[1],t[0]),io(t[2])]}function h0(t){var e=t[0],n=t[1],r=sn(n);return[r*sn(e),r*Wt(e),Wt(n)]}function w2(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function nb(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function b4(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function _2(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function YP(t){var e=Bs(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var gi,Mo,Ni,il,hg,Vge,$ge,nx,c_,Zh,Yf,bf={point:kU,lineStart:cte,lineEnd:ute,polygonStart:function(){bf.point=Wge,bf.lineStart=nat,bf.lineEnd=rat,c_=new Aa,dd.polygonStart()},polygonEnd:function(){dd.polygonEnd(),bf.point=kU,bf.lineStart=cte,bf.lineEnd=ute,GP<0?(gi=-(Ni=180),Mo=-(il=90)):c_>mn?il=90:c_<-mn&&(Mo=-90),Yf[0]=gi,Yf[1]=Ni},sphere:function(){gi=-(Ni=180),Mo=-(il=90)}};function kU(t,e){Zh.push(Yf=[gi=t,Ni=t]),e<Mo&&(Mo=e),e>il&&(il=e)}function Hge(t,e){var n=h0([t*gn,e*gn]);if(nx){var r=nb(nx,n),i=[r[1],-r[0],0],s=nb(i,r);YP(s),s=XP(s);var a=t-hg,o=a>0?1:-1,l=s[0]*Hr*o,c,d=ur(a)>180;d^(o*hg<l&&l<o*t)?(c=s[1]*Hr,c>il&&(il=c)):(l=(l+360)%360-180,d^(o*hg<l&&l<o*t)?(c=-s[1]*Hr,c<Mo&&(Mo=c)):(e<Mo&&(Mo=e),e>il&&(il=e))),d?t<hg?Qo(gi,t)>Qo(gi,Ni)&&(Ni=t):Qo(t,Ni)>Qo(gi,Ni)&&(gi=t):Ni>=gi?(t<gi&&(gi=t),t>Ni&&(Ni=t)):t>hg?Qo(gi,t)>Qo(gi,Ni)&&(Ni=t):Qo(t,Ni)>Qo(gi,Ni)&&(gi=t)}else Zh.push(Yf=[gi=t,Ni=t]);e<Mo&&(Mo=e),e>il&&(il=e),nx=n,hg=t}function cte(){bf.point=Hge}function ute(){Yf[0]=gi,Yf[1]=Ni,bf.point=kU,nx=null}function Wge(t,e){if(nx){var n=t-hg;c_.add(ur(n)>180?n+(n>0?360:-360):n)}else Vge=t,$ge=e;dd.point(t,e),Hge(t,e)}function nat(){dd.lineStart()}function rat(){Wge(Vge,$ge),dd.lineEnd(),ur(c_)>mn&&(gi=-(Ni=180)),Yf[0]=gi,Yf[1]=Ni,nx=null}function Qo(t,e){return(e-=t)<0?e+360:e}function iat(t,e){return t[0]-e[0]}function dte(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function sat(t){var e,n,r,i,s,a,o;if(il=Ni=-(gi=Mo=1/0),Zh=[],Bc(t,bf),n=Zh.length){for(Zh.sort(iat),e=1,r=Zh[0],s=[r];e<n;++e)i=Zh[e],dte(r,i[0])||dte(r,i[1])?(Qo(r[0],i[1])>Qo(r[0],r[1])&&(r[1]=i[1]),Qo(i[0],r[1])>Qo(r[0],r[1])&&(r[0]=i[0])):s.push(r=i);for(a=-1/0,n=s.length-1,e=0,r=s[n];e<=n;r=i,++e)i=s[e],(o=Qo(r[1],i[0]))>a&&(a=o,gi=i[0],Ni=r[1])}return Zh=Yf=null,gi===1/0||Mo===1/0?[[NaN,NaN],[NaN,NaN]]:[[gi,Mo],[Ni,il]]}var C1,KP,ZP,QP,JP,eN,tN,nN,DU,LU,FU,Gge,qge,Wa,Ga,qa,qc={sphere:wi,point:OV,lineStart:fte,lineEnd:hte,polygonStart:function(){qc.lineStart=lat,qc.lineEnd=cat},polygonEnd:function(){qc.lineStart=fte,qc.lineEnd=hte}};function OV(t,e){t*=gn,e*=gn;var n=sn(e);eM(n*sn(t),n*Wt(t),Wt(e))}function eM(t,e,n){++C1,ZP+=(t-ZP)/C1,QP+=(e-QP)/C1,JP+=(n-JP)/C1}function fte(){qc.point=aat}function aat(t,e){t*=gn,e*=gn;var n=sn(e);Wa=n*sn(t),Ga=n*Wt(t),qa=Wt(e),qc.point=oat,eM(Wa,Ga,qa)}function oat(t,e){t*=gn,e*=gn;var n=sn(e),r=n*sn(t),i=n*Wt(t),s=Wt(e),a=ro(Bs((a=Ga*s-qa*i)*a+(a=qa*r-Wa*s)*a+(a=Wa*i-Ga*r)*a),Wa*r+Ga*i+qa*s);KP+=a,eN+=a*(Wa+(Wa=r)),tN+=a*(Ga+(Ga=i)),nN+=a*(qa+(qa=s)),eM(Wa,Ga,qa)}function hte(){qc.point=OV}function lat(){qc.point=uat}function cat(){Xge(Gge,qge),qc.point=OV}function uat(t,e){Gge=t,qge=e,t*=gn,e*=gn,qc.point=Xge;var n=sn(e);Wa=n*sn(t),Ga=n*Wt(t),qa=Wt(e),eM(Wa,Ga,qa)}function Xge(t,e){t*=gn,e*=gn;var n=sn(e),r=n*sn(t),i=n*Wt(t),s=Wt(e),a=Ga*s-qa*i,o=qa*r-Wa*s,l=Wa*i-Ga*r,c=NU(a,o,l),d=io(c),f=c&&-d/c;DU.add(f*a),LU.add(f*o),FU.add(f*l),KP+=d,eN+=d*(Wa+(Wa=r)),tN+=d*(Ga+(Ga=i)),nN+=d*(qa+(qa=s)),eM(Wa,Ga,qa)}function dat(t){C1=KP=ZP=QP=JP=eN=tN=nN=0,DU=new Aa,LU=new Aa,FU=new Aa,Bc(t,qc);var e=+DU,n=+LU,r=+FU,i=NU(e,n,r);return i<ZS&&(e=eN,n=tN,r=nN,KP<mn&&(e=ZP,n=QP,r=JP),i=NU(e,n,r),i<ZS)?[NaN,NaN]:[ro(n,e)*Hr,io(r/i)*Hr]}function gy(t){return function(){return t}}function UU(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function BU(t,e){return[ur(t)>Jn?t+Math.round(-t/no)*no:t,e]}BU.invert=BU;function jV(t,e,n){return(t%=no)?e||n?UU(mte(t),gte(e,n)):mte(t):e||n?gte(e,n):BU}function pte(t){return function(e,n){return e+=t,[e>Jn?e-no:e<-Jn?e+no:e,n]}}function mte(t){var e=pte(t);return e.invert=pte(-t),e}function gte(t,e){var n=sn(t),r=Wt(t),i=sn(e),s=Wt(e);function a(o,l){var c=sn(l),d=sn(o)*c,f=Wt(o)*c,h=Wt(l),m=h*n+d*r;return[ro(f*i-m*s,d*n-h*r),io(m*i+f*s)]}return a.invert=function(o,l){var c=sn(l),d=sn(o)*c,f=Wt(o)*c,h=Wt(l),m=h*i-f*s;return[ro(f*i+h*s,d*n+m*r),io(m*n-d*r)]},a}function Yge(t){t=jV(t[0]*gn,t[1]*gn,t.length>2?t[2]*gn:0);function e(n){return n=t(n[0]*gn,n[1]*gn),n[0]*=Hr,n[1]*=Hr,n}return e.invert=function(n){return n=t.invert(n[0]*gn,n[1]*gn),n[0]*=Hr,n[1]*=Hr,n},e}function Kge(t,e,n,r,i,s){if(n){var a=sn(e),o=Wt(e),l=r*n;i==null?(i=e+r*no,s=e-l/2):(i=vte(a,i),s=vte(a,s),(r>0?i<s:i>s)&&(i+=r*no));for(var c,d=i;r>0?d>s:d<s;d-=l)c=XP([a,-o*sn(d),-o*Wt(d)]),t.point(c[0],c[1])}}function vte(t,e){e=h0(e),e[0]-=t,YP(e);var n=Fge(-e[1]);return((-e[2]<0?-n:n)+no-mn)%no}function fat(){var t=gy([0,0]),e=gy(90),n=gy(6),r,i,s={point:a};function a(l,c){r.push(l=i(l,c)),l[0]*=Hr,l[1]*=Hr}function o(){var l=t.apply(this,arguments),c=e.apply(this,arguments)*gn,d=n.apply(this,arguments)*gn;return r=[],i=jV(-l[0]*gn,-l[1]*gn,0).invert,Kge(s,c,d,1),l={type:"Polygon",coordinates:[r]},r=i=null,l}return o.center=function(l){return arguments.length?(t=typeof l=="function"?l:gy([+l[0],+l[1]]),o):t},o.radius=function(l){return arguments.length?(e=typeof l=="function"?l:gy(+l),o):e},o.precision=function(l){return arguments.length?(n=typeof l=="function"?l:gy(+l),o):n},o}function Zge(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:wi,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function K2(t,e){return ur(t[0]-e[0])<mn&&ur(t[1]-e[1])<mn}function S2(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Qge(t,e,n,r,i){var s=[],a=[],o,l;if(t.forEach(function(v){if(!((b=v.length-1)<=0)){var b,y=v[0],w=v[b],S;if(K2(y,w)){if(!y[2]&&!w[2]){for(i.lineStart(),o=0;o<b;++o)i.point((y=v[o])[0],y[1]);i.lineEnd();return}w[0]+=2*mn}s.push(S=new S2(y,v,null,!0)),a.push(S.o=new S2(y,null,S,!1)),s.push(S=new S2(w,v,null,!1)),a.push(S.o=new S2(w,null,S,!0))}}),!!s.length){for(a.sort(e),yte(s),yte(a),o=0,l=a.length;o<l;++o)a[o].e=n=!n;for(var c=s[0],d,f;;){for(var h=c,m=!0;h.v;)if((h=h.n)===c)return;d=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(m)for(o=0,l=d.length;o<l;++o)i.point((f=d[o])[0],f[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(m)for(d=h.p.z,o=d.length-1;o>=0;--o)i.point((f=d[o])[0],f[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,d=h.z,m=!m}while(!h.v);i.lineEnd()}}}function yte(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function w4(t){return ur(t[0])<=Jn?t[0]:Hl(t[0])*((ur(t[0])+Jn)%no-Jn)}function Jge(t,e){var n=w4(e),r=e[1],i=Wt(r),s=[Wt(n),-sn(n),0],a=0,o=0,l=new Aa;i===1?r=ki+mn:i===-1&&(r=-ki-mn);for(var c=0,d=t.length;c<d;++c)if(h=(f=t[c]).length)for(var f,h,m=f[h-1],v=w4(m),b=m[1]/2+$P,y=Wt(b),w=sn(b),S=0;S<h;++S,v=T,y=C,w=j,m=M){var M=f[S],T=w4(M),A=M[1]/2+$P,C=Wt(A),j=sn(A),L=T-v,O=L>=0?1:-1,k=O*L,F=k>Jn,G=y*C;if(l.add(ro(G*O*Wt(k),w*j+G*sn(k))),a+=F?L+O*no:L,F^v>=n^T>=n){var Y=nb(h0(m),h0(M));YP(Y);var U=nb(s,Y);YP(U);var W=(F^L>=0?-1:1)*io(U[2]);(r>W||r===W&&(Y[0]||Y[1]))&&(o+=F^L>=0?1:-1)}}return(a<-mn||a<mn&&l<-ZS)^o&1}function e0e(t,e,n,r){return function(i){var s=e(i),a=Zge(),o=e(a),l=!1,c,d,f,h={point:m,lineStart:b,lineEnd:y,polygonStart:function(){h.point=w,h.lineStart=S,h.lineEnd=M,d=[],c=[]},polygonEnd:function(){h.point=m,h.lineStart=b,h.lineEnd=y,d=Dge(d);var T=Jge(c,r);d.length?(l||(i.polygonStart(),l=!0),Qge(d,pat,T,n,i)):T&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),d=c=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function m(T,A){t(T,A)&&i.point(T,A)}function v(T,A){s.point(T,A)}function b(){h.point=v,s.lineStart()}function y(){h.point=m,s.lineEnd()}function w(T,A){f.push([T,A]),o.point(T,A)}function S(){o.lineStart(),f=[]}function M(){w(f[0][0],f[0][1]),o.lineEnd();var T=o.clean(),A=a.result(),C,j=A.length,L,O,k;if(f.pop(),c.push(f),f=null,!!j){if(T&1){if(O=A[0],(L=O.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),C=0;C<L;++C)i.point((k=O[C])[0],k[1]);i.lineEnd()}return}j>1&&T&2&&A.push(A.pop().concat(A.shift())),d.push(A.filter(hat))}}return h}}function hat(t){return t.length>1}function pat(t,e){return((t=t.x)[0]<0?t[1]-ki-mn:ki-t[1])-((e=e.x)[0]<0?e[1]-ki-mn:ki-e[1])}const zU=e0e(function(){return!0},mat,vat,[-Jn,-ki]);function mat(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(s,a){var o=s>0?Jn:-Jn,l=ur(s-e);ur(l-Jn)<mn?(t.point(e,n=(n+a)/2>0?ki:-ki),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(o,n),t.point(s,n),i=0):r!==o&&l>=Jn&&(ur(e-r)<mn&&(e-=r*mn),ur(s-o)<mn&&(s-=o*mn),n=gat(e,n,s,a),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(o,n),i=0),t.point(e=s,n=a),r=o},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function gat(t,e,n,r){var i,s,a=Wt(t-n);return ur(a)>mn?jb((Wt(e)*(s=sn(r))*Wt(n)-Wt(r)*(i=sn(e))*Wt(t))/(i*s*a)):(e+r)/2}function vat(t,e,n,r){var i;if(t==null)i=n*ki,r.point(-Jn,i),r.point(0,i),r.point(Jn,i),r.point(Jn,0),r.point(Jn,-i),r.point(0,-i),r.point(-Jn,-i),r.point(-Jn,0),r.point(-Jn,i);else if(ur(t[0]-e[0])>mn){var s=t[0]<e[0]?Jn:-Jn;i=n*s/2,r.point(-s,i),r.point(0,i),r.point(s,i)}else r.point(e[0],e[1])}function t0e(t){var e=sn(t),n=6*gn,r=e>0,i=ur(e)>mn;function s(d,f,h,m){Kge(m,t,n,h,d,f)}function a(d,f){return sn(d)*sn(f)>e}function o(d){var f,h,m,v,b;return{lineStart:function(){v=m=!1,b=1},point:function(y,w){var S=[y,w],M,T=a(y,w),A=r?T?0:c(y,w):T?c(y+(y<0?Jn:-Jn),w):0;if(!f&&(v=m=T)&&d.lineStart(),T!==m&&(M=l(f,S),(!M||K2(f,M)||K2(S,M))&&(S[2]=1)),T!==m)b=0,T?(d.lineStart(),M=l(S,f),d.point(M[0],M[1])):(M=l(f,S),d.point(M[0],M[1],2),d.lineEnd()),f=M;else if(i&&f&&r^T){var C;!(A&h)&&(C=l(S,f,!0))&&(b=0,r?(d.lineStart(),d.point(C[0][0],C[0][1]),d.point(C[1][0],C[1][1]),d.lineEnd()):(d.point(C[1][0],C[1][1]),d.lineEnd(),d.lineStart(),d.point(C[0][0],C[0][1],3)))}T&&(!f||!K2(f,S))&&d.point(S[0],S[1]),f=S,m=T,h=A},lineEnd:function(){m&&d.lineEnd(),f=null},clean:function(){return b|(v&&m)<<1}}}function l(d,f,h){var m=h0(d),v=h0(f),b=[1,0,0],y=nb(m,v),w=w2(y,y),S=y[0],M=w-S*S;if(!M)return!h&&d;var T=e*w/M,A=-e*S/M,C=nb(b,y),j=_2(b,T),L=_2(y,A);b4(j,L);var O=C,k=w2(j,O),F=w2(O,O),G=k*k-F*(w2(j,j)-1);if(!(G<0)){var Y=Bs(G),U=_2(O,(-k-Y)/F);if(b4(U,j),U=XP(U),!h)return U;var W=d[0],q=f[0],Z=d[1],V=f[1],Q;q<W&&(Q=W,W=q,q=Q);var ee=q-W,$=ur(ee-Jn)<mn,J=$||ee<mn;if(!$&&V<Z&&(Q=Z,Z=V,V=Q),J?$?Z+V>0^U[1]<(ur(U[0]-W)<mn?Z:V):Z<=U[1]&&U[1]<=V:ee>Jn^(W<=U[0]&&U[0]<=q)){var de=_2(O,(-k+Y)/F);return b4(de,j),[U,XP(de)]}}}function c(d,f){var h=r?t:Jn-t,m=0;return d<-h?m|=1:d>h&&(m|=2),f<-h?m|=4:f>h&&(m|=8),m}return e0e(a,o,s,r?[0,-t]:[-Jn,t-Jn])}function yat(t,e,n,r,i,s){var a=t[0],o=t[1],l=e[0],c=e[1],d=0,f=1,h=l-a,m=c-o,v;if(v=n-a,!(!h&&v>0)){if(v/=h,h<0){if(v<d)return;v<f&&(f=v)}else if(h>0){if(v>f)return;v>d&&(d=v)}if(v=i-a,!(!h&&v<0)){if(v/=h,h<0){if(v>f)return;v>d&&(d=v)}else if(h>0){if(v<d)return;v<f&&(f=v)}if(v=r-o,!(!m&&v>0)){if(v/=m,m<0){if(v<d)return;v<f&&(f=v)}else if(m>0){if(v>f)return;v>d&&(d=v)}if(v=s-o,!(!m&&v<0)){if(v/=m,m<0){if(v>f)return;v>d&&(d=v)}else if(m>0){if(v<d)return;v<f&&(f=v)}return d>0&&(t[0]=a+d*h,t[1]=o+d*m),f<1&&(e[0]=a+f*h,e[1]=o+f*m),!0}}}}}var P1=1e9,E2=-P1;function AO(t,e,n,r){function i(c,d){return t<=c&&c<=n&&e<=d&&d<=r}function s(c,d,f,h){var m=0,v=0;if(c==null||(m=a(c,f))!==(v=a(d,f))||l(c,d)<0^f>0)do h.point(m===0||m===3?t:n,m>1?r:e);while((m=(m+f+4)%4)!==v);else h.point(d[0],d[1])}function a(c,d){return ur(c[0]-t)<mn?d>0?0:3:ur(c[0]-n)<mn?d>0?2:1:ur(c[1]-e)<mn?d>0?1:0:d>0?3:2}function o(c,d){return l(c.x,d.x)}function l(c,d){var f=a(c,1),h=a(d,1);return f!==h?f-h:f===0?d[1]-c[1]:f===1?c[0]-d[0]:f===2?c[1]-d[1]:d[0]-c[0]}return function(c){var d=c,f=Zge(),h,m,v,b,y,w,S,M,T,A,C,j={point:L,lineStart:G,lineEnd:Y,polygonStart:k,polygonEnd:F};function L(W,q){i(W,q)&&d.point(W,q)}function O(){for(var W=0,q=0,Z=m.length;q<Z;++q)for(var V=m[q],Q=1,ee=V.length,$=V[0],J,de,Ae=$[0],Ue=$[1];Q<ee;++Q)J=Ae,de=Ue,$=V[Q],Ae=$[0],Ue=$[1],de<=r?Ue>r&&(Ae-J)*(r-de)>(Ue-de)*(t-J)&&++W:Ue<=r&&(Ae-J)*(r-de)<(Ue-de)*(t-J)&&--W;return W}function k(){d=f,h=[],m=[],C=!0}function F(){var W=O(),q=C&&W,Z=(h=Dge(h)).length;(q||Z)&&(c.polygonStart(),q&&(c.lineStart(),s(null,null,1,c),c.lineEnd()),Z&&Qge(h,o,W,s,c),c.polygonEnd()),d=c,h=m=v=null}function G(){j.point=U,m&&m.push(v=[]),A=!0,T=!1,S=M=NaN}function Y(){h&&(U(b,y),w&&T&&f.rejoin(),h.push(f.result())),j.point=L,T&&d.lineEnd()}function U(W,q){var Z=i(W,q);if(m&&v.push([W,q]),A)b=W,y=q,w=Z,A=!1,Z&&(d.lineStart(),d.point(W,q));else if(Z&&T)d.point(W,q);else{var V=[S=Math.max(E2,Math.min(P1,S)),M=Math.max(E2,Math.min(P1,M))],Q=[W=Math.max(E2,Math.min(P1,W)),q=Math.max(E2,Math.min(P1,q))];yat(V,Q,t,e,n,r)?(T||(d.lineStart(),d.point(V[0],V[1])),d.point(Q[0],Q[1]),Z||d.lineEnd(),C=!1):Z&&(d.lineStart(),d.point(W,q),C=!1)}S=W,M=q,T=Z}return j}}function xat(){var t=0,e=0,n=960,r=500,i,s,a;return a={stream:function(o){return i&&s===o?i:i=AO(t,e,n,r)(s=o)},extent:function(o){return arguments.length?(t=+o[0][0],e=+o[0][1],n=+o[1][0],r=+o[1][1],i=s=null,a):[[t,e],[n,r]]}}}var VU,$U,Z2,Q2,rb={sphere:wi,point:wi,lineStart:bat,lineEnd:wi,polygonStart:wi,polygonEnd:wi};function bat(){rb.point=_at,rb.lineEnd=wat}function wat(){rb.point=rb.lineEnd=wi}function _at(t,e){t*=gn,e*=gn,$U=t,Z2=Wt(e),Q2=sn(e),rb.point=Sat}function Sat(t,e){t*=gn,e*=gn;var n=Wt(e),r=sn(e),i=ur(t-$U),s=sn(i),a=Wt(i),o=r*a,l=Q2*n-Z2*r*s,c=Z2*n+Q2*r*s;VU.add(ro(Bs(o*o+l*l),c)),$U=t,Z2=n,Q2=r}function n0e(t){return VU=new Aa,Bc(t,rb),+VU}var HU=[null,null],Eat={type:"LineString",coordinates:HU};function rN(t,e){return HU[0]=t,HU[1]=e,n0e(Eat)}var xte={Feature:function(t,e){return iN(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(iN(n[r].geometry,e))return!0;return!1}},bte={Sphere:function(){return!0},Point:function(t,e){return wte(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(wte(n[r],e))return!0;return!1},LineString:function(t,e){return _te(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(_te(n[r],e))return!0;return!1},Polygon:function(t,e){return Ste(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Ste(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(iN(n[r],e))return!0;return!1}};function iN(t,e){return t&&bte.hasOwnProperty(t.type)?bte[t.type](t,e):!1}function wte(t,e){return rN(t,e)===0}function _te(t,e){for(var n,r,i,s=0,a=t.length;s<a;s++){if(r=rN(t[s],e),r===0||s>0&&(i=rN(t[s],t[s-1]),i>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<ZS*i))return!0;n=r}return!1}function Ste(t,e){return!!Jge(t.map(Mat),r0e(e))}function Mat(t){return t=t.map(r0e),t.pop(),t}function r0e(t){return[t[0]*gn,t[1]*gn]}function Tat(t,e){return(t&&xte.hasOwnProperty(t.type)?xte[t.type]:iN)(t,e)}function Ete(t,e,n){var r=Dy(t,e-mn,n).concat(e);return function(i){return r.map(function(s){return[i,s]})}}function Mte(t,e,n){var r=Dy(t,e-mn,n).concat(e);return function(i){return r.map(function(s){return[s,i]})}}function IV(){var t,e,n,r,i,s,a,o,l=10,c=l,d=90,f=360,h,m,v,b,y=2.5;function w(){return{type:"MultiLineString",coordinates:S()}}function S(){return Dy(b2(r/d)*d,n,d).map(v).concat(Dy(b2(o/f)*f,a,f).map(b)).concat(Dy(b2(e/l)*l,t,l).filter(function(M){return ur(M%d)>mn}).map(h)).concat(Dy(b2(s/c)*c,i,c).filter(function(M){return ur(M%f)>mn}).map(m))}return w.lines=function(){return S().map(function(M){return{type:"LineString",coordinates:M}})},w.outline=function(){return{type:"Polygon",coordinates:[v(r).concat(b(a).slice(1),v(n).reverse().slice(1),b(o).reverse().slice(1))]}},w.extent=function(M){return arguments.length?w.extentMajor(M).extentMinor(M):w.extentMinor()},w.extentMajor=function(M){return arguments.length?(r=+M[0][0],n=+M[1][0],o=+M[0][1],a=+M[1][1],r>n&&(M=r,r=n,n=M),o>a&&(M=o,o=a,a=M),w.precision(y)):[[r,o],[n,a]]},w.extentMinor=function(M){return arguments.length?(e=+M[0][0],t=+M[1][0],s=+M[0][1],i=+M[1][1],e>t&&(M=e,e=t,t=M),s>i&&(M=s,s=i,i=M),w.precision(y)):[[e,s],[t,i]]},w.step=function(M){return arguments.length?w.stepMajor(M).stepMinor(M):w.stepMinor()},w.stepMajor=function(M){return arguments.length?(d=+M[0],f=+M[1],w):[d,f]},w.stepMinor=function(M){return arguments.length?(l=+M[0],c=+M[1],w):[l,c]},w.precision=function(M){return arguments.length?(y=+M,h=Ete(s,i,90),m=Mte(e,t,y),v=Ete(o,a,90),b=Mte(r,n,y),w):y},w.extentMajor([[-180,-90+mn],[180,90-mn]]).extentMinor([[-180,-80-mn],[180,80+mn]])}function Aat(){return IV()()}function Cat(t,e){var n=t[0]*gn,r=t[1]*gn,i=e[0]*gn,s=e[1]*gn,a=sn(r),o=Wt(r),l=sn(s),c=Wt(s),d=a*sn(n),f=a*Wt(n),h=l*sn(i),m=l*Wt(i),v=2*io(Bs(ste(s-r)+a*l*ste(i-n))),b=Wt(v),y=v?function(w){var S=Wt(w*=v)/b,M=Wt(v-w)/b,T=M*d+S*h,A=M*f+S*m,C=M*o+S*c;return[ro(A,T)*Hr,ro(C,Bs(T*T+A*A))*Hr]}:function(){return[n*Hr,r*Hr]};return y.distance=v,y}const QS=t=>t;var _4=new Aa,WU=new Aa,i0e,s0e,GU,qU,Sf={point:wi,lineStart:wi,lineEnd:wi,polygonStart:function(){Sf.lineStart=Pat,Sf.lineEnd=Rat},polygonEnd:function(){Sf.lineStart=Sf.lineEnd=Sf.point=wi,_4.add(ur(WU)),WU=new Aa},result:function(){var t=_4/2;return _4=new Aa,t}};function Pat(){Sf.point=Nat}function Nat(t,e){Sf.point=a0e,i0e=GU=t,s0e=qU=e}function a0e(t,e){WU.add(qU*t-GU*e),GU=t,qU=e}function Rat(){a0e(i0e,s0e)}var ib=1/0,sN=ib,JS=-ib,aN=JS,oN={point:Oat,lineStart:wi,lineEnd:wi,polygonStart:wi,polygonEnd:wi,result:function(){var t=[[ib,sN],[JS,aN]];return JS=aN=-(sN=ib=1/0),t}};function Oat(t,e){t<ib&&(ib=t),t>JS&&(JS=t),e<sN&&(sN=e),e>aN&&(aN=e)}var XU=0,YU=0,N1=0,lN=0,cN=0,Ly=0,KU=0,ZU=0,R1=0,o0e,l0e,Du,Lu,Ul={point:p0,lineStart:Tte,lineEnd:Ate,polygonStart:function(){Ul.lineStart=kat,Ul.lineEnd=Dat},polygonEnd:function(){Ul.point=p0,Ul.lineStart=Tte,Ul.lineEnd=Ate},result:function(){var t=R1?[KU/R1,ZU/R1]:Ly?[lN/Ly,cN/Ly]:N1?[XU/N1,YU/N1]:[NaN,NaN];return XU=YU=N1=lN=cN=Ly=KU=ZU=R1=0,t}};function p0(t,e){XU+=t,YU+=e,++N1}function Tte(){Ul.point=jat}function jat(t,e){Ul.point=Iat,p0(Du=t,Lu=e)}function Iat(t,e){var n=t-Du,r=e-Lu,i=Bs(n*n+r*r);lN+=i*(Du+t)/2,cN+=i*(Lu+e)/2,Ly+=i,p0(Du=t,Lu=e)}function Ate(){Ul.point=p0}function kat(){Ul.point=Lat}function Dat(){c0e(o0e,l0e)}function Lat(t,e){Ul.point=c0e,p0(o0e=Du=t,l0e=Lu=e)}function c0e(t,e){var n=t-Du,r=e-Lu,i=Bs(n*n+r*r);lN+=i*(Du+t)/2,cN+=i*(Lu+e)/2,Ly+=i,i=Lu*t-Du*e,KU+=i*(Du+t),ZU+=i*(Lu+e),R1+=i*3,p0(Du=t,Lu=e)}function u0e(t){this._context=t}u0e.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,no);break}}},result:wi};var QU=new Aa,S4,d0e,f0e,O1,j1,eE={point:wi,lineStart:function(){eE.point=Fat},lineEnd:function(){S4&&h0e(d0e,f0e),eE.point=wi},polygonStart:function(){S4=!0},polygonEnd:function(){S4=null},result:function(){var t=+QU;return QU=new Aa,t}};function Fat(t,e){eE.point=h0e,d0e=O1=t,f0e=j1=e}function h0e(t,e){O1-=t,j1-=e,QU.add(Bs(O1*O1+j1*j1)),O1=t,j1=e}function p0e(){this._string=[]}p0e.prototype={_radius:4.5,_circle:Cte(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._string.push("M",t,",",e),this._point=1;break}case 1:{this._string.push("L",t,",",e);break}default:{this._circle==null&&(this._circle=Cte(this._radius)),this._string.push("M",t,",",e,this._circle);break}}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}else return null}};function Cte(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function m0e(t,e){var n=4.5,r,i;function s(a){return a&&(typeof n=="function"&&i.pointRadius(+n.apply(this,arguments)),Bc(a,r(i))),i.result()}return s.area=function(a){return Bc(a,r(Sf)),Sf.result()},s.measure=function(a){return Bc(a,r(eE)),eE.result()},s.bounds=function(a){return Bc(a,r(oN)),oN.result()},s.centroid=function(a){return Bc(a,r(Ul)),Ul.result()},s.projection=function(a){return arguments.length?(r=a==null?(t=null,QS):(t=a).stream,s):t},s.context=function(a){return arguments.length?(i=a==null?(e=null,new p0e):new u0e(e=a),typeof n!="function"&&i.pointRadius(n),s):e},s.pointRadius=function(a){return arguments.length?(n=typeof a=="function"?a:(i.pointRadius(+a),+a),s):n},s.projection(t).context(e)}function Uat(t){return{stream:tM(t)}}function tM(t){return function(e){var n=new JU;for(var r in t)n[r]=t[r];return n.stream=e,n}}function JU(){}JU.prototype={constructor:JU,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function kV(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),Bc(n,t.stream(oN)),e(oN.result()),r!=null&&t.clipExtent(r),t}function CO(t,e,n){return kV(t,function(r){var i=e[1][0]-e[0][0],s=e[1][1]-e[0][1],a=Math.min(i/(r[1][0]-r[0][0]),s/(r[1][1]-r[0][1])),o=+e[0][0]+(i-a*(r[1][0]+r[0][0]))/2,l=+e[0][1]+(s-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([o,l])},n)}function DV(t,e,n){return CO(t,[[0,0],e],n)}function LV(t,e,n){return kV(t,function(r){var i=+e,s=i/(r[1][0]-r[0][0]),a=(i-s*(r[1][0]+r[0][0]))/2,o=-s*r[0][1];t.scale(150*s).translate([a,o])},n)}function FV(t,e,n){return kV(t,function(r){var i=+e,s=i/(r[1][1]-r[0][1]),a=-s*r[0][0],o=(i-s*(r[1][1]+r[0][1]))/2;t.scale(150*s).translate([a,o])},n)}var Pte=16,Bat=sn(30*gn);function Nte(t,e){return+e?Vat(t,e):zat(t)}function zat(t){return tM({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function Vat(t,e){function n(r,i,s,a,o,l,c,d,f,h,m,v,b,y){var w=c-r,S=d-i,M=w*w+S*S;if(M>4*e&&b--){var T=a+h,A=o+m,C=l+v,j=Bs(T*T+A*A+C*C),L=io(C/=j),O=ur(ur(C)-1)<mn||ur(s-f)<mn?(s+f)/2:ro(A,T),k=t(O,L),F=k[0],G=k[1],Y=F-r,U=G-i,W=S*Y-w*U;(W*W/M>e||ur((w*Y+S*U)/M-.5)>.3||a*h+o*m+l*v<Bat)&&(n(r,i,s,a,o,l,F,G,O,T/=j,A/=j,C,b,y),y.point(F,G),n(F,G,O,T,A,C,c,d,f,h,m,v,b,y))}}return function(r){var i,s,a,o,l,c,d,f,h,m,v,b,y={point:w,lineStart:S,lineEnd:T,polygonStart:function(){r.polygonStart(),y.lineStart=A},polygonEnd:function(){r.polygonEnd(),y.lineStart=S}};function w(L,O){L=t(L,O),r.point(L[0],L[1])}function S(){f=NaN,y.point=M,r.lineStart()}function M(L,O){var k=h0([L,O]),F=t(L,O);n(f,h,d,m,v,b,f=F[0],h=F[1],d=L,m=k[0],v=k[1],b=k[2],Pte,r),r.point(f,h)}function T(){y.point=w,r.lineEnd()}function A(){S(),y.point=C,y.lineEnd=j}function C(L,O){M(i=L,O),s=f,a=h,o=m,l=v,c=b,y.point=M}function j(){n(f,h,d,m,v,b,s,a,i,o,l,c,Pte,r),y.lineEnd=T,T()}return y}}var $at=tM({point:function(t,e){this.stream.point(t*gn,e*gn)}});function Hat(t){return tM({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function Wat(t,e,n,r,i){function s(a,o){return a*=r,o*=i,[e+t*a,n-t*o]}return s.invert=function(a,o){return[(a-e)/t*r,(n-o)/t*i]},s}function Rte(t,e,n,r,i,s){if(!s)return Wat(t,e,n,r,i);var a=sn(s),o=Wt(s),l=a*t,c=o*t,d=a/t,f=o/t,h=(o*n-a*e)/t,m=(o*e+a*n)/t;function v(b,y){return b*=r,y*=i,[l*b-c*y+e,n-c*b-l*y]}return v.invert=function(b,y){return[r*(d*b-f*y+h),i*(m-f*b-d*y)]},v}function xd(t){return UV(function(){return t})()}function UV(t){var e,n=150,r=480,i=250,s=0,a=0,o=0,l=0,c=0,d,f=0,h=1,m=1,v=null,b=zU,y=null,w,S,M,T=QS,A=.5,C,j,L,O,k;function F(W){return L(W[0]*gn,W[1]*gn)}function G(W){return W=L.invert(W[0],W[1]),W&&[W[0]*Hr,W[1]*Hr]}F.stream=function(W){return O&&k===W?O:O=$at(Hat(d)(b(C(T(k=W)))))},F.preclip=function(W){return arguments.length?(b=W,v=void 0,U()):b},F.postclip=function(W){return arguments.length?(T=W,y=w=S=M=null,U()):T},F.clipAngle=function(W){return arguments.length?(b=+W?t0e(v=W*gn):(v=null,zU),U()):v*Hr},F.clipExtent=function(W){return arguments.length?(T=W==null?(y=w=S=M=null,QS):AO(y=+W[0][0],w=+W[0][1],S=+W[1][0],M=+W[1][1]),U()):y==null?null:[[y,w],[S,M]]},F.scale=function(W){return arguments.length?(n=+W,Y()):n},F.translate=function(W){return arguments.length?(r=+W[0],i=+W[1],Y()):[r,i]},F.center=function(W){return arguments.length?(s=W[0]%360*gn,a=W[1]%360*gn,Y()):[s*Hr,a*Hr]},F.rotate=function(W){return arguments.length?(o=W[0]%360*gn,l=W[1]%360*gn,c=W.length>2?W[2]%360*gn:0,Y()):[o*Hr,l*Hr,c*Hr]},F.angle=function(W){return arguments.length?(f=W%360*gn,Y()):f*Hr},F.reflectX=function(W){return arguments.length?(h=W?-1:1,Y()):h<0},F.reflectY=function(W){return arguments.length?(m=W?-1:1,Y()):m<0},F.precision=function(W){return arguments.length?(C=Nte(j,A=W*W),U()):Bs(A)},F.fitExtent=function(W,q){return CO(F,W,q)},F.fitSize=function(W,q){return DV(F,W,q)},F.fitWidth=function(W,q){return LV(F,W,q)},F.fitHeight=function(W,q){return FV(F,W,q)};function Y(){var W=Rte(n,0,0,h,m,f).apply(null,e(s,a)),q=Rte(n,r-W[0],i-W[1],h,m,f);return d=jV(o,l,c),j=UU(e,q),L=UU(d,j),C=Nte(j,A),U()}function U(){return O=k=null,F}return function(){return e=t.apply(this,arguments),F.invert=e.invert&&G,Y()}}function BV(t){var e=0,n=Jn/3,r=UV(t),i=r(e,n);return i.parallels=function(s){return arguments.length?r(e=s[0]*gn,n=s[1]*gn):[e*Hr,n*Hr]},i}function Gat(t){var e=sn(t);function n(r,i){return[r*e,Wt(i)/e]}return n.invert=function(r,i){return[r/e,io(i*e)]},n}function g0e(t,e){var n=Wt(t),r=(n+Wt(e))/2;if(ur(r)<mn)return Gat(t);var i=1+n*(2*r-n),s=Bs(i)/r;function a(o,l){var c=Bs(i-2*r*Wt(l))/r;return[c*Wt(o*=r),s-c*sn(o)]}return a.invert=function(o,l){var c=s-l,d=ro(o,ur(c))*Hl(c);return c*r<0&&(d-=Jn*Hl(o)*Hl(c)),[d/r,io((i-(o*o+c*c)*r*r)/(2*r))]},a}function uN(){return BV(g0e).scale(155.424).center([0,33.6442])}function v0e(){return uN().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function qat(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function Xat(){var t,e,n=v0e(),r,i=uN().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s,a=uN().rotate([157,0]).center([-3,19.9]).parallels([8,18]),o,l,c={point:function(h,m){l=[h,m]}};function d(h){var m=h[0],v=h[1];return l=null,r.point(m,v),l||(s.point(m,v),l)||(o.point(m,v),l)}d.invert=function(h){var m=n.scale(),v=n.translate(),b=(h[0]-v[0])/m,y=(h[1]-v[1])/m;return(y>=.12&&y<.234&&b>=-.425&&b<-.214?i:y>=.166&&y<.234&&b>=-.214&&b<-.115?a:n).invert(h)},d.stream=function(h){return t&&e===h?t:t=qat([n.stream(e=h),i.stream(h),a.stream(h)])},d.precision=function(h){return arguments.length?(n.precision(h),i.precision(h),a.precision(h),f()):n.precision()},d.scale=function(h){return arguments.length?(n.scale(h),i.scale(h*.35),a.scale(h),d.translate(n.translate())):n.scale()},d.translate=function(h){if(!arguments.length)return n.translate();var m=n.scale(),v=+h[0],b=+h[1];return r=n.translate(h).clipExtent([[v-.455*m,b-.238*m],[v+.455*m,b+.238*m]]).stream(c),s=i.translate([v-.307*m,b+.201*m]).clipExtent([[v-.425*m+mn,b+.12*m+mn],[v-.214*m-mn,b+.234*m-mn]]).stream(c),o=a.translate([v-.205*m,b+.212*m]).clipExtent([[v-.214*m+mn,b+.166*m+mn],[v-.115*m-mn,b+.234*m-mn]]).stream(c),f()},d.fitExtent=function(h,m){return CO(d,h,m)},d.fitSize=function(h,m){return DV(d,h,m)},d.fitWidth=function(h,m){return LV(d,h,m)},d.fitHeight=function(h,m){return FV(d,h,m)};function f(){return t=e=null,d}return d.scale(1070)}function y0e(t){return function(e,n){var r=sn(e),i=sn(n),s=t(r*i);return s===1/0?[2,0]:[s*i*Wt(e),s*Wt(n)]}}function nM(t){return function(e,n){var r=Bs(e*e+n*n),i=t(r),s=Wt(i),a=sn(i);return[ro(e*s,r*a),io(r&&n*s/r)]}}var zV=y0e(function(t){return Bs(2/(1+t))});zV.invert=nM(function(t){return 2*io(t/2)});function Yat(){return xd(zV).scale(124.75).clipAngle(180-.001)}var VV=y0e(function(t){return(t=Fge(t))&&t/Wt(t)});VV.invert=nM(function(t){return t});function Kat(){return xd(VV).scale(79.4188).clipAngle(180-.001)}function rM(t,e){return[t,HP(RV((ki+e)/2))]}rM.invert=function(t,e){return[t,2*jb(Lge(e))-ki]};function Zat(){return x0e(rM).scale(961/no)}function x0e(t){var e=xd(t),n=e.center,r=e.scale,i=e.translate,s=e.clipExtent,a=null,o,l,c;e.scale=function(f){return arguments.length?(r(f),d()):r()},e.translate=function(f){return arguments.length?(i(f),d()):i()},e.center=function(f){return arguments.length?(n(f),d()):n()},e.clipExtent=function(f){return arguments.length?(f==null?a=o=l=c=null:(a=+f[0][0],o=+f[0][1],l=+f[1][0],c=+f[1][1]),d()):a==null?null:[[a,o],[l,c]]};function d(){var f=Jn*r(),h=e(Yge(e.rotate()).invert([0,0]));return s(a==null?[[h[0]-f,h[1]-f],[h[0]+f,h[1]+f]]:t===rM?[[Math.max(h[0]-f,a),o],[Math.min(h[0]+f,l),c]]:[[a,Math.max(h[1]-f,o)],[l,Math.min(h[1]+f,c)]])}return d()}function M2(t){return RV((ki+t)/2)}function b0e(t,e){var n=sn(t),r=t===e?Wt(t):HP(n/sn(e))/HP(M2(e)/M2(t)),i=n*x4(M2(t),r)/r;if(!r)return rM;function s(a,o){i>0?o<-ki+mn&&(o=-ki+mn):o>ki-mn&&(o=ki-mn);var l=i/x4(M2(o),r);return[l*Wt(r*a),i-l*sn(r*a)]}return s.invert=function(a,o){var l=i-o,c=Hl(r)*Bs(a*a+l*l),d=ro(a,ur(l))*Hl(l);return l*r<0&&(d-=Jn*Hl(a)*Hl(l)),[d/r,2*jb(x4(i/c,1/r))-ki]},s}function Qat(){return BV(b0e).scale(109.5).parallels([30,30])}function tE(t,e){return[t,e]}tE.invert=tE;function Jat(){return xd(tE).scale(152.63)}function w0e(t,e){var n=sn(t),r=t===e?Wt(t):(n-sn(e))/(e-t),i=n/r+t;if(ur(r)<mn)return tE;function s(a,o){var l=i-o,c=r*a;return[l*Wt(c),i-l*sn(c)]}return s.invert=function(a,o){var l=i-o,c=ro(a,ur(l))*Hl(l);return l*r<0&&(c-=Jn*Hl(a)*Hl(l)),[c/r,i-Hl(r)*Bs(a*a+l*l)]},s}function eot(){return BV(w0e).scale(131.154).center([0,13.9389])}var u_=1.340264,d_=-.081106,f_=893e-6,h_=.003796,dN=Bs(3)/2,tot=12;function $V(t,e){var n=io(dN*Wt(e)),r=n*n,i=r*r*r;return[t*sn(n)/(dN*(u_+3*d_*r+i*(7*f_+9*h_*r))),n*(u_+d_*r+i*(f_+h_*r))]}$V.invert=function(t,e){for(var n=e,r=n*n,i=r*r*r,s=0,a,o,l;s<tot&&(o=n*(u_+d_*r+i*(f_+h_*r))-e,l=u_+3*d_*r+i*(7*f_+9*h_*r),n-=a=o/l,r=n*n,i=r*r*r,!(ur(a)<ZS));++s);return[dN*t*(u_+3*d_*r+i*(7*f_+9*h_*r))/sn(n),io(Wt(n)/dN)]};function not(){return xd($V).scale(177.158)}function HV(t,e){var n=sn(e),r=sn(t)*n;return[n*Wt(t)/r,Wt(e)/r]}HV.invert=nM(jb);function rot(){return xd(HV).scale(144.049).clipAngle(60)}function iot(){var t=1,e=0,n=0,r=1,i=1,s=0,a,o,l=null,c,d,f,h=1,m=1,v=tM({point:function(T,A){var C=M([T,A]);this.stream.point(C[0],C[1])}}),b=QS,y,w;function S(){return h=t*r,m=t*i,y=w=null,M}function M(T){var A=T[0]*h,C=T[1]*m;if(s){var j=C*a-A*o;A=A*a+C*o,C=j}return[A+e,C+n]}return M.invert=function(T){var A=T[0]-e,C=T[1]-n;if(s){var j=C*a+A*o;A=A*a-C*o,C=j}return[A/h,C/m]},M.stream=function(T){return y&&w===T?y:y=v(b(w=T))},M.postclip=function(T){return arguments.length?(b=T,l=c=d=f=null,S()):b},M.clipExtent=function(T){return arguments.length?(b=T==null?(l=c=d=f=null,QS):AO(l=+T[0][0],c=+T[0][1],d=+T[1][0],f=+T[1][1]),S()):l==null?null:[[l,c],[d,f]]},M.scale=function(T){return arguments.length?(t=+T,S()):t},M.translate=function(T){return arguments.length?(e=+T[0],n=+T[1],S()):[e,n]},M.angle=function(T){return arguments.length?(s=T%360*gn,o=Wt(s),a=sn(s),S()):s*Hr},M.reflectX=function(T){return arguments.length?(r=T?-1:1,S()):r<0},M.reflectY=function(T){return arguments.length?(i=T?-1:1,S()):i<0},M.fitExtent=function(T,A){return CO(M,T,A)},M.fitSize=function(T,A){return DV(M,T,A)},M.fitWidth=function(T,A){return LV(M,T,A)},M.fitHeight=function(T,A){return FV(M,T,A)},M}function WV(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),e*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}WV.invert=function(t,e){var n=e,r=25,i;do{var s=n*n,a=s*s;n-=i=(n*(1.007226+s*(.015085+a*(-.044475+.028874*s-.005916*a)))-e)/(1.007226+s*(.015085*3+a*(-.044475*7+.028874*9*s-.005916*11*a)))}while(ur(i)>mn&&--r>0);return[t/(.8707+(s=n*n)*(-.131979+s*(-.013791+s*s*s*(.003971-.001529*s)))),n]};function sot(){return xd(WV).scale(175.295)}function GV(t,e){return[sn(e)*Wt(t),Wt(e)]}GV.invert=nM(io);function aot(){return xd(GV).scale(249.5).clipAngle(90+mn)}function qV(t,e){var n=sn(e),r=1+sn(t)*n;return[n*Wt(t)/r,Wt(e)/r]}qV.invert=nM(function(t){return 2*jb(t)});function oot(){return xd(qV).scale(250).clipAngle(142)}function XV(t,e){return[HP(RV((ki+e)/2)),-t]}XV.invert=function(t,e){return[-e,2*jb(Lge(t))-ki]};function lot(){var t=x0e(XV),e=t.center,n=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}const cot=Object.freeze(Object.defineProperty({__proto__:null,geoAlbers:v0e,geoAlbersUsa:Xat,geoArea:tat,geoAzimuthalEqualArea:Yat,geoAzimuthalEqualAreaRaw:zV,geoAzimuthalEquidistant:Kat,geoAzimuthalEquidistantRaw:VV,geoBounds:sat,geoCentroid:dat,geoCircle:fat,geoClipAntimeridian:zU,geoClipCircle:t0e,geoClipExtent:xat,geoClipRectangle:AO,geoConicConformal:Qat,geoConicConformalRaw:b0e,geoConicEqualArea:uN,geoConicEqualAreaRaw:g0e,geoConicEquidistant:eot,geoConicEquidistantRaw:w0e,geoContains:Tat,geoDistance:rN,geoEqualEarth:not,geoEqualEarthRaw:$V,geoEquirectangular:Jat,geoEquirectangularRaw:tE,geoGnomonic:rot,geoGnomonicRaw:HV,geoGraticule:IV,geoGraticule10:Aat,geoIdentity:iot,geoInterpolate:Cat,geoLength:n0e,geoMercator:Zat,geoMercatorRaw:rM,geoNaturalEarth1:sot,geoNaturalEarth1Raw:WV,geoOrthographic:aot,geoOrthographicRaw:GV,geoPath:m0e,geoProjection:xd,geoProjectionMutator:UV,geoRotation:Yge,geoStereographic:oot,geoStereographicRaw:qV,geoStream:Bc,geoTransform:Uat,geoTransverseMercator:lot,geoTransverseMercatorRaw:XV},Symbol.toStringTag,{value:"Module"}));function uot(t){return t}function dot(t){if(t==null)return uot;var e,n,r=t.scale[0],i=t.scale[1],s=t.translate[0],a=t.translate[1];return function(o,l){l||(e=n=0);var c=2,d=o.length,f=new Array(d);for(f[0]=(e+=o[0])*r+s,f[1]=(n+=o[1])*i+a;c<d;)f[c]=o[c],++c;return f}}function fot(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n}function hot(t,e){return typeof e=="string"&&(e=t.objects[e]),e.type==="GeometryCollection"?{type:"FeatureCollection",features:e.geometries.map(function(n){return Ote(t,n)})}:Ote(t,e)}function Ote(t,e){var n=e.id,r=e.bbox,i=e.properties==null?{}:e.properties,s=_0e(t,e);return n==null&&r==null?{type:"Feature",properties:i,geometry:s}:r==null?{type:"Feature",id:n,properties:i,geometry:s}:{type:"Feature",id:n,bbox:r,properties:i,geometry:s}}function _0e(t,e){var n=dot(t.transform),r=t.arcs;function i(d,f){f.length&&f.pop();for(var h=r[d<0?~d:d],m=0,v=h.length;m<v;++m)f.push(n(h[m],m));d<0&&fot(f,v)}function s(d){return n(d)}function a(d){for(var f=[],h=0,m=d.length;h<m;++h)i(d[h],f);return f.length<2&&f.push(f[0]),f}function o(d){for(var f=a(d);f.length<4;)f.push(f[0]);return f}function l(d){return d.map(o)}function c(d){var f=d.type,h;switch(f){case"GeometryCollection":return{type:f,geometries:d.geometries.map(c)};case"Point":h=s(d.coordinates);break;case"MultiPoint":h=d.coordinates.map(s);break;case"LineString":h=a(d.arcs);break;case"MultiLineString":h=d.arcs.map(a);break;case"Polygon":h=l(d.arcs);break;case"MultiPolygon":h=d.arcs.map(l);break;default:return null}return{type:f,coordinates:h}}return c(e)}function pot(t,e){var n={},r={},i={},s=[],a=-1;e.forEach(function(c,d){var f=t.arcs[c<0?~c:c],h;f.length<3&&!f[1][0]&&!f[1][1]&&(h=e[++a],e[a]=c,e[d]=h)}),e.forEach(function(c){var d=o(c),f=d[0],h=d[1],m,v;if(m=i[f])if(delete i[m.end],m.push(c),m.end=h,v=r[h]){delete r[v.start];var b=v===m?m:m.concat(v);r[b.start=m.start]=i[b.end=v.end]=b}else r[m.start]=i[m.end]=m;else if(m=r[h])if(delete r[m.start],m.unshift(c),m.start=f,v=i[f]){delete i[v.end];var y=v===m?m:v.concat(m);r[y.start=v.start]=i[y.end=m.end]=y}else r[m.start]=i[m.end]=m;else m=[c],r[m.start=f]=i[m.end=h]=m});function o(c){var d=t.arcs[c<0?~c:c],f=d[0],h;return t.transform?(h=[0,0],d.forEach(function(m){h[0]+=m[0],h[1]+=m[1]})):h=d[d.length-1],c<0?[h,f]:[f,h]}function l(c,d){for(var f in c){var h=c[f];delete d[h.start],delete h.start,delete h.end,h.forEach(function(m){n[m<0?~m:m]=1}),s.push(h)}}return l(i,r),l(r,i),e.forEach(function(c){n[c<0?~c:c]||s.push([c])}),s}function jte(t){return _0e(t,mot.apply(this,arguments))}function mot(t,e,n){var r,i,s;if(arguments.length>1)r=got(t,e,n);else for(i=0,r=new Array(s=t.arcs.length);i<s;++i)r[i]=i;return{type:"MultiLineString",arcs:pot(t,r)}}function got(t,e,n){var r=[],i=[],s;function a(f){var h=f<0?~f:f;(i[h]||(i[h]=[])).push({i:f,g:s})}function o(f){f.forEach(a)}function l(f){f.forEach(o)}function c(f){f.forEach(l)}function d(f){switch(s=f,f.type){case"GeometryCollection":f.geometries.forEach(d);break;case"LineString":o(f.arcs);break;case"MultiLineString":case"Polygon":l(f.arcs);break;case"MultiPolygon":c(f.arcs);break}}return d(e),i.forEach(n==null?function(f){r.push(f[0].i)}:function(f){n(f[0].g,f[f.length-1].g)&&r.push(f[0].i)}),r}var vot={value:()=>{}};function YV(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new J2(n)}function J2(t){this._=t}function yot(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}J2.prototype=YV.prototype={constructor:J2,on:function(t,e){var n=this._,r=yot(t+"",n),i,s=-1,a=r.length;if(arguments.length<2){for(;++s<a;)if((i=(t=r[s]).type)&&(i=xot(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<a;)if(i=(t=r[s]).type)n[i]=Ite(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Ite(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new J2(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function xot(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Ite(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=vot,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var eB="http://www.w3.org/1999/xhtml";const kte={svg:"http://www.w3.org/2000/svg",xhtml:eB,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function PO(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),kte.hasOwnProperty(e)?{space:kte[e],local:t}:t}function bot(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===eB&&e.documentElement.namespaceURI===eB?e.createElement(t):e.createElementNS(n,t)}}function wot(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function S0e(t){var e=PO(t);return(e.local?wot:bot)(e)}function _ot(){}function KV(t){return t==null?_ot:function(){return this.querySelector(t)}}function Sot(t){typeof t!="function"&&(t=KV(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],a=s.length,o=r[i]=new Array(a),l,c,d=0;d<a;++d)(l=s[d])&&(c=t.call(l,l.__data__,d,s))&&("__data__"in l&&(c.__data__=l.__data__),o[d]=c);return new Oo(r,this._parents)}function E0e(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Eot(){return[]}function M0e(t){return t==null?Eot:function(){return this.querySelectorAll(t)}}function Mot(t){return function(){var e=t.apply(this,arguments);return e==null?[]:E0e(e)}}function Tot(t){typeof t=="function"?t=Mot(t):t=M0e(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var a=e[s],o=a.length,l,c=0;c<o;++c)(l=a[c])&&(r.push(t.call(l,l.__data__,c,a)),i.push(l));return new Oo(r,i)}function T0e(t){return function(){return this.matches(t)}}function A0e(t){return function(e){return e.matches(t)}}var Aot=Array.prototype.find;function Cot(t){return function(){return Aot.call(this.children,t)}}function Pot(){return this.firstElementChild}function Not(t){return this.select(t==null?Pot:Cot(typeof t=="function"?t:A0e(t)))}var Rot=Array.prototype.filter;function Oot(){return this.children}function jot(t){return function(){return Rot.call(this.children,t)}}function Iot(t){return this.selectAll(t==null?Oot:jot(typeof t=="function"?t:A0e(t)))}function kot(t){typeof t!="function"&&(t=T0e(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],a=s.length,o=r[i]=[],l,c=0;c<a;++c)(l=s[c])&&t.call(l,l.__data__,c,s)&&o.push(l);return new Oo(r,this._parents)}function C0e(t){return new Array(t.length)}function Dot(){return new Oo(this._enter||this._groups.map(C0e),this._parents)}function fN(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}fN.prototype={constructor:fN,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Lot(t){return function(){return t}}function Fot(t,e,n,r,i,s){for(var a=0,o,l=e.length,c=s.length;a<c;++a)(o=e[a])?(o.__data__=s[a],r[a]=o):n[a]=new fN(t,s[a]);for(;a<l;++a)(o=e[a])&&(i[a]=o)}function Uot(t,e,n,r,i,s,a){var o,l,c=new Map,d=e.length,f=s.length,h=new Array(d),m;for(o=0;o<d;++o)(l=e[o])&&(h[o]=m=a.call(l,l.__data__,o,e)+"",c.has(m)?i[o]=l:c.set(m,l));for(o=0;o<f;++o)m=a.call(t,s[o],o,s)+"",(l=c.get(m))?(r[o]=l,l.__data__=s[o],c.delete(m)):n[o]=new fN(t,s[o]);for(o=0;o<d;++o)(l=e[o])&&c.get(h[o])===l&&(i[o]=l)}function Bot(t){return t.__data__}function zot(t,e){if(!arguments.length)return Array.from(this,Bot);var n=e?Uot:Fot,r=this._parents,i=this._groups;typeof t!="function"&&(t=Lot(t));for(var s=i.length,a=new Array(s),o=new Array(s),l=new Array(s),c=0;c<s;++c){var d=r[c],f=i[c],h=f.length,m=E0e(t.call(d,d&&d.__data__,c,r)),v=m.length,b=o[c]=new Array(v),y=a[c]=new Array(v),w=l[c]=new Array(h);n(d,f,b,y,w,m,e);for(var S=0,M=0,T,A;S<v;++S)if(T=b[S]){for(S>=M&&(M=S+1);!(A=y[M])&&++M<v;);T._next=A||null}}return a=new Oo(a,r),a._enter=o,a._exit=l,a}function Vot(){return new Oo(this._exit||this._groups.map(C0e),this._parents)}function $ot(t,e,n){var r=this.enter(),i=this,s=this.exit();return r=typeof t=="function"?t(r):r.append(t+""),e!=null&&(i=e(i)),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function Hot(t){if(!(t instanceof Oo))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),a=new Array(r),o=0;o<s;++o)for(var l=e[o],c=n[o],d=l.length,f=a[o]=new Array(d),h,m=0;m<d;++m)(h=l[m]||c[m])&&(f[m]=h);for(;o<r;++o)a[o]=e[o];return new Oo(a,this._parents)}function Wot(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],a;--i>=0;)(a=r[i])&&(s&&a.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(a,s),s=a);return this}function Got(t){t||(t=qot);function e(f,h){return f&&h?t(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var a=n[s],o=a.length,l=i[s]=new Array(o),c,d=0;d<o;++d)(c=a[d])&&(l[d]=c);l.sort(e)}return new Oo(i,this._parents).order()}function qot(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Xot(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Yot(){return Array.from(this)}function Kot(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var a=r[i];if(a)return a}return null}function Zot(){let t=0;for(const e of this)++t;return t}function Qot(){return!this.node()}function Jot(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,a=i.length,o;s<a;++s)(o=i[s])&&t.call(o,o.__data__,s,i);return this}function elt(t){return function(){this.removeAttribute(t)}}function tlt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function nlt(t,e){return function(){this.setAttribute(t,e)}}function rlt(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function ilt(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function slt(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function alt(t,e){var n=PO(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?tlt:elt:typeof e=="function"?n.local?slt:ilt:n.local?rlt:nlt)(n,e))}function P0e(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function olt(t){return function(){this.style.removeProperty(t)}}function llt(t,e,n){return function(){this.style.setProperty(t,e,n)}}function clt(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function ult(t,e,n){return arguments.length>1?this.each((e==null?olt:typeof e=="function"?clt:llt)(t,e,n??"")):sb(this.node(),t)}function sb(t,e){return t.style.getPropertyValue(e)||P0e(t).getComputedStyle(t,null).getPropertyValue(e)}function dlt(t){return function(){delete this[t]}}function flt(t,e){return function(){this[t]=e}}function hlt(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function plt(t,e){return arguments.length>1?this.each((e==null?dlt:typeof e=="function"?hlt:flt)(t,e)):this.node()[t]}function N0e(t){return t.trim().split(/^|\s+/)}function ZV(t){return t.classList||new R0e(t)}function R0e(t){this._node=t,this._names=N0e(t.getAttribute("class")||"")}R0e.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function O0e(t,e){for(var n=ZV(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function j0e(t,e){for(var n=ZV(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function mlt(t){return function(){O0e(this,t)}}function glt(t){return function(){j0e(this,t)}}function vlt(t,e){return function(){(e.apply(this,arguments)?O0e:j0e)(this,t)}}function ylt(t,e){var n=N0e(t+"");if(arguments.length<2){for(var r=ZV(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?vlt:e?mlt:glt)(n,e))}function xlt(){this.textContent=""}function blt(t){return function(){this.textContent=t}}function wlt(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function _lt(t){return arguments.length?this.each(t==null?xlt:(typeof t=="function"?wlt:blt)(t)):this.node().textContent}function Slt(){this.innerHTML=""}function Elt(t){return function(){this.innerHTML=t}}function Mlt(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Tlt(t){return arguments.length?this.each(t==null?Slt:(typeof t=="function"?Mlt:Elt)(t)):this.node().innerHTML}function Alt(){this.nextSibling&&this.parentNode.appendChild(this)}function Clt(){return this.each(Alt)}function Plt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Nlt(){return this.each(Plt)}function Rlt(t){var e=typeof t=="function"?t:S0e(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Olt(){return null}function jlt(t,e){var n=typeof t=="function"?t:S0e(t),r=e==null?Olt:typeof e=="function"?e:KV(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Ilt(){var t=this.parentNode;t&&t.removeChild(this)}function klt(){return this.each(Ilt)}function Dlt(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Llt(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Flt(t){return this.select(t?Llt:Dlt)}function Ult(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Blt(t){return function(e){t.call(this,e,this.__data__)}}function zlt(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Vlt(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function $lt(t,e,n){return function(){var r=this.__on,i,s=Blt(e);if(r){for(var a=0,o=r.length;a<o;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function Hlt(t,e,n){var r=zlt(t+""),i,s=r.length,a;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,c=o.length,d;l<c;++l)for(i=0,d=o[l];i<s;++i)if((a=r[i]).type===d.type&&a.name===d.name)return d.value}return}for(o=e?$lt:Vlt,i=0;i<s;++i)this.each(o(r[i],e,n));return this}function I0e(t,e,n){var r=P0e(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Wlt(t,e){return function(){return I0e(this,t,e)}}function Glt(t,e){return function(){return I0e(this,t,e.apply(this,arguments))}}function qlt(t,e){return this.each((typeof e=="function"?Glt:Wlt)(t,e))}function*Xlt(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,a;i<s;++i)(a=r[i])&&(yield a)}var k0e=[null];function Oo(t,e){this._groups=t,this._parents=e}function iM(){return new Oo([[document.documentElement]],k0e)}function Ylt(){return this}Oo.prototype=iM.prototype={constructor:Oo,select:Sot,selectAll:Tot,selectChild:Not,selectChildren:Iot,filter:kot,data:zot,enter:Dot,exit:Vot,join:$ot,merge:Hot,selection:Ylt,order:Wot,sort:Got,call:Xot,nodes:Yot,node:Kot,size:Zot,empty:Qot,each:Jot,attr:alt,style:ult,property:plt,classed:ylt,text:_lt,html:Tlt,raise:Clt,lower:Nlt,append:Rlt,insert:jlt,remove:klt,clone:Flt,datum:Ult,on:Hlt,dispatch:qlt,[Symbol.iterator]:Xlt};function Ef(t){return typeof t=="string"?new Oo([[document.querySelector(t)]],[document.documentElement]):new Oo([[t]],k0e)}function Klt(t){let e;for(;e=t.sourceEvent;)t=e;return t}function ng(t,e){if(t=Klt(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function tB(t){t.preventDefault(),t.stopImmediatePropagation()}function Zlt(t){var e=t.document.documentElement,n=Ef(t).on("dragstart.drag",tB,!0);"onselectstart"in e?n.on("selectstart.drag",tB,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Qlt(t,e){var n=t.document.documentElement,r=Ef(t).on("dragstart.drag",null);e&&(r.on("click.drag",tB,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var Jlt=1e-12;function Dte(t){return((t=Math.exp(t))+1/t)/2}function ect(t){return((t=Math.exp(t))-1/t)/2}function tct(t){return((t=Math.exp(2*t))-1)/(t+1)}const nct=(function t(e,n,r){function i(s,a){var o=s[0],l=s[1],c=s[2],d=a[0],f=a[1],h=a[2],m=d-o,v=f-l,b=m*m+v*v,y,w;if(b<Jlt)w=Math.log(h/c)/e,y=function(j){return[o+j*m,l+j*v,c*Math.exp(e*j*w)]};else{var S=Math.sqrt(b),M=(h*h-c*c+r*b)/(2*c*n*S),T=(h*h-c*c-r*b)/(2*h*n*S),A=Math.log(Math.sqrt(M*M+1)-M),C=Math.log(Math.sqrt(T*T+1)-T);w=(C-A)/e,y=function(j){var L=j*w,O=Dte(A),k=c/(n*S)*(O*tct(e*L+A)-ect(A));return[o+k*m,l+k*v,c*O/Dte(e*L+A)]}}return y.duration=w*1e3*e/Math.SQRT2,y}return i.rho=function(s){var a=Math.max(.001,+s),o=a*a,l=o*o;return t(a,o,l)},i})(Math.SQRT2,2,4);var ab=0,I1=0,p1=0,D0e=1e3,hN,k1,pN=0,m0=0,NO=0,nE=typeof performance=="object"&&performance.now?performance:Date,L0e=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function QV(){return m0||(L0e(rct),m0=nE.now()+NO)}function rct(){m0=0}function mN(){this._call=this._time=this._next=null}mN.prototype=F0e.prototype={constructor:mN,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?QV():+n)+(e==null?0:+e),!this._next&&k1!==this&&(k1?k1._next=this:hN=this,k1=this),this._call=t,this._time=n,nB()},stop:function(){this._call&&(this._call=null,this._time=1/0,nB())}};function F0e(t,e,n){var r=new mN;return r.restart(t,e,n),r}function ict(){QV(),++ab;for(var t=hN,e;t;)(e=m0-t._time)>=0&&t._call.call(null,e),t=t._next;--ab}function Lte(){m0=(pN=nE.now())+NO,ab=I1=0;try{ict()}finally{ab=0,act(),m0=0}}function sct(){var t=nE.now(),e=t-pN;e>D0e&&(NO-=e,pN=t)}function act(){for(var t,e=hN,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:hN=n);k1=t,nB(r)}function nB(t){if(!ab){I1&&(I1=clearTimeout(I1));var e=t-m0;e>24?(t<1/0&&(I1=setTimeout(Lte,t-nE.now()-NO)),p1&&(p1=clearInterval(p1))):(p1||(pN=nE.now(),p1=setInterval(sct,D0e)),ab=1,L0e(Lte))}}function Fte(t,e,n){var r=new mN;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var oct=YV("start","end","cancel","interrupt"),lct=[],U0e=0,Ute=1,rB=2,eA=3,Bte=4,iB=5,tA=6;function RO(t,e,n,r,i,s){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;cct(t,n,{name:e,index:r,group:i,on:oct,tween:lct,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:U0e})}function JV(t,e){var n=cu(t,e);if(n.state>U0e)throw new Error("too late; already scheduled");return n}function bd(t,e){var n=cu(t,e);if(n.state>eA)throw new Error("too late; already running");return n}function cu(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function cct(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=F0e(s,0,n.time);function s(c){n.state=Ute,n.timer.restart(a,n.delay,n.time),n.delay<=c&&a(c-n.delay)}function a(c){var d,f,h,m;if(n.state!==Ute)return l();for(d in r)if(m=r[d],m.name===n.name){if(m.state===eA)return Fte(a);m.state===Bte?(m.state=tA,m.timer.stop(),m.on.call("interrupt",t,t.__data__,m.index,m.group),delete r[d]):+d<e&&(m.state=tA,m.timer.stop(),m.on.call("cancel",t,t.__data__,m.index,m.group),delete r[d])}if(Fte(function(){n.state===eA&&(n.state=Bte,n.timer.restart(o,n.delay,n.time),o(c))}),n.state=rB,n.on.call("start",t,t.__data__,n.index,n.group),n.state===rB){for(n.state=eA,i=new Array(h=n.tween.length),d=0,f=-1;d<h;++d)(m=n.tween[d].value.call(t,t.__data__,n.index,n.group))&&(i[++f]=m);i.length=f+1}}function o(c){for(var d=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=iB,1),f=-1,h=i.length;++f<h;)i[f].call(t,d);n.state===iB&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=tA,n.timer.stop(),delete r[e];for(var c in r)return;delete t.__transition}}function nA(t,e){var n=t.__transition,r,i,s=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){s=!1;continue}i=r.state>rB&&r.state<iB,r.state=tA,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}s&&delete t.__transition}}function uct(t){return this.each(function(){nA(this,t)})}function e9(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function B0e(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function sM(){}var rE=.7,gN=1/rE,rx="\\s*([+-]?\\d+)\\s*",iE="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",td="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",dct=/^#([0-9a-f]{3,8})$/,fct=new RegExp("^rgb\\("+[rx,rx,rx]+"\\)$"),hct=new RegExp("^rgb\\("+[td,td,td]+"\\)$"),pct=new RegExp("^rgba\\("+[rx,rx,rx,iE]+"\\)$"),mct=new RegExp("^rgba\\("+[td,td,td,iE]+"\\)$"),gct=new RegExp("^hsl\\("+[iE,td,td]+"\\)$"),vct=new RegExp("^hsla\\("+[iE,td,td,iE]+"\\)$"),zte={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};e9(sM,sE,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Vte,formatHex:Vte,formatHsl:yct,formatRgb:$te,toString:$te});function Vte(){return this.rgb().formatHex()}function yct(){return z0e(this).formatHsl()}function $te(){return this.rgb().formatRgb()}function sE(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=dct.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Hte(e):n===3?new ol(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?T2(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?T2(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=fct.exec(t))?new ol(e[1],e[2],e[3],1):(e=hct.exec(t))?new ol(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=pct.exec(t))?T2(e[1],e[2],e[3],e[4]):(e=mct.exec(t))?T2(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=gct.exec(t))?qte(e[1],e[2]/100,e[3]/100,1):(e=vct.exec(t))?qte(e[1],e[2]/100,e[3]/100,e[4]):zte.hasOwnProperty(t)?Hte(zte[t]):t==="transparent"?new ol(NaN,NaN,NaN,0):null}function Hte(t){return new ol(t>>16&255,t>>8&255,t&255,1)}function T2(t,e,n,r){return r<=0&&(t=e=n=NaN),new ol(t,e,n,r)}function xct(t){return t instanceof sM||(t=sE(t)),t?(t=t.rgb(),new ol(t.r,t.g,t.b,t.opacity)):new ol}function sB(t,e,n,r){return arguments.length===1?xct(t):new ol(t,e,n,r??1)}function ol(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}e9(ol,sB,B0e(sM,{brighter:function(t){return t=t==null?gN:Math.pow(gN,t),new ol(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?rE:Math.pow(rE,t),new ol(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Wte,formatHex:Wte,formatRgb:Gte,toString:Gte}));function Wte(){return"#"+E4(this.r)+E4(this.g)+E4(this.b)}function Gte(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function E4(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function qte(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Fu(t,e,n,r)}function z0e(t){if(t instanceof Fu)return new Fu(t.h,t.s,t.l,t.opacity);if(t instanceof sM||(t=sE(t)),!t)return new Fu;if(t instanceof Fu)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,o=s-i,l=(s+i)/2;return o?(e===s?a=(n-r)/o+(n<r)*6:n===s?a=(r-e)/o+2:a=(e-n)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new Fu(a,o,l,t.opacity)}function bct(t,e,n,r){return arguments.length===1?z0e(t):new Fu(t,e,n,r??1)}function Fu(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}e9(Fu,bct,B0e(sM,{brighter:function(t){return t=t==null?gN:Math.pow(gN,t),new Fu(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?rE:Math.pow(rE,t),new Fu(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ol(M4(t>=240?t-240:t+120,i,r),M4(t,i,r),M4(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function M4(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const V0e=t=>()=>t;function wct(t,e){return function(n){return t+n*e}}function _ct(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Sct(t){return(t=+t)==1?$0e:function(e,n){return n-e?_ct(e,n,t):V0e(isNaN(e)?n:e)}}function $0e(t,e){var n=e-t;return n?wct(t,n):V0e(isNaN(t)?e:t)}const Xte=(function t(e){var n=Sct(e);function r(i,s){var a=n((i=sB(i)).r,(s=sB(s)).r),o=n(i.g,s.g),l=n(i.b,s.b),c=$0e(i.opacity,s.opacity);return function(d){return i.r=a(d),i.g=o(d),i.b=l(d),i.opacity=c(d),i+""}}return r.gamma=t,r})(1);function Qh(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var aB=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,T4=new RegExp(aB.source,"g");function Ect(t){return function(){return t}}function Mct(t){return function(e){return t(e)+""}}function Tct(t,e){var n=aB.lastIndex=T4.lastIndex=0,r,i,s,a=-1,o=[],l=[];for(t=t+"",e=e+"";(r=aB.exec(t))&&(i=T4.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),o[a]?o[a]+=s:o[++a]=s),(r=r[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:Qh(r,i)})),n=T4.lastIndex;return n<e.length&&(s=e.slice(n),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?Mct(l[0].x):Ect(e):(e=l.length,function(c){for(var d=0,f;d<e;++d)o[(f=l[d]).i]=f.x(c);return o.join("")})}var Yte=180/Math.PI,oB={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function H0e(t,e,n,r,i,s){var a,o,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,l/=o),t*r<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*Yte,skewX:Math.atan(l)*Yte,scaleX:a,scaleY:o}}var A2;function Act(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?oB:H0e(e.a,e.b,e.c,e.d,e.e,e.f)}function Cct(t){return t==null||(A2||(A2=document.createElementNS("http://www.w3.org/2000/svg","g")),A2.setAttribute("transform",t),!(t=A2.transform.baseVal.consolidate()))?oB:(t=t.matrix,H0e(t.a,t.b,t.c,t.d,t.e,t.f))}function W0e(t,e,n,r){function i(c){return c.length?c.pop()+" ":""}function s(c,d,f,h,m,v){if(c!==f||d!==h){var b=m.push("translate(",null,e,null,n);v.push({i:b-4,x:Qh(c,f)},{i:b-2,x:Qh(d,h)})}else(f||h)&&m.push("translate("+f+e+h+n)}function a(c,d,f,h){c!==d?(c-d>180?d+=360:d-c>180&&(c+=360),h.push({i:f.push(i(f)+"rotate(",null,r)-2,x:Qh(c,d)})):d&&f.push(i(f)+"rotate("+d+r)}function o(c,d,f,h){c!==d?h.push({i:f.push(i(f)+"skewX(",null,r)-2,x:Qh(c,d)}):d&&f.push(i(f)+"skewX("+d+r)}function l(c,d,f,h,m,v){if(c!==f||d!==h){var b=m.push(i(m)+"scale(",null,",",null,")");v.push({i:b-4,x:Qh(c,f)},{i:b-2,x:Qh(d,h)})}else(f!==1||h!==1)&&m.push(i(m)+"scale("+f+","+h+")")}return function(c,d){var f=[],h=[];return c=t(c),d=t(d),s(c.translateX,c.translateY,d.translateX,d.translateY,f,h),a(c.rotate,d.rotate,f,h),o(c.skewX,d.skewX,f,h),l(c.scaleX,c.scaleY,d.scaleX,d.scaleY,f,h),c=d=null,function(m){for(var v=-1,b=h.length,y;++v<b;)f[(y=h[v]).i]=y.x(m);return f.join("")}}}var Pct=W0e(Act,"px, ","px)","deg)"),Nct=W0e(Cct,", ",")",")");function Rct(t,e){var n,r;return function(){var i=bd(this,t),s=i.tween;if(s!==n){r=n=s;for(var a=0,o=r.length;a<o;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function Oct(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=bd(this,t),a=s.tween;if(a!==r){i=(r=a).slice();for(var o={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=o;break}l===c&&i.push(o)}s.tween=i}}function jct(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=cu(this.node(),n).tween,i=0,s=r.length,a;i<s;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((e==null?Rct:Oct)(n,t,e))}function t9(t,e,n){var r=t._id;return t.each(function(){var i=bd(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return cu(i,r).value[e]}}function G0e(t,e){var n;return(typeof e=="number"?Qh:e instanceof sE?Xte:(n=sE(e))?(e=n,Xte):Tct)(t,e)}function Ict(t){return function(){this.removeAttribute(t)}}function kct(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Dct(t,e,n){var r,i=n+"",s;return function(){var a=this.getAttribute(t);return a===i?null:a===r?s:s=e(r=a,n)}}function Lct(t,e,n){var r,i=n+"",s;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?s:s=e(r=a,n)}}function Fct(t,e,n){var r,i,s;return function(){var a,o=n(this),l;return o==null?void this.removeAttribute(t):(a=this.getAttribute(t),l=o+"",a===l?null:a===r&&l===i?s:(i=l,s=e(r=a,o)))}}function Uct(t,e,n){var r,i,s;return function(){var a,o=n(this),l;return o==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),l=o+"",a===l?null:a===r&&l===i?s:(i=l,s=e(r=a,o)))}}function Bct(t,e){var n=PO(t),r=n==="transform"?Nct:G0e;return this.attrTween(t,typeof e=="function"?(n.local?Uct:Fct)(n,r,t9(this,"attr."+t,e)):e==null?(n.local?kct:Ict)(n):(n.local?Lct:Dct)(n,r,e))}function zct(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Vct(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function $ct(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&Vct(t,s)),n}return i._value=e,i}function Hct(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&zct(t,s)),n}return i._value=e,i}function Wct(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=PO(t);return this.tween(n,(r.local?$ct:Hct)(r,e))}function Gct(t,e){return function(){JV(this,t).delay=+e.apply(this,arguments)}}function qct(t,e){return e=+e,function(){JV(this,t).delay=e}}function Xct(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Gct:qct)(e,t)):cu(this.node(),e).delay}function Yct(t,e){return function(){bd(this,t).duration=+e.apply(this,arguments)}}function Kct(t,e){return e=+e,function(){bd(this,t).duration=e}}function Zct(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Yct:Kct)(e,t)):cu(this.node(),e).duration}function Qct(t,e){if(typeof e!="function")throw new Error;return function(){bd(this,t).ease=e}}function Jct(t){var e=this._id;return arguments.length?this.each(Qct(e,t)):cu(this.node(),e).ease}function eut(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;bd(this,t).ease=n}}function tut(t){if(typeof t!="function")throw new Error;return this.each(eut(this._id,t))}function nut(t){typeof t!="function"&&(t=T0e(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],a=s.length,o=r[i]=[],l,c=0;c<a;++c)(l=s[c])&&t.call(l,l.__data__,c,s)&&o.push(l);return new Kf(r,this._parents,this._name,this._id)}function rut(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),a=new Array(r),o=0;o<s;++o)for(var l=e[o],c=n[o],d=l.length,f=a[o]=new Array(d),h,m=0;m<d;++m)(h=l[m]||c[m])&&(f[m]=h);for(;o<r;++o)a[o]=e[o];return new Kf(a,this._parents,this._name,this._id)}function iut(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function sut(t,e,n){var r,i,s=iut(e)?JV:bd;return function(){var a=s(this,t),o=a.on;o!==r&&(i=(r=o).copy()).on(e,n),a.on=i}}function aut(t,e){var n=this._id;return arguments.length<2?cu(this.node(),n).on.on(t):this.each(sut(n,t,e))}function out(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function lut(){return this.on("end.remove",out(this._id))}function cut(t){var e=this._name,n=this._id;typeof t!="function"&&(t=KV(t));for(var r=this._groups,i=r.length,s=new Array(i),a=0;a<i;++a)for(var o=r[a],l=o.length,c=s[a]=new Array(l),d,f,h=0;h<l;++h)(d=o[h])&&(f=t.call(d,d.__data__,h,o))&&("__data__"in d&&(f.__data__=d.__data__),c[h]=f,RO(c[h],e,n,h,c,cu(d,n)));return new Kf(s,this._parents,e,n)}function uut(t){var e=this._name,n=this._id;typeof t!="function"&&(t=M0e(t));for(var r=this._groups,i=r.length,s=[],a=[],o=0;o<i;++o)for(var l=r[o],c=l.length,d,f=0;f<c;++f)if(d=l[f]){for(var h=t.call(d,d.__data__,f,l),m,v=cu(d,n),b=0,y=h.length;b<y;++b)(m=h[b])&&RO(m,e,n,b,h,v);s.push(h),a.push(d)}return new Kf(s,a,e,n)}var dut=iM.prototype.constructor;function fut(){return new dut(this._groups,this._parents)}function hut(t,e){var n,r,i;return function(){var s=sb(this,t),a=(this.style.removeProperty(t),sb(this,t));return s===a?null:s===n&&a===r?i:i=e(n=s,r=a)}}function q0e(t){return function(){this.style.removeProperty(t)}}function put(t,e,n){var r,i=n+"",s;return function(){var a=sb(this,t);return a===i?null:a===r?s:s=e(r=a,n)}}function mut(t,e,n){var r,i,s;return function(){var a=sb(this,t),o=n(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(t),sb(this,t))),a===l?null:a===r&&l===i?s:(i=l,s=e(r=a,o))}}function gut(t,e){var n,r,i,s="style."+e,a="end."+s,o;return function(){var l=bd(this,t),c=l.on,d=l.value[s]==null?o||(o=q0e(e)):void 0;(c!==n||i!==d)&&(r=(n=c).copy()).on(a,i=d),l.on=r}}function vut(t,e,n){var r=(t+="")=="transform"?Pct:G0e;return e==null?this.styleTween(t,hut(t,r)).on("end.style."+t,q0e(t)):typeof e=="function"?this.styleTween(t,mut(t,r,t9(this,"style."+t,e))).each(gut(this._id,t)):this.styleTween(t,put(t,r,e),n).on("end.style."+t,null)}function yut(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function xut(t,e,n){var r,i;function s(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&yut(t,a,n)),r}return s._value=e,s}function but(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,xut(t,e,n??""))}function wut(t){return function(){this.textContent=t}}function _ut(t){return function(){var e=t(this);this.textContent=e??""}}function Sut(t){return this.tween("text",typeof t=="function"?_ut(t9(this,"text",t)):wut(t==null?"":t+""))}function Eut(t){return function(e){this.textContent=t.call(this,e)}}function Mut(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Eut(i)),e}return r._value=t,r}function Tut(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Mut(t))}function Aut(){for(var t=this._name,e=this._id,n=X0e(),r=this._groups,i=r.length,s=0;s<i;++s)for(var a=r[s],o=a.length,l,c=0;c<o;++c)if(l=a[c]){var d=cu(l,e);RO(l,t,n,c,a,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Kf(r,this._parents,t,n)}function Cut(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,a){var o={value:a},l={value:function(){--i===0&&s()}};n.each(function(){var c=bd(this,r),d=c.on;d!==t&&(e=(t=d).copy(),e._.cancel.push(o),e._.interrupt.push(o),e._.end.push(l)),c.on=e}),i===0&&s()})}var Put=0;function Kf(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function X0e(){return++Put}var rg=iM.prototype;Kf.prototype={constructor:Kf,select:cut,selectAll:uut,filter:nut,merge:rut,selection:fut,transition:Aut,call:rg.call,nodes:rg.nodes,node:rg.node,size:rg.size,empty:rg.empty,each:rg.each,on:aut,attr:Bct,attrTween:Wct,style:vut,styleTween:but,text:Sut,textTween:Tut,remove:lut,tween:jct,delay:Xct,duration:Zct,ease:Jct,easeVarying:tut,end:Cut,[Symbol.iterator]:rg[Symbol.iterator]};function Nut(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Rut={time:null,delay:0,duration:250,ease:Nut};function Out(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function jut(t){var e,n;t instanceof Kf?(e=t._id,t=t._name):(e=X0e(),(n=Rut).time=QV(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var a=r[s],o=a.length,l,c=0;c<o;++c)(l=a[c])&&RO(l,t,e,c,a,n||Out(l,e));return new Kf(r,this._parents,t,e)}iM.prototype.interrupt=uct;iM.prototype.transition=jut;const C2=t=>()=>t;function Iut(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Nf(t,e,n){this.k=t,this.x=e,this.y=n}Nf.prototype={constructor:Nf,scale:function(t){return t===1?this:new Nf(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Nf(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var n9=new Nf(1,0,0);Nf.prototype;function A4(t){t.stopImmediatePropagation()}function m1(t){t.preventDefault(),t.stopImmediatePropagation()}function kut(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Dut(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Kte(){return this.__zoom||n9}function Lut(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Fut(){return navigator.maxTouchPoints||"ontouchstart"in this}function Uut(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>s?(s+a)/2:Math.min(0,s)||Math.max(0,a))}function But(){var t=kut,e=Dut,n=Uut,r=Lut,i=Fut,s=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],o=250,l=nct,c=YV("start","zoom","end"),d,f,h,m=500,v=150,b=0,y=10;function w(U){U.property("__zoom",Kte).on("wheel.zoom",L).on("mousedown.zoom",O).on("dblclick.zoom",k).filter(i).on("touchstart.zoom",F).on("touchmove.zoom",G).on("touchend.zoom touchcancel.zoom",Y).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}w.transform=function(U,W,q,Z){var V=U.selection?U.selection():U;V.property("__zoom",Kte),U!==V?A(U,W,q,Z):V.interrupt().each(function(){C(this,arguments).event(Z).start().zoom(null,typeof W=="function"?W.apply(this,arguments):W).end()})},w.scaleBy=function(U,W,q,Z){w.scaleTo(U,function(){var V=this.__zoom.k,Q=typeof W=="function"?W.apply(this,arguments):W;return V*Q},q,Z)},w.scaleTo=function(U,W,q,Z){w.transform(U,function(){var V=e.apply(this,arguments),Q=this.__zoom,ee=q==null?T(V):typeof q=="function"?q.apply(this,arguments):q,$=Q.invert(ee),J=typeof W=="function"?W.apply(this,arguments):W;return n(M(S(Q,J),ee,$),V,a)},q,Z)},w.translateBy=function(U,W,q,Z){w.transform(U,function(){return n(this.__zoom.translate(typeof W=="function"?W.apply(this,arguments):W,typeof q=="function"?q.apply(this,arguments):q),e.apply(this,arguments),a)},null,Z)},w.translateTo=function(U,W,q,Z,V){w.transform(U,function(){var Q=e.apply(this,arguments),ee=this.__zoom,$=Z==null?T(Q):typeof Z=="function"?Z.apply(this,arguments):Z;return n(n9.translate($[0],$[1]).scale(ee.k).translate(typeof W=="function"?-W.apply(this,arguments):-W,typeof q=="function"?-q.apply(this,arguments):-q),Q,a)},Z,V)};function S(U,W){return W=Math.max(s[0],Math.min(s[1],W)),W===U.k?U:new Nf(W,U.x,U.y)}function M(U,W,q){var Z=W[0]-q[0]*U.k,V=W[1]-q[1]*U.k;return Z===U.x&&V===U.y?U:new Nf(U.k,Z,V)}function T(U){return[(+U[0][0]+ +U[1][0])/2,(+U[0][1]+ +U[1][1])/2]}function A(U,W,q,Z){U.on("start.zoom",function(){C(this,arguments).event(Z).start()}).on("interrupt.zoom end.zoom",function(){C(this,arguments).event(Z).end()}).tween("zoom",function(){var V=this,Q=arguments,ee=C(V,Q).event(Z),$=e.apply(V,Q),J=q==null?T($):typeof q=="function"?q.apply(V,Q):q,de=Math.max($[1][0]-$[0][0],$[1][1]-$[0][1]),Ae=V.__zoom,Ue=typeof W=="function"?W.apply(V,Q):W,ge=l(Ae.invert(J).concat(de/Ae.k),Ue.invert(J).concat(de/Ue.k));return function(pe){if(pe===1)pe=Ue;else{var Oe=ge(pe),xe=de/Oe[2];pe=new Nf(xe,J[0]-Oe[0]*xe,J[1]-Oe[1]*xe)}ee.zoom(null,pe)}})}function C(U,W,q){return!q&&U.__zooming||new j(U,W)}function j(U,W){this.that=U,this.args=W,this.active=0,this.sourceEvent=null,this.extent=e.apply(U,W),this.taps=0}j.prototype={event:function(U){return U&&(this.sourceEvent=U),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(U,W){return this.mouse&&U!=="mouse"&&(this.mouse[1]=W.invert(this.mouse[0])),this.touch0&&U!=="touch"&&(this.touch0[1]=W.invert(this.touch0[0])),this.touch1&&U!=="touch"&&(this.touch1[1]=W.invert(this.touch1[0])),this.that.__zoom=W,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(U){var W=Ef(this.that).datum();c.call(U,this.that,new Iut(U,{sourceEvent:this.sourceEvent,target:w,transform:this.that.__zoom,dispatch:c}),W)}};function L(U,...W){if(!t.apply(this,arguments))return;var q=C(this,W).event(U),Z=this.__zoom,V=Math.max(s[0],Math.min(s[1],Z.k*Math.pow(2,r.apply(this,arguments)))),Q=ng(U);if(q.wheel)(q.mouse[0][0]!==Q[0]||q.mouse[0][1]!==Q[1])&&(q.mouse[1]=Z.invert(q.mouse[0]=Q)),clearTimeout(q.wheel);else{if(Z.k===V)return;q.mouse=[Q,Z.invert(Q)],nA(this),q.start()}m1(U),q.wheel=setTimeout(ee,v),q.zoom("mouse",n(M(S(Z,V),q.mouse[0],q.mouse[1]),q.extent,a));function ee(){q.wheel=null,q.end()}}function O(U,...W){if(h||!t.apply(this,arguments))return;var q=C(this,W,!0).event(U),Z=Ef(U.view).on("mousemove.zoom",J,!0).on("mouseup.zoom",de,!0),V=ng(U,Q),Q=U.currentTarget,ee=U.clientX,$=U.clientY;Zlt(U.view),A4(U),q.mouse=[V,this.__zoom.invert(V)],nA(this),q.start();function J(Ae){if(m1(Ae),!q.moved){var Ue=Ae.clientX-ee,ge=Ae.clientY-$;q.moved=Ue*Ue+ge*ge>b}q.event(Ae).zoom("mouse",n(M(q.that.__zoom,q.mouse[0]=ng(Ae,Q),q.mouse[1]),q.extent,a))}function de(Ae){Z.on("mousemove.zoom mouseup.zoom",null),Qlt(Ae.view,q.moved),m1(Ae),q.event(Ae).end()}}function k(U,...W){if(t.apply(this,arguments)){var q=this.__zoom,Z=ng(U.changedTouches?U.changedTouches[0]:U,this),V=q.invert(Z),Q=q.k*(U.shiftKey?.5:2),ee=n(M(S(q,Q),Z,V),e.apply(this,W),a);m1(U),o>0?Ef(this).transition().duration(o).call(A,ee,Z,U):Ef(this).call(w.transform,ee,Z,U)}}function F(U,...W){if(t.apply(this,arguments)){var q=U.touches,Z=q.length,V=C(this,W,U.changedTouches.length===Z).event(U),Q,ee,$,J;for(A4(U),ee=0;ee<Z;++ee)$=q[ee],J=ng($,this),J=[J,this.__zoom.invert(J),$.identifier],V.touch0?!V.touch1&&V.touch0[2]!==J[2]&&(V.touch1=J,V.taps=0):(V.touch0=J,Q=!0,V.taps=1+!!d);d&&(d=clearTimeout(d)),Q&&(V.taps<2&&(f=J[0],d=setTimeout(function(){d=null},m)),nA(this),V.start())}}function G(U,...W){if(this.__zooming){var q=C(this,W).event(U),Z=U.changedTouches,V=Z.length,Q,ee,$,J;for(m1(U),Q=0;Q<V;++Q)ee=Z[Q],$=ng(ee,this),q.touch0&&q.touch0[2]===ee.identifier?q.touch0[0]=$:q.touch1&&q.touch1[2]===ee.identifier&&(q.touch1[0]=$);if(ee=q.that.__zoom,q.touch1){var de=q.touch0[0],Ae=q.touch0[1],Ue=q.touch1[0],ge=q.touch1[1],pe=(pe=Ue[0]-de[0])*pe+(pe=Ue[1]-de[1])*pe,Oe=(Oe=ge[0]-Ae[0])*Oe+(Oe=ge[1]-Ae[1])*Oe;ee=S(ee,Math.sqrt(pe/Oe)),$=[(de[0]+Ue[0])/2,(de[1]+Ue[1])/2],J=[(Ae[0]+ge[0])/2,(Ae[1]+ge[1])/2]}else if(q.touch0)$=q.touch0[0],J=q.touch0[1];else return;q.zoom("touch",n(M(ee,$,J),q.extent,a))}}function Y(U,...W){if(this.__zooming){var q=C(this,W).event(U),Z=U.changedTouches,V=Z.length,Q,ee;for(A4(U),h&&clearTimeout(h),h=setTimeout(function(){h=null},m),Q=0;Q<V;++Q)ee=Z[Q],q.touch0&&q.touch0[2]===ee.identifier?delete q.touch0:q.touch1&&q.touch1[2]===ee.identifier&&delete q.touch1;if(q.touch1&&!q.touch0&&(q.touch0=q.touch1,delete q.touch1),q.touch0)q.touch0[1]=this.__zoom.invert(q.touch0[0]);else if(q.end(),q.taps===2&&(ee=ng(ee,this),Math.hypot(f[0]-ee[0],f[1]-ee[1])<y)){var $=Ef(this).on("dblclick.zoom");$&&$.apply(this,arguments)}}}return w.wheelDelta=function(U){return arguments.length?(r=typeof U=="function"?U:C2(+U),w):r},w.filter=function(U){return arguments.length?(t=typeof U=="function"?U:C2(!!U),w):t},w.touchable=function(U){return arguments.length?(i=typeof U=="function"?U:C2(!!U),w):i},w.extent=function(U){return arguments.length?(e=typeof U=="function"?U:C2([[+U[0][0],+U[0][1]],[+U[1][0],+U[1][1]]]),w):e},w.scaleExtent=function(U){return arguments.length?(s[0]=+U[0],s[1]=+U[1],w):[s[0],s[1]]},w.translateExtent=function(U){return arguments.length?(a[0][0]=+U[0][0],a[1][0]=+U[1][0],a[0][1]=+U[0][1],a[1][1]=+U[1][1],w):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},w.constrain=function(U){return arguments.length?(n=U,w):n},w.duration=function(U){return arguments.length?(o=+U,w):o},w.interpolate=function(U){return arguments.length?(l=U,w):l},w.on=function(){var U=c.on.apply(c,arguments);return U===c?w:U},w.clickDistance=function(U){return arguments.length?(b=(U=+U)*U,w):Math.sqrt(b)},w.tapDistance=function(U){return arguments.length?(y=+U,w):y},w}function Zte(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zte(Object(n),!0).forEach(function(r){zut(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zte(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lB(t){"@babel/helpers - typeof";return lB=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lB(t)}function zut(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jo(){return jo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jo.apply(this,arguments)}function Vut(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ec(t,e){if(t==null)return{};var n=Vut(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ia(t,e){return $ut(t)||Hut(t,e)||Wut(t,e)||Gut()}function $ut(t){if(Array.isArray(t))return t}function Hut(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,a,o;try{for(n=n.call(t);!(i=(a=n.next()).done)&&(r.push(a.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,o=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw o}}return r}}function Wut(t,e){if(t){if(typeof t=="string")return Qte(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qte(t,e)}}function Qte(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gut(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var qut=["width","height","projection","projectionConfig"],Xut=m0e,Yut=ec(cot,["geoPath"]),wd=N.createContext(),Kut=function(e){var n=e.projectionConfig,r=n===void 0?{}:n,i=e.projection,s=i===void 0?"geoEqualEarth":i,a=e.width,o=a===void 0?800:a,l=e.height,c=l===void 0?600:l,d=typeof s=="function";if(d)return s;var f=Yut[s]().translate([o/2,c/2]),h=[f.center?"center":null,f.rotate?"rotate":null,f.scale?"scale":null,f.parallels?"parallels":null];return h.forEach(function(m){m&&(f=f[m](r[m]||f[m]()))}),f},Y0e=function(e){var n=e.width,r=e.height,i=e.projection,s=e.projectionConfig,a=ec(e,qut),o=s.center||[],l=ia(o,2),c=l[0],d=l[1],f=s.rotate||[],h=ia(f,3),m=h[0],v=h[1],b=h[2],y=s.parallels||[],w=ia(y,2),S=w[0],M=w[1],T=s.scale||null,A=N.useMemo(function(){return Kut({projectionConfig:{center:c||c===0||d||d===0?[c,d]:null,rotate:m||m===0||v||v===0?[m,v,b]:null,parallels:S||S===0||M||M===0?[S,M]:null,scale:T},projection:i,width:n,height:r})},[n,r,i,c,d,m,v,b,S,M,T]),C=N.useCallback(A,[A]),j=N.useMemo(function(){return{width:n,height:r,projection:C,path:Xut().projection(C)}},[n,r,C]);return se.createElement(wd.Provider,jo({value:j},a))};Y0e.propTypes={width:be.number,height:be.number,projection:be.oneOfType([be.string,be.func]),projectionConfig:be.object};var Zut=["width","height","projection","projectionConfig","className"],r9=N.forwardRef(function(t,e){var n=t.width,r=n===void 0?800:n,i=t.height,s=i===void 0?600:i,a=t.projection,o=a===void 0?"geoEqualEarth":a,l=t.projectionConfig,c=l===void 0?{}:l,d=t.className,f=d===void 0?"":d,h=ec(t,Zut);return se.createElement(Y0e,{width:r,height:s,projection:o,projectionConfig:c},se.createElement("svg",jo({ref:e,viewBox:"0 0 ".concat(r," ").concat(s),className:"rsm-svg ".concat(f)},h)))});r9.displayName="ComposableMap";r9.propTypes={width:be.number,height:be.number,projection:be.oneOfType([be.string,be.func]),projectionConfig:be.object,className:be.string};function Jte(t,e,n){var r=(t*n.k-t)/2,i=(e*n.k-e)/2;return[t/2-(r+n.x)/n.k,e/2-(i+n.y)/n.k]}function Qut(t){return fetch(t).then(function(e){if(!e.ok)throw Error(e.statusText);return e.json()}).catch(function(e){console.log("There was a problem when fetching the data: ",e)})}function ene(t,e){var n=t.type==="Topology";if(!n)return e?e(t.features||t):t.features||t;var r=hot(t,t.objects[Object.keys(t.objects)[0]]).features;return e?e(r):r}function tne(t){var e=t.type==="Topology";if(!e)return null;var n=jte(t,t.objects[Object.keys(t.objects)[0]],function(i,s){return i===s}),r=jte(t,t.objects[Object.keys(t.objects)[0]],function(i,s){return i!==s});return{outline:n,borders:r}}function Jut(t,e,n){return t&&e?{outline:Fy(Fy({},t),{},{rsmKey:"outline",svgPath:n(t)}),borders:Fy(Fy({},e),{},{rsmKey:"borders",svgPath:n(e)})}:{}}function edt(t,e){return t?t.map(function(n,r){return Fy(Fy({},n),{},{rsmKey:"geo-".concat(r),svgPath:e(n)})}):[]}function tdt(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:30,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:30,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.5,r=Array.isArray(n)?n:[n,n],i=t/2*r[0],s=e/2*r[1];return"M".concat(0,",",0," Q",-t/2-i,",").concat(-e/2+s," ").concat(-t,",").concat(-e)}function ndt(t){return typeof t=="string"}function rdt(t){var e=t.geography,n=t.parseGeographies,r=N.useContext(wd),i=r.path,s=N.useState({}),a=ia(s,2),o=a[0],l=a[1];N.useEffect(function(){(typeof window>"u"?"undefined":lB(window))!=="undefined"&&e&&(ndt(e)?Qut(e).then(function(m){m&&l({geographies:ene(m,n),mesh:tne(m)})}):l({geographies:ene(e,n),mesh:tne(e)}))},[e,n]);var c=N.useMemo(function(){var m=o.mesh||{},v=Jut(m.outline,m.borders,i);return{geographies:edt(o.geographies,i),outline:v.outline,borders:v.borders}},[o,i]),d=c.geographies,f=c.outline,h=c.borders;return{geographies:d,outline:f,borders:h}}var idt=["geography","children","parseGeographies","className"],i9=N.forwardRef(function(t,e){var n=t.geography,r=t.children,i=t.parseGeographies,s=t.className,a=s===void 0?"":s,o=ec(t,idt),l=N.useContext(wd),c=l.path,d=l.projection,f=rdt({geography:n,parseGeographies:i}),h=f.geographies,m=f.outline,v=f.borders;return se.createElement("g",jo({ref:e,className:"rsm-geographies ".concat(a)},o),h&&h.length>0&&r({geographies:h,outline:m,borders:v,path:c,projection:d}))});i9.displayName="Geographies";i9.propTypes={geography:be.oneOfType([be.string,be.object,be.array]),children:be.func,parseGeographies:be.func,className:be.string};var sdt=["geography","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onFocus","onBlur","style","className"],s9=N.forwardRef(function(t,e){var n=t.geography,r=t.onMouseEnter,i=t.onMouseLeave,s=t.onMouseDown,a=t.onMouseUp,o=t.onFocus,l=t.onBlur,c=t.style,d=c===void 0?{}:c,f=t.className,h=f===void 0?"":f,m=ec(t,sdt),v=N.useState(!1),b=ia(v,2),y=b[0],w=b[1],S=N.useState(!1),M=ia(S,2),T=M[0],A=M[1];function C(G){A(!0),r&&r(G)}function j(G){A(!1),y&&w(!1),i&&i(G)}function L(G){A(!0),o&&o(G)}function O(G){A(!1),y&&w(!1),l&&l(G)}function k(G){w(!0),s&&s(G)}function F(G){w(!1),a&&a(G)}return se.createElement("path",jo({ref:e,tabIndex:"0",className:"rsm-geography ".concat(h),d:n.svgPath,onMouseEnter:C,onMouseLeave:j,onFocus:L,onBlur:O,onMouseDown:k,onMouseUp:F,style:d[y||T?y?"pressed":"hover":"default"]},m))});s9.displayName="Geography";s9.propTypes={geography:be.object,onMouseEnter:be.func,onMouseLeave:be.func,onMouseDown:be.func,onMouseUp:be.func,onFocus:be.func,onBlur:be.func,style:be.object,className:be.string};var adt=N.memo(s9),odt=["fill","stroke","step","className"],a9=N.forwardRef(function(t,e){var n=t.fill,r=n===void 0?"transparent":n,i=t.stroke,s=i===void 0?"currentcolor":i,a=t.step,o=a===void 0?[10,10]:a,l=t.className,c=l===void 0?"":l,d=ec(t,odt),f=N.useContext(wd),h=f.path;return se.createElement("path",jo({ref:e,d:h(IV().step(o)()),fill:r,stroke:s,className:"rsm-graticule ".concat(c)},d))});a9.displayName="Graticule";a9.propTypes={fill:be.string,stroke:be.string,step:be.array,className:be.string};N.memo(a9);var ldt=["value"],cdt=N.createContext(),udt={x:0,y:0,k:1,transformString:"translate(0 0) scale(1)"},K0e=function(e){var n=e.value,r=n===void 0?udt:n,i=ec(e,ldt);return se.createElement(cdt.Provider,jo({value:r},i))};K0e.propTypes={x:be.number,y:be.number,k:be.number,transformString:be.string};function ddt(t){var e=t.center,n=t.filterZoomEvent,r=t.onMoveStart,i=t.onMoveEnd,s=t.onMove,a=t.translateExtent,o=a===void 0?[[-1/0,-1/0],[1/0,1/0]]:a,l=t.scaleExtent,c=l===void 0?[1,8]:l,d=t.zoom,f=d===void 0?1:d,h=N.useContext(wd),m=h.width,v=h.height,b=h.projection,y=ia(e,2),w=y[0],S=y[1],M=N.useState({x:0,y:0,k:1}),T=ia(M,2),A=T[0],C=T[1],j=N.useRef({x:0,y:0,k:1}),L=N.useRef(),O=N.useRef(),k=N.useRef(!1),F=ia(o,2),G=F[0],Y=F[1],U=ia(G,2),W=U[0],q=U[1],Z=ia(Y,2),V=Z[0],Q=Z[1],ee=ia(c,2),$=ee[0],J=ee[1];return N.useEffect(function(){var de=Ef(L.current);function Ae(xe){!r||k.current||r({coordinates:b.invert(Jte(m,v,xe.transform)),zoom:xe.transform.k},xe)}function Ue(xe){if(!k.current){var Me=xe.transform,Ie=xe.sourceEvent;C({x:Me.x,y:Me.y,k:Me.k,dragging:Ie}),s&&s({x:Me.x,y:Me.y,zoom:Me.k,dragging:Ie},xe)}}function ge(xe){if(k.current){k.current=!1;return}var Me=b.invert(Jte(m,v,xe.transform)),Ie=ia(Me,2),Te=Ie[0],Xe=Ie[1];j.current={x:Te,y:Xe,k:xe.transform.k},i&&i({coordinates:[Te,Xe],zoom:xe.transform.k},xe)}function pe(xe){return n?n(xe):xe?!xe.ctrlKey&&!xe.button:!1}var Oe=But().filter(pe).scaleExtent([$,J]).translateExtent([[W,q],[V,Q]]).on("start",Ae).on("zoom",Ue).on("end",ge);O.current=Oe,de.call(Oe)},[m,v,W,q,V,Q,$,J,b,r,s,i,n]),N.useEffect(function(){if(!(w===j.current.x&&S===j.current.y&&f===j.current.k)){var de=b([w,S]),Ae=de[0]*f,Ue=de[1]*f,ge=Ef(L.current);k.current=!0,ge.call(O.current.transform,n9.translate(m/2-Ae,v/2-Ue).scale(f)),C({x:m/2-Ae,y:v/2-Ue,k:f}),j.current={x:w,y:S,k:f}}},[w,S,f,m,v,b]),{mapRef:L,position:A,transformString:"translate(".concat(A.x," ").concat(A.y,") scale(").concat(A.k,")")}}var fdt=["center","zoom","minZoom","maxZoom","translateExtent","filterZoomEvent","onMoveStart","onMove","onMoveEnd","className"],o9=N.forwardRef(function(t,e){var n=t.center,r=n===void 0?[0,0]:n,i=t.zoom,s=i===void 0?1:i,a=t.minZoom,o=a===void 0?1:a,l=t.maxZoom,c=l===void 0?8:l,d=t.translateExtent,f=t.filterZoomEvent,h=t.onMoveStart,m=t.onMove,v=t.onMoveEnd,b=t.className,y=ec(t,fdt),w=N.useContext(wd),S=w.width,M=w.height,T=ddt({center:r,filterZoomEvent:f,onMoveStart:h,onMove:m,onMoveEnd:v,scaleExtent:[o,c],translateExtent:d,zoom:s}),A=T.mapRef,C=T.transformString,j=T.position;return se.createElement(K0e,{value:{x:j.x,y:j.y,k:j.k,transformString:C}},se.createElement("g",{ref:A},se.createElement("rect",{width:S,height:M,fill:"transparent"}),se.createElement("g",jo({ref:e,transform:C,className:"rsm-zoomable-group ".concat(b)},y))))});o9.displayName="ZoomableGroup";o9.propTypes={center:be.array,zoom:be.number,minZoom:be.number,maxZoom:be.number,translateExtent:be.arrayOf(be.array),onMoveStart:be.func,onMove:be.func,onMoveEnd:be.func,className:be.string};var hdt=["id","fill","stroke","strokeWidth","className"],l9=N.forwardRef(function(t,e){var n=t.id,r=n===void 0?"rsm-sphere":n,i=t.fill,s=i===void 0?"transparent":i,a=t.stroke,o=a===void 0?"currentcolor":a,l=t.strokeWidth,c=l===void 0?.5:l,d=t.className,f=d===void 0?"":d,h=ec(t,hdt),m=N.useContext(wd),v=m.path,b=N.useMemo(function(){return v({type:"Sphere"})},[v]);return se.createElement(N.Fragment,null,se.createElement("defs",null,se.createElement("clipPath",{id:r},se.createElement("path",{d:b}))),se.createElement("path",jo({ref:e,d:b,fill:s,stroke:o,strokeWidth:c,style:{pointerEvents:"none"},className:"rsm-sphere ".concat(f)},h)))});l9.displayName="Sphere";l9.propTypes={id:be.string,fill:be.string,stroke:be.string,strokeWidth:be.number,className:be.string};N.memo(l9);var pdt=["coordinates","children","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onFocus","onBlur","style","className"],c9=N.forwardRef(function(t,e){var n=t.coordinates,r=t.children,i=t.onMouseEnter,s=t.onMouseLeave,a=t.onMouseDown,o=t.onMouseUp,l=t.onFocus,c=t.onBlur,d=t.style,f=d===void 0?{}:d,h=t.className,m=h===void 0?"":h,v=ec(t,pdt),b=N.useContext(wd),y=b.projection,w=N.useState(!1),S=ia(w,2),M=S[0],T=S[1],A=N.useState(!1),C=ia(A,2),j=C[0],L=C[1],O=y(n),k=ia(O,2),F=k[0],G=k[1];function Y(Q){L(!0),i&&i(Q)}function U(Q){L(!1),M&&T(!1),s&&s(Q)}function W(Q){L(!0),l&&l(Q)}function q(Q){L(!1),M&&T(!1),c&&c(Q)}function Z(Q){T(!0),a&&a(Q)}function V(Q){T(!1),o&&o(Q)}return se.createElement("g",jo({ref:e,transform:"translate(".concat(F,", ").concat(G,")"),className:"rsm-marker ".concat(m),onMouseEnter:Y,onMouseLeave:U,onFocus:W,onBlur:q,onMouseDown:Z,onMouseUp:V,style:f[M||j?M?"pressed":"hover":"default"]},v),r)});c9.displayName="Marker";c9.propTypes={coordinates:be.array,children:be.oneOfType([be.node,be.arrayOf(be.node)]),onMouseEnter:be.func,onMouseLeave:be.func,onMouseDown:be.func,onMouseUp:be.func,onFocus:be.func,onBlur:be.func,style:be.object,className:be.string};var mdt=["from","to","coordinates","stroke","strokeWidth","fill","className"],Z0e=N.forwardRef(function(t,e){var n=t.from,r=n===void 0?[0,0]:n,i=t.to,s=i===void 0?[0,0]:i,a=t.coordinates,o=t.stroke,l=o===void 0?"currentcolor":o,c=t.strokeWidth,d=c===void 0?3:c,f=t.fill,h=f===void 0?"transparent":f,m=t.className,v=m===void 0?"":m,b=ec(t,mdt),y=N.useContext(wd),w=y.path,S={type:"LineString",coordinates:a||[r,s]};return se.createElement("path",jo({ref:e,d:w(S),className:"rsm-line ".concat(v),stroke:l,strokeWidth:d,fill:h},b))});Z0e.displayName="Line";Z0e.propTypes={from:be.array,to:be.array,coordinates:be.array,stroke:be.string,strokeWidth:be.number,fill:be.string,className:be.string};var gdt=["subject","children","connectorProps","dx","dy","curve","className"],Q0e=N.forwardRef(function(t,e){var n=t.subject,r=t.children,i=t.connectorProps,s=t.dx,a=s===void 0?30:s,o=t.dy,l=o===void 0?30:o,c=t.curve,d=c===void 0?0:c,f=t.className,h=f===void 0?"":f,m=ec(t,gdt),v=N.useContext(wd),b=v.projection,y=b(n),w=ia(y,2),S=w[0],M=w[1],T=tdt(a,l,d);return se.createElement("g",jo({ref:e,transform:"translate(".concat(S+a,", ").concat(M+l,")"),className:"rsm-annotation ".concat(h)},m),se.createElement("path",jo({d:T,fill:"transparent",stroke:"#000"},i)),r)});Q0e.displayName="Annotation";Q0e.propTypes={subject:be.array,children:be.oneOfType([be.node,be.arrayOf(be.node)]),dx:be.number,dy:be.number,curve:be.number,connectorProps:be.object,className:be.string};const vdt="https://cdn.jsdelivr.net/npm/world-atlas@2/countries-110m.json",ydt={en:{title:"Global H2 Strategy & Opportunity Map",subtitle:"IEA 2025 & IRENA Strategic Alignment Portfolio",liveIntel:"2025 Live Intelligence",mapTitle:"The Global Hydrogen Production Map",mapDesc:"Visualizing 1,200+ projects and strategic production hotspots identified by IEA Global Review.",mapEngine:"Map Engine: Live",openTracker:"Open Live IEA Tracker",legend:"Legend",productionHubs:"Production Hubs",targetMarkets:"Target Markets",sudanOpportunity:"Sudan Opportunity",sudanDesc:"Ranked by World Bank as top-tier GHI zone. Strategic proximity to Red Sea shipping lanes allows for localized consumption and future export scalability.",costTrajectory:"Cost Trajectory",costDesc:"IEA 2025 Review projects electrolyzer costs to drop by 45% by 2030, making green H2 cost-competitive with diesel in remote telecom deployments.",securityTitle:"Security & Sovereignty",securityDesc:"Local H2 production eliminates dependency on volatile global fuel markets, providing 99.999% energy availability for critical telecom infrastructure."},ar:{title:"    ",subtitle:"      2025 ",liveIntel:"  2025",mapTitle:"   ",mapDesc:"   1,200          .",mapEngine:" : ",openTracker:"    ",legend:" ",productionHubs:" ",targetMarkets:" ",sudanOpportunity:" ",sudanDesc:"     GHI   .              .",costTrajectory:" ",costDesc:"     2025      45%  2030          .",securityTitle:" ",securityDesc:"               99.999%    ."}},xdt=[{name:"NEOM Green Hydrogen",coordinates:[34.9,28.5],power:"600 t/day H2",status:"Under Construction"},{name:"AM Green Ammonia",coordinates:[82.2,16.9],power:"1 Mt/year Ammonia",status:"Under Construction"},{name:"Dutch Hydrogen Backbone",coordinates:[4.9,52.3],power:"1200km Pipeline",status:"Active"},{name:"German Hydrogen Network",coordinates:[13.4,52.5],power:"9040km Network",status:"FID Reached"},{name:"Sudan (Red Sea Hub)",coordinates:[37.2,19.6],power:"2400 kWh/m Solar",status:"Strategic Priority"},{name:"Atacama (Chile)",coordinates:[-69.1,-23.8],power:"Solar Export",status:"Pre-FID"},{name:"Pilbara (Australia)",coordinates:[118.6,-21.6],power:"Wind/Solar Mega-scale",status:"Early Stage"}];function bdt(){const{settings:t}=Na(),e=t.preferences.language,n=ydt[e],r=e==="ar";return u.jsxs("div",{className:"min-h-screen bg-[#1E293B] flex relative overflow-hidden text-slate-200",dir:r?"rtl":"ltr",children:[u.jsx(f9e,{}),u.jsx(No,{}),u.jsxs("main",{className:"flex-1 overflow-y-auto lg:ml-20 relative z-10",children:[u.jsx("header",{className:"p-10 border-b border-[#22C55E]/20 bg-[#1E293B]/80 backdrop-blur-xl sticky top-0 z-50",children:u.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(D1,{href:"/",children:u.jsx(bt,{variant:"ghost",size:"icon",className:"text-slate-400 hover:text-white hover:bg-slate-800",children:u.jsx(_N,{className:`w-5 h-5 ${r?"rotate-180":""}`})})}),u.jsxs("div",{children:[u.jsxs("h1",{className:"text-2xl font-black text-white flex items-center gap-3",children:[u.jsx(aa,{className:"w-6 h-6 text-emerald-500"}),n.title]}),u.jsx("p",{className:"text-sm text-slate-400 font-medium",children:n.subtitle})]})]}),u.jsx("div",{className:"flex gap-3",children:u.jsx(Sn,{variant:"outline",className:"bg-emerald-500/10 text-emerald-400 border-emerald-500/20 px-3 py-1",children:n.liveIntel})})]})}),u.jsxs("div",{className:"p-8 max-w-7xl mx-auto space-y-8",children:[u.jsxs(vt,{className:"bg-slate-900 border-slate-800 shadow-2xl overflow-hidden rounded-3xl",children:[u.jsx(pn,{className:"border-b border-slate-800/50 bg-slate-900/80 p-8",children:u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx(_n,{className:"text-2xl font-bold text-white mb-2",children:n.mapTitle}),u.jsx(Zr,{className:"text-slate-400",children:n.mapDesc})]}),u.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-slate-950 rounded-xl border border-slate-800",children:[u.jsx(Cg,{className:"w-4 h-4 text-emerald-500 animate-pulse"}),u.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:n.mapEngine})]})]})}),u.jsx(Ct,{className:"p-0 relative",children:u.jsxs("div",{className:"h-[600px] bg-slate-950 flex items-center justify-center",children:[u.jsx(r9,{projection:"geoMercator",style:{width:"100%",height:"100%"},children:u.jsxs(o9,{zoom:1,children:[u.jsx(i9,{geography:vdt,children:({geographies:i})=>i.map(s=>u.jsx(adt,{geography:s,fill:"#1e293b",stroke:"#0f172a",strokeWidth:.5,style:{default:{outline:"none"},hover:{fill:"#334155",outline:"none"},pressed:{outline:"none"}}},s.rsmKey))}),xdt.map(({name:i,coordinates:s})=>u.jsxs(c9,{coordinates:s,children:[u.jsx("circle",{r:6,fill:"#10b981",stroke:"#064e3b",strokeWidth:2,className:"animate-pulse cursor-pointer"}),u.jsx("text",{textAnchor:"middle",y:-15,style:{fontFamily:"Inter",fill:"#94a3b8",fontSize:"10px",fontWeight:"bold"},children:i})]},i))]})}),u.jsxs("div",{className:"absolute bottom-8 right-8 space-y-3",children:[u.jsxs(bt,{className:"w-full bg-emerald-600 hover:bg-emerald-500 text-white font-bold shadow-xl shadow-emerald-900/20",onClick:()=>window.open("https://www.iea.org/data-and-statistics/data-tools/hydrogen-tracker","_blank"),children:[u.jsx(Cg,{className:`w-4 h-4 ${r?"ml-2":"mr-2"}`}),n.openTracker]}),u.jsxs("div",{className:"bg-slate-900/90 backdrop-blur-md p-4 rounded-2xl border border-slate-700 shadow-2xl",children:[u.jsx("h4",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest mb-3",children:n.legend}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500 shadow-[0_0_10px_rgba(16,185,129,0.5)]"}),u.jsx("span",{className:"text-xs text-slate-300",children:n.productionHubs})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-slate-700"}),u.jsx("span",{className:"text-xs text-slate-300",children:n.targetMarkets})]})]})]})]})]})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs(vt,{className:"bg-slate-900 border-slate-800 p-6 rounded-2xl hover:border-emerald-500/50 transition-all group",children:[u.jsx("div",{className:"w-12 h-12 rounded-xl bg-emerald-500/10 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:u.jsx(Zxe,{className:"w-6 h-6 text-emerald-500"})}),u.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:n.sudanOpportunity}),u.jsx("p",{className:"text-sm text-slate-400 leading-relaxed",children:n.sudanDesc})]}),u.jsxs(vt,{className:"bg-slate-900 border-slate-800 p-6 rounded-2xl hover:border-emerald-500/50 transition-all group",children:[u.jsx("div",{className:"w-12 h-12 rounded-xl bg-emerald-500/10 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:u.jsx(Di,{className:"w-6 h-6 text-emerald-500"})}),u.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:n.costTrajectory}),u.jsx("p",{className:"text-sm text-slate-400 leading-relaxed",children:n.costDesc})]}),u.jsxs(vt,{className:"bg-slate-900 border-slate-800 p-6 rounded-2xl hover:border-emerald-500/50 transition-all group",children:[u.jsx("div",{className:"w-12 h-12 rounded-xl bg-emerald-500/10 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:u.jsx(AB,{className:"w-6 h-6 text-emerald-500"})}),u.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:n.securityTitle}),u.jsx("p",{className:"text-sm text-slate-400 leading-relaxed",children:n.securityDesc})]})]})]})]})]})}const wdt={en:{pageTitle:"Global Case Studies & Examples",pageSubtitle:"Verified fuel cell deployments in telecom infrastructure worldwide (Updated 2024-2025)",similarityToSudan:"Similarity to Sudan:",viewCaseStudy:"View Case Study",relevance:"Relevance:",latestTrends:"Latest Industry Trends (2024-2025)",globalAdoption:"46% Global Adoption",globalAdoptionDesc:"Of telecom networks have integrated hybrid energy systems globally.",marketPotential:"$1B Market Potential",marketPotentialDesc:"Projected market size for telecom energy technology by 2034 with 15.3% CAGR.",zeroCarbonPriority:"Zero Carbon Priority",zeroCarbonPriorityDesc:"Fuel cells contributing to ~40% reduction in carbon emissions in leading European networks."},ar:{pageTitle:"   ",pageSubtitle:"            ( 2024-2025)",similarityToSudan:"  :",viewCaseStudy:"  ",relevance:":",latestTrends:"   (2024-2025)",globalAdoption:"46%  ",globalAdoptionDesc:"          .",marketPotential:"    ",marketPotentialDesc:"        2034     15.3%.",zeroCarbonPriority:"  ",zeroCarbonPriorityDesc:"        ~40%    ."}},_dt=[{region:"Neighboring & Regional Countries",regionAr:"  ",description:"Countries geographically closest to Sudan with similar climate and logistical challenges",countries:[{country:"Kenya",countryAr:"",application:"Replacing diesel generators in hundreds of telecom towers using ammonia fuel cells by GenCell and Adrian Group. Reduced OpEx by up to $250M over 10 years.",similarity:"Neighboring country, rough terrain, critical need for off-grid solutions",caseStudyUrl:"https://www.gsma.com/solutions-and-impact/technologies/networks/gsma_resources/case-study-gencell/"},{country:"Germany",countryAr:"",application:"ZTE and Telefnica Germany deploy first zero-carbon site using methanol fuel cells and solar. Achieved 39% reduction in carbon emissions.",similarity:"Proof of 100% reliability in remote sites, methanol as a safe hydrogen carrier",caseStudyUrl:"https://techblog.comsoc.org/2024/02/28/highlights-of-gsma-study-mobile-net-zero-2024-state-of-the-industry-on-climate-action/"}]},{region:"Asian Countries",regionAr:" ",description:"Major Asian markets with significant fuel cell telecom deployments",countries:[{country:"India",countryAr:"",application:"Massive scale deployment over 27,400 towers. Delivered 10MWh of fuel cell power, saving 55 tonnes of CO2 in just 3 months.",caseStudyUrl:"https://www.intelligent-energy.com/uploads/case-studies/IE_Case_Study_India_Telecom.pdf"},{country:"Malaysia",countryAr:"",application:"Intelligent Energy actively servicing major operators with IE-POWER range (1kW to 300kW+) for off-grid and backup power.",caseStudyUrl:"https://www.intelligent-energy.com/our-industries/telecoms/"},{country:"Japan",countryAr:"",application:"Global leader. Used as backup power in SoftBank stations and primary power in homes (Ene-Farm system)",caseStudyUrl:"https://www.youtube.com/watch?v=R9Kogp0X6-s"}]},{region:"European Countries",regionAr:" ",description:"European nations with advanced fuel cell implementations for critical communications",countries:[{country:"Germany",countryAr:"",application:"SFC Energy methanol fuel cells powering emergency and police signal boosting stations in mountains and forests (BOSNet network)",caseStudyUrl:"https://www.efoy-pro.com/reference/critical-communications-bosnet/"},{country:"UK & Denmark",countryAr:" ",application:"Deployment of Ballard fuel cell systems for backup power in critical communication networks",caseStudyUrl:"https://www.youtube.com/watch?v=0hWq92Dq1H8"}]},{region:"Americas",regionAr:"",description:"North American telecom operators with large-scale fuel cell deployments",countries:[{country:"United States",countryAr:" ",application:"Major telecom companies like AT&T and Southern Linc use Plug Power fuel cells as standard generator replacements. Transitioned to 60% hybrid energy models.",caseStudyUrl:"https://www.plugpower.com/wp-content/uploads/2021/05/Southern-Linc-Case-Study.pdf"}]}];function Sdt(){const{language:t,isRTL:e}=Na(),n=wdt[t];return u.jsxs("div",{className:"min-h-screen bg-[#F8FAFC] flex relative overflow-hidden",dir:e?"rtl":"ltr",children:[u.jsx(h9e,{}),u.jsx(No,{}),u.jsxs("main",{className:`flex-1 p-4 sm:p-6 lg:p-8 ${e?"lg:mr-20":"lg:ml-20"} relative z-10`,children:[u.jsxs("header",{className:"mb-8",children:[u.jsxs("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[u.jsx(nd,{className:"w-6 h-6 text-primary"}),n.pageTitle]}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:n.pageSubtitle})]}),u.jsx("div",{className:"space-y-8",children:_dt.map(r=>u.jsxs("section",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center gap-3 border-b border-slate-200 dark:border-slate-800 pb-2",children:[u.jsx(aa,{className:"w-5 h-5 text-primary"}),u.jsx("h2",{className:"text-xl font-semibold",children:t==="ar"?r.regionAr:r.region}),u.jsx(Sn,{variant:"outline",children:t==="ar"?r.region:r.regionAr})]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:r.description}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.countries.map(i=>u.jsxs(vt,{className:"hover:shadow-md transition-shadow",children:[u.jsx(pn,{className:"pb-2",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(are,{className:"w-4 h-4 text-primary"}),u.jsx(_n,{className:"text-base",children:t==="ar"?i.countryAr:i.country}),u.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",t==="ar"?i.country:i.countryAr,")"]})]}),i.caseStudyUrl&&u.jsxs("a",{href:i.caseStudyUrl,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary flex items-center gap-1 hover:underline",children:[u.jsx(g_,{className:"w-3 h-3"}),n.viewCaseStudy]})]})}),u.jsxs(Ct,{children:[u.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-3",children:i.application}),i.similarity&&u.jsx("div",{className:"pt-3 border-t border-slate-100 dark:border-slate-800",children:u.jsxs("p",{className:"text-xs italic",children:[u.jsxs("span",{className:"font-semibold text-primary",children:[n.relevance," "]}),i.similarity]})})]})]},i.country))})]},r.region))}),u.jsxs("section",{className:"mt-12 bg-primary/5 p-8 rounded-2xl border border-primary/10",children:[u.jsxs("h2",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[u.jsx(aa,{className:"w-5 h-5 text-primary"}),n.latestTrends]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("h4",{className:"font-bold text-primary",children:n.globalAdoption}),u.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:n.globalAdoptionDesc})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h4",{className:"font-bold text-primary",children:n.marketPotential}),u.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:n.marketPotentialDesc})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h4",{className:"font-bold text-primary",children:n.zeroCarbonPriority}),u.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:n.zeroCarbonPriorityDesc})]})]})]})]}),u.jsx(BN,{})]})}var th="Accordion",Edt=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[u9,Mdt,Tdt]=oE(th),[OO]=Pa(th,[Tdt,Kfe]),d9=Kfe(),J0e=se.forwardRef((t,e)=>{const{type:n,...r}=t,i=r,s=r;return u.jsx(u9.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?u.jsx(Ndt,{...s,ref:e}):u.jsx(Pdt,{...i,ref:e})})});J0e.displayName=th;var[eve,Adt]=OO(th),[tve,Cdt]=OO(th,{collapsible:!1}),Pdt=se.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},collapsible:s=!1,...a}=t,[o,l]=Qc({prop:n,defaultProp:r,onChange:i});return u.jsx(eve,{scope:t.__scopeAccordion,value:o?[o]:[],onItemOpen:l,onItemClose:se.useCallback(()=>s&&l(""),[s,l]),children:u.jsx(tve,{scope:t.__scopeAccordion,collapsible:s,children:u.jsx(nve,{...a,ref:e})})})}),Ndt=se.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...s}=t,[a=[],o]=Qc({prop:n,defaultProp:r,onChange:i}),l=se.useCallback(d=>o((f=[])=>[...f,d]),[o]),c=se.useCallback(d=>o((f=[])=>f.filter(h=>h!==d)),[o]);return u.jsx(eve,{scope:t.__scopeAccordion,value:a,onItemOpen:l,onItemClose:c,children:u.jsx(tve,{scope:t.__scopeAccordion,collapsible:!0,children:u.jsx(nve,{...s,ref:e})})})}),[Rdt,jO]=OO(th),nve=se.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:i,orientation:s="vertical",...a}=t,o=se.useRef(null),l=Hn(o,e),c=Mdt(n),f=pb(i)==="ltr",h=Ht(t.onKeyDown,m=>{if(!Edt.includes(m.key))return;const v=m.target,b=c().filter(L=>!L.ref.current?.disabled),y=b.findIndex(L=>L.ref.current===v),w=b.length;if(y===-1)return;m.preventDefault();let S=y;const M=0,T=w-1,A=()=>{S=y+1,S>T&&(S=M)},C=()=>{S=y-1,S<M&&(S=T)};switch(m.key){case"Home":S=M;break;case"End":S=T;break;case"ArrowRight":s==="horizontal"&&(f?A():C());break;case"ArrowDown":s==="vertical"&&A();break;case"ArrowLeft":s==="horizontal"&&(f?C():A());break;case"ArrowUp":s==="vertical"&&C();break}const j=S%w;b[j].ref.current?.focus()});return u.jsx(Rdt,{scope:n,disabled:r,direction:i,orientation:s,children:u.jsx(u9.Slot,{scope:n,children:u.jsx(tn.div,{...a,"data-orientation":s,ref:l,onKeyDown:r?void 0:h})})})}),vN="AccordionItem",[Odt,f9]=OO(vN),rve=se.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...i}=t,s=jO(vN,n),a=Adt(vN,n),o=d9(n),l=Gu(),c=r&&a.value.includes(r)||!1,d=s.disabled||t.disabled;return u.jsx(Odt,{scope:n,open:c,disabled:d,triggerId:l,children:u.jsx(Jfe,{"data-orientation":s.orientation,"data-state":cve(c),...o,...i,ref:e,disabled:d,open:c,onOpenChange:f=>{f?a.onItemOpen(r):a.onItemClose(r)}})})});rve.displayName=vN;var ive="AccordionHeader",sve=se.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=jO(th,n),s=f9(ive,n);return u.jsx(tn.h3,{"data-orientation":i.orientation,"data-state":cve(s.open),"data-disabled":s.disabled?"":void 0,...r,ref:e})});sve.displayName=ive;var cB="AccordionTrigger",ave=se.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=jO(th,n),s=f9(cB,n),a=Cdt(cB,n),o=d9(n);return u.jsx(u9.ItemSlot,{scope:n,children:u.jsx(CGe,{"aria-disabled":s.open&&!a.collapsible||void 0,"data-orientation":i.orientation,id:s.triggerId,...o,...r,ref:e})})});ave.displayName=cB;var ove="AccordionContent",lve=se.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=jO(th,n),s=f9(ove,n),a=d9(n);return u.jsx(PGe,{role:"region","aria-labelledby":s.triggerId,"data-orientation":i.orientation,...a,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});lve.displayName=ove;function cve(t){return t?"open":"closed"}var jdt=J0e,Idt=rve,kdt=sve,uve=ave,dve=lve;const fve=jdt,Bg=N.forwardRef(({className:t,...e},n)=>u.jsx(Idt,{ref:n,className:Et("border-b",t),...e}));Bg.displayName="AccordionItem";const zg=N.forwardRef(({className:t,children:e,...n},r)=>u.jsx(kdt,{className:"flex",children:u.jsxs(uve,{ref:r,className:Et("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,u.jsx(Wg,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));zg.displayName=uve.displayName;const Vg=N.forwardRef(({className:t,children:e,...n},r)=>u.jsx(dve,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:u.jsx("div",{className:Et("pb-4 pt-0",t),children:e})}));Vg.displayName=dve.displayName;const Ddt={en:{executiveMessage:"Executive Message: The Path to Energy Sovereignty",executiveQuote:'"Gentlemen, we are the largest diesel consumer in the country',countryName:"Sudan",executiveQuote2:", and we own the largest geographically distributed asset network. If we invest part of the OpEx budget wasted on diesel and transform it into CapEx for hydrogen production units, we will become an",infraCoName:"Energy and Telecom company (InfraCo)",executiveQuote3:` within 10 years. This will skyrocket the company's value and assets."`,strategicDirective:"Strategic Board Directive",vision2035:"Vision 2035",infraCoTransformation:"The InfraCo Transformation",infraCoDescription:"Integration of hydrogen production at every tower site, turning cost centers into energy assets.",realityCheck:"THE REALITY CHECK",realityCheckAr:"()",realityCheckDesc:'Starting with absolute transparency: acknowledging that being the "largest diesel consumer" is our greatest liabilityand our greatest opportunity for scale.',financialReallocation:"FINANCIAL REALLOCATION",financialReallocationAr:"( )",financialReallocationDesc:'We are not asking for new capital. We are "redirecting" the existing OpEx (waste) into CapEx (value-generating assets). This is self-funding sovereignty.',infraCoPromise:"THE INFRACO PROMISE",infraCoPromiseAr:"( )",infraCoPromiseDesc:"By 2035, we won't just sell minutes and gigabytes. We will be the region's most reliable green energy provider, leveraging our distributed network to serve industry and transport.",evolutionStrategy:"Evolution Strategy",integratedRoadmap:"Integrated Investment Roadmap",roadmapSubtitle:"A three-tier approach to transforming telecom infrastructure from a power consumer into a strategic energy producer.",strategicInsights:"Strategic Insights",coreConcept:"1. THE CORE CONCEPT",coreConceptSubtitle:"Paradigm shift from consumer to producer.",coreConceptDesc:"We aim to transform from an energy-dependent Telecom Operator into an Energy Service Company (ESCO).",passiveAsset:"Passive Asset",passiveAssetDesc:"Traditional towers that only incur fuel and maintenance costs.",activeHub:"Active Production Hub",activeHubDesc:"Strategic nodes that generate power and hydrogen for internal and external use.",hydrogenAsset:"2. HYDROGEN AS AN ASSET",hydrogenAssetSubtitle:"Turning every site into a fuel production station.",hydrogenPoint1:"Produce Green Hydrogen locally using electrolyzers powered by surplus solar, eliminating logistics risks.",hydrogenPoint2:"Gain Energy Sovereignty, protecting operations from global oil price volatility and local shortages.",newRevenue:"3. NEW REVENUE STREAMS",newRevenueSubtitle:"Monetizing surplus production and carbon credits.",marketSales:"Market Sales",marketSalesDesc:"Sell surplus H2 to transport sectors.",carbonCredits:"Carbon Credits",carbonCreditsDesc:"Trade emissions reductions globally.",gridServices:"Grid Services",gridServicesDesc:"Provide stability to local grids.",executionRoadmap:"Execution Roadmap",phase1Phase:"Phase 1: Vision on Site",phase1Title:"Local Implementation",phase1Focus:"Deploying ethanol fuel cells directly at telecom tower locations to replace diesel dependency.",phase1Result:"Immediate energy stability and carbon reduction.",phase2Phase:"Phase 2: Tactical Goal",phase2Title:"Operational Independence",phase2Focus:"Integrating solar PV with electrolysis for on-site hydrogen production and storage.",phase2Result:"Total freedom from fuel logistics and price fluctuations.",phase3Phase:"Phase 3: Strategic Goal",phase3Title:"Energy Leadership",phase3Focus:"Scaling production to sell surplus green hydrogen and power to the regional market.",phase3Result:"Transforming cost centers into high-profit energy hubs.",strategicTransformation:"Strategic Transformation",strategicTransformationDesc:'"The transition from a passive infrastructure owner to an active energy producer is our most significant strategic lever for long-term profitability and regional leadership."'},ar:{executiveMessage:" :     ",executiveQuote:'"      ',countryName:"",executiveQuote2:"      .                  ",infraCoName:"   ()",executiveQuote3:'  10 .       ."',strategicDirective:"   ",vision2035:" 2035",infraCoTransformation:"   ",infraCoDescription:"            .",realityCheck:"",realityCheckAr:"",realityCheckDesc:'  :    "  "    -   .',financialReallocation:" ",financialReallocationAr:"",financialReallocationDesc:'     .  " "    ()    (  ).    .',infraCoPromise:" ",infraCoPromiseAr:"",infraCoPromiseDesc:" 2035     .               .",evolutionStrategy:" ",integratedRoadmap:"   ",roadmapSubtitle:"              .",strategicInsights:" ",coreConcept:"1.  ",coreConceptSubtitle:"     .",coreConceptDesc:"             (ESCO).",passiveAsset:" ",passiveAssetDesc:"       .",activeHub:"  ",activeHubDesc:"       .",hydrogenAsset:"2.  ",hydrogenAssetSubtitle:"      .",hydrogenPoint1:"               .",hydrogenPoint2:"            .",newRevenue:"3.   ",newRevenueSubtitle:"      .",marketSales:" ",marketSalesDesc:"    .",carbonCredits:" ",carbonCreditsDesc:"   .",gridServices:" ",gridServicesDesc:"   .",executionRoadmap:"  ",phase1Phase:" 1:   ",phase1Title:" ",phase1Focus:"            .",phase1Result:"    .",phase2Phase:" 2:  ",phase2Title:" ",phase2Focus:"           .",phase2Result:"      .",phase3Phase:" 3:  ",phase3Title:"   ",phase3Focus:"        .",phase3Result:"       .",strategicTransformation:" ",strategicTransformationDesc:'"                   ."'}};function Ldt(){const{language:t,isRTL:e}=Na(),n=Ddt[t],r=[{phase:n.phase1Phase,title:n.phase1Title,focus:n.phase1Focus,result:n.phase1Result,color:"bg-blue-500",icon:Di},{phase:n.phase2Phase,title:n.phase2Title,focus:n.phase2Focus,result:n.phase2Result,color:"bg-orange-500",icon:Cg},{phase:n.phase3Phase,title:n.phase3Title,focus:n.phase3Focus,result:n.phase3Result,color:"bg-green-600",icon:Jxe}];return u.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 flex",dir:e?"rtl":"ltr",children:[u.jsx(No,{}),u.jsxs("main",{className:`flex-1 p-4 sm:p-6 lg:p-8 ${e?"lg:mr-20":"lg:ml-20"}`,children:[u.jsx(Ku.section,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-12",children:u.jsxs("div",{className:"bg-slate-900 text-white rounded-3xl p-8 md:p-12 shadow-2xl relative overflow-hidden border border-slate-800",children:[u.jsx("div",{className:`absolute top-0 ${e?"left-0":"right-0"} w-64 h-64 bg-primary/20 rounded-full blur-3xl ${e?"-ml-32":"-mr-32"} -mt-32`}),u.jsx("div",{className:`absolute bottom-0 ${e?"right-0":"left-0"} w-48 h-48 bg-blue-500/10 rounded-full blur-3xl ${e?"-mr-24":"-ml-24"} -mb-24`}),u.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto text-center space-y-8",children:[u.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-primary/20 rounded-full text-primary text-xs font-bold uppercase tracking-widest border border-primary/30",children:[u.jsx(up,{className:"w-4 h-4"}),n.executiveMessage]}),u.jsxs("blockquote",{className:"text-2xl md:text-3xl lg:text-4xl font-serif italic leading-tight text-slate-100",children:[n.executiveQuote," ",u.jsxs("span",{className:"text-primary not-italic font-sans font-bold",children:['"',n.countryName,'"']}),n.executiveQuote2," ",u.jsx("span",{className:"text-blue-400 not-italic font-sans font-bold",children:n.infraCoName}),n.executiveQuote3]}),u.jsxs("div",{className:"flex flex-col items-center gap-2 pt-4",children:[u.jsx("div",{className:"w-12 h-1 bg-primary rounded-full"}),u.jsx("p",{className:"text-slate-400 text-sm uppercase tracking-widest font-bold",children:n.strategicDirective})]})]})]})}),u.jsxs("section",{className:"mb-16 grid grid-cols-1 lg:grid-cols-2 gap-8 items-stretch",children:[u.jsxs("div",{className:"relative rounded-3xl overflow-hidden shadow-xl group min-h-[400px]",children:[u.jsx("img",{src:"https://images.unsplash.com/photo-1544654803-b69140b285a1?auto=format&fit=crop&q=80&w=2070",alt:"Hybrid Telecom Infrastructure",className:"absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900 via-slate-900/40 to-transparent"}),u.jsxs("div",{className:`absolute bottom-0 ${e?"right-0":"left-0"} p-8`,children:[u.jsx(Sn,{className:"bg-primary text-white mb-3",children:n.vision2035}),u.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:n.infraCoTransformation}),u.jsx("p",{className:"text-slate-200 text-sm max-w-md",children:n.infraCoDescription})]})]}),u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs(vt,{className:"flex-1 bg-white dark:bg-slate-800 border-none shadow-md overflow-hidden relative",children:[u.jsx("div",{className:`absolute top-0 ${e?"left-0":"right-0"} p-4 opacity-10`,children:u.jsx(up,{className:"w-20 h-20 text-primary"})}),u.jsx(pn,{className:"pb-2",children:u.jsxs("div",{className:"flex items-center gap-2 text-primary font-bold text-sm",children:[u.jsx(Cg,{className:"w-4 h-4"}),n.realityCheck," ",n.realityCheckAr]})}),u.jsx(Ct,{children:u.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-sm leading-relaxed",children:n.realityCheckDesc})})]}),u.jsxs(vt,{className:"flex-1 bg-white dark:bg-slate-800 border-none shadow-md overflow-hidden relative",children:[u.jsx("div",{className:`absolute top-0 ${e?"left-0":"right-0"} p-4 opacity-10`,children:u.jsx(U4,{className:"w-20 h-20 text-emerald-500"})}),u.jsx(pn,{className:"pb-2",children:u.jsxs("div",{className:"flex items-center gap-2 text-emerald-600 font-bold text-sm",children:[u.jsx(ax,{className:"w-4 h-4"}),n.financialReallocation," ",n.financialReallocationAr]})}),u.jsx(Ct,{children:u.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-sm leading-relaxed",children:n.financialReallocationDesc})})]}),u.jsxs(vt,{className:"flex-1 bg-primary text-white border-none shadow-md overflow-hidden relative",children:[u.jsx("div",{className:`absolute top-0 ${e?"left-0":"right-0"} p-4 opacity-20`,children:u.jsx(aa,{className:"w-20 h-20 text-white"})}),u.jsx(pn,{className:"pb-2",children:u.jsxs("div",{className:"flex items-center gap-2 text-white/90 font-bold text-sm",children:[u.jsx(Di,{className:"w-4 h-4"}),n.infraCoPromise," ",n.infraCoPromiseAr]})}),u.jsx(Ct,{children:u.jsx("p",{className:"text-white/80 text-sm leading-relaxed font-medium",children:n.infraCoPromiseDesc})})]})]})]}),u.jsxs("header",{className:`mb-12 ${e?"border-r-4 pr-6":"border-l-4 pl-6"} border-primary`,children:[u.jsx(Sn,{className:"mb-4 bg-primary/10 text-primary border-none px-4 py-1",children:n.evolutionStrategy}),u.jsx("h1",{className:"text-4xl font-extrabold text-slate-900 dark:text-white leading-tight",children:n.integratedRoadmap}),u.jsx("p",{className:"text-xl text-slate-500 dark:text-slate-400 mt-4 max-w-3xl leading-relaxed",children:n.roadmapSubtitle})]}),u.jsxs("section",{className:"mb-16 max-w-5xl",children:[u.jsxs("h2",{className:"text-2xl font-bold mb-8 flex items-center gap-2",children:[u.jsx(lA,{className:"w-6 h-6 text-primary"}),n.strategicInsights]}),u.jsxs(fve,{type:"single",collapsible:!0,className:"w-full space-y-4",children:[u.jsxs(Bg,{value:"philosophy",className:"border-none",children:[u.jsx(zg,{className:"hover:no-underline p-6 bg-slate-100 dark:bg-slate-800 rounded-t-xl",children:u.jsxs("div",{className:`flex items-center gap-4 ${e?"text-right":"text-left"}`,children:[u.jsx(aa,{className:"w-5 h-5 text-primary"}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold",children:n.coreConcept}),u.jsx("p",{className:"text-sm text-slate-500 font-normal",children:n.coreConceptSubtitle})]})]})}),u.jsxs(Vg,{className:"p-6 bg-white dark:bg-slate-900 border-x border-b border-slate-100 dark:border-slate-800 rounded-b-xl",children:[u.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-4",children:n.coreConceptDesc}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 rounded-lg",children:[u.jsx("h4",{className:"font-bold text-slate-900 dark:text-white text-sm mb-1",children:n.passiveAsset}),u.jsx("p",{className:"text-xs text-slate-500",children:n.passiveAssetDesc})]}),u.jsxs("div",{className:`p-4 bg-primary/5 rounded-lg ${e?"border-r-4":"border-l-4"} border-primary`,children:[u.jsx("h4",{className:"font-bold text-primary text-sm mb-1",children:n.activeHub}),u.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:n.activeHubDesc})]})]})]})]}),u.jsxs(Bg,{value:"hydrogen",className:"border-none",children:[u.jsx(zg,{className:"hover:no-underline p-6 bg-slate-100 dark:bg-slate-800 rounded-t-xl",children:u.jsxs("div",{className:`flex items-center gap-4 ${e?"text-right":"text-left"}`,children:[u.jsx(Di,{className:"w-5 h-5 text-yellow-500"}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold",children:n.hydrogenAsset}),u.jsx("p",{className:"text-sm text-slate-500 font-normal",children:n.hydrogenAssetSubtitle})]})]})}),u.jsx(Vg,{className:"p-6 bg-white dark:bg-slate-900 border-x border-b border-slate-100 dark:border-slate-800 rounded-b-xl",children:u.jsxs("div",{className:"space-y-4 text-slate-600 dark:text-slate-300",children:[u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(sx,{className:"w-5 h-5 text-green-500 mt-1"}),u.jsx("p",{className:"text-sm",children:n.hydrogenPoint1})]}),u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(up,{className:"w-5 h-5 text-blue-500 mt-1"}),u.jsx("p",{className:"text-sm",children:n.hydrogenPoint2})]})]})})]}),u.jsxs(Bg,{value:"revenue",className:"border-none",children:[u.jsx(zg,{className:"hover:no-underline p-6 bg-slate-100 dark:bg-slate-800 rounded-t-xl",children:u.jsxs("div",{className:`flex items-center gap-4 ${e?"text-right":"text-left"}`,children:[u.jsx(U4,{className:"w-5 h-5 text-green-600"}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold",children:n.newRevenue}),u.jsx("p",{className:"text-sm text-slate-500 font-normal",children:n.newRevenueSubtitle})]})]})}),u.jsx(Vg,{className:"p-6 bg-white dark:bg-slate-900 border-x border-b border-slate-100 dark:border-slate-800 rounded-b-xl",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 rounded-lg text-center",children:[u.jsx(ax,{className:"w-6 h-6 text-primary mx-auto mb-2"}),u.jsx("h5",{className:"font-bold text-xs",children:n.marketSales}),u.jsx("p",{className:"text-[10px] text-slate-500",children:n.marketSalesDesc})]}),u.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 rounded-lg text-center",children:[u.jsx(aa,{className:"w-6 h-6 text-primary mx-auto mb-2"}),u.jsx("h5",{className:"font-bold text-xs",children:n.carbonCredits}),u.jsx("p",{className:"text-[10px] text-slate-500",children:n.carbonCreditsDesc})]}),u.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 rounded-lg text-center",children:[u.jsx(Di,{className:"w-6 h-6 text-primary mx-auto mb-2"}),u.jsx("h5",{className:"font-bold text-xs",children:n.gridServices}),u.jsx("p",{className:"text-[10px] text-slate-500",children:n.gridServicesDesc})]})]})})]})]})]}),u.jsxs("section",{className:"mb-16",children:[u.jsxs("h2",{className:"text-2xl font-bold mb-8 flex items-center gap-2",children:[u.jsx(EB,{className:"w-6 h-6 text-yellow-500"}),n.executionRoadmap]}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute left-1/2 top-0 bottom-0 w-1 bg-slate-200 dark:bg-slate-800 -translate-x-1/2 hidden md:block"}),u.jsx("div",{className:"space-y-12",children:r.map((i,s)=>{const a=i.icon;return u.jsxs(Ku.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:s*.2},className:`flex flex-col md:flex-row items-center gap-8 ${s%2!==0?"md:flex-row-reverse":""}`,children:[u.jsx("div",{className:"flex-1 w-full",children:u.jsxs(vt,{className:`border-none shadow-lg ${s%2===0?e?"text-right":"text-left":e?"text-left":"text-right"}`,children:[u.jsxs(pn,{className:"pb-2",children:[u.jsx(Sn,{className:`${i.color} text-white mb-2`,children:i.phase}),u.jsx(_n,{className:"text-2xl font-bold",children:i.title})]}),u.jsxs(Ct,{className:"space-y-2",children:[u.jsx("p",{className:"font-medium text-slate-700 dark:text-slate-200",children:i.focus}),u.jsxs("div",{className:`flex items-center gap-2 text-green-600 font-bold ${s%2===0?e?"justify-end":"justify-start":e?"justify-start":"justify-end"}`,children:[u.jsx(Gxe,{className:"w-4 h-4"}),u.jsx("span",{children:i.result})]})]})]})}),u.jsx("div",{className:"z-10 w-12 h-12 rounded-full bg-white dark:bg-slate-800 border-4 border-slate-200 dark:border-slate-700 flex items-center justify-center shadow-xl",children:u.jsx(a,{className:`w-6 h-6 ${i.color.replace("bg-","text-")}`})}),u.jsx("div",{className:"flex-1 hidden md:block"})]},s)})})]})]}),u.jsxs(vt,{className:"bg-slate-900 text-white border-none shadow-2xl relative overflow-hidden",children:[u.jsx("div",{className:`absolute top-0 ${e?"left-0":"right-0"} w-64 h-64 bg-primary/20 rounded-full blur-3xl ${e?"-ml-32":"-mr-32"} -mt-32`}),u.jsxs(Ct,{className:"p-10 text-center relative z-10",children:[u.jsx("h2",{className:"text-3xl font-bold mb-4",children:n.strategicTransformation}),u.jsx("p",{className:"text-lg text-slate-300 max-w-3xl mx-auto leading-relaxed",children:n.strategicTransformationDesc})]})]})]})]})}function Fdt(){return u.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 flex",children:[u.jsx(No,{}),u.jsxs("main",{className:"flex-1 p-4 sm:p-6 lg:p-8 lg:ml-20",children:[u.jsxs("header",{className:"mb-12 text-center max-w-4xl mx-auto",children:[u.jsx(Sn,{className:"mb-4 bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-100 px-6 py-1 text-sm font-bold uppercase tracking-widest",children:"Executive Briefing"}),u.jsx("h1",{className:"text-5xl font-black text-slate-900 dark:text-white mb-6 bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-600",children:"THE STRATEGIC VISION"}),u.jsx("p",{className:"text-xl text-slate-600 dark:text-slate-400 font-medium",children:"From Energy Consumption to Strategic Production: A Multi-Phase Roadmap for Global Infrastructure Leadership."})]}),u.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[u.jsxs(fve,{type:"single",collapsible:!0,className:"w-full space-y-4",children:[u.jsxs(Bg,{value:"philosophy",className:"border-none",children:[u.jsx(zg,{className:"hover:no-underline p-6 bg-gradient-to-r from-blue-600 to-blue-400 text-white rounded-t-2xl shadow-lg",children:u.jsxs("div",{className:"flex items-center gap-4 text-left",children:[u.jsx("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-md",children:u.jsx(lA,{className:"w-6 h-6"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-bold",children:"1. THE CORE CONCEPT"}),u.jsx("p",{className:"text-sm opacity-90 font-normal",children:"Our paradigm shift from consumer to producer."})]})]})}),u.jsxs(Vg,{className:"p-8 bg-white dark:bg-slate-800 rounded-b-2xl shadow-inner text-slate-600 dark:text-slate-300 border-x border-b border-blue-100 dark:border-blue-900/30",children:[u.jsx("p",{className:"text-lg leading-relaxed mb-4",children:'Our vision is not limited to mere "generator replacement" to cut costs. Instead, we aim to transform the company from a energy-dependent **Telecom Operator** into an **Energy Service Company (ESCO)**.'}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[u.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-950/30 rounded-xl border-l-4 border-blue-500",children:[u.jsx("h4",{className:"font-bold text-blue-700 dark:text-blue-400 mb-2",children:"Passive Asset"}),u.jsx("p",{className:"text-sm",children:"Traditional towers that only incur fuel and maintenance costs."})]}),u.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-950/30 rounded-xl border-l-4 border-green-500",children:[u.jsx("h4",{className:"font-bold text-green-700 dark:text-green-400 mb-2",children:"Active Production Hub"}),u.jsx("p",{className:"text-sm",children:"Strategic nodes that generate power and hydrogen for internal and external use."})]})]})]})]}),u.jsxs(Bg,{value:"hydrogen",className:"border-none",children:[u.jsx(zg,{className:"hover:no-underline p-6 bg-gradient-to-r from-teal-600 to-emerald-500 text-white rounded-t-2xl shadow-lg",children:u.jsxs("div",{className:"flex items-center gap-4 text-left",children:[u.jsx("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-md",children:u.jsx(Di,{className:"w-6 h-6"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-bold",children:"2. HYDROGEN AS AN INVESTMENT"}),u.jsx("p",{className:"text-sm opacity-90 font-normal",children:"Turning every site into a fuel production station."})]})]})}),u.jsxs(Vg,{className:"p-8 bg-white dark:bg-slate-800 rounded-b-2xl shadow-inner text-slate-600 dark:text-slate-300 border-x border-b border-teal-100 dark:border-teal-900/30",children:[u.jsx("p",{className:"text-lg leading-relaxed mb-4",children:"By utilizing our massive nationwide infrastructurethousands of siteswe can install **Electrolyzers** powered by surplus solar energy."}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-start gap-4 p-4 bg-slate-50 dark:bg-slate-900/50 rounded-xl",children:[u.jsx("div",{className:"mt-1",children:u.jsx(sx,{className:"text-emerald-500 w-5 h-5"})}),u.jsx("p",{className:"text-sm",children:"Produce **Green Hydrogen** locally, eliminating the logistical risks and costs of fuel transport."})]}),u.jsxs("div",{className:"flex items-start gap-4 p-4 bg-slate-50 dark:bg-slate-900/50 rounded-xl",children:[u.jsx("div",{className:"mt-1",children:u.jsx(up,{className:"text-emerald-500 w-5 h-5"})}),u.jsx("p",{className:"text-sm",children:"Gain **Energy Sovereignty**, protecting operations from global oil price volatility and local shortages."})]})]})]})]}),u.jsxs(Bg,{value:"revenue",className:"border-none",children:[u.jsx(zg,{className:"hover:no-underline p-6 bg-gradient-to-r from-orange-600 to-amber-500 text-white rounded-t-2xl shadow-lg",children:u.jsxs("div",{className:"flex items-center gap-4 text-left",children:[u.jsx("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-md",children:u.jsx(U4,{className:"w-6 h-6"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-bold",children:"3. NEW REVENUE STREAMS"}),u.jsx("p",{className:"text-sm opacity-90 font-normal",children:"Monetizing surplus production and carbon credits."})]})]})}),u.jsxs(Vg,{className:"p-8 bg-white dark:bg-slate-800 rounded-b-2xl shadow-inner text-slate-600 dark:text-slate-300 border-x border-b border-orange-100 dark:border-orange-900/30",children:[u.jsx("p",{className:"text-lg leading-relaxed mb-6",children:"In the near future, the demand for clean energy will skyrocket. Our surplus production becomes a highly liquid asset."}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsx(vt,{className:"bg-orange-50 dark:bg-orange-950/20 border-orange-200",children:u.jsxs(Ct,{className:"pt-6 text-center",children:[u.jsx(ax,{className:"w-8 h-8 text-orange-600 mx-auto mb-2"}),u.jsx("h5",{className:"font-bold",children:"Market Sales"}),u.jsx("p",{className:"text-xs",children:"Sell surplus H2 to transport and industrial sectors."})]})}),u.jsx(vt,{className:"bg-orange-50 dark:bg-orange-950/20 border-orange-200",children:u.jsxs(Ct,{className:"pt-6 text-center",children:[u.jsx(aa,{className:"w-8 h-8 text-orange-600 mx-auto mb-2"}),u.jsx("h5",{className:"font-bold",children:"Carbon Credits"}),u.jsx("p",{className:"text-xs",children:"Trade verified emissions reductions globally."})]})}),u.jsx(vt,{className:"bg-orange-50 dark:bg-orange-950/20 border-orange-200",children:u.jsxs(Ct,{className:"pt-6 text-center",children:[u.jsx(Di,{className:"w-8 h-8 text-orange-600 mx-auto mb-2"}),u.jsx("h5",{className:"font-bold",children:"Grid Services"}),u.jsx("p",{className:"text-xs",children:"Provide stability to local grids through storage."})]})})]})]})]})]}),u.jsxs(vt,{className:"bg-slate-900 border-none shadow-2xl relative overflow-hidden group",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-900/50 to-purple-900/50 opacity-0 group-hover:opacity-100 transition-opacity duration-700"}),u.jsx("div",{className:"absolute -right-20 -bottom-20 w-80 h-80 bg-blue-500/10 rounded-full blur-3xl"}),u.jsxs(Ct,{className:"p-12 text-center relative z-10",children:[u.jsx("h2",{className:"text-3xl font-black text-white mb-6 uppercase tracking-tight",children:"The Strategic Conclusion"}),u.jsx("p",{className:"text-xl text-blue-100 leading-relaxed max-w-2xl mx-auto italic",children:'"Investing in fuel cell technology and hydrogen production today is not just a solution for operational problemsit is securing a leadership seat in the economy of the future."'})]})]})]})]})]})}const Udt=uE("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),hve=N.forwardRef(({className:t,variant:e,...n},r)=>u.jsx("div",{ref:r,role:"alert",className:Et(Udt({variant:e}),t),...n}));hve.displayName="Alert";const Bdt=N.forwardRef(({className:t,...e},n)=>u.jsx("h5",{ref:n,className:Et("mb-1 font-medium leading-none tracking-tight",t),...e}));Bdt.displayName="AlertTitle";const pve=N.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:Et("text-sm [&_p]:leading-relaxed",t),...e}));pve.displayName="AlertDescription";function zdt(){const[,t]=lb(),[e,n]=N.useState([]),[r,i]=N.useState([]),[s,a]=N.useState(!0),[o,l]=N.useState(""),[c,d]=N.useState("pending"),[f,h]=N.useState(null),[m,v]=N.useState(""),[b,y]=N.useState(!1),w=JSON.parse(localStorage.getItem("user")||"{}"),S=w.role==="super_admin"||w.role==="admin";N.useEffect(()=>{if(!S){t("/");return}M()},[S,t]);const M=async()=>{a(!0);try{const[C,j]=await Promise.all([fetch("/api/admin/registrations"),fetch("/api/admin/users")]),L=await C.json(),O=await j.json();n(L),i(O)}catch{l("Failed to load data")}finally{a(!1)}},T=async C=>{if(f){y(!0),l("");try{const L=await(await fetch(`/api/admin/registrations/${f.id}/${C}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({adminId:w.id,notes:m})})).json();L.success?(h(null),v(""),M()):l(L.error||"Action failed")}catch{l("Action failed")}finally{y(!1)}}},A=C=>new Date(C).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return S?u.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[u.jsx(nae,{}),u.jsx("div",{className:"relative z-10 p-6",children:u.jsxs("div",{className:"max-w-6xl mx-auto",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs(bt,{onClick:()=>t("/"),variant:"ghost",className:"text-white hover:bg-white/10",children:[u.jsx(_N,{className:"w-4 h-4 mr-2"}),"Back"]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 bg-emerald-500/20 blur-xl rounded-full scale-125"}),u.jsx("div",{className:"relative w-16 h-16 overflow-hidden rounded-lg",children:u.jsx("img",{src:__,alt:"FCPMS Logo",className:"w-full h-full object-contain",style:{filter:"drop-shadow(0 0 6px rgba(34, 197, 94, 0.5))"}})})]}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-white",children:"Admin Dashboard"}),u.jsx("p",{className:"text-white/60 text-sm",children:"Manage registrations and users"})]})]})]}),u.jsxs("div",{className:"flex items-center gap-2 text-white/80",children:[u.jsx(AB,{className:"w-4 h-4 text-[#22C55E]"}),u.jsx("span",{className:"text-sm",children:w.email||w.phone})]})]}),u.jsxs("div",{className:"flex gap-2 mb-6",children:[u.jsxs(bt,{onClick:()=>d("pending"),variant:c==="pending"?"default":"ghost",className:c==="pending"?"bg-[#22C55E] hover:bg-[#16A34A] text-white":"text-white hover:bg-white/10",children:[u.jsx(m_,{className:"w-4 h-4 mr-2"}),"Pending Requests",e.length>0&&u.jsx(Sn,{className:"ml-2 bg-amber-500 text-white",children:e.length})]}),u.jsxs(bt,{onClick:()=>d("users"),variant:c==="users"?"default":"ghost",className:c==="users"?"bg-[#22C55E] hover:bg-[#16A34A] text-white":"text-white hover:bg-white/10",children:[u.jsx(pre,{className:"w-4 h-4 mr-2"}),"All Users",u.jsx(Sn,{className:"ml-2 bg-slate-500 text-white",children:r.length})]})]}),s?u.jsx("div",{className:"flex items-center justify-center py-20",children:u.jsx(Ds,{className:"w-8 h-8 text-[#22C55E] animate-spin"})}):o?u.jsxs(hve,{variant:"destructive",className:"bg-red-500/20 border-red-400/30",children:[u.jsx(nre,{className:"w-4 h-4"}),u.jsx(pve,{children:o})]}):c==="pending"?u.jsx("div",{className:"space-y-4",children:e.length===0?u.jsx(vt,{className:"bg-slate-900/70 backdrop-blur-xl border-white/20",children:u.jsxs(Ct,{className:"py-12 text-center",children:[u.jsx(Pg,{className:"w-12 h-12 text-[#22C55E] mx-auto mb-4"}),u.jsx("p",{className:"text-white/60",children:"No pending registration requests"})]})}):e.map(C=>u.jsx(vt,{className:"bg-slate-900/70 backdrop-blur-xl border-white/20",children:u.jsx(Ct,{className:"p-4",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("h3",{className:"text-lg font-semibold text-white",children:[C.firstName," ",C.lastName]}),u.jsxs(Sn,{variant:"outline",className:"border-amber-400 text-amber-400",children:[u.jsx(m_,{className:"w-3 h-3 mr-1"}),"Pending"]})]}),u.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-white/70",children:[C.email&&u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(y_,{className:"w-4 h-4 text-[#4ADE80]"}),C.email]}),C.phone&&u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(lre,{className:"w-4 h-4 text-[#4ADE80]"}),C.phone]}),C.organization&&u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(_B,{className:"w-4 h-4 text-[#4ADE80]"}),C.organization]})]}),C.reason&&u.jsxs("p",{className:"text-white/60 text-sm italic",children:['"',C.reason,'"']}),u.jsxs("p",{className:"text-white/40 text-xs",children:["Submitted: ",A(C.createdAt)]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(bt,{onClick:()=>h(C),size:"sm",className:"bg-[#22C55E] hover:bg-[#16A34A] text-white",children:[u.jsx(Pg,{className:"w-4 h-4 mr-1"}),"Approve"]}),u.jsxs(bt,{onClick:()=>{h(C)},size:"sm",variant:"destructive",className:"bg-red-600 hover:bg-red-700",children:[u.jsx(rre,{className:"w-4 h-4 mr-1"}),"Reject"]})]})]})})},C.id))}):u.jsxs(vt,{className:"bg-slate-900/70 backdrop-blur-xl border-white/20",children:[u.jsx(pn,{children:u.jsx(_n,{className:"text-white",children:"All Users"})}),u.jsx(Ct,{children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-white/10",children:[u.jsx("th",{className:"text-left text-white/60 text-sm py-3 px-2",children:"Name"}),u.jsx("th",{className:"text-left text-white/60 text-sm py-3 px-2",children:"Contact"}),u.jsx("th",{className:"text-left text-white/60 text-sm py-3 px-2",children:"Role"}),u.jsx("th",{className:"text-left text-white/60 text-sm py-3 px-2",children:"Status"}),u.jsx("th",{className:"text-left text-white/60 text-sm py-3 px-2",children:"Joined"})]})}),u.jsx("tbody",{children:r.map(C=>u.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5",children:[u.jsxs("td",{className:"py-3 px-2 text-white",children:[C.firstName," ",C.lastName]}),u.jsx("td",{className:"py-3 px-2 text-white/70 text-sm",children:C.email||C.phone}),u.jsx("td",{className:"py-3 px-2",children:u.jsx(Sn,{variant:"outline",className:C.role==="super_admin"?"border-purple-400 text-purple-400":C.role==="admin"?"border-blue-400 text-blue-400":"border-slate-400 text-slate-400",children:C.role})}),u.jsx("td",{className:"py-3 px-2",children:u.jsx(Sn,{variant:"outline",className:C.status==="approved"?"border-green-400 text-green-400":C.status==="pending"?"border-amber-400 text-amber-400":"border-red-400 text-red-400",children:C.status})}),u.jsx("td",{className:"py-3 px-2 text-white/40 text-sm",children:A(C.createdAt)})]},C.id))})]})})})]})]})}),u.jsx(Xg,{open:!!f,onOpenChange:()=>{h(null),v("")},children:u.jsxs(wp,{className:"bg-slate-900 border-white/20 text-white",children:[u.jsxs(_p,{children:[u.jsx(Ep,{children:"Review Registration Request"}),u.jsxs(Iz,{className:"text-white/60",children:[f?.firstName," ",f?.lastName]})]}),u.jsxs("div",{className:"space-y-4 py-4",children:[u.jsxs("div",{className:"space-y-2 text-sm",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx("span",{className:"text-white/60",children:"Contact:"}),u.jsx("span",{children:f?.email||f?.phone})]}),f?.organization&&u.jsxs("div",{className:"flex gap-2",children:[u.jsx("span",{className:"text-white/60",children:"Organization:"}),u.jsx("span",{children:f.organization})]}),f?.reason&&u.jsxs("div",{className:"flex gap-2",children:[u.jsx("span",{className:"text-white/60",children:"Reason:"}),u.jsxs("span",{children:['"',f.reason,'"']})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm text-white/60",children:"Admin Notes (optional)"}),u.jsx(jf,{value:m,onChange:C=>v(C.target.value),placeholder:"Add any notes about this decision...",className:"bg-white/10 border-white/20 text-white"})]})]}),u.jsxs(Sp,{className:"gap-2",children:[u.jsx(bt,{onClick:()=>T("reject"),disabled:b,variant:"destructive",children:b?u.jsx(Ds,{className:"w-4 h-4 animate-spin"}):"Reject"}),u.jsx(bt,{onClick:()=>T("approve"),disabled:b,className:"bg-[#22C55E] hover:bg-[#16A34A]",children:b?u.jsx(Ds,{className:"w-4 h-4 animate-spin"}):"Approve"})]})]})})]}):null}function Vdt(){const{isAuthenticated:t,isLoading:e}=NN();return e?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-900",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-emerald-500"})}):t?u.jsxs(gye,{children:[u.jsx(Qs,{path:"/",component:y9e}),u.jsx(Qs,{path:"/blog",component:AZ}),u.jsx(Qs,{path:"/blog/:id",component:AZ}),u.jsx(Qs,{path:"/sizing",component:RGe}),u.jsx(Qs,{path:"/case-studies",component:Sdt}),u.jsx(Qs,{path:"/optimizer",component:Yst}),u.jsx(Qs,{path:"/catalog",component:FGe}),u.jsx(Qs,{path:"/fuel-cells",component:Tst}),u.jsx(Qs,{path:"/monitoring",component:ite}),u.jsx(Qs,{path:"/remote-monitoring",component:ite}),u.jsx(Qs,{path:"/h2-strategy",component:bdt}),u.jsx(Qs,{path:"/projects/:id",component:Vst}),u.jsx(Qs,{path:"/settings",component:Xst}),u.jsx(Qs,{path:"/admin",component:zdt}),u.jsx(Qs,{path:"/strategic-vision",component:Ldt}),u.jsx(Qs,{path:"/vision/:id",component:Fdt}),u.jsx(Qs,{component:O1e})]}):u.jsx(TTe,{})}function $dt(){return u.jsx(Dye,{client:Kye,children:u.jsx(A1e,{children:u.jsxs(P1e,{children:[u.jsx(twe,{}),u.jsx(Vdt,{})]})})})}rne.createRoot(document.getElementById("root")).render(u.jsx($dt,{}));
